.head 0 +  Application Description: Sistema de Gestion Hospitalaria - Módulo de Facturación
.head 1 -  Outline Version - 4.0.27
.head 1 +  Design-time Settings
.data VIEWINFO
0000: 6F00000001000000 FFFF01000D004347 5458566965775374 6174650400020000
0020: 0000000000470100 002C000000020000 0003000000FFFFFF FFFFFFFFFFF8FFFF
0040: FFE2FFFFFF000000 00000000002C0300 0051020000010000 0000000000010000
0060: 000F4170706C6963 6174696F6E497465 6D04000000075769 6E646F77730E6672
0080: 6D4E6F7461437265 6469746F0946756E 6374696F6E730B52 6567697374726172
00A0: 4E43
.enddata
.data DT_MAKERUNDLG
0000: 0000000033433A5C 43656E747572615C 4249544D4150535C 4D7949636F6E735C
0020: 4F5349636F6E735C 69636F5C486F7370 6974616C2E69636F 2E433A5C50726F79
0040: 6563746F735C5347 485C62696E5C486F 73706974616C4265 7465736461537973
0060: 74656D2E65786527 433A5C50726F7965 63746F735C534748 5C62696E5C636F6E
0080: 74726F6C5F6D6564 69636F2E646C6C27 433A5C50726F7965 63746F735C534748
00A0: 5C62696E5C636F6E 74726F6C5F6D6564 69636F2E61706300 0001010131433A5C
00C0: 43656E747572615C 696E63656873615F 6D656469636F5C61 7070735C636F6E74
00E0: 726F6C5F6D656469 636F2E72756E3143 3A5C43656E747572 615C696E63656873
0100: 615F6D656469636F 5C617070735C636F 6E74726F6C5F6D65 6469636F2E646C6C
0120: 31433A5C43656E74 7572615C696E6365 6873615F6D656469 636F5C617070735C
0140: 636F6E74726F6C5F 6D656469636F2E61 7063000001010131 433A5C43656E7475
0160: 72615C696E636568 73615F6D65646963 6F5C617070735C63 6F6E74726F6C5F6D
0180: 656469636F2E6170 6431433A5C43656E 747572615C696E63 656873615F6D6564
01A0: 69636F5C61707073 5C636F6E74726F6C 5F6D656469636F2E 646C6C31433A5C43
01C0: 656E747572615C69 6E63656873615F6D 656469636F5C6170 70735C636F6E7472
01E0: 6F6C5F6D65646963 6F2E617063000001 010131433A5C4365 6E747572615C696E
0200: 63656873615F6D65 6469636F5C617070 735C636F6E74726F 6C5F6D656469636F
0220: 2E61706C31433A5C 43656E747572615C 696E63656873615F 6D656469636F5C61
0240: 7070735C636F6E74 726F6C5F6D656469 636F2E646C6C3143 3A5C43656E747572
0260: 615C696E63656873 615F6D656469636F 5C617070735C636F 6E74726F6C5F6D65
0280: 6469636F2E617063 0000010101
.enddata
.head 2 -  Outline Window State: Normal
.head 2 +  Outline Window Location and Size
.data VIEWINFO
0000: 6600040003002D00 0000000000000000 0000B71E5D0E0500 1D00FFFF4D61696E
0020: 0000000000000000 0000000000000000 0000003B00010000 00000000000000E9
0040: 1E800A00008600FF FF496E7465726E61 6C2046756E637469 6F6E730000000000
0060: 0000000000000000 0000000000003200 0100000000000000 0000E91E800A0000
0080: DF00FFFF56617269 61626C6573000000 0000000000000000 0000000000000000
00A0: 3000010000000000 00000000F51E100D 0000F400FFFF436C 6173736573000000
00C0: 0000000000000000 0000000000000000
.enddata
.data VIEWSIZE
0000: D000
.enddata
.head 3 -  Left: -0.013"
.head 3 -  Top:    0.0"
.head 3 -  Width:  8.013"
.head 3 -  Height: 4.969"
.head 2 +  Options Box Location
.data VIEWINFO
0000: 0418B80BB80B2500
.enddata
.data VIEWSIZE
0000: 0800
.enddata
.head 3 -  Visible? Yes
.head 3 -  Left: 4.15"
.head 3 -  Top:    1.885"
.head 3 -  Width:  3.8"
.head 3 -  Height: 2.073"
.head 2 +  Class Editor Location
.head 3 -  Visible? No
.head 3 -  Left: 0.575"
.head 3 -  Top:    0.094"
.head 3 -  Width:  5.063"
.head 3 -  Height: 2.719"
.head 2 +  Tool Palette Location
.head 3 -  Visible? No
.head 3 -  Left: 6.388"
.head 3 -  Top:    0.729"
.head 2 -  Fully Qualified External References? Yes
.head 2 -  Reject Multiple Window Instances? No
.head 2 -  Enable Runtime Checks Of External References? Yes
.head 2 -  Use Release 4.0 Scope Rules? No
.head 1 +  Libraries
.head 2 -  File Include: Leitz.apl
.head 2 -  File Include: qckdvc.apl
.head 2 -  File Include: sybsal32.apl
.head 2 -  File Include: Crystal.apl
.head 1 +  Global Declarations
.head 2 +  Window Defaults
.head 3 +  Tool Bar
.head 4 -  Display Style? Etched
.head 4 -  Font Name: MS Sans Serif
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: System Default
.head 4 -  Text Color: System Default
.head 4 -  Background Color: System Default
.head 3 +  Form Window
.head 4 -  Display Style? Etched
.head 4 -  Font Name: MS Sans Serif
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: System Default
.head 4 -  Text Color: System Default
.head 4 -  Background Color: System Default
.head 3 +  Dialog Box
.head 4 -  Display Style? Etched
.head 4 -  Font Name: MS Sans Serif
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: System Default
.head 4 -  Text Color: System Default
.head 4 -  Background Color: System Default
.head 3 +  Top Level Table Window
.head 4 -  Font Name: MS Sans Serif
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: System Default
.head 4 -  Text Color: System Default
.head 4 -  Background Color: System Default
.head 3 +  Data Field
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  Multiline Field
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  Spin Field
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  Background Text
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  Pushbutton
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 3 +  Radio Button
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  Check Box
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  Option Button
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 3 +  Group Box
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  Child Table Window
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  List Box
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  Combo Box
.head 4 -  Font Name: Use Parent
.head 4 -  Font Size: Use Parent
.head 4 -  Font Enhancement: Use Parent
.head 4 -  Text Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 3 +  Line
.head 4 -  Line Color: Use Parent
.head 3 +  Frame
.head 4 -  Border Color: Use Parent
.head 4 -  Background Color: 3D Face Color
.head 3 +  Picture
.head 4 -  Border Color: Use Parent
.head 4 -  Background Color: Use Parent
.head 2 +  Formats
.head 3 -  Number: 0'%'
.head 3 -  Number: #0
.head 3 -  Number: ###000
.head 3 -  Number: ###000;'($'###000')'
.head 3 -  Date/Time: hh:mm:ss AMPM
.head 3 -  Date/Time: M/d/yy
.head 3 -  Date/Time: MM-dd-yy
.head 3 -  Date/Time: dd-MMM-yyyy
.head 3 -  Date/Time: MMM d, yyyy
.head 3 -  Date/Time: MMM d, yyyy hh:mm AMPM
.head 3 -  Date/Time: MMMM d, yyyy hh:mm AMPM
.head 3 -  Date/Time: dd/mm/yyyy
.head 3 -  Date/Time: dd/
.head 3 -  Number: ###000
.head 3 -  Number: ###000
.head 3 -  Number: ########000
.head 3 -  Number: ###000
.head 3 -  Number: #####000
.head 3 -  Number: ###000
.head 3 -  Number: #####000
.head 3 -  Number: ###000
.head 3 -  Number: #####000
.head 3 -  Number: ###000
.head 3 -  Number: #####000
.head 3 -  Number: ###000
.head 3 -  Number: ########000
.head 3 -  Number: ###000
.head 3 -  Number: ########000
.head 3 -  Number: ###000
.head 3 -  Number: #####000
.head 3 -  Number: #####000
.head 3 -  Number: ######000
.head 3 -  Number: ######000
.head 3 -  Number: ########000
.head 3 -  Number: ########000
.head 3 -  Number: ########000
.head 3 -  Number: ###000
.head 3 -  Number: ########000
.head 3 -  Number: ###000
.head 3 -  Number: ########000
.head 3 -  Number: ###000
.head 3 -  Number: ########000
.head 3 -  Number: ###000
.head 3 -  Number: #####000
.head 3 -  Number: ###000
.head 3 -  Number: ###000
.head 3 -  Date/Time: yyyy/MM/dd
.head 3 -  Input: 99/99/9999
.head 3 -  Input: 9
.head 3 -  Input: NNNNNNNN
.head 3 -  Input: 99999999999
.head 3 -  Input: 99-9999
.head 3 -  Number:
.head 3 -  Number: ###00000
.head 3 -  Number: ###0000000
.head 3 -  Date/Time:
.head 3 -  Number: ###0000000
.head 3 -  Number: ###00000000
.head 3 -  Number:
.head 3 -  Number:
.head 3 -  Number: ###000;'($'###000')'
.head 3 -  Number: ###000;'($'###000')'
.head 3 -  Number: #0
.head 3 -  Number: ###000
.head 3 -  Number: #####000
.head 3 -  Number: ###000
.head 3 -  Number: ###000
.head 3 -  Number: ###000
.head 3 -  Number: ###000
.head 3 -  Number: ###000
.head 2 +  External Functions
.head 3 +  Library name: STRCI15.DLL
.head 4 +  Function: CStructGetByte
.head 5 -  Description: Extract a byte from a buffer.
nResult = CStructGetByte( strBuffer, nOffset )
.head 5 -  Export Ordinal: 1
.head 5 +  Returns
.head 6 -  Number: BYTE
.head 5 +  Parameters
.head 6 -  String: LPVOID
.head 6 -  Number: LONG
.head 4 +  Function: CStructGetInt
.head 5 -  Description: Extract an integer from a buffer.
nResult = CStructGetInt( strBuffer, nOffset )
.head 5 -  Export Ordinal: 5
.head 5 +  Returns
.head 6 -  Number: INT
.head 5 +  Parameters
.head 6 -  String: LPVOID
.head 6 -  Number: LONG
.head 4 +  Function: CStructGetWord
.head 5 -  Description: Extract a word from a buffer.
nResult = CStructGetWord( strBuffer, nOffset )
.head 5 -  Export Ordinal: 3
.head 5 +  Returns
.head 6 -  Number: WORD
.head 5 +  Parameters
.head 6 -  String: LPVOID
.head 6 -  Number: LONG
.head 4 +  Function: CStructGetLong
.head 5 -  Description: Extract a long from a buffer.
nResult = CStructGetLong( strBuffer, nOffset )
.head 5 -  Export Ordinal: 5
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  String: LPVOID
.head 6 -  Number: LONG
.head 4 +  Function: CStructGetLong2
.head 5 -  Description: Extract a long from a buffer.
nResult = CStructGetLong2( nAddress, nOffset )
.head 5 -  Export Ordinal: 5
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Number: DWORD
.head 6 -  Number: LONG
.head 4 +  Function: CStructGetFloat
.head 5 -  Description: Extract a float from a buffer.
nResult = CStructGetFloat( strBuffer, nOffset )
.head 5 -  Export Ordinal: 7
.head 5 +  Returns
.head 6 -  Number: FLOAT
.head 5 +  Parameters
.head 6 -  String: LPVOID
.head 6 -  Number: LONG
.head 4 +  Function: CStructGetDouble
.head 5 -  Description: Extract a double from a buffer.
nResult = CStructGetDouble( strBuffer, nOffset )
.head 5 -  Export Ordinal: 9
.head 5 +  Returns
.head 6 -  Number: DOUBLE
.head 5 +  Parameters
.head 6 -  String: LPVOID
.head 6 -  Number: LONG
.head 4 +  Function: CStructGetBFloat
.head 5 -  Description: Extract a BFloat from a buffer and convert to double.
nResult = CStructGetBFloat( strBuffer, nOffset )
.head 5 -  Export Ordinal: 21
.head 5 +  Returns
.head 6 -  Number: DOUBLE
.head 5 +  Parameters
.head 6 -  String: LPVOID
.head 6 -  Number: LONG
.head 4 +  Function: CStructGetString
.head 5 -  Description: Extract a string from a buffer.
nLength = CStructGetString( strBuffer, nOffset, nMaxWidth, strExtract )
.head 5 -  Export Ordinal: 11
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  String: LPVOID
.head 6 -  Number: LONG
.head 6 -  Number: LONG
.head 6 -  Receive String: LPSTR
.head 4 +  Function: CStructGetFarPointer
.head 5 -  Description: Extract a far pointer from a buffer.
nFarPointer = CStructGetFarPointer( strBuffer, nOffset )
.head 5 -  Export Ordinal: 17
.head 5 +  Returns
.head 6 -  Number: ULONG
.head 5 +  Parameters
.head 6 -  Receive String: LPVOID
.head 6 -  Number: LONG
.head 4 +  Function: CStructPutByte
.head 5 -  Description: Insert a byte into a buffer.
bOK = CStructPutByte( strBuffer, nOffset, nInsert )
.head 5 -  Export Ordinal: 2
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Receive String: LPVOID
.head 6 -  Number: LONG
.head 6 -  Number: BYTE
.head 4 +  Function: CStructPutInt
.head 5 -  Description: Insert an integer into a buffer.
bOK = CStructPutInt( strBuffer, nOffset, nInsert )
.head 5 -  Export Ordinal: 6
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Receive String: LPVOID
.head 6 -  Number: LONG
.head 6 -  Number: INT
.head 4 +  Function: CStructPutWord
.head 5 -  Description: Insert a word into a buffer.
bOK = CStructPutWord( strBuffer, nOffset, nInsert )
.head 5 -  Export Ordinal: 4
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Receive String: LPVOID
.head 6 -  Number: LONG
.head 6 -  Number: WORD
.head 4 +  Function: CStructPutLong
.head 5 -  Description: Insert a long into a buffer.
bOK = CStructPutLong( strBuffer, nOffset, nInsert )
.head 5 -  Export Ordinal: 6
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Receive String: LPVOID
.head 6 -  Number: LONG
.head 6 -  Number: LONG
.head 4 +  Function: CStructPutFloat
.head 5 -  Description: Insert a byte into a buffer.
bOK = CStructPutFloat( strBuffer, nOffset, nInsert )
.head 5 -  Export Ordinal: 8
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Receive String: LPVOID
.head 6 -  Number: LONG
.head 6 -  Number: FLOAT
.head 4 +  Function: CStructPutDouble
.head 5 -  Description: Insert a double into a buffer.
bOK = CStructPutDouble( strBuffer, nOffset, nInsert )
.head 5 -  Export Ordinal: 10
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Receive String: LPVOID
.head 6 -  Number: LONG
.head 6 -  Number: DOUBLE
.head 4 +  Function: CStructPutBFloat
.head 5 -  Description: Convert double to BFloat and insert it into a buffer.
bOK = CStructPutBFloat( strBuffer, nOffset, nInsert )
.head 5 -  Export Ordinal: 22
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Receive String: LPVOID
.head 6 -  Number: LONG
.head 6 -  Number: DOUBLE
.head 4 +  Function: CStructPutString
.head 5 -  Description: Insert a string into a buffer.
bOK = CStructPutString( strBuffer, nOffset, nMaxWidth, strInsert )
.head 5 -  Export Ordinal: 12
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Receive String: LPVOID
.head 6 -  Number: LONG
.head 6 -  Number: LONG
.head 6 -  String: LPSTR
.head 4 +  Function: CStructPutString2
.head 5 -  Description: Insert a string into a buffer.
bOK = CStructPutString( strBuffer, nOffset, nMaxWidth, strInsert )
.head 5 -  Export Ordinal: 12
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Number: DWORD
.head 6 -  Number: LONG
.head 6 -  Number: LONG
.head 6 -  String: LPSTR
.head 4 +  Function: CStructPutFarPointer
.head 5 -  Description: Insert a far pointer into a buffer.
bOK = CStructPutFarPointer( strBuffer, nOffset, nFarPointer )
.head 5 -  Export Ordinal: 18
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Receive String: LPVOID
.head 6 -  Number: LONG
.head 6 -  Number: LONG
.head 4 +  Function: CStructCopyBuffer
.head 5 -  Description: Copy data from one String to another.
bOK = CStructCopyBuffer( strDest, nDestOffset,
                         strSrc, nSrcOffset, nCopyLen )
.head 5 -  Export Ordinal: 19
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  String: LPVOID
.head 6 -  Number: LONG
.head 6 -  String: LPVOID
.head 6 -  Number: LONG
.head 6 -  Number: LONG
.head 4 +  Function: CStructAllocFarMem
.head 5 -  Description: Allocate memory and return a far pointer.
nFarPointer = CStructAllocFarMem( nBytes )
.head 5 -  Export Ordinal: 13
.head 5 +  Returns
.head 6 -  Number: ULONG
.head 5 +  Parameters
.head 6 -  Number: LONG
.head 4 +  Function: CStructFreeFarMem
.head 5 -  Description: Free memory allocated by CStructAllocFarMem.
bOK = CStructFreeFarMem( nFarPointer )
.head 5 -  Export Ordinal: 14
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Number: LONG
.head 4 +  Function: CStructCopyToFarMem
.head 5 -  Description: Copy data from far memory to a String.
bOK = CStructCopyToFarMem( nFarPointer, strData, nDataLen  )
.head 5 -  Export Ordinal: 15
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Number: LONG
.head 6 -  String: LPVOID
.head 6 -  Number: LONG
.head 4 +  Function: CStructCopyFromFarMem
.head 5 -  Description: Copy from a String to far memory.
bOK = CStructCopyFromFarMem( nFarPointer, strData, nMaxLen )
.head 5 -  Export Ordinal: 16
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Number: LONG
.head 6 -  Receive String: LPVOID
.head 6 -  Number: LONG
.head 3 +  Library name: COMCTL32.dll
.head 4 +  Function: InitCommonControls
.head 5 -  Description:
.head 5 -  Export Ordinal: 0
.head 5 -  Returns
.head 5 -  Parameters
.head 4 +  Function: InitCommonControlsEx
.head 5 -  Description:
.head 5 -  Export Ordinal: 0
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 +  structPointer
.head 7 -  Number: DWORD
.head 7 -  Number: DWORD
.head 4 +  ! Function: CreateStatusWindow
.head 5 -  Description: 
.head 5 -  Export Ordinal: 0
.head 5 +  Returns 
.head 6 -  Window Handle: HWND
.head 5 +  Parameters 
.head 6 -  Number: LONG
.head 6 -  String: LPCSTR
.head 6 -  Window Handle: HWND
.head 6 -  Number: UINT
.head 4 +  ! Function: CreateToolbarEx
.head 5 -  Description: 
.head 5 -  Export Ordinal: 0
.head 5 +  Returns 
.head 6 -  Window Handle: HWND
.head 5 +  Parameters 
.head 6 -  Window Handle: HWND
.head 6 -  Number: DWORD
.head 6 -  Number: DWORD
.head 6 -  Number: INT
.head 6 -  Number: DWORD
.head 6 -  Number: DWORD
.head 6 -  String: LPCSTR
.head 6 -  Number: INT
.head 6 -  Number: INT
.head 6 -  Number: INT
.head 6 -  Number: INT
.head 6 -  Number: INT
.head 6 -  Number: DWORD
.head 4 +  ! Function: CreateToolbar
.head 5 -  Description:
.head 5 -  Export Ordinal: 0
.head 5 -  Returns
.head 5 -  Parameters
.head 4 +  ! Function: ImageList_AddMasked
.head 5 -  Description: 
.head 5 -  Export Ordinal: 0
.head 5 +  Returns 
.head 6 -  Number: INT
.head 5 +  Parameters 
.head 6 -  Number: HANDLE
.head 6 -  Number: HANDLE
.head 6 -  Number: INT
.head 4 +  ! Function: ImageList_Create
.head 5 -  Description: 
.head 5 -  Export Ordinal: 0
.head 5 +  Returns 
.head 6 -  Number: HANDLE
.head 5 +  Parameters 
.head 6 -  Number: INT
.head 6 -  Number: INT
.head 6 -  Number: UINT
.head 6 -  Number: INT
.head 6 -  Number: INT
.head 4 +  ! Function: ImageList_Destroy
.head 5 -  Description: 
.head 5 -  Export Ordinal: 0
.head 5 +  Returns 
.head 6 -  Boolean: BOOL
.head 5 +  Parameters 
.head 6 -  Number: HANDLE
.head 4 +  ! Function: ImageList_Draw
.head 5 -  Description: 
.head 5 -  Export Ordinal: 0
.head 5 +  Returns 
.head 6 -  Boolean: BOOL
.head 5 +  Parameters 
.head 6 -  Number: HANDLE
.head 6 -  Number: INT
.head 6 -  Number: HANDLE
.head 6 -  Number: INT
.head 6 -  Number: INT
.head 6 -  Number: UINT
.head 4 +  ! Function: ImageList_ReplaceIcon
.head 5 -  Description: 
.head 5 -  Export Ordinal: 0
.head 5 +  Returns 
.head 6 -  Number: INT
.head 5 +  Parameters 
.head 6 -  Number: HANDLE
.head 6 -  Number: INT
.head 6 -  Number: HANDLE
.head 3 +  Library name: KERNEL32.dll
.head 4 +  Function: GetVersionExA
.head 5 -  Description: Struct: OSVERSIONINFO
.head 5 -  Export Ordinal: 0
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 +  structPointer
.head 7 -  Number: DWORD
.head 7 -  Receive Number: DWORD
.head 7 -  Receive Number: DWORD
.head 7 -  Receive Number: DWORD
.head 7 -  Receive Number: DWORD
.head 7 -  Receive String: char[128]
.head 4 +  Function: RtlZeroMemory
.head 5 -  Description:
.head 5 -  Export Ordinal: 0
.head 5 -  Returns
.head 5 +  Parameters
.head 6 -  Number: LPVOID
.head 6 -  Number: DWORD
.head 3 +  Library name: vti15.dll
.head 4 -  !
.head 4 -  ! ***** Visual Toolchest - VTLBX.APL
.head 4 -  !
.head 4 -  ! ***** Design-time setting population
.head 4 +  Function: VisPopulatePictureFromProperty
.head 5 -  Description:
.head 5 -  Export Ordinal: 271
.head 5 +  Returns
.head 6 -  String: HSTRING
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Window Handle: HWND
.head 4 -  !
.head 4 -  ! ***** Font Functions
.head 4 -  !
.head 4 -  ! ***** List Functions
.head 4 +  Function: VisListAddValue
.head 5 -  Description: nIndex  VisListAddValue (hWnd, sText, nValue )
.head 5 -  Export Ordinal: 78
.head 5 +  Returns
.head 6 -  Number: INT
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  String: LPSTR
.head 6 -  Number: LONG
.head 4 +  Function: VisListArrayPopulate
.head 5 -  Description: nNumItems  VisListArrayPopulate( hWnd, hAryText )
.head 5 -  Export Ordinal: 88
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  String: HARRAY
.head 4 +  Function: VisListArrayPopulateValue
.head 5 -  Description: nNumItems  VisListArrayPopulateValue( hWnd, hAryText, hAryValues )
.head 5 -  Export Ordinal: 89
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  String: HARRAY
.head 6 -  Number: HARRAY
.head 4 +  Function: VisListClearSelection
.head 5 -  Description: bOk  VisListClearSelection( hWnd )
.head 5 -  Export Ordinal: 250
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 4 +  Function: VisListDeleteSelected
.head 5 -  Description: nNumDeleted VisListDeleteSelected( hWnd )
.head 5 -  Export Ordinal: 92
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 4 +  Function: VisListFindString
.head 5 -  Description: nIndex  VisListFindString( hWnd, nIndex, sText )
.head 5 -  Export Ordinal: 86
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 6 -  String: LPSTR
.head 4 +  Function: VisListFindValue
.head 5 -  Description: nIndex VisListFindValue( hWnd, nStartIndex, nValue )
.head 5 -  Export Ordinal: 257
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: LONG
.head 6 -  Number: LONG
.head 4 +  Function: VisListGetDropdownState
.head 5 -  Description: bState  VisListGetDropdownState( hWnd )
.head 5 -  Export Ordinal: 84
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 4 +  Function: VisListGetFocusIndex
.head 5 -  Description: nIndex  VisListGetCaretIndex( hWnd )
.head 5 -  Export Ordinal: 94
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 4 +  Function: VisListGetIndexFromPoint
.head 5 -  Description: nIndex VisListGetIndexFromPoint( hWndList, nXPos, nYPos )
.head 5 -  Export Ordinal: 248
.head 5 +  Returns
.head 6 -  Number: INT
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 6 -  Number: INT
.head 4 +  Function: VisListGetText
.head 5 -  Description: sText  VisListGetText( hWnd, nIndex )
.head 5 -  Export Ordinal: 87
.head 5 +  Returns
.head 6 -  String: HSTRING
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 4 +  Function: VisListGetValue
.head 5 -  Description: nValue  VisListGetValue( hWnd, nIndex )
.head 5 -  Export Ordinal: 80
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 4 +  Function: VisListGetVisibleRange
.head 5 -  Description: nIndex  VisListGetVisibleRange( hWnd, nTop, nBottom )
.head 5 -  Export Ordinal: 82
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Receive Number: LPINT
.head 6 -  Receive Number: LPINT
.head 4 +  Function: VisListInsertValue
.head 5 -  Description: nIndex  VisListInsertValue (hWnd, nIndex, sText, nValue )
.head 5 -  Export Ordinal: 79
.head 5 +  Returns
.head 6 -  Number: INT
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 6 -  String: LPSTR
.head 6 -  Number: LONG
.head 4 +  Function: VisListIsMultiSelect
.head 5 -  Description: bSelect VisListIsMultiSelect( hWnd )
.head 5 -  Export Ordinal: 205
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 4 +  Function: VisListScroll
.head 5 -  Description: nErrCode  VisListScroll( hWnd, nIndex )
.head 5 -  Export Ordinal: 83
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 4 +  Function: VisListSetFocusIndex
.head 5 -  Description: nErrCode  VisListSetCaretIndex( hWnd, nIndex )
.head 5 -  Export Ordinal: 95
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 4 +  Function: VisListSetDropdownState
.head 5 -  Description: bState  VisListSetDropdownState( hWnd, bState )
.head 5 -  Export Ordinal: 85
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Boolean: BOOL
.head 4 +  Function: VisListSetScrollWidth
.head 5 -  Description: nErrCode  VisListSetScrollWidth( hWnd )
.head 5 -  Export Ordinal: 93
.head 5 +  Returns
.head 6 -  Number: INT
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 4 +  Function: VisListSetText
.head 5 -  Description: nErrCode VisListSetText( hWnd, nIndex, sText )
.head 5 -  Export Ordinal: 208
.head 5 +  Returns
.head 6 -  Number: INT
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 6 -  String: LPSTR
.head 4 +  Function: VisListSetValue
.head 5 -  Description: nErrCode  VisListSetValue( hWnd, nIndex, nValue )
.head 5 -  Export Ordinal: 81
.head 5 +  Returns
.head 6 -  Number: INT
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 6 -  Number: LONG
.head 4 -  !
.head 4 -  ! ***** List Box Extensions
.head 4 +  Function: VisListDisableItem
.head 5 -  Description: nIndex VisListDisableItem( hWnd, nIndex, nColor )
.head 5 -  Export Ordinal: 108
.head 5 +  Returns
.head 6 -  Number: INT
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 6 -  Number: DWORD
.head 4 +  Function: VisListEnableItem
.head 5 -  Description: nIndex VisListEnableItem( hWnd, nIndex, nColor )
.head 5 -  Export Ordinal: 109
.head 5 +  Returns
.head 6 -  Number: INT
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 6 -  Number: DWORD
.head 4 +  Function: VisListGetFlags
.head 5 -  Description: nItemFlags VisListGetFlags( hWnd, nIndex )
.head 5 -  Export Ordinal: 118
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 4 +  Function: VisListGetStyle
.head 5 -  Description: nStyle VisListGetStyle( hWndList )
.head 5 -  Export Ordinal: 110
.head 5 +  Returns
.head 6 -  Number: DWORD
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 4 +  Function: VisListSetFlags
.head 5 -  Description: nReturn VisListSetFlags( hWnd, nIndex, nItemFlags, bState )
.head 5 -  Export Ordinal: 119
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 6 -  Number: DWORD
.head 6 -  Boolean: BOOL
.head 4 +  Function: VisListSetStyle
.head 5 -  Description:
.head 5 -  Export Ordinal: 96
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: DWORD
.head 6 -  Number: DWORD
.head 4 -  !
.head 4 -  ! ***** Color List Box Functions
.head 4 +  Function: VisListAddColorValue
.head 5 -  Description:
.head 5 -  Export Ordinal: 100
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  String: LPSTR
.head 6 -  Number: DWORD
.head 6 -  Number: LONG
.head 4 +  Function: VisListGetColor
.head 5 -  Description:
.head 5 -  Export Ordinal: 102
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 4 +  Function: VisListInsertColor
.head 5 -  Description:
.head 5 -  Export Ordinal: 99
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 6 -  String: LPSTR
.head 6 -  Number: DWORD
.head 4 +  Function: VisListInsertColorValue
.head 5 -  Description:
.head 5 -  Export Ordinal: 101
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 6 -  String: LPSTR
.head 6 -  Number: DWORD
.head 6 -  Number: LONG
.head 4 +  Function: VisListSetColor
.head 5 -  Description:
.head 5 -  Export Ordinal: 97
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 6 -  Number: DWORD
.head 4 -  !
.head 4 -  ! ***** Font List Box Functions
.head 4 +  Function: VisListAddFont
.head 5 -  Description:
.head 5 -  Export Ordinal: 174
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  String: LPSTR
.head 6 -  Number: INT
.head 4 +  Function: VisListAddFontValue
.head 5 -  Description:
.head 5 -  Export Ordinal: 175
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  String: LPSTR
.head 6 -  Number: INT
.head 6 -  Number: LONG
.head 4 +  Function: VisListGetFont
.head 5 -  Description: hFont VisListGetFont( hWndList, nIndex )
.head 5 -  Export Ordinal: 176
.head 5 +  Returns
.head 6 -  Number: INT
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 4 +  Function: VisListInsertFont
.head 5 -  Description:
.head 5 -  Export Ordinal: 177
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 6 -  String: LPSTR
.head 6 -  Number: INT
.head 4 +  Function: VisListInsertFontValue
.head 5 -  Description:
.head 5 -  Export Ordinal: 178
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 6 -  String: LPSTR
.head 6 -  Number: INT
.head 6 -  Number: LONG
.head 4 +  Function: VisListSetFont
.head 5 -  Description:
.head 5 -  Export Ordinal: 179
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 6 -  Number: INT
.head 4 -  !
.head 4 -  ! ***** Picture List Box Functions
.head 4 +  Function: VisListAddPicture
.head 5 -  Description: lReturn VisListAddPicture( hWnd, sText, hPicNormal, hPicSelect )
.head 5 -  Export Ordinal: 113
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  String: LPSTR
.head 6 -  Number: INT
.head 6 -  Number: INT
.head 4 +  Function: VisListAddPictureValue
.head 5 -  Description: lReturn VisListAddPictureValue( hWnd, sText, hPicNormal, hPicSelect, nValue )
.head 5 -  Export Ordinal: 115
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  String: LPSTR
.head 6 -  Number: INT
.head 6 -  Number: INT
.head 6 -  Number: LONG
.head 4 +  Function: VisListGetPicture
.head 5 -  Description: nErrCode VisListGetPicture( hWnd, nIndex, hPicNormal, hPicSelect )
.head 5 -  Export Ordinal: 151
.head 5 +  Returns
.head 6 -  Number: INT
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 6 -  Receive Number: LPINT
.head 6 -  Receive Number: LPINT
.head 4 +  Function: VisListInsertPicture
.head 5 -  Description: lReturn VisListInsertPicture( hWnd, nIndex, sText, hPicNormal, hPicSelect )
.head 5 -  Export Ordinal: 114
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 6 -  String: LPSTR
.head 6 -  Number: INT
.head 6 -  Number: INT
.head 4 +  Function: VisListInsertPictureValue
.head 5 -  Description: lReturn VisListInsertPictureValue( hWnd, nIndex, sText, hPicNormal, hPicSelect, nValue )
.head 5 -  Export Ordinal: 116
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 6 -  String: LPSTR
.head 6 -  Number: INT
.head 6 -  Number: INT
.head 6 -  Number: LONG
.head 4 +  Function: VisListSetPicture
.head 5 -  Description: lReturn VisListSetPicture( hWnd, nIndex, hPicNormal, hPicSelect )
.head 5 -  Export Ordinal: 117
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 6 -  Number: INT
.head 6 -  Number: INT
.head 4 -  !
.head 4 -  ! ***** Outline List Box Functions
.head 4 +  Function: VisListCollapse
.head 5 -  Description: bOk VisListCollapse( hWnd, nIndex )
.head 5 -  Export Ordinal: 143
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 4 +  Function: VisListDeleteChild
.head 5 -  Description: nNumLeft VisListDeleteChild( hWnd, nIndex )
.head 5 -  Export Ordinal: 159
.head 5 +  Returns
.head 6 -  Number: INT
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 4 +  Function: VisListDeleteDescendents
.head 5 -  Description: nNumLeft VisListDeleteDescendents( hWnd, nIndex )
.head 5 -  Export Ordinal: 160
.head 5 +  Returns
.head 6 -  Number: INT
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 4 +  Function: VisListDemote
.head 5 -  Description: bOk VisListDemote( hWnd, nIndex, hpicNormal, hpicSelect )
.head 5 -  Export Ordinal: 161
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 6 -  Number: INT
.head 6 -  Number: INT
.head 4 +  Function: VisListDragDrop
.head 5 -  Description: bOk  VisListDragDrop( hWndSource, nSourceIndex, hWndTarget, nTargetIndex, nDropFlags )
.head 5 -  Export Ordinal: 249
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 6 -  Number: WORD
.head 4 +  Function: VisListEnumChildren
.head 5 -  Description: nNumItems VisListEnumChildren( hItem, hItems[*] )
.head 5 -  Export Ordinal: 155
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Number: DWORD
.head 6 -  Number: HARRAY
.head 4 +  Function: VisListEnumDescendents
.head 5 -  Description: nNumItems VisListEnumDescendents( hItem, hItems[*] )
.head 5 -  Export Ordinal: 156
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Number: DWORD
.head 6 -  Number: HARRAY
.head 4 +  Function: VisListExpand
.head 5 -  Description: bOk VisListExpand( hWnd, nIndex )
.head 5 -  Export Ordinal: 144
.head 5 +  Returns
.head 6 -  Number: INT
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 4 +  Function: VisListExpandDescendents
.head 5 -  Description: bOk VisListExpandDescendents( hWnd, nIndex )
.head 5 -  Export Ordinal: 152
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 4 +  Function: VisListFindItemValue
.head 5 -  Description: hItem VisListFindItemValue( hItem, nValue )
.head 5 -  Export Ordinal: 258
.head 5 +  Returns
.head 6 -  Number: DWORD
.head 5 +  Parameters
.head 6 -  Number: DWORD
.head 6 -  Number: LONG
.head 4 +  Function: VisListFreeChild
.head 5 -  Description: bOk  VisListFreeChild( hItemChild )
.head 5 -  Export Ordinal: 146
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Number: DWORD
.head 4 +  Function: VisListFreeDescendents
.head 5 -  Description: bOk  VisListFreeDescendents( hItemParent )
.head 5 -  Export Ordinal: 147
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Number: DWORD
.head 4 +  Function: VisListGetItemColor
.head 5 -  Description: nColor VisListGetItemColor( hItem )
.head 5 -  Export Ordinal: 251
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Number: DWORD
.head 4 +  Function: VisListGetItemData
.head 5 -  Description: bOk VisListGetItemData( hItem, sText, nValue, nItemFlags )
.head 5 -  Export Ordinal: 142
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Number: DWORD
.head 6 -  Receive String: LPHSTRING
.head 6 -  Receive Number: LPLONG
.head 6 -  Receive Number: LPDWORD
.head 4 +  Function: VisListGetItemFlags
.head 5 -  Description: nItemFlags VisListGetItemFlags( hItem )
.head 5 -  Export Ordinal: 263
.head 5 +  Returns
.head 6 -  Number: DWORD
.head 5 +  Parameters
.head 6 -  Number: DWORD
.head 4 +  Function: VisListGetItemFont
.head 5 -  Description: hFont VisListGetItemFont( hItem )
.head 5 -  Export Ordinal: 252
.head 5 +  Returns
.head 6 -  Number: INT
.head 5 +  Parameters
.head 6 -  Number: DWORD
.head 4 +  Function: VisListGetItemHandle
.head 5 -  Description: hItem VisListGetItemHandle( hWnd, nIndex )
.head 5 -  Export Ordinal: 141
.head 5 +  Returns
.head 6 -  Number: DWORD
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 4 +  Function: VisListGetItemIndex
.head 5 -  Description: nIndex VisListGetItemIndex( hItem )
.head 5 -  Export Ordinal: 255
.head 5 +  Returns
.head 6 -  Number: INT
.head 5 +  Parameters
.head 6 -  Number: DWORD
.head 4 +  Function: VisListGetItemPicture
.head 5 -  Description: bOk  VisListGetPicture( hItem, hPicNormal, hPicSelect )
.head 5 -  Export Ordinal: 253
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Number: DWORD
.head 6 -  Receive Number: LPINT
.head 6 -  Receive Number: LPINT
.head 4 +  Function: VisListGetItemText
.head 5 -  Description: sText VisListGetItemText( hItem )
.head 5 -  Export Ordinal: 260
.head 5 +  Returns
.head 6 -  String: HSTRING
.head 5 +  Parameters
.head 6 -  Number: DWORD
.head 4 +  Function: VisListGetItemValue
.head 5 -  Description: nValue VisListGetItemValue( hItem )
.head 5 -  Export Ordinal: 259
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Number: DWORD
.head 4 +  Function: VisListGetLevel
.head 5 -  Description: nLevel VisListGetLevel( hItem )
.head 5 -  Export Ordinal: 203
.head 5 +  Returns
.head 6 -  Number: INT
.head 5 +  Parameters
.head 6 -  Number: DWORD
.head 4 +  Function: VisListGetNextSibling
.head 5 -  Description: hItem VisListGetNextSibling( hItem )
.head 5 -  Export Ordinal: 153
.head 5 +  Returns
.head 6 -  Number: DWORD
.head 5 +  Parameters
.head 6 -  Number: DWORD
.head 4 +  Function: VisListGetParent
.head 5 -  Description: hItem VisListGetParent( hItem )
.head 5 -  Export Ordinal: 140
.head 5 +  Returns
.head 6 -  Number: DWORD
.head 5 +  Parameters
.head 6 -  Number: DWORD
.head 4 +  Function: VisListGetPrevSibling
.head 5 -  Description: hItem VisListGetPrevSibling( hItem )
.head 5 -  Export Ordinal: 154
.head 5 +  Returns
.head 6 -  Number: DWORD
.head 5 +  Parameters
.head 6 -  Number: DWORD
.head 4 +  Function: VisListGetRoot
.head 5 -  Description: hItem VisListGetRoot( hWnd )
.head 5 -  Export Ordinal: 138
.head 5 +  Returns
.head 6 -  Number: DWORD
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 4 +  Function: VisListGetTextRectangle
.head 5 -  Description: bOk VisListGetTextRectangle( hWndTable, nIndex, nTop, nLeft, nBottom, nRight )
.head 5 -  Export Ordinal: 256
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 6 -  Receive Number: LPINT
.head 6 -  Receive Number: LPINT
.head 6 -  Receive Number: LPINT
.head 6 -  Receive Number: LPINT
.head 4 +  Function: VisListLoadChild
.head 5 -  Description: hItem VisListLoadChild( hWnd, hItemParent, hPicNormal, hPicSelect, sText, nValue, nItemFlags )
.head 5 -  Export Ordinal: 137
.head 5 +  Returns
.head 6 -  Number: DWORD
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: DWORD
.head 6 -  Number: INT
.head 6 -  Number: INT
.head 6 -  String: LPSTR
.head 6 -  Number: LONG
.head 6 -  Number: DWORD
.head 4 +  Function: VisListLoadChildren
.head 5 -  Description: hItem VisListLoadChildren( hWnd, hItemParent, hPicNormal, hPicSelect, sText[*], nValue[*], nItemFlags[*] )
.head 5 -  Export Ordinal: 136
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: DWORD
.head 6 -  Number: INT
.head 6 -  Number: INT
.head 6 -  String: HARRAY
.head 6 -  Number: HARRAY
.head 6 -  Number: HARRAY
.head 4 +  Function: VisListLoadOutline
.head 5 -  Description: hItem VisListLoadOutline( hWnd, sBlob )
.head 5 -  Export Ordinal: 289
.head 5 +  Returns
.head 6 -  Number: DWORD
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  String: HSTRING
.head 4 +  Function: VisListLoadOutlineFile
.head 5 -  Description: hItem VisListLoadOutlineFile( hWnd, sFileName, hPicParentNormal, hPicParentSelect, hPicChildNormal, hPicChildSelect )
.head 5 -  Export Ordinal: 290
.head 5 +  Returns
.head 6 -  Number: DWORD
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  String: LPSTR
.head 6 -  Number: INT
.head 6 -  Number: INT
.head 6 -  Number: INT
.head 6 -  Number: INT
.head 4 +  Function: VisListLoadSibling
.head 5 -  Description: hItem VisListLoadSibling( hWnd, hItemBefore, hPicNormal, hPicSelect, sText, nValue, nItemFlags )
.head 5 -  Export Ordinal: 157
.head 5 +  Returns
.head 6 -  Number: DWORD
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: DWORD
.head 6 -  Number: INT
.head 6 -  Number: INT
.head 6 -  String: LPSTR
.head 6 -  Number: LONG
.head 6 -  Number: DWORD
.head 4 +  Function: VisListMoveDown
.head 5 -  Description: bOk VisListMoveDown( hWnd, nIndex )
.head 5 -  Export Ordinal: 163
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 4 +  Function: VisListMoveUp
.head 5 -  Description: bOk VisListMoveUp( hWnd, nIndex )
.head 5 -  Export Ordinal: 164
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 4 +  Function: VisListPromote
.head 5 -  Description: bOk VisListPromote( hWnd, nIndex, hpicNormal, hpicSelect )
.head 5 -  Export Ordinal: 162
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 6 -  Number: INT
.head 6 -  Number: INT
.head 4 +  Function: VisListSaveOutline
.head 5 -  Description: nErrCode VisListSaveOutline( hWnd, sBlob )
.head 5 -  Export Ordinal: 291
.head 5 +  Returns
.head 6 -  Number: INT
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Receive String: LPHSTRING
.head 4 +  Function: VisListSetIndent
.head 5 -  Description: bOk VisListSetIndent( hWnd, nIndent )
.head 5 -  Export Ordinal: 145
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 4 +  Function: VisListSetItemColor
.head 5 -  Description: bOk VisListSetItemColor( hItem, nColor )
.head 5 -  Export Ordinal: 197
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Number: DWORD
.head 6 -  Number: DWORD
.head 4 +  Function: VisListSetItemData
.head 5 -  Description: hItem VisListSetItemData( hWnd, hItem, sText, nValue, nItemFlags )
.head 5 -  Export Ordinal: 158
.head 5 +  Returns
.head 6 -  Number: DWORD
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: DWORD
.head 6 -  String: LPSTR
.head 6 -  Number: LONG
.head 6 -  Number: DWORD
.head 4 +  Function: VisListSetItemFlags
.head 5 -  Description: bOk VisListSetItemFlags( hItem, nItemFlags, bState )
.head 5 -  Export Ordinal: 264
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Number: DWORD
.head 6 -  Number: DWORD
.head 6 -  Boolean: BOOL
.head 4 +  Function: VisListSetItemFont
.head 5 -  Description: bOk VisListSetItemFont( hItem, hFont )
.head 5 -  Export Ordinal: 198
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Number: DWORD
.head 6 -  Number: INT
.head 4 +  Function: VisListSetItemPicture
.head 5 -  Description: bOk VisListSetItemPicture( hItem, hPicNormal, hPicSelect )
.head 5 -  Export Ordinal: 148
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Number: DWORD
.head 6 -  Number: INT
.head 6 -  Number: INT
.head 4 +  Function: VisListSetItemText
.head 5 -  Description: bOk VisListSetItemText( hItem, sText )
.head 5 -  Export Ordinal: 262
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Number: DWORD
.head 6 -  String: LPSTR
.head 4 +  Function: VisListSetItemValue
.head 5 -  Description: bOk VisListSetItemValue( hItem, nValue )
.head 5 -  Export Ordinal: 261
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Number: DWORD
.head 6 -  Number: LONG
.head 4 +  Function: VisListSetOutlineRedraw
.head 5 -  Description: bOk  VisListSetOutlineRedraw
.head 5 -  Export Ordinal: 254
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Boolean: BOOL
.head 4 +  Function: VisListShowOutline
.head 5 -  Description: bOk VisListShowOutline( hWnd, nLevel )
.head 5 -  Export Ordinal: 139
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: INT
.head 3 +  Library name: vti15.dll
.head 4 -  !
.head 4 -  ! ***** Visual Toolchest - VTTBLWIN.APL
.head 4 -  !
.head 4 -  ! ***** Table Window functions
.head 4 +  Function: VisTblAllRows
.head 5 -  Description: bOk VisTblAllRows( hWndTable, nFlagsOn, nFlagsOff )
.head 5 -  Export Ordinal: 221
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: WORD
.head 6 -  Number: WORD
.head 4 +  Function: VisTblAutoSizeColumn
.head 5 -  Description: bOk VisTblFitColumn( hWndTable, hWndColumn )
.head 5 -  Export Ordinal: 222
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Window Handle: HWND
.head 4 +  Function: VisTblClearColumnSelection
.head 5 -  Description: bOk VisTblClearColumnSelection
.head 5 -  Export Ordinal: 228
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 4 +  Function: VisTblFindDateTime
.head 5 -  Description: nRow VisTblFindDateTime( hWndTable, nStartRow, hWndColumn, dtDateTime )
.head 5 -  Export Ordinal: 223
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: LONG
.head 6 -  Window Handle: HWND
.head 6 -  Date/Time: DATETIME
.head 4 +  Function: VisTblFindNumber
.head 5 -  Description: nRow VisTblFindNumber( hWndTable, nStartRow, hWndColumn, nNumber )
.head 5 -  Export Ordinal: 224
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: LONG
.head 6 -  Window Handle: HWND
.head 6 -  Number: NUMBER
.head 4 +  Function: VisTblFindString
.head 5 -  Description: nRow VisTblFindString( hWndTable, nStartRow, hWndColumn, sString )
.head 5 -  Export Ordinal: 225
.head 5 +  Returns
.head 6 -  Number: LONG
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: LONG
.head 6 -  Window Handle: HWND
.head 6 -  String: LPSTR
.head 4 +  Function: VisTblGetCell
.head 5 -  Description: sText VisTblGetCell( hWndTable, nRow, hWndColumn )
.head 5 -  Export Ordinal: 226
.head 5 +  Returns
.head 6 -  String: HSTRING
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: LONG
.head 6 -  Window Handle: HWND
.head 4 +  Function: VisTblGetColumnTitle
.head 5 -  Description: sTitle VisTblGetColumnTitle
.head 5 -  Export Ordinal: 227
.head 5 +  Returns
.head 6 -  String: HSTRING
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 4 +  Function: VisTblSetRowColor
.head 5 -  Description: bOk VisTblSetRowColor( hWndTable, nRow, nColor )
.head 5 -  Export Ordinal: 230
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: LONG
.head 6 -  Number: DWORD
.head 4 +  Function: VisTblSetRowPicture
.head 5 -  Description: bOk VisTblSetRowPicture( hWndTable, nRowFlag, hPic )
.head 5 -  Export Ordinal: 229
.head 5 +  Returns
.head 6 -  Boolean: BOOL
.head 5 +  Parameters
.head 6 -  Window Handle: HWND
.head 6 -  Number: WORD
.head 6 -  Number: INT
.head 2 +  Constants
.data CCDATA
0000: 3000000000000000 0000000000000000 00000000
.enddata
.data CCSIZE
0000: 1400
.enddata
.head 3 +  System
.head 4 -  ! ! ! - Messages
.head 4 -  Number: DTM_FIRST 			= 0x1000
.head 4 -  Number: DTM_GETSYSTEMTIME		= (DTM_FIRST + 1)
.head 4 -  Number: DTM_SETSYSTEMTIME		= (DTM_FIRST + 2)
.head 4 -  Number: DTM_GETRANGE			= (DTM_FIRST + 3)
.head 4 -  Number: DTM_SETRANGE			= (DTM_FIRST + 4)
.head 4 -  Number: DTM_SETFORMAT		= (DTM_FIRST + 5)
.head 4 -  Number: DTM_SETMCCOLOR		= (DTM_FIRST + 6)
.head 4 -  Number: DTM_GETMCCOLOR		= (DTM_FIRST + 7)
.head 4 -  Number: DTM_GETMONTHCAL		= (DTM_FIRST + 8)
.head 4 -  Number: DTM_SETMCFONT		= (DTM_FIRST + 9)
.head 4 -  Number: DTM_GETMCFONT		= (DTM_FIRST + 10)
.head 4 -  Number: ICC_DATE_CLASSES		= 0x00000100
.head 4 -  Number: GDT_VALID			= 0
.head 4 -  !
.head 4 -  Number: GWW_HINSTANCE	= (-6)
.head 4 -  ! ! - Notifications
.head 4 -  Number: MCN_FIRST			= -750
.head 4 -  Number: MCN_SELCHANGE		= (MCN_FIRST + 1)
.head 4 -  Number: MCN_GETDAYSTATE		= (MCN_FIRST + 3)
.head 4 -  Number: MCN_SELECT			= (MCN_FIRST + 4)
.head 4 -  ! ! - MCM_GETMONTHRANGE
.head 4 -  Number: GMR_VISIBLE			= 0
.head 4 -  Number: GMR_DAYSTATE			= 1
.head 4 -  ! ! ***** List Box Extended styles
.head 4 -  Number: LBS_VisExtensions         = 0x00000001
.head 4 -  Number: LBS_FmtUppercase          = 0x00000002
.head 4 -  Number: LBS_FmtLowercase          = 0x00000004
.head 4 -  Number: LBS_ShowSelectColor       = 0x00000008
.head 4 -  Number: LBS_ShowSelectBkgd        = 0x00008000
.head 4 -  Number: LBS_ShowSelectText        = 0x00000010
.head 4 -  Number: LBS_ShowPicCenter         = 0x00000020
.head 4 -  Number: LBS_ShowNoTree            = 0x00000040
.head 4 -  Number: LBS_ShowNoEditSelect      = 0x00000080
.head 4 -  Number: LBS_ShowNoEditText        = 0x00000100
.head 4 -  Number: LBS_KillFocusNoSelect     = 0x00000200
.head 4 -  Number: LBS_KillFocusFrameSelect  = 0x00000400
.head 4 -  Number: LBS_SetWidthEachInsert    = 0x00001000
.head 4 -  Number: LBS_ShowNoSelect          = 0x00002000
.head 4 -  Number: LBS_ShowSelectTextPicture = 0x00004000
.head 4 -  Number: LBS_ShowHorzScrollBar     = 0x00010000
.head 4 -  Number: LBS_Explorer              = 0x00020000
.head 4 -  Number: LBS_FmtMixedcase          = 0x00040000
.head 4 -  Number: LBS_Editable              = 0x00080000
.head 4 -  ! !
.head 4 -  Number: LBS_DragSelect            = 0x01000000
.head 4 -  Number: LBS_DisableNoScroll       = 0x02000000
.head 4 -  Number: LBS_NoAutoResize          = 0x04000000
.head 4 -  Number: LBS_ExtendedCombo         = 0x08000001
.head 4 -  ! ! ---------------------------------------------- MONTH CALENDAR ---------------------------------------------- !
.head 4 -  ! ! - Messages
.head 4 -  Number: MCM_FIRST			=  0x1000
.head 4 -  Number: MCM_GETCURSEL		= (MCM_FIRST + 1)
.head 4 -  Number: MCM_SETCURSEL		= (MCM_FIRST + 2)
.head 4 -  Number: MCM_GETMAXSELCOUNT		= (MCM_FIRST + 3)
.head 4 -  Number: MCM_SETMAXSELCOUNT		= (MCM_FIRST + 4)
.head 4 -  Number: MCM_GETSELRANGE		= (MCM_FIRST + 5)
.head 4 -  Number: MCM_SETSELRANGE		= (MCM_FIRST + 6)
.head 4 -  Number: MCM_GETMONTHRANGE		= (MCM_FIRST + 7)
.head 4 -  Number: MCM_SETDAYSTATE		= (MCM_FIRST + 8)
.head 4 -  Number: MCM_GETMINREQRECT		= (MCM_FIRST + 9)
.head 4 -  Number: MCM_SETCOLOR 		= (MCM_FIRST + 10)
.head 4 -  Number: MCM_GETCOLOR 		= (MCM_FIRST + 11)
.head 4 -  Number: MCM_SETTODAY			= (MCM_FIRST + 12)
.head 4 -  Number: MCM_GETTODAY			= (MCM_FIRST + 13)
.head 4 -  Number: MCM_HITTEST			= (MCM_FIRST + 14)
.head 4 -  Number: MCM_SETFIRSTDAYOFWEEK	= (MCM_FIRST + 15)
.head 4 -  Number: MCM_GETFIRSTDAYOFWEEK	= (MCM_FIRST + 16)
.head 4 -  Number: MCM_GETRANGE		= (MCM_FIRST + 17)
.head 4 -  Number: MCM_SETRANGE			= (MCM_FIRST + 18)
.head 4 -  Number: MCM_GETMONTHDELTA		= (MCM_FIRST + 19)
.head 4 -  Number: MCM_SETMONTHDELTA		= (MCM_FIRST + 20)
.head 4 -  Number: MCM_GETMAXTODAYWIDTH	= (MCM_FIRST + 21)
.head 4 -  ! ! - Colors
.head 4 -  Number: MCSC_BACKGROUND		= 0
.head 4 -  Number: MCSC_TEXT			= 1
.head 4 -  Number: MCSC_TITLEBK		 	= 2
.head 4 -  Number: MCSC_TITLETEXT		= 3
.head 4 -  Number: MCSC_MONTHBK			= 4
.head 4 -  Number: MCSC_TRAILINGTEXT		= 5
.head 4 -  ! ! - First Day of Week
.head 4 -  Number: MCD_DEFAULT			= -1
.head 4 -  Number: MCD_MONDAY			= 0
.head 4 -  Number: MCD_TUESDAY			= 1
.head 4 -  Number: MCD_WEDNESDAY		= 2
.head 4 -  Number: MCD_THURSDAY			= 3
.head 4 -  Number: MCD_FRIDAY			= 4
.head 4 -  Number: MCD_SATURDAY			= 5
.head 4 -  Number: MCD_SUNDAY			= 6
.head 4 -  ! ! - Styles
.head 4 -  Number: MCS_DAYSTATE			=  0x0001
.head 4 -  Number: MCS_MULTISELECT		=  0x0002
.head 4 -  Number: MCS_WEEKNUMBERS		=  0x0004
.head 4 -  Number: MCS_NOTODAYCIRCLE		=  0x0008
.head 4 -  Number: MCS_NOTODAY			=  0x0010
.head 4 -  ! ! - Notifications
.head 4 -  ! ! - Hit Test
.head 4 -  Number: MCHT_NOWHERE 		= 0x00000000
.head 4 -  Number: MCHT_TITLE 			= 0x00010000
.head 4 -  Number: MCHT_CALENDAR 		= 0x00020000
.head 4 -  Number: MCHT_TODAYLINK 		= 0x00030000
.head 4 -  Number: MCHT_NEXT 			= 0x01000000
.head 4 -  Number: MCHT_PREV 			= 0x02000000
.head 4 -  Number: MCHT_TITLEBK 			= (MCHT_TITLE)
.head 4 -  Number: MCHT_TITLEMONTH 		= (MCHT_TITLE) | 0x0001
.head 4 -  Number: MCHT_TITLEYEAR 		= (MCHT_TITLE) | 0x0002
.head 4 -  Number: MCHT_TITLEBTNNEXT 		= (MCHT_TITLE | MCHT_NEXT | 0x0003)
.head 4 -  Number: MCHT_TITLEBTNPREV 		= (MCHT_TITLE | MCHT_PREV | 0x0003)
.head 4 -  Number: MCHT_CALENDARBK 		= (MCHT_CALENDAR)
.head 4 -  Number: MCHT_CALENDARDATE 		= (MCHT_CALENDAR | 0x0001)
.head 4 -  Number: MCHT_CALENDARDATENEXT 	= (MCHT_CALENDARDATE | MCHT_NEXT)
.head 4 -  Number: MCHT_CALENDARDATEPREV 	= (MCHT_CALENDARDATE | MCHT_PREV)
.head 4 -  Number: MCHT_CALENDARDAY 		= (MCHT_CALENDAR | 0x0002)
.head 4 -  Number: MCHT_CALENDARWEEKNUM 	= (MCHT_CALENDAR | 0x0003)
.head 4 -  ! ! - Limits for Range
.head 4 -  Number: GDTR_MIN			= 0x0001
.head 4 -  Number: GDTR_MAX			= 0x0002
.head 4 -  Number: CAL_MonthChange = SAM_User
.head 4 -  Number: CAL_Click = WM_NOTIFY
.head 3 +  User
.head 4 -  !
.head 4 -  Number: CB_SHOWDROPDOWN = 0x014F
.head 4 -  ! ! Application Version
.head 4 -  String: APP_VERSION = '1.9.0'
.head 2 -  Resources
.head 2 +  Variables
.data RESOURCE 0 0 1 2842361498
0000: 1E00000010000000 0000000000000000 0200800100000019 0100E0010D000000
0020: FF3F
.enddata
.head 3 -  : AppConfig
.head 4 -  Class: lcConfiguration
.head 3 -  Number: nCodCiudad
.head 3 -  Number: nCodUser
.head 3 -  Number: nTempMenu
.head 3 -  String: sTempMenu
.head 3 -  String: sTempMenu2
.head 3 -  Number: nRow
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 2 +  Internal Functions
.head 3 +  Function: costo_mayor
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Number:
.head 4 +  Parameters
.head 5 -  Number: n1
.head 5 -  Number: n2
.head 5 -  Number: n3
.head 5 -  Number: n4
.head 5 -  Number: n5
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: mayor
.head 4 +  Actions
.head 5 -  Set mayor = n1
.head 5 +  If n2>=mayor
.head 6 -  Set mayor = n2
.head 5 +  If n3>=mayor
.head 6 -  Set mayor = n3
.head 5 +  If n4>=mayor
.head 6 -  Set mayor = n4
.head 5 +  If n5>=mayor
.head 6 -  Set mayor = n5
.head 5 -  Return mayor
.head 3 +  Function: NumToLetras
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 +  Parameters
.head 5 -  Number: nNum
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sNumero
.head 5 -  String: sBillones
.head 5 -  String: sMilesMillones
.head 5 -  String: sMillones
.head 5 -  String: sMiles
.head 5 -  String: sCienes
.head 5 -  String: sCentavos
.head 5 -  String: sTemporal
.head 4 +  Actions
.head 5 -  Set sNumero=SalFmtFormatNumber( nNum, "000000000000000.00")
.head 5 -  Set sBillones=SalStrMidX( sNumero, 0, 3 )
.head 5 -  Set sMilesMillones=SalStrMidX( sNumero, 3, 3 )
.head 5 -  Set sMillones=SalStrMidX( sNumero, 6, 3 )
.head 5 -  Set sMiles=SalStrMidX( sNumero, 9, 3 )
.head 5 -  Set sCienes=SalStrMidX( sNumero, 12, 3 )
.head 5 -  Set sCentavos=SalStrMidX( sNumero, 16, 2 )
.head 5 -  Set sNumero=''
.head 5 -  ! Billones
.head 5 -  Set sTemporal=NumToLetras999( sBillones )
.head 5 +  If sTemporal!=""
.head 6 +  If sTemporal="UN"
.head 7 -  Set sNumero = sTemporal || " BILLON "
.head 6 +  Else
.head 7 -  Set sNumero = sTemporal || " BILLONES "
.head 5 -  ! Miles de Millones
.head 5 -  Set sTemporal=NumToLetras999( sMilesMillones )
.head 5 +  If sTemporal!=''
.head 6 +  If sTemporal="UN"
.head 7 -  Set sNumero = sNumero || " MIL "
.head 6 +  Else
.head 7 -  Set sNumero = sNumero || sTemporal || " MIL "
.head 6 +  If sMillones="000"
.head 7 -  Set sNumero = sNumero || " MILLONES "
.head 5 -  ! Millones
.head 5 -  Set sTemporal=NumToLetras999( sMillones )
.head 5 +  If sTemporal!=''
.head 6 +  If sTemporal="UN"
.head 7 -  Set sNumero = sNumero || sTemporal || " MILLON "
.head 6 +  Else
.head 7 -  Set sNumero = sNumero || sTemporal || " MILLONES "
.head 5 -  ! Miles
.head 5 -  Set sTemporal=NumToLetras999( sMiles )
.head 5 +  If sTemporal!=''
.head 6 +  If sTemporal="UN"
.head 7 -  Set sNumero = sNumero ||  " MIL "
.head 6 +  Else
.head 7 -  Set sNumero = sNumero || sTemporal || " MIL "
.head 5 -  ! Cienes
.head 5 -  Set sTemporal=NumToLetras999( sCienes )
.head 5 +  If sTemporal!=''
.head 6 -  Set sNumero = sNumero ||  sTemporal
.head 5 +  If sNumero = "UN"
.head 6 -  Set sNumero = sNumero || " LEMPIRA"
.head 5 +  Else
.head 6 -  Set sNumero = sNumero || " LEMPIRAS"
.head 5 +  If sCentavos="00"
.head 6 -  Set sNumero= sNumero || " EXACTOS"
.head 5 +  Else
.head 6 -  Set sTemporal=NumToLetras999( '0' || sCentavos )
.head 6 +  If sTemporal="UN"
.head 7 -  Set sNumero= sNumero || " CON " || sTemporal || " CENTAVO"
.head 6 +  Else
.head 7 -  Set sNumero= sNumero || " CON " || sTemporal || " CENTAVOS"
.head 5 -  Return sNumero
.head 3 +  Function: NumToLetras999
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 +  Parameters
.head 5 -  String: sNum
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nNumero
.head 5 -  String: sTemporal
.head 4 +  Actions
.head 5 -  Set sTemporal=''
.head 5 +  If sNum="000"
.head 6 -  Return ""
.head 5 +  Else
.head 6 +  If SalStrLength( sNum )=1
.head 7 -  Set nNumero=SalStrToNumber(sNum)
.head 7 +  Select Case nNumero
.head 8 -  Case 0
.head 8 +  Case 1
.head 9 -  Return "UN"
.head 8 +  Case 2
.head 9 -  Return "DOS"
.head 8 +  Case 3
.head 9 -  Return "TRES"
.head 8 +  Case 4
.head 9 -  Return "CUATRO"
.head 8 +  Case 5
.head 9 -  Return "CINCO"
.head 8 +  Case 6
.head 9 -  Return "SEIS"
.head 8 +  Case 7
.head 9 -  Return "SIETE"
.head 8 +  Case 8
.head 9 -  Return "OCHO"
.head 8 +  Case 9
.head 9 -  Return "NUEVE"
.head 5 -  Set nNumero=SalStrToNumber( SalStrMidX( sNum, 0, 1 ))
.head 5 +  Select Case nNumero
.head 6 +  Case 0
.head 7 -  Set sTemporal=sTemporal
.head 7 -  Break
.head 6 +  Case 1
.head 7 +  If SalStrMidX( sNum, 1, 2 )="00"
.head 8 -  Set sTemporal="CIEN"
.head 7 +  Else
.head 8 -  Set sTemporal="CIENTO "
.head 7 -  Break
.head 6 +  Case 2
.head 7 -  Set sTemporal="DOSCIENTOS "
.head 7 -  Break
.head 6 +  Case 3
.head 7 -  Set sTemporal="TRESCIENTOS "
.head 7 -  Break
.head 6 +  Case 4
.head 7 -  Set sTemporal="CUATROCIENTOS "
.head 7 -  Break
.head 6 +  Case 5
.head 7 -  Set sTemporal="QUINIENTOS "
.head 7 -  Break
.head 6 +  Case 6
.head 7 -  Set sTemporal="SEISCIENTOS "
.head 7 -  Break
.head 6 +  Case 7
.head 7 -  Set sTemporal="SETECIENTOS "
.head 7 -  Break
.head 6 +  Case 8
.head 7 -  Set sTemporal="OCHOCIENTOS "
.head 7 -  Break
.head 6 +  Case 9
.head 7 -  Set sTemporal="NOVECIENTOS "
.head 7 -  Break
.head 5 +  If SalStrMidX( sNum, 1, 2 ) ="00"
.head 6 -  Return sTemporal
.head 5 -  Set nNumero=SalStrToNumber( SalStrMidX( sNum, 1, 2 ))
.head 5 +  Select Case nNumero
.head 6 -  Case 0
.head 6 -  Case 1
.head 6 -  Case 2
.head 6 -  Case 3
.head 6 -  Case 4
.head 6 -  Case 5
.head 6 -  Case 6
.head 6 -  Case 7
.head 6 -  Case 8
.head 6 +  Case 9
.head 7 -  Set sTemporal=sTemporal  || NumToLetras999( SalStrMidX( sNum, 2, 2 ) )
.head 7 -  Return sTemporal
.head 6 +  Case 10
.head 7 -  Return (sTemporal || " DIEZ")
.head 6 +  Case 11
.head 7 -  Return (sTemporal || " ONCE")
.head 6 +  Case 12
.head 7 -  Return (sTemporal || " DOCE")
.head 6 +  Case 13
.head 7 -  Return (sTemporal || " TRECE")
.head 6 +  Case 14
.head 7 -  Return (sTemporal || " CATORCE")
.head 6 +  Case 15
.head 7 -  Return (sTemporal || " QUINCE")
.head 6 -  Case 16
.head 6 -  Case 17
.head 6 -  Case 18
.head 6 +  Case 19
.head 7 -  Set sTemporal=sTemporal || " DIECI" || NumToLetras999( SalStrMidX( sNum, 2, 2 ) )
.head 7 -  Return sTemporal
.head 6 +  Case 20
.head 7 -  Return (sTemporal || "  VEINTE" )
.head 6 +  Case 30
.head 7 -  Return (sTemporal || "  TREINTA" )
.head 6 +  Case 40
.head 7 -  Return (sTemporal || "  CUARENTA" )
.head 6 +  Case 50
.head 7 -  Return (sTemporal || "  CINCUENTA" )
.head 6 +  Case 60
.head 7 -  Return (sTemporal || "  SESENTA" )
.head 6 +  Case 70
.head 7 -  Return (sTemporal || "  SETENTA" )
.head 6 +  Case 80
.head 7 -  Return (sTemporal || "  OCHENTA" )
.head 6 +  Case 90
.head 7 -  Return (sTemporal || "  NOVENTA" )
.head 5 -  Set nNumero=SalStrToNumber( SalStrMidX( sNum, 1, 1 ))
.head 5 +  Select Case nNumero
.head 6 +  Case 2
.head 7 -  Set sTemporal=sTemporal || " VEINTI" || NumToLetras999( SalStrMidX( sNum, 2, 2 ) )
.head 7 -  Return sTemporal
.head 6 +  Case 3
.head 7 -  Set sTemporal=sTemporal || " TREINTA Y " || NumToLetras999( SalStrMidX( sNum, 2, 2 ) )
.head 7 -  Return sTemporal
.head 6 +  Case 4
.head 7 -  Set sTemporal=sTemporal || " CUARENTA Y " || NumToLetras999( SalStrMidX( sNum, 2, 2 ) )
.head 7 -  Return sTemporal
.head 6 +  Case 5
.head 7 -  Set sTemporal=sTemporal || " CINCUENTA Y " || NumToLetras999( SalStrMidX( sNum, 2, 2 ) )
.head 7 -  Return sTemporal
.head 6 +  Case 6
.head 7 -  Set sTemporal=sTemporal || " SESENTA Y " || NumToLetras999( SalStrMidX( sNum, 2, 2 ) )
.head 7 -  Return sTemporal
.head 6 +  Case 7
.head 7 -  Set sTemporal=sTemporal || " SETENTA Y " || NumToLetras999( SalStrMidX( sNum, 2, 2 ) )
.head 7 -  Return sTemporal
.head 6 +  Case 8
.head 7 -  Set sTemporal=sTemporal || " OCHENTA Y " || NumToLetras999( SalStrMidX( sNum, 2, 2 ) )
.head 7 -  Return sTemporal
.head 6 +  Case 9
.head 7 -  Set sTemporal=sTemporal || " NOVENTA Y " || NumToLetras999( SalStrMidX( sNum, 2, 2 ) )
.head 7 -  Return sTemporal
.head 3 +  Function: StringToNumber
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Number:
.head 4 +  Parameters
.head 5 -  String: sInputValue
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sValue
.head 5 -  Number: nOutputValue
.head 5 -  Number: nError
.head 5 -  Number: nErrorPos
.head 5 -  Number: nReturn
.head 5 -  String: sReturn
.head 5 -  Date/Time: dReturn
.head 5 -  Window Handle: hWndReturn
.head 4 +  Actions
.head 5 +  If sInputValue != ''
.head 6 -  Set sValue = 'Set nOutputValue = ' || sInputValue
.head 6 -  Call SalCompileAndEvaluate( sValue, nError, nErrorPos, nReturn, sReturn, dReturn, hWndReturn, FALSE, SalContextCurrent(  ) )
.head 6 -  Return nOutputValue
.head 2 +  Named Menus
.head 2 +  Class Definitions
.data RESOURCE 0 0 1 2462196729
0000: 1D080000D2030000 0000000000000000 0200001100FFFF01 00160000436C6173
0020: 73566172004F7574 6C696E6552006567 496E666F15003C00 000E63006D62436F
0040: 6E63617400656E61 646F5A0000E00003 000000C102040000 00FF7F0472000002
0060: 00F0010000000F80 010000FE00010800 0000010D00FC0000 FF8701800D000800
0080: 0100000F63440461 7454696D65500069 636B65721E0000EC 000100D9010D00FF
00A0: 7F0100802B000000 02000004000E4D6F 6E74680043616C65 6E646172606C0000
00C0: 000400CF0204FE00 FF1B0400010DFB00 FF2F110000EE0100 FF3F1E00B9000100
00E0: FFFF800180410000 000301000D635261 6469006F4C697374 426F780086000000
0100: 05000000CF010DFE 00FF930D000001FB 00FF0F1A000000EE 0100FF3F2700B800
0120: 000100FFFFE03400 000001FE00FF0301 8051000000060400 0C63436F006D626F
0140: 436F646967006FEE 000000090000DE00 02FD00FF37040001 F60D00FFDF11DC00
0160: 0200FF7F15720000 0100FFFFC1220000 0002FD00FF072600 000002F700FF1F2A
0180: 0000DC000100FF7F 37700000000100FF FFC14400000001FD 00FFC701800D0C00
01A0: 05000D6C63004E6F 7461437265642069 746F1E0000017A00 0001F60D00FF1F01
01C0: 800D030006000000 070070624D656E6F 731EA20000010000 67010D00FFFF2101
01E0: 8015000007400000 0015636D42606173 65436F670146696C 74726164C06F5200
0200: 000003DE0002FD00 FF37040001F60D00 FFDF11DC000200FF 7F01CC80150008F0
0220: 0019636DFF7F4320 686172520000037B 0002F700FFDF04D8 00010D00FF7F1173
0240: 000200FFFF310180 150009030013636C 7343FC62437F52B3 00030067010D00FF
0260: FFC90D000002FD00 FF37110002F700FF 1F01800D03000A00 0000120070624368
0280: 426F727200617243 68697175691E7400 01003D00010DFB00 FF0F018004000100
02A0: 0B0000000D660072 6D536F6C6F4E6F42 6D72651E0000F401 0000E803040000FF
02C0: 3F01800615000C00 0000E80D636D42BF 52D100030000BB02 00FFFFC60400010D
02E0: FE00FF9B110002FB 00FF8F0180151100 0D00000B63DE6C6F 9F00033D00010DFB
0300: 00FF6F0D00EE0200 FFBF11B9000200FF FF00018061000000 0E000000000B5F5F
0320: 457272306F724261 5601DA000D00B301 0D00FFFFE60D0001 FE00FF9B1A0001FB
0340: 00FF6F2700EE0100 FFBF34B9000200FF FFE03800000002FE 00FF833C00000002
0360: FB00FF0F40000000 EC030400FFBF44B9 000200FFFFE04800 000002FE00FF834C
0380: 00000003FB00FF0F 50000000EE0300FF 3F5400B800000100 FFFF1801800D000F
03A0: 00000000065F5F46 6C6188671E000001 009E00010DFD00FF 8701801A00000010
03C0: 0000000B63510875 69635461626C8865 38000002009E0001 0DFD00FF370D0001
03E0: F700FF1F
.enddata
.head 3 +  Combo Box Class: cmbConcatenado
.head 4 -  Window Location and Size
.head 5 -  Left:
.head 5 -  Top:   
.head 5 -  Width:  4.917"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 2.286"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List in Tool Palette? Yes
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Description: Clase generica usada concatenar
dos campos de una tabla ejemplo:
CUENTA CONTABLE y la DESCRIPCION así:
COD_CUENTA||DESCRIPCION

Cuando se elige un valor del combo box, este es
guardado en la instancia	sCodigos
.head 4 -  Derived From
.head 4 +  Class Variables
.head 5 -  !
.head 5 -  String: sComboActual
.head 5 -  String: sArreglo[*]
.head 5 -  Number: nArreglo
.head 5 -  !
.head 4 +  Instance Variables
.head 5 -  !
.head 5 -  String: sTabla
.head 5 -  String: sCodigo1
.head 5 -  String: sCodigo2
.head 5 -  !
.head 5 -  ! este caso que se agrega a continuación es para aquellos combox box, que los codigos a extraer
no solo son NUMERICOS, sino tambien CARACTER,
1 es NUMERICO, 2 es CARACTER
.head 5 -  Number: nCaso
.head 5 -  !
.head 5 -  Number: nCodigo
.head 5 -  String: sCodigos
.head 5 -  !
.head 4 -  Functions
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 -  !
.head 5 -  !
.head 5 +  On SAM_DropDown
.head 6 -  Call SalWaitCursor(TRUE)
.head 6 +  If MyValue!=''
.head 7 -  Set sComboActual=MyValue
.head 6 -  !
.head 6 -  Call SalListClear(MyValue)
.head 6 -  Call SalListPopulate(MyValue,hSql5,"select "||sCodigo1||","||
sCodigo2||" from "||sTabla)
.head 6 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 6 -  !
.head 6 +  If sComboActual!=''
.head 7 -  Call SalListSelectString( hWndItem, -1,sComboActual)
.head 6 -  Call SalWaitCursor(FALSE)
.head 5 +  On SAM_Validate
.head 6 +  If SalListSelectString(hWndItem,-1,MyValue)=LB_Err
.head 7 -  Call SalMessageBox("Dato no existe en la lista","ERROR",MB_Ok)
.head 7 -  Call SalSetFocus(hWndItem)
.head 7 -  Return FALSE
.head 6 +  Else
.head 7 -  Return TRUE
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Set nArreglo=SalStrTokenize(MyValue,'','	',sArreglo)
.head 6 +  If nArreglo=0
.head 7 -  Set sCodigos=''
.head 6 +  Else
.head 7 +  If nCaso=1
.head 8 -  Set nCodigo=SalStrToNumber(sArreglo[0])
.head 7 +  Else
.head 8 -  Set sCodigos=sArreglo[0]
.head 6 -  !
.head 6 -  Call SalSendMsg(hWndItem,SAM_Validate,0,0)
.head 5 -  !
.head 5 -  !
.head 3 +  Functional Class: c_empleados
.head 4 -  Description:
.head 4 -  Derived From
.head 4 -  Class Variables
.head 4 +  Instance Variables
.head 5 -  Number: cod_empleado
.head 5 -  Number: sueldo
.head 5 -  Date/Time: fecha_ingreso
.head 4 -  Functions
.head 3 +  Custom Control Class: cDateTimePicker
.head 4 -  DLL Name: user32.dll
.head 4 -  Display Settings
.head 5 -  DLL Name: user32.dll
.head 5 -  MS Windows Class Name: SysDateTimePick32
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:
.head 6 -  Top:   
.head 6 -  Width:  3.217"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.298"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  List in Tool Palette? Yes
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Description:
.head 4 -  Derived From
.head 4 +  Class Variables
.head 5 -  Number: nReturn
.head 4 +  Instance Variables
.head 5 -  Window Handle: hWndDateTime
.head 4 +  Functions
.head 5 +  Function: CreateDateTime
.head 6 -  Description:
.head 6 -  Returns
.head 6 +  Parameters
.head 7 -  Number: nStyle
.head 6 -  Static Variables
.head 6 -  Local variables
.head 6 +  Actions
.head 7 -  Set hWndDateTime =hWndItem
.head 5 +  Function: GetColor
.head 6 -  Description:
.head 6 +  Returns
.head 7 -  Number:
.head 6 +  Parameters
.head 7 -  Number: nPart
.head 6 -  Static Variables
.head 6 -  Local variables
.head 6 +  Actions
.head 7 -  Return SalSendMsg( hWndDateTime, DTM_GETMCCOLOR, nPart, 0)
.head 5 +  Function: SetColor
.head 6 -  Description:
.head 6 -  Returns
.head 6 +  Parameters
.head 7 -  Number: nPart
.head 7 -  Number: nColor
.head 6 -  Static Variables
.head 6 -  Local variables
.head 6 +  Actions
.head 7 -  Return SalSendMsg( hWndDateTime, DTM_SETMCCOLOR, nPart, nColor)
.head 5 +  Function: GetFont
.head 6 -  Description:
.head 6 +  Returns
.head 7 -  Number:
.head 6 -  Parameters
.head 6 -  Static Variables
.head 6 -  Local variables
.head 6 +  Actions
.head 7 -  Return SalSendMsg( hWndDateTime, DTM_GETMCFONT, 0, 0)
.head 5 +  Function: SetFont
.head 6 -  Description:
.head 6 -  Returns
.head 6 +  Parameters
.head 7 -  Number: hFont
.head 7 -  Boolean: bSet
.head 6 -  Static Variables
.head 6 -  Local variables
.head 6 +  Actions
.head 7 -  Call SalSendMsg( hWndDateTime, DTM_SETMCFONT, hFont, bSet)
.head 5 +  Function: GetRange
.head 6 -  Description:
.head 6 -  Returns
.head 6 +  Parameters
.head 7 -  Receive Date/Time: dDateBegin
.head 7 -  Receive Date/Time: dDateEnd
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  String: sDate
.head 7 -  Number: nDateYearBegin
.head 7 -  Number: nDateMonthBegin
.head 7 -  Number: nDateDayBegin
.head 7 -  Number: nDateYearEnd
.head 7 -  Number: nDateMonthEnd
.head 7 -  Number: nDateDayEnd
.head 7 -  String: sDatePicture
.head 6 +  Actions
.head 7 -  Call SalStrSetBufferLength( sDate, 32 )
.head 7 -  ! Call SendMessageCallback( hWndDateTime, DTM_GETRANGE, 0, sDate )
.head 7 -  Call SendMessageTimeoutA( hWndDateTime, DTM_GETRANGE, 0, sDate, 2,0, nReturn)
.head 7 -  Set nDateYearBegin = CStructGetWord( sDate, 0 )
.head 7 -  Set nDateMonthBegin = CStructGetWord( sDate, 2 )
.head 7 -  Set nDateDayBegin = CStructGetWord( sDate, 6 )
.head 7 -  Set dDateBegin = SalDateConstruct( nDateYearBegin, nDateMonthBegin, nDateDayBegin, 0, 0, 0 )
.head 7 -  Call SalDateToStr( dDateBegin, sDatePicture )
.head 7 +  If SalStrToDate( sDatePicture ) = DATETIME_Null
.head 8 -  Set dDateBegin = DATETIME_Null
.head 7 -  Set nDateYearEnd = CStructGetWord( sDate, 16 )
.head 7 -  Set nDateMonthEnd = CStructGetWord( sDate, 18 )
.head 7 -  Set nDateDayEnd = CStructGetWord( sDate, 22 )
.head 7 -  Set dDateEnd = SalDateConstruct( nDateYearEnd, nDateMonthEnd, nDateDayEnd, 0, 0, 0 )
.head 7 -  Call SalDateToStr( dDateEnd, sDatePicture )
.head 7 +  If SalStrToDate( sDatePicture ) = DATETIME_Null
.head 8 -  Set dDateEnd = DATETIME_Null
.head 5 +  Function: SetRange
.head 6 -  Description:
.head 6 -  Returns
.head 6 +  Parameters
.head 7 -  Number: nLimit
.head 7 -  Date/Time: dDateBegin
.head 7 -  Date/Time: dDateEnd
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  String: sDate
.head 7 -  Number: nDateYearBegin
.head 7 -  Number: nDateMonthBegin
.head 7 -  Number: nDateDayBegin
.head 7 -  Number: nDateYearEnd
.head 7 -  Number: nDateMonthEnd
.head 7 -  Number: nDateDayEnd
.head 7 -  Number: nAddr
.head 6 +  Actions
.head 7 -  Set nDateYearBegin = SalDateYear( dDateBegin )
.head 7 -  Set nDateMonthBegin = SalDateMonth( dDateBegin )
.head 7 -  Set nDateDayBegin = SalDateDay( dDateBegin )
.head 7 -  Set nDateYearEnd = SalDateYear( dDateEnd )
.head 7 -  Set nDateMonthEnd = SalDateMonth( dDateEnd )
.head 7 -  Set nDateDayEnd = SalDateDay( dDateEnd )
.head 7 -  Set nAddr = CStructAllocFarMem( 32 )
.head 7 -  Call SalStrSetBufferLength( sDate, 32 )
.head 7 -  Call CStructPutWord( sDate, 0, nDateYearBegin )
.head 7 -  Call CStructPutWord( sDate, 2,nDateMonthBegin )
.head 7 -  Call CStructPutWord( sDate, 6,nDateDayBegin )
.head 7 -  Call CStructPutWord( sDate, 8,1 )
.head 7 -  Call CStructPutWord( sDate, 10,1 )
.head 7 -  Call CStructPutWord( sDate, 12,1 )
.head 7 -  Call CStructPutWord( sDate, 16, nDateYearEnd )
.head 7 -  Call CStructPutWord( sDate, 18,nDateMonthEnd )
.head 7 -  Call CStructPutWord( sDate, 22,nDateDayEnd )
.head 7 -  Call CStructPutWord( sDate, 24,1 )
.head 7 -  Call CStructPutWord( sDate, 26,1 )
.head 7 -  Call CStructPutWord( sDate, 28,1 )
.head 7 -  Call CStructCopyToFarMem( nAddr, sDate, 32 )
.head 7 -  Call SalSendMsg( hWndDateTime,DTM_SETRANGE, nLimit, nAddr)
.head 7 -  Call CStructFreeFarMem( nAddr )
.head 5 +  Function: GetMonthCal
.head 6 -  Description:
.head 6 +  Returns
.head 7 -  Number:
.head 6 -  Parameters
.head 6 -  Static Variables
.head 6 -  Local variables
.head 6 +  Actions
.head 7 -  Return SalSendMsg( hWndDateTime, DTM_GETMONTHCAL, 0, 0)
.head 5 +  Function: GetSystemTime
.head 6 -  Description:
.head 6 +  Returns
.head 7 -  Date/Time:
.head 6 -  Parameters
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  String: sDate
.head 7 -  Number: nDateYear
.head 7 -  Number: nDateMonth
.head 7 -  Number: nDateDay
.head 7 -  Number: nDateHour
.head 7 -  Number: nDateMinute
.head 7 -  Number: nDateSeconds
.head 6 +  Actions
.head 7 -  Call SalStrSetBufferLength( sDate, 16 )
.head 7 -  ! Call SendMessageCallback( hWndDateTime, DTM_GETSYSTEMTIME, 0, sDate )
.head 7 -  Call SendMessageTimeoutA( hWndDateTime, DTM_GETSYSTEMTIME, 0, sDate, 2,0, nReturn)
.head 7 -  Set nDateYear = CStructGetWord( sDate, 0 )
.head 7 -  Set nDateMonth = CStructGetWord( sDate, 2 )
.head 7 -  Set nDateDay = CStructGetWord( sDate, 6 )
.head 7 -  Set nDateHour = CStructGetWord( sDate, 8 )
.head 7 -  Set nDateMinute = CStructGetWord( sDate, 10 )
.head 7 -  Set nDateSeconds = CStructGetWord( sDate, 12 )
.head 7 -  Return SalDateConstruct( nDateYear, nDateMonth, nDateDay, nDateHour, nDateMinute, nDateSeconds )
.head 5 +  Function: SetSystemTime
.head 6 -  Description:
.head 6 -  Returns
.head 6 +  Parameters
.head 7 -  Number: nAction
.head 7 -  Date/Time: dDate
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  String: sDate
.head 7 -  Number: nDateYear
.head 7 -  Number: nDateMonth
.head 7 -  Number: nDateDay
.head 7 -  Number: nDateHour
.head 7 -  Number: nDateMinute
.head 7 -  Number: nDateSeconds
.head 7 -  Number: nAddr
.head 6 +  Actions
.head 7 -  Set nDateYear = SalDateYear( dDate )
.head 7 -  Set nDateMonth = SalDateMonth( dDate )
.head 7 -  Set nDateDay = SalDateDay( dDate )
.head 7 -  Set nDateHour = SalDateHour( dDate )
.head 7 -  Set nDateMinute = SalDateMinute( dDate )
.head 7 -  Set nDateSeconds = SalDateSecond( dDate )
.head 7 -  Set nAddr = CStructAllocFarMem( 16 )
.head 7 -  Call SalStrSetBufferLength( sDate, 16 )
.head 7 -  Call CStructPutWord( sDate, 0, nDateYear )
.head 7 -  Call CStructPutWord( sDate, 2, nDateMonth )
.head 7 -  Call CStructPutWord( sDate, 6, nDateDay )
.head 7 -  Call CStructPutWord( sDate, 8, nDateHour )
.head 7 -  Call CStructPutWord( sDate, 10, nDateMinute )
.head 7 -  Call CStructPutWord( sDate, 12, nDateSeconds )
.head 7 -  Call CStructCopyToFarMem( nAddr, sDate, 16 )
.head 7 -  Call SalSendMsg( hWndDateTime,DTM_SETSYSTEMTIME, nAction ,nAddr)
.head 7 -  Call CStructFreeFarMem( nAddr )
.head 5 +  Function: SetFormat
.head 6 -  Description:
.head 6 -  Returns
.head 6 +  Parameters
.head 7 -  String: sFormat
.head 6 -  Static Variables
.head 6 -  Local variables
.head 6 +  Actions
.head 7 -  Call VisSendMsgString( hWndDateTime, DTM_SETFORMAT, 0, sFormat)
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Call CreateDateTime(0)
.head 3 +  Custom Control Class: cDateTimePickerDateLong
.head 4 -  DLL Name: user32.dll
.head 4 -  Display Settings
.head 5 -  DLL Name: user32.dll
.head 5 -  MS Windows Class Name: SysDateTimePick32
.head 5 -  Style:  0x50000004
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:
.head 6 -  Top:   
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  List in Tool Palette? Yes
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Description:
.head 4 +  Derived From
.head 5 -  Class: cDateTimePicker
.head 4 -  Class Variables
.head 4 -  Instance Variables
.head 4 -  Functions
.head 4 -  Message Actions
.head 3 +  Custom Control Class: cDateTimePickerTime
.head 4 -  DLL Name: user32.dll
.head 4 -  Display Settings
.head 5 -  DLL Name: user32.dll
.head 5 -  MS Windows Class Name: SysDateTimePick32
.head 5 -  Style:  0x50000009
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:
.head 6 -  Top:   
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  List in Tool Palette? Yes
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Description:
.head 4 +  Derived From
.head 5 -  Class: cDateTimePicker
.head 4 -  Class Variables
.head 4 -  Instance Variables
.head 4 -  Functions
.head 4 -  Message Actions
.head 3 +  Custom Control Class: cMonthCalendar
.head 4 -  DLL Name: user32.dll
.head 4 -  Display Settings
.head 5 -  DLL Name: user32.dll
.head 5 -  MS Windows Class Name: SysMonthCal32
.head 5 -  Style:  0x00000000
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:
.head 6 -  Top:   
.head 6 -  Width:  10.817"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 6.464"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Yes
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  List in Tool Palette? Yes
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Description:
.head 4 -  Derived From
.head 4 +  Class Variables
.head 5 -  String: sBuffer
.head 5 -  Number: nAddrNotify
.head 5 -  Number: nVisible
.head 5 -  Number: nReturn
.head 4 +  Instance Variables
.head 5 -  Window Handle: hWndCalendar
.head 4 +  Functions
.head 5 +  Function: CreateCalendar
.head 6 -  Description:
.head 6 -  Returns
.head 6 +  Parameters
.head 7 -  Number: nStyle
.head 6 -  Static Variables
.head 6 -  Local variables
.head 6 +  Actions
.head 7 -  Set hWndCalendar =hWndItem
.head 5 +  Function: GetCurDateSelected
.head 6 -  Description:
.head 6 +  Returns
.head 7 -  Date/Time:
.head 6 -  Parameters
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  String: sDate
.head 7 -  Number: nDateYear
.head 7 -  Number: nDateMonth
.head 7 -  Number: nDateDay
.head 6 +  Actions
.head 7 -  Call SalStrSetBufferLength( sDate, 16 )
.head 7 -  ! Call SendMessageCallback( hWndCalendar, MCM_GETCURSEL, 0, sDate )
.head 7 -  Call SendMessageTimeoutA( hWndCalendar, MCM_GETCURSEL, 0, sDate, 2,0, nReturn)
.head 7 -  ! Call SendMessageCallbackA( hWndCalendar, MCM_GETCURSEL, 0, sTemp1,0,0 )
.head 7 -  ! Call SendMessageCallbackA( hWndCalendar, MCM_GETCURSEL, 0,sTemp1, 0,0 )
.head 7 -  Set nDateYear = CStructGetWord( sDate, 0 )
.head 7 -  Set nDateMonth = CStructGetWord( sDate, 2 )
.head 7 -  Set nDateDay = CStructGetWord( sDate, 6 )
.head 7 -  Return SalDateConstruct( nDateYear, nDateMonth, nDateDay, 0, 0, 0 )
.head 5 +  Function: SetCurDateSelected
.head 6 -  Description:
.head 6 -  Returns
.head 6 +  Parameters
.head 7 -  Date/Time: dDate
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  String: sDate
.head 7 -  Number: nDateYear
.head 7 -  Number: nDateMonth
.head 7 -  Number: nDateDay
.head 7 -  Number: nAddr
.head 6 +  Actions
.head 7 -  Set nDateYear = SalDateYear( dDate )
.head 7 -  Set nDateMonth = SalDateMonth( dDate )
.head 7 -  Set nDateDay = SalDateDay( dDate )
.head 7 -  Set nAddr = CStructAllocFarMem( 16 )
.head 7 -  Call SalStrSetBufferLength( sDate, 16 )
.head 7 -  Call CStructPutWord( sDate, 0, nDateYear )
.head 7 -  Call CStructPutWord( sDate, 2,nDateMonth )
.head 7 -  ! Call CStructPutWord( sTemp1, 4, 1 )
.head 7 -  Call CStructPutWord( sDate, 6,nDateDay )
.head 7 -  Call CStructPutWord( sDate, 8,1 )
.head 7 -  Call CStructPutWord( sDate, 10,1 )
.head 7 -  Call CStructPutWord( sDate, 12,1 )
.head 7 -  Call CStructCopyToFarMem( nAddr, sDate, 16 )
.head 7 -  Call SalSendMsg( hWndCalendar,MCM_SETCURSEL,0,nAddr)
.head 7 -  Call CStructFreeFarMem( nAddr )
.head 5 +  Function: GetMaxSelCount
.head 6 -  Description:
.head 6 +  Returns
.head 7 -  Number:
.head 6 -  Parameters
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  Number: nMaxDays
.head 6 +  Actions
.head 7 -  Set nMaxDays= SalSendMsg( hWndCalendar,MCM_GETMAXSELCOUNT,0,0)
.head 7 -  Return nMaxDays
.head 5 +  Function: SetMaxSelCount
.head 6 -  Description:
.head 6 -  Returns
.head 6 +  Parameters
.head 7 -  Number: nMaxDays
.head 6 -  Static Variables
.head 6 -  Local variables
.head 6 +  Actions
.head 7 -  Call SalSendMsg( hWndCalendar,MCM_SETMAXSELCOUNT,nMaxDays,0)
.head 5 +  Function: GetSelRange
.head 6 -  Description:
.head 6 -  Returns
.head 6 +  Parameters
.head 7 -  Receive Date/Time: dDateBegin
.head 7 -  Receive Date/Time: dDateEnd
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  String: sDate
.head 7 -  Number: nDateYearBegin
.head 7 -  Number: nDateMonthBegin
.head 7 -  Number: nDateDayBegin
.head 7 -  Number: nDateYearEnd
.head 7 -  Number: nDateMonthEnd
.head 7 -  Number: nDateDayEnd
.head 6 +  Actions
.head 7 -  Call SalStrSetBufferLength( sDate, 32 )
.head 7 -  ! Call SendMessageCallback( hWndCalendar, MCM_GETSELRANGE, 0, sDate )
.head 7 -  Call SendMessageTimeoutA( hWndCalendar, MCM_GETSELRANGE, 0, sDate, 2,0, nReturn)
.head 7 -  Set nDateYearBegin = CStructGetWord( sDate, 0 )
.head 7 -  Set nDateMonthBegin = CStructGetWord( sDate, 2 )
.head 7 -  Set nDateDayBegin = CStructGetWord( sDate, 6 )
.head 7 -  Set nDateYearEnd = CStructGetWord( sDate, 16 )
.head 7 -  Set nDateMonthEnd = CStructGetWord( sDate, 18 )
.head 7 -  Set nDateDayEnd = CStructGetWord( sDate, 22 )
.head 7 -  Set dDateBegin = SalDateConstruct( nDateYearBegin, nDateMonthBegin, nDateDayBegin, 0, 0, 0 )
.head 7 -  Set dDateEnd = SalDateConstruct( nDateYearEnd, nDateMonthEnd, nDateDayEnd, 0, 0, 0 )
.head 5 +  Function: SetSelRange
.head 6 -  Description:
.head 6 -  Returns
.head 6 +  Parameters
.head 7 -  Date/Time: dDateBegin
.head 7 -  Date/Time: dDateEnd
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  String: sDate
.head 7 -  Number: nDateYearBegin
.head 7 -  Number: nDateMonthBegin
.head 7 -  Number: nDateDayBegin
.head 7 -  Number: nDateYearEnd
.head 7 -  Number: nDateMonthEnd
.head 7 -  Number: nDateDayEnd
.head 7 -  Number: nAddr
.head 6 +  Actions
.head 7 -  Set nDateYearBegin = SalDateYear( dDateBegin )
.head 7 -  Set nDateMonthBegin = SalDateMonth( dDateBegin )
.head 7 -  Set nDateDayBegin = SalDateDay( dDateBegin )
.head 7 -  Set nDateYearEnd = SalDateYear( dDateEnd )
.head 7 -  Set nDateMonthEnd = SalDateMonth( dDateEnd )
.head 7 -  Set nDateDayEnd = SalDateDay( dDateEnd )
.head 7 -  Set nAddr = CStructAllocFarMem( 32 )
.head 7 -  Call SalStrSetBufferLength( sDate, 32 )
.head 7 -  Call CStructPutWord( sDate, 0, nDateYearBegin )
.head 7 -  Call CStructPutWord( sDate, 2,nDateMonthBegin )
.head 7 -  Call CStructPutWord( sDate, 6,nDateDayBegin )
.head 7 -  Call CStructPutWord( sDate, 8,1 )
.head 7 -  Call CStructPutWord( sDate, 10,1 )
.head 7 -  Call CStructPutWord( sDate, 12,1 )
.head 7 -  Call CStructPutWord( sDate, 16, nDateYearEnd )
.head 7 -  Call CStructPutWord( sDate, 18,nDateMonthEnd )
.head 7 -  Call CStructPutWord( sDate, 22,nDateDayEnd )
.head 7 -  Call CStructPutWord( sDate, 24,1 )
.head 7 -  Call CStructPutWord( sDate, 26,1 )
.head 7 -  Call CStructPutWord( sDate, 28,1 )
.head 7 -  Call CStructCopyToFarMem( nAddr, sDate, 32 )
.head 7 -  Call SalSendMsg( hWndCalendar,MCM_SETSELRANGE,0,nAddr)
.head 7 -  Call CStructFreeFarMem( nAddr )
.head 5 +  Function: GetRange
.head 6 -  Description:
.head 6 -  Returns
.head 6 +  Parameters
.head 7 -  Receive Date/Time: dDateBegin
.head 7 -  Receive Date/Time: dDateEnd
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  String: sDate
.head 7 -  Number: nDateYearBegin
.head 7 -  Number: nDateMonthBegin
.head 7 -  Number: nDateDayBegin
.head 7 -  Number: nDateYearEnd
.head 7 -  Number: nDateMonthEnd
.head 7 -  Number: nDateDayEnd
.head 7 -  String: sDatePicture
.head 6 +  Actions
.head 7 -  Call SalStrSetBufferLength( sDate, 32 )
.head 7 -  ! Call SendMessageCallback( hWndCalendar, MCM_GETRANGE, 0, sDate )
.head 7 -  Call SendMessageTimeoutA( hWndCalendar, MCM_GETRANGE, 0, sDate, 2,0, nReturn)
.head 7 -  Set nDateYearBegin = CStructGetWord( sDate, 0 )
.head 7 -  Set nDateMonthBegin = CStructGetWord( sDate, 2 )
.head 7 -  Set nDateDayBegin = CStructGetWord( sDate, 6 )
.head 7 -  Set dDateBegin = SalDateConstruct( nDateYearBegin, nDateMonthBegin, nDateDayBegin, 0, 0, 0 )
.head 7 -  Call SalDateToStr( dDateBegin, sDatePicture )
.head 7 +  If SalStrToDate( sDatePicture ) = DATETIME_Null
.head 8 -  Set dDateBegin = DATETIME_Null
.head 7 -  Set nDateYearEnd = CStructGetWord( sDate, 16 )
.head 7 -  Set nDateMonthEnd = CStructGetWord( sDate, 18 )
.head 7 -  Set nDateDayEnd = CStructGetWord( sDate, 22 )
.head 7 -  Set dDateEnd = SalDateConstruct( nDateYearEnd, nDateMonthEnd, nDateDayEnd, 0, 0, 0 )
.head 7 -  Call SalDateToStr( dDateEnd, sDatePicture )
.head 7 +  If SalStrToDate( sDatePicture ) = DATETIME_Null
.head 8 -  Set dDateEnd = DATETIME_Null
.head 5 +  Function: SetRange
.head 6 -  Description:
.head 6 -  Returns
.head 6 +  Parameters
.head 7 -  Number: nLimit
.head 7 -  Date/Time: dDateBegin
.head 7 -  Date/Time: dDateEnd
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  String: sDate
.head 7 -  Number: nDateYearBegin
.head 7 -  Number: nDateMonthBegin
.head 7 -  Number: nDateDayBegin
.head 7 -  Number: nDateYearEnd
.head 7 -  Number: nDateMonthEnd
.head 7 -  Number: nDateDayEnd
.head 7 -  Number: nAddr
.head 6 +  Actions
.head 7 -  Set nDateYearBegin = SalDateYear( dDateBegin )
.head 7 -  Set nDateMonthBegin = SalDateMonth( dDateBegin )
.head 7 -  Set nDateDayBegin = SalDateDay( dDateBegin )
.head 7 -  Set nDateYearEnd = SalDateYear( dDateEnd )
.head 7 -  Set nDateMonthEnd = SalDateMonth( dDateEnd )
.head 7 -  Set nDateDayEnd = SalDateDay( dDateEnd )
.head 7 -  Set nAddr = CStructAllocFarMem( 32 )
.head 7 -  Call SalStrSetBufferLength( sDate, 32 )
.head 7 -  Call CStructPutWord( sDate, 0, nDateYearBegin )
.head 7 -  Call CStructPutWord( sDate, 2,nDateMonthBegin )
.head 7 -  Call CStructPutWord( sDate, 6,nDateDayBegin )
.head 7 -  Call CStructPutWord( sDate, 8,1 )
.head 7 -  Call CStructPutWord( sDate, 10,1 )
.head 7 -  Call CStructPutWord( sDate, 12,1 )
.head 7 -  Call CStructPutWord( sDate, 16, nDateYearEnd )
.head 7 -  Call CStructPutWord( sDate, 18,nDateMonthEnd )
.head 7 -  Call CStructPutWord( sDate, 22,nDateDayEnd )
.head 7 -  Call CStructPutWord( sDate, 24,1 )
.head 7 -  Call CStructPutWord( sDate, 26,1 )
.head 7 -  Call CStructPutWord( sDate, 28,1 )
.head 7 -  Call CStructCopyToFarMem( nAddr, sDate, 32 )
.head 7 -  Call SalSendMsg( hWndCalendar,MCM_SETRANGE, nLimit, nAddr)
.head 7 -  Call CStructFreeFarMem( nAddr )
.head 5 +  Function: GetMonthRange
.head 6 -  Description:
.head 6 +  Returns
.head 7 -  Number:
.head 6 +  Parameters
.head 7 -  Number: nGMR
.head 7 -  Receive Date/Time: dDateBegin
.head 7 -  Receive Date/Time: dDateEnd
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  String: sDate
.head 7 -  Number: nDateYearBegin
.head 7 -  Number: nDateMonthBegin
.head 7 -  Number: nDateDayBegin
.head 7 -  Number: nDateYearEnd
.head 7 -  Number: nDateMonthEnd
.head 7 -  Number: nDateDayEnd
.head 7 -  Number: nReturn
.head 6 +  Actions
.head 7 -  Call SalStrSetBufferLength( sDate, 32 )
.head 7 -  Set nReturn =SalSendMsg( hWndCalendar, MCM_GETMONTHRANGE,nGMR, lParam )
.head 7 -  ! Call SendMessageCallback( hWndCalendar, MCM_GETMONTHRANGE,nGMR, sDate )
.head 7 -  Call SendMessageTimeoutA( hWndCalendar, MCM_GETMONTHRANGE, nGMR, sDate, 2,0, nReturn)
.head 7 -  Set nDateYearBegin = CStructGetWord( sDate, 0 )
.head 7 -  Set nDateMonthBegin = CStructGetWord( sDate, 2 )
.head 7 -  Set nDateDayBegin = CStructGetWord( sDate, 6 )
.head 7 -  Set nDateYearEnd = CStructGetWord( sDate, 16 )
.head 7 -  Set nDateMonthEnd = CStructGetWord( sDate, 18 )
.head 7 -  Set nDateDayEnd = CStructGetWord( sDate, 22 )
.head 7 -  Set dDateBegin = SalDateConstruct( nDateYearBegin, nDateMonthBegin, nDateDayBegin, 0, 0, 0 )
.head 7 -  Set dDateEnd = SalDateConstruct( nDateYearEnd, nDateMonthEnd, nDateDayEnd, 0, 0, 0 )
.head 7 -  Return nReturn
.head 5 +  Function: SetDayState
.head 6 -  Description:
.head 6 -  Returns
.head 6 +  Parameters
.head 7 -  Number: nTab[*,31]
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  String: sValue
.head 7 -  Number: nAddr
.head 7 -  Number: nCpt
.head 7 -  Number: nDay
.head 7 -  Number: nValue[*]
.head 6 +  Actions
.head 7 -  Set nVisible = SalSendMsg( hWndCalendar, MCM_GETMONTHRANGE,GMR_DAYSTATE, 0 )
.head 7 -  Set nAddr = CStructAllocFarMem( nVisible * 4 )
.head 7 -  Call SalStrSetBufferLength( sValue,  nVisible * 4 )
.head 7 -  Set nCpt = 0
.head 7 +  While nCpt < nVisible
.head 8 -  Set nDay = 1
.head 8 +  While nDay <=31
.head 9 +  If nTab[nCpt, nDay] != 0
.head 10 -  Set nValue[nCpt] =  nValue[nCpt] |  SalNumberPower( 2, nDay - 1 )
.head 9 -  Set nDay = nDay + 1
.head 8 -  Call CStructPutLong( sValue, nCpt * 4,  nValue[nCpt] )
.head 8 -  Set nCpt = nCpt + 1
.head 7 -  Call CStructCopyToFarMem( nAddr, sValue,  nVisible * 4 )
.head 7 -  Call SalSendMsg( hWndCalendar,MCM_SETDAYSTATE,nVisible,nAddr)
.head 7 -  Call CStructFreeFarMem( nAddr )
.head 5 +  Function: GetMonthDelta
.head 6 -  Description:
.head 6 +  Returns
.head 7 -  Number:
.head 6 -  Parameters
.head 6 -  Static Variables
.head 6 -  Local variables
.head 6 +  Actions
.head 7 -  Return SalSendMsg( hWndCalendar,MCM_GETMONTHDELTA,0,0)
.head 5 +  Function: SetMonthDelta
.head 6 -  Description:
.head 6 -  Returns
.head 6 +  Parameters
.head 7 -  Number: nMonthDelta
.head 6 -  Static Variables
.head 6 -  Local variables
.head 6 +  Actions
.head 7 -  Call SalSendMsg( hWndCalendar,MCM_SETMONTHDELTA,nMonthDelta,0)
.head 5 +  Function: GetToday
.head 6 -  Description:
.head 6 +  Returns
.head 7 -  Date/Time:
.head 6 -  Parameters
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  String: sDate
.head 7 -  Number: nDateYear
.head 7 -  Number: nDateMonth
.head 7 -  Number: nDateDay
.head 6 +  Actions
.head 7 -  Call SalStrSetBufferLength( sDate, 16 )
.head 7 -  ! Call SendMessageCallback( hWndCalendar, MCM_GETTODAY, 0, sDate )
.head 7 -  Call SendMessageTimeoutA( hWndCalendar, MCM_GETTODAY, 0, sDate, 2,0, nReturn)
.head 7 -  Set nDateYear = CStructGetWord( sDate, 0 )
.head 7 -  Set nDateMonth = CStructGetWord( sDate, 2 )
.head 7 -  Set nDateDay = CStructGetWord( sDate, 6 )
.head 7 -  Return SalDateConstruct( nDateYear, nDateMonth, nDateDay, 0, 0, 0 )
.head 5 +  Function: SetToday
.head 6 -  Description:
.head 6 -  Returns
.head 6 +  Parameters
.head 7 -  Date/Time: dDate
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  String: sDate
.head 7 -  Number: nDateYear
.head 7 -  Number: nDateMonth
.head 7 -  Number: nDateDay
.head 7 -  Number: nAddr
.head 6 +  Actions
.head 7 -  Call SalDateToStr( dDate,  sDate)
.head 7 +  If SalStrIsValidDateTime( sDate )
.head 8 -  Set nDateYear = SalDateYear( dDate )
.head 8 -  Set nDateMonth = SalDateMonth( dDate )
.head 8 -  Set nDateDay = SalDateDay( dDate )
.head 8 -  Set nAddr = CStructAllocFarMem( 16 )
.head 8 -  Call SalStrSetBufferLength( sDate, 16 )
.head 8 -  Call CStructPutWord( sDate, 0, nDateYear )
.head 8 -  Call CStructPutWord( sDate, 2,nDateMonth )
.head 8 -  Call CStructPutWord( sDate, 6,nDateDay )
.head 8 -  Call CStructPutWord( sDate, 8,1 )
.head 8 -  Call CStructPutWord( sDate, 10,1 )
.head 8 -  Call CStructPutWord( sDate, 12,1 )
.head 8 -  Call CStructCopyToFarMem( nAddr, sDate, 16 )
.head 8 -  Call SalSendMsg( hWndCalendar,MCM_SETTODAY,0,nAddr)
.head 8 -  Call CStructFreeFarMem( nAddr )
.head 7 +  Else
.head 8 -  Call SalMessageBox( 'Bad date format !', 'Error', MB_Ok | MB_IconStop )
.head 5 +  Function: GetColor
.head 6 -  Description:
.head 6 +  Returns
.head 7 -  Number:
.head 6 +  Parameters
.head 7 -  Number: nPart
.head 6 -  Static Variables
.head 6 -  Local variables
.head 6 +  Actions
.head 7 -  Return SalSendMsg( hWndCalendar,MCM_GETCOLOR, nPart, 0)
.head 5 +  Function: SetColor
.head 6 -  Description:
.head 6 -  Returns
.head 6 +  Parameters
.head 7 -  Number: nPart
.head 7 -  Number: nColor
.head 6 -  Static Variables
.head 6 -  Local variables
.head 6 +  Actions
.head 7 -  Return SalSendMsg( hWndCalendar, MCM_SETCOLOR, nPart, nColor)
.head 5 +  Function: SetFirstDayOfWeek
.head 6 -  Description:
.head 6 -  Returns
.head 6 +  Parameters
.head 7 -  Number: nDay
.head 6 -  Static Variables
.head 6 -  Local variables
.head 6 +  Actions
.head 7 -  Call SalSendMsg( hWndCalendar,MCM_SETFIRSTDAYOFWEEK,0,nDay)
.head 5 +  Function: GetFirstDayOfWeek
.head 6 -  Description:
.head 6 +  Returns
.head 7 -  Number:
.head 6 -  Parameters
.head 6 -  Static Variables
.head 6 -  Local variables
.head 6 +  Actions
.head 7 -  Return SalNumberLow( SalSendMsg( hWndCalendar,MCM_GETFIRSTDAYOFWEEK,0,0) )
.head 5 +  Function: GetMaxTodayWidth
.head 6 -  Description:
.head 6 +  Returns
.head 7 -  Number:
.head 6 -  Parameters
.head 6 -  Static Variables
.head 6 -  Local variables
.head 6 +  Actions
.head 7 -  Return SalSendMsg( hWndCalendar,MCM_GETMAXTODAYWIDTH,0,0)
.head 5 +  Function: GetMinReqRect
.head 6 -  Description:
.head 6 -  Returns
.head 6 +  Parameters
.head 7 -  Receive Number: nLeft
.head 7 -  Receive Number: nTop
.head 7 -  Receive Number: nRight
.head 7 -  Receive Number: nBottom
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  String: sBuffer
.head 6 +  Actions
.head 7 -  Call SalStrSetBufferLength( sBuffer, 16 )
.head 7 -  ! Call SendMessageCallback( hWndCalendar, MCM_GETMINREQRECT, 0, sBuffer )
.head 7 -  Call SendMessageTimeoutA( hWndCalendar, MCM_GETMINREQRECT, 0, sBuffer, 2,0, nReturn)
.head 7 -  Set nLeft = CStructGetLong( sBuffer, 0 )
.head 7 -  Set nTop = CStructGetLong( sBuffer, 4 )
.head 7 -  Set nRight = CStructGetLong( sBuffer, 8 )
.head 7 -  Set nBottom = CStructGetLong( sBuffer, 12 )
.head 5 +  Function: HitTest
.head 6 -  Description:
.head 6 +  Returns
.head 7 -  Number:
.head 6 +  Parameters
.head 7 -  Number: nX
.head 7 -  Number: nY
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  String: sBuffer
.head 7 -  Number: nAddr
.head 7 -  Number: nHitTest
.head 6 +  Actions
.head 7 -  Set nAddr = CStructAllocFarMem( 32 )
.head 7 -  Call SalStrSetBufferLength( sBuffer, 32 )
.head 7 -  Call CStructPutInt( sBuffer, 0, 32 )
.head 7 -  Call CStructPutLong( sBuffer, 4, nX )
.head 7 -  Call CStructPutLong( sBuffer, 8, nY )
.head 7 -  Call CStructCopyToFarMem( nAddr, sBuffer, 32 )
.head 7 -  Set nHitTest = SalSendMsg( hWndCalendar,MCM_HITTEST,0,nAddr)
.head 7 -  Call CStructFreeFarMem( nAddr )
.head 7 -  Return nHitTest
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Call CreateCalendar(0)
.head 3 +  Custom Control Class: cMonthCalendarDemo
.head 4 -  DLL Name: user32.dll
.head 4 -  Display Settings
.head 5 -  DLL Name: user32.dll
.head 5 -  MS Windows Class Name: SysMonthCal32
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left:
.head 6 -  Top:   
.head 6 -  Width:  4.817"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 2.298"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Yes
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  List in Tool Palette? Yes
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Description:
.head 4 +  Derived From
.head 5 -  Class: cMonthCalendar
.head 4 -  Class Variables
.head 4 -  Instance Variables
.head 4 +  Functions
.head 5 +  Function: CreateCalendar
.head 6 -  Description:
.head 6 -  Returns
.head 6 +  Parameters
.head 7 -  Number: nStyle
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  Number: nLeft
.head 7 -  Number: nTop
.head 7 -  Number: nRight
.head 7 -  Number: nBottom
.head 6 +  Actions
.head 7 -  Call GetWindowRect( hWndItem, nLeft, nTop, nRight, nBottom )
.head 7 -  Call ScreenToClient( hWndForm, nLeft, nTop )
.head 7 -  Call ScreenToClient( hWndForm, nRight, nBottom )
.head 7 +  If nStyle = 0
.head 8 -  Set nStyle =  WS_VISIBLE | WS_CHILD | WS_BORDER
.head 7 -  Set hWndCalendar = CreateWindowExA(0, 'SysMonthCal32', "", nStyle , -1, -1, nRight - nLeft ,nBottom - nTop, hWndItem,  0x0000,   GetWindowLongA( hWndForm, GWW_HINSTANCE ), 0)
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Call CreateCalendar(0)
.head 5 +  On CAL_Click
.head 6 -  Call SalStrSetBufferLength( sBuffer, 256 )
.head 6 -  Call CStructCopyFromFarMem( lParam, sBuffer, 256 )
.head 6 +  If CStructGetInt( sBuffer, 8 ) = MCN_GETDAYSTATE
.head 7 -  Call SalPostMsg( hWndItem, SAM_User, wParam, lParam )
.head 5 +  On CAL_MonthChange
.head 6 -  Set nVisible = SalSendMsg( hWndCalendar, MCM_GETMONTHRANGE,GMR_DAYSTATE, 0 )
.head 6 -  Set nAddrNotify = CStructAllocFarMem(nVisible * 4 )
.head 6 -  Call RtlZeroMemory( nAddrNotify, nVisible * 4  )
.head 6 -  Call SalSendMsg( SalNumberToWindowHandle( CStructGetInt( sBuffer, 0 )),MCM_SETDAYSTATE,nVisible, nAddrNotify)
.head 6 -  Call CStructFreeFarMem( nAddrNotify )
.head 3 +  List Box Class: cRadioListBox
.head 4 -  Window Location and Size
.head 5 -  Left: Default
.head 5 -  Top:    Default
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.833"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Multiple selection? Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  List in Tool Palette? Yes
.head 4 -  Property Template:
.head 4 -  Class DLL Name: vti15.dll;4128;64;;;
.head 4 -  Description:
.head 4 -  Derived From
.head 4 +  Class Variables
.head 5 -  Number: hPicRadioOn
.head 5 -  Number: hPicRadioOff
.head 5 -  Number: hPicCheckBoxOn
.head 5 -  Number: hPicCheckBoxOff
.head 5 -  Number: nLoadCount
.head 4 -  Instance Variables
.head 4 +  Functions
.head 5 +  Function: Add
.head 6 -  Description: nIndex Add( sText, bSelect )
.head 6 +  Returns
.head 7 -  Number:
.head 6 +  Parameters
.head 7 -  String: sText
.head 7 -  Boolean: bSelect
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  Number: nIndex
.head 7 -  Number: nTop
.head 7 -  Number: nBottom
.head 6 +  Actions
.head 7 -  !
.head 7 -  ! ***** Add text into list box
.head 7 +  If VisListIsMultiSelect( hWndItem )
.head 8 -  Set nIndex = VisListAddPicture( hWndItem, sText, hPicCheckBoxOff, hPicCheckBoxOn )
.head 8 +  If nIndex >= 0 and bSelect
.head 9 -  Call SalListSetMultiSelect( hWndItem, nIndex, TRUE )
.head 7 +  Else
.head 8 -  Set nIndex = VisListAddPicture( hWndItem, sText, hPicRadioOff, hPicRadioOn )
.head 8 +  If nIndex >= 0 and bSelect
.head 9 -  Call SalListSetSelect( hWndItem, nIndex )
.head 7 -  Return nIndex
.head 5 +  Function: Insert
.head 6 -  Description: nIndex Insert( nIndex, sText, bSelect )
.head 6 +  Returns
.head 7 -  Number:
.head 6 +  Parameters
.head 7 -  Number: nIndex
.head 7 -  String: sText
.head 7 -  Boolean: bSelect
.head 6 -  Static Variables
.head 6 -  Local variables
.head 6 +  Actions
.head 7 -  !
.head 7 -  ! ***** Insert text into list box
.head 7 +  If VisListIsMultiSelect( hWndItem )
.head 8 -  Set nIndex = VisListInsertPicture( hWndItem, nIndex, sText, hPicCheckBoxOff, hPicCheckBoxOn )
.head 8 +  If nIndex >= 0 and bSelect
.head 9 -  Call SalListSetMultiSelect( hWndItem, nIndex, TRUE )
.head 7 +  Else
.head 8 -  Set nIndex = VisListInsertPicture( hWndItem, nIndex, sText, hPicRadioOff, hPicRadioOn )
.head 8 +  If nIndex >= 0 and bSelect
.head 9 -  Call SalListSetSelect( hWndItem, nIndex )
.head 7 -  Return nIndex
.head 5 +  Function: AddValue
.head 6 -  Description: nIndex AddValue( sText, bSelect, nValue )
.head 6 +  Returns
.head 7 -  Number:
.head 6 +  Parameters
.head 7 -  String: sText
.head 7 -  Boolean: bSelect
.head 7 -  Number: nValue
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  Number: nIndex
.head 6 +  Actions
.head 7 -  !
.head 7 -  ! ***** Add text into list box
.head 7 +  If VisListIsMultiSelect( hWndItem )
.head 8 -  Set nIndex = VisListAddPictureValue( hWndItem, sText, hPicCheckBoxOff, hPicCheckBoxOn, nValue )
.head 8 +  If nIndex >= 0 and bSelect
.head 9 -  Call SalListSetMultiSelect( hWndItem, nIndex, TRUE )
.head 7 +  Else
.head 8 -  Set nIndex = VisListAddPictureValue( hWndItem, sText, hPicRadioOff, hPicRadioOn, nValue )
.head 8 +  If nIndex >= 0 and bSelect
.head 9 -  Call SalListSetSelect( hWndItem, nIndex )
.head 7 -  Return nIndex
.head 5 +  Function: InsertValue
.head 6 -  Description: nIndex InsertValue( nIndex, sText, bSelect, nValue )
.head 6 +  Returns
.head 7 -  Number:
.head 6 +  Parameters
.head 7 -  Number: nIndex
.head 7 -  String: sText
.head 7 -  Boolean: bSelect
.head 7 -  Number: nValue
.head 6 -  Static Variables
.head 6 -  Local variables
.head 6 +  Actions
.head 7 -  !
.head 7 -  ! ***** Insert text into list box
.head 7 +  If VisListIsMultiSelect( hWndItem )
.head 8 -  Set nIndex = VisListInsertPictureValue( hWndItem, nIndex, sText, hPicCheckBoxOff, hPicCheckBoxOn, nValue )
.head 8 +  If nIndex >= 0 and bSelect
.head 9 -  Call SalListSetMultiSelect( hWndItem, nIndex, TRUE )
.head 7 +  Else
.head 8 -  Set nIndex = VisListInsertPictureValue( hWndItem, nIndex, sText, hPicRadioOff, hPicRadioOn, nValue )
.head 8 +  If nIndex >= 0 and bSelect
.head 9 -  Call SalListSetSelect( hWndItem, nIndex )
.head 7 -  Return nIndex
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On VTM_Create
.head 6 -  ! ***** Set windows style and indent width
.head 6 +  Loop
.head 7 +  If VisListSetStyle( hWndItem, LBS_VisExtensions | LBS_ShowSelectText | LBS_ShowNoSelect | LBS_DisableNoScroll, lParam )
.head 8 -  Break
.head 7 +  If VisErrorRecovery( CAPTION_ErrorHandler ) = ACTION_Abort
.head 8 -  Call SalQuit()
.head 6 -  !
.head 6 -  ! ***** Load bitmaps if not already loaded
.head 6 +  If nLoadCount = 0
.head 7 +  Loop
.head 8 -  Set hPicRadioOn = VisPicLoad( PIC_LoadResource | PIC_FormatBitmap, VT_DLLName, VTPIC_RadioOn )
.head 8 +  If hPicRadioOn
.head 9 -  Break
.head 8 +  If VisErrorRecovery( CAPTION_ErrorHandler ) = ACTION_Abort
.head 9 -  Call SalQuit()
.head 7 +  Loop
.head 8 -  Set hPicRadioOff = VisPicLoad( PIC_LoadResource | PIC_FormatBitmap, VT_DLLName, VTPIC_RadioOff )
.head 8 +  If hPicRadioOff
.head 9 -  Break
.head 8 +  If VisErrorRecovery( CAPTION_ErrorHandler ) = ACTION_Abort
.head 9 -  Call SalQuit()
.head 7 +  Loop
.head 8 -  Set hPicCheckBoxOn = VisPicLoad( PIC_LoadResource | PIC_FormatBitmap, VT_DLLName, VTPIC_CheckBoxOn )
.head 8 +  If hPicCheckBoxOn
.head 9 -  Break
.head 8 +  If VisErrorRecovery( CAPTION_ErrorHandler ) = ACTION_Abort
.head 9 -  Call SalQuit()
.head 7 +  Loop
.head 8 -  Set hPicCheckBoxOff = VisPicLoad( PIC_LoadResource | PIC_FormatBitmap, VT_DLLName, VTPIC_CheckBoxOff )
.head 8 +  If hPicCheckBoxOff
.head 9 -  Break
.head 8 +  If VisErrorRecovery( CAPTION_ErrorHandler ) = ACTION_Abort
.head 9 -  Call SalQuit()
.head 6 -  Set nLoadCount = nLoadCount + 1
.head 5 +  On VTM_Destroy
.head 6 -  ! ***** Free all pictures loaded
.head 6 -  Set nLoadCount = nLoadCount - 1
.head 6 +  If nLoadCount = 0
.head 7 -  Call VisPicFree( hPicRadioOn )
.head 7 -  Call VisPicFree( hPicRadioOff )
.head 7 -  Call VisPicFree( hPicCheckBoxOn )
.head 7 -  Call VisPicFree( hPicCheckBoxOff )
.head 3 +  Combo Box Class: cComboCodigo
.head 4 -  Window Location and Size
.head 5 -  Left:
.head 5 -  Top:   
.head 5 -  Width:  2.071"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.345"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List in Tool Palette? Yes
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Description: Clase generica usada para combo box  incluye ambos NUMERICOS Y CARACTER, esto se
hace inicializando el valor del nCaso de la siguiente forma
Este caso que se agrega a continuación es para aquellos combox box, que los codigos a extraer
no solo son NUMERICOS, sino tambien CARACTER,
1 es NUMERICO, 2 es CARACTER

Se debe de inicializar en el SAM_Create lo siguiente:
sTabla: el nombre de la tabla (AXL_DEPTOS)
sNombre: nombre del campo de la tabla de tipo string con el que deseo popular
	esa tabla (NOMBRE)
sCodigo: nombre del campo de la tabla de donde voy a extraer el valor del codigo (COD_DEPTO)

Los valores se almacenarán en, dependiendo de si son NUMEROS ó CARACTERES
nCodigo	NUMERICOS
sCodigos	CARACTER

NOTA: EL nCaso no es necesario inicializarlo cuando es numerico
.head 4 -  Derived From
.head 4 +  Class Variables
.head 5 -  String: sComboActual
.head 5 -  Number: nTerp
.head 5 -  String: sTerp
.head 5 -  Number: CodigoN
.head 5 -  String: CodigoS
.head 5 -  String: Nombre
.head 5 -  Number: nSig
.head 5 -  Number: i
.head 5 -  Number: nIndex
.head 4 +  Instance Variables
.head 5 -  String: sTabla
.head 5 -  String: sNombre
.head 5 -  String: sCodigo
.head 5 -  !
.head 5 -  ! este caso que se agrega a continuación es para aquellos combox box, que los codigos a extraer
no solo son NUMERICOS, sino tambien CARACTER,
1 es NUMERICO, 2 es CARACTER
.head 5 -  Number: nCaso
.head 5 -  !
.head 5 -  Number: nCodigo
.head 5 -  String: sCodigos
.head 5 -  !
.head 5 -  Number: aCodigoN[*]
.head 5 -  String: aCodigoS[*]
.head 4 +  Functions
.head 5 +  Function: Actualizar
.head 6 -  Description:
.head 6 -  Returns
.head 6 -  Parameters
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  Number: nCount
.head 6 +  Actions
.head 7 -  Set i = 0
.head 7 -  Set nIndex = -1
.head 7 +  If nCaso=1	! es numerico
.head 8 -  Call SalArrayGetUpperBound( aCodigoN, 1, nCount )
.head 8 -  ! Call SalListPopulate(hWndItem,hSql1,"select "||sNombre||" from "||sTabla||"
		where	"||sCodigo||"=:nCodigo")
.head 8 -  ! Call SqlPrepareAndExecute(hSql5,"select "||sNombre||" from "||sTabla||"
		where	"||sCodigo||"=:nCodigo"||"  into	:MyValue")
.head 8 -  ! Call SqlFetchNext(hSql5,nSiguiente)
.head 8 +  While i<=nCount
.head 9 +  If aCodigoN[i]=nCodigo
.head 10 -  Set nIndex = i
.head 10 -  Break
.head 9 -  Set i = i + 1
.head 8 -  Call SalListSetSelect( hWndItem, nIndex )
.head 7 +  Else ! es caracter
.head 8 -  Call SalArrayGetUpperBound( aCodigoS, 1, nCount )
.head 8 -  ! Call SalListPopulate(hWndItem,hSql1,"select "||sNombre||" from "||sTabla||"
		where	"||sCodigo||"=:sCodigos")
.head 8 -  ! Call SqlPrepareAndExecute(hSql5,"select "||sNombre||" from "||sTabla||"
		where	"||sCodigo||"=:sCodigos"||"  into :MyValue")
.head 8 -  ! Call SqlFetchNext(hSql5,nSiguiente)
.head 8 +  While i<=nCount
.head 9 +  If aCodigoS[i]=sCodigos
.head 10 -  Set nIndex = i
.head 10 -  Break
.head 9 -  Set i = i + 1
.head 8 -  Call SalListSetSelect( hWndItem, nIndex )
.head 7 +  ! If nCaso=1	! es numerico
.head 8 -  Call SalListPopulate(hWndItem,hSql5,"select "||sNombre||" from "||sTabla||"
		where	"||sCodigo||"=:nCodigo")
.head 7 +  ! Else ! es caracter
.head 8 -  Call SalListPopulate(hWndItem,hSql5,"select "||sNombre||" from "||sTabla||"
		where	"||sCodigo||"=:sCodigos")
.head 7 -  !
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  ! On SAM_DropDown
.head 6 -  Call SalWaitCursor(TRUE)
.head 6 +  If MyValue!=''
.head 7 -  Set sComboActual=MyValue
.head 6 -  !
.head 6 -  Call SalListClear(hWndItem)
.head 6 -  Call SalListPopulate(hWndItem, hSql5, "SELECT "||sNombre||" FROM "||sTabla)
.head 6 -  !
.head 6 +  If sComboActual!=''
.head 7 -  Call SalListSelectString( hWndItem, -1, sComboActual)
.head 6 -  Call SalWaitCursor(FALSE)
.head 5 +  ! On MU_ACTUALIZAR
.head 6 +  If nCaso=1	! es numerico
.head 7 -  ! Call SalListPopulate(hWndItem,hSql1,"select "||sNombre||" from "||sTabla||"
		where	"||sCodigo||"=:nCodigo")
.head 7 -  Call SqlPrepareAndExecute(hSql5,"select "||sNombre||" from "||sTabla||"
		where	"||sCodigo||"=:nCodigo"||"  into	:MyValue")
.head 7 -  Call SqlFetchNext(hSql5,nSiguiente)
.head 6 +  Else ! es caracter
.head 7 -  ! Call SalListPopulate(hWndItem,hSql1,"select "||sNombre||" from "||sTabla||"
		where	"||sCodigo||"=:sCodigos")
.head 7 -  Call SqlPrepareAndExecute(hSql5,"select "||sNombre||" from "||sTabla||"
		where	"||sCodigo||"=:sCodigos"||"  into :MyValue")
.head 7 -  Call SqlFetchNext(hSql5,nSiguiente)
.head 6 -  !
.head 5 +  On SAM_Validate
.head 6 +  If SalListSelectString(hWndItem,-1,MyValue)=LB_Err
.head 7 -  Call SalMessageBox("Dato no existe en la lista","ERROR",MB_Ok)
.head 7 -  Call SalSetFocus(hWndItem)
.head 7 -  Return FALSE
.head 6 +  Else
.head 7 -  Set nIndex = SalListQuerySelection( hWndItem )
.head 7 +  If nCaso=1
.head 8 -  Set nCodigo = aCodigoN[nIndex]
.head 7 +  Else
.head 8 -  Set sCodigos = aCodigoS[nIndex]
.head 7 -  Return TRUE
.head 5 +  ! On SAM_Click
.head 6 -  ! aqui es para NUMERICOS
.head 6 +  If nCaso=1
.head 7 -  Call SqlPrepareAndExecute(hSql5,"SELECT "||sCodigo||" from "||sTabla||" WHERE "||sNombre||"=:MyValue into :nTerp")
.head 7 -  Call SqlFetchNext(hSql5,nSiguiente)
.head 7 -  Set nCodigo=nTerp
.head 6 -  ! aqui es para CARACTER
.head 6 +  Else
.head 7 -  Call SqlPrepareAndExecute(hSql5,"select "||sCodigo||" from "||sTabla||" where "||sNombre||"=:MyValue into :sTerp")
.head 7 -  Call SqlFetchNext(hSql5,nSiguiente)
.head 7 -  Set sCodigos=sTerp
.head 6 -  Call SalSendMsg(hWndItem,SAM_Validate,0,0)
.head 5 +  On SAM_Create
.head 6 +  If nCaso=1
.head 7 -  Call SqlPrepareAndExecute( hSql1, "SELECT "||sNombre||", "||sCodigo||" FROM "||sTabla||" INTO :Nombre, :CodigoN")
.head 7 -  Call SqlFetchNext( hSql1, nSig )
.head 7 -  Set i=0
.head 7 +  While nSig!=FETCH_EOF
.head 8 -  Set aCodigoN[i]=CodigoN
.head 8 -  Call SalListAdd( hWndItem, Nombre )
.head 8 -  Call SqlFetchNext( hSql1, nSig )
.head 8 -  Set i = i +1
.head 7 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 7 -  Return TRUE
.head 6 +  If nCaso=2
.head 7 -  Call SqlPrepareAndExecute( hSql1, "SELECT "||sNombre||", "||sCodigo||" FROM "||sTabla||" INTO :Nombre, :CodigoS")
.head 7 -  Call SqlFetchNext( hSql1, nSig )
.head 7 -  Set i=0
.head 7 +  While nSig!=FETCH_EOF
.head 8 -  Set aCodigoS[i]=CodigoS
.head 8 -  Call SalListAdd( hWndItem, Nombre )
.head 8 -  Call SqlFetchNext( hSql1, nSig )
.head 8 -  Set i = i +1
.head 7 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 7 -  Return TRUE
.head 3 +  Functional Class: lcNotaCredito
.head 4 -  Description:
.head 4 -  Derived From
.head 4 +  Class Variables
.head 5 -  Boolean: bExistsPago
.head 4 +  Instance Variables
.head 5 -  Boolean: IsHonorarioMedico
.head 5 -  Number: NumeroFactura
.head 5 -  Number: CorrelativoHonorario
.head 5 -  Number: Monto
.head 5 -  Number: Debe
.head 5 -  String: CodigoPartida
.head 5 -  String: CodigoNC
.head 5 -  String: Descripcion
.head 5 -  Date/Time: Fecha
.head 5 -  Number: TIPO_PAGO
.head 5 -  Number: NumeroPago
.head 5 -  String: ErrorMessage
.head 5 -  ! !
.head 5 -  Number: nErr
.head 5 -  String: strMessage
.head 5 -  Boolean: Error
.head 4 +  Functions
.head 5 +  Function: Salvar
.head 6 -  Description:
.head 6 +  Returns
.head 7 -  Boolean:
.head 6 -  Parameters
.head 6 -  Static Variables
.head 6 -  Local variables
.head 6 +  Actions
.head 7 -  !
.head 7 -  ! ! Se agrega esto antes para tener disponible el codigo de partida al momento de salvar el pago
.head 7 -  Set CodigoPartida = GetCodigoPartida()
.head 7 +  If IsHonorarioMedico 
.head 8 -  Return SalvarNCHM()
.head 7 +  Else
.head 8 -  Return SalvarNCC()
.head 5 +  Function: GenerarPartidaC
.head 6 -  Description:
.head 6 -  Returns
.head 6 -  Parameters
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  String: sComment
.head 7 -  String: sCodPartida
.head 7 -  Date/Time: dFecha
.head 7 -  Number: nCorrelativo1
.head 7 -  Number: nCorrelativo2
.head 6 +  Actions
.head 7 -  ! Generar el codigo de la partida
.head 7 -  Set CodigoPartida = GetCodigoPartida()
.head 7 -  !
.head 7 +  When SqlError
.head 8 -  Call SqlGetError( hSql1, nErr, ErrorMessage )
.head 8 -  Set Error = TRUE
.head 8 -  Return FALSE
.head 7 +  If SqlPrepareAndExecute(hSql1,"
		INSERT INTO
			PARTIDAS (
				COD_PARTIDA,
				DESCRIPCION,
				FECHA,
				COD_TIPO,
				TOTAL_CARGO,
				TOTAL_DEBITO,
				ESTADO,
				SUMARIZADA,
				CERRADA)
			values(
				:CodigoPartida,
				:Descripcion ,
				:Fecha,
				14,
				:Monto,
				:Monto,
				0,0,0)")
.head 8 -  !
.head 8 -  Set nCorrelativo1 =  Identity(2)
.head 8 -  Set nCorrelativo2 =  Identity(2)
.head 8 +  If SqlPrepareAndExecute(hSql1,"insert into
			DET_PARTIDAS (
				COD_PARTIDA ,
				COD_CUENTA,
				NOMBRE,
				CARGO, CREDITO, 
				CONCEPTO,
				CORRELATIVO)
			values(
				:CodigoPartida,
				'421',
				'DESCUENTO DE PACIENTES',
				:Monto, 0, 
				:Descripcion,
				:nCorrelativo1)") 
	AND SqlPrepareAndExecute(hSql1,"insert into
			DET_PARTIDAS (
				COD_PARTIDA ,
				COD_CUENTA,
				NOMBRE,
				CREDITO, CARGO, 
				CONCEPTO,
				CORRELATIVO)
			values(
				:CodigoPartida,
				'113-10',
				'CLIENTES',
				:Monto, 0, 
				:Descripcion,
				:nCorrelativo2)")
.head 9 -  Return TRUE
.head 8 +  Else
.head 9 -  Return FALSE
.head 7 +  Else
.head 8 -  Return FALSE
.head 5 +  Function: Create
.head 6 -  Description:
.head 6 -  Returns
.head 6 +  Parameters
.head 7 -  Number: P_NumeroFactura
.head 7 -  Number: P_Monto
.head 7 -  Number: P_Debe
.head 7 -  Number: P_CorrelativoHonorario
.head 7 -  Date/Time: P_Fecha
.head 7 -  Boolean: P_IsHonorarioMedico
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  String: sComment
.head 7 -  String: sTabla
.head 6 +  Actions
.head 7 -  Set IsHonorarioMedico = P_IsHonorarioMedico
.head 7 -  Set NumeroFactura = P_NumeroFactura
.head 7 -  Set CorrelativoHonorario = P_CorrelativoHonorario
.head 7 -  Set Monto = P_Monto
.head 7 -  Set Debe = P_Debe
.head 7 -  Set TIPO_PAGO = 4
.head 7 -  Set Fecha = P_Fecha
.head 7 +  If P_Fecha = DATETIME_Null 
.head 8 -  Set Fecha = FechaHoy(2)
.head 7 -  Set Error = FALSE
.head 7 -  ! Obtener el Codigo de la Nota de Credito
.head 7 -  Set CodigoNC = GetCodigoNC( )
.head 5 +  Function: GetCodigoNC
.head 6 -  Description:
.head 6 +  Returns
.head 7 -  String:
.head 6 -  Parameters
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  String: sCodigo
.head 7 -  String: sResult
.head 7 -  Number: nLength
.head 6 +  Actions
.head 7 -  Set sCodigo = SalNumberToStrX( Identity(800), 0 )
.head 7 -  Set nLength = SalStrLength( sCodigo )
.head 7 -  Set sResult = 'NC' || SalStrRepeatX( '0', 13-nLength ) || sCodigo
.head 7 -  Return sResult
.head 5 +  Function: SalvarNCC
.head 6 -  Description:
.head 6 +  Returns
.head 7 -  Boolean:
.head 6 -  Parameters
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  Number: nEstadoPago
.head 7 -  String: sRecibo
.head 6 +  Actions
.head 7 -  ! ! Validar que no exista mas de un NC para Clinica
.head 7 +  If ( NOT CheckNC() )
.head 8 -  Set ErrorMessage = "Solamente puede existir una NC de Clinica por cada factura, #Factura: " || SalNumberToStrX(NumeroFactura,0)
.head 8 -  Return FALSE
.head 7 -  !
.head 7 -  ! Obtener el Numero de Pago 
.head 7 -  Call SqlExists("	SELECT MAX(NUMERO_PAGO)
		FROM PAGOS	
		WHERE COD_FACTURA=:NumeroFactura
		INTO :NumeroPago",bExistsPago)
.head 7 -  Call SqlClearImmediate( )
.head 7 +  If bExistsPago
.head 8 -  Set NumeroPago = NumeroPago + 1
.head 7 +  Else
.head 8 -  Set NumeroPago = 1
.head 7 -  ! !
.head 7 -  Set sRecibo = 'F-' || SalNumberToStrX(NumeroFactura,0)
.head 7 -  !
.head 7 -  ! Estado de la factura
.head 7 -  Set nEstadoPago = 1
.head 7 +  If (Debe - Monto) > 0
.head 8 -  Set nEstadoPago = 0
.head 7 -  !
.head 7 -  ! Se inicia la Transaccion
.head 7 -  Call SqlPrepareAndExecute( hSql1, "BEGIN TRANSACTION" )
.head 7 +  When SqlError
.head 8 -  Call SqlGetError( hSql1, nErr, ErrorMessage )
.head 8 -  Set Error = TRUE
.head 8 -  Return FALSE
.head 7 -  ! !
.head 7 +  If SqlPrepareAndExecute(hSql1,"
insert 	PAGOS  (
	NUMERO_PAGO,
	COD_FACTURA,
	FECHA,
	DESCRIPCION,
	MONTO,
	RECIBO,
	DOCUMENTO,
	COD_PAGO,
	COD_PARTIDA
	 )
values(
	:NumeroPago,
	:NumeroFactura,
	:Fecha,
	:Descripcion,
	:Monto,
	:sRecibo,
	:CodigoNC,
	:TIPO_PAGO,
               :CodigoPartida
               )")  AND SqlPrepareAndExecute(hSql1,"
				update
					FACTURAS
				set
					MONTO_DEBE	=	MONTO_DEBE - :Monto,
					ESTADO_PAGO	=	:nEstadoPago,
					MONTO_PAGADO	=	MONTO_PAGADO + :Monto
				where
					cod_factura	=	:NumeroFactura")
.head 8 -  ! -------------------------Generar partida
.head 8 +  If GenerarPartidaC()
.head 9 -  Call SqlPrepareAndExecute( hSql1, "COMMIT TRANSACTION")
.head 9 -  Return TRUE
.head 8 +  Else
.head 9 -  Call SqlPrepareAndExecute( hSql1, "ROLLBACK TRANSACTION")
.head 9 -  Return FALSE
.head 7 +  Else
.head 8 -  Call SqlPrepareAndExecute( hSql1, "ROLLBACK TRANSACTION")
.head 8 -  Return FALSE
.head 5 +  Function: GenerarPartidaHM
.head 6 -  Description:
.head 6 -  Returns
.head 6 -  Parameters
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  String: sComment
.head 7 -  String: sCodPartida
.head 7 -  Date/Time: dFecha
.head 7 -  Number: nCorrelativo1
.head 7 -  Number: nCorrelativo2
.head 6 +  Actions
.head 7 -  ! Generar el codigo de la partida
.head 7 -  Set CodigoPartida = GetCodigoPartida()
.head 7 -  !
.head 7 +  When SqlError
.head 8 -  Call SqlGetError( hSql1, nErr, ErrorMessage )
.head 8 -  Set Error = TRUE
.head 8 -  Return FALSE
.head 7 +  If SqlPrepareAndExecute(hSql1,"
		INSERT INTO
			PARTIDAS (
				COD_PARTIDA,
				DESCRIPCION,
				FECHA,
				COD_TIPO,
				TOTAL_CARGO,
				TOTAL_DEBITO,
				ESTADO,
				SUMARIZADA,
				CERRADA)
			values(
				:CodigoPartida,
				:Descripcion ,
				:Fecha,
				14,
				:Monto,
				:Monto,
				0,0,0)")
.head 8 -  ! --------------Detalle de la partida
.head 8 -  !
.head 8 -  Set nCorrelativo1 =  Identity(2)
.head 8 -  Set nCorrelativo2 =  Identity(2)
.head 8 +  If SqlPrepareAndExecute(hSql1,"insert into
			DET_PARTIDAS (
				COD_PARTIDA ,
				COD_CUENTA,
				NOMBRE,
				CARGO, CREDITO, 
				CONCEPTO,
				CORRELATIVO)
			values(
				:CodigoPartida,
				'511-08',
				'HONORARIOS  MEDICOS',
				:Monto, 0, 
				:Descripcion,
				:nCorrelativo1)") 
	AND SqlPrepareAndExecute(hSql1,"insert into
			DET_PARTIDAS (
				COD_PARTIDA ,
				COD_CUENTA,
				NOMBRE,
				CREDITO, CARGO, 
				CONCEPTO,
				CORRELATIVO)
			values(
				:CodigoPartida,
				'113-10',
				'CLIENTES',
				:Monto, 0, 
				:Descripcion,
				:nCorrelativo2)")
.head 9 -  Return TRUE
.head 8 +  Else
.head 9 -  Return FALSE
.head 7 +  Else
.head 8 -  Return FALSE
.head 5 +  Function: SalvarNCHM
.head 6 -  Description:
.head 6 +  Returns
.head 7 -  Boolean:
.head 6 -  Parameters
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  String: sRecibo
.head 7 -  String: sEstado
.head 7 -  Number: nEstado
.head 6 +  Actions
.head 7 -  !
.head 7 -  ! ! Validar que no exista mas de un NC para Clinica
.head 7 +  If (NOT CheckNC() )
.head 8 -  Set ErrorMessage = "Solamente puede existir una NC de Honorario Medico por cada factura, , #Factura: " || SalNumberToStrX(NumeroFactura,0)
.head 8 -  Return FALSE
.head 7 -  !
.head 7 -  ! Obtener el Numero de Pago 
.head 7 -  Call SqlExists("	SELECT MAX(NUMERO_PAGO)
		FROM PAGOS	
		WHERE COD_FACTURA=:NumeroFactura
		INTO :NumeroPago",bExistsPago)
.head 7 -  Call SqlClearImmediate( )
.head 7 +  If bExistsPago
.head 8 -  Set NumeroPago = NumeroPago + 1
.head 7 +  Else
.head 8 -  Set NumeroPago = 1
.head 7 -  !
.head 7 -  Set sRecibo = 'F-' || SalNumberToStrX(NumeroFactura,0)
.head 7 -  !
.head 7 -  Call SqlPrepareAndExecute( hSql1, "BEGIN TRANSACTION" )
.head 7 -  !
.head 7 -  Set sEstado = 'S'
.head 7 -  Set nEstado = 1
.head 7 -  !
.head 7 +  If (Debe - Monto) > 0
.head 8 -  Set sEstado = 'N'
.head 8 -  Set nEstado = 0
.head 7 +  When SqlError
.head 8 -  Call SqlGetError( hSql1, nErr, ErrorMessage )
.head 8 -  Set Error = TRUE
.head 8 -  Return FALSE
.head 7 -  !
.head 7 +  If SqlPrepareAndExecute(hSql1,"
insert 	PAGOS_HON  (
	NUMERO_PAGO,
	COD_FACTURA,
	FECHA,
	DESCRIPCION,
	MONTO,
	RECIBO,
	DOCUMENTO,
	COD_PAGO,
	COD_PARTIDA,
	CORREL
	 )
values(
	:NumeroPago,
	:NumeroFactura,
	:Fecha,
	:Descripcion,
	:Monto,
	:sRecibo,
	:CodigoNC,
	:TIPO_PAGO,
                :CodigoPartida,
	:CorrelativoHonorario
               )") AND SqlPrepareAndExecute(hSql1,"
	UPDATE FACTURAS SET 
		DEBE_HONORARIOS=DEBE_HONORARIOS - :Monto, 
		PAGADO_HONORARIOS=PAGADO_HONORARIOS + :Monto 
	WHERE COD_FACTURA = :NumeroFactura")  
.head 8 -  !
.head 8 -  Call SqlExists("	SELECT MAX(NUMERO_PAGO)
		FROM PAGOS_A_MED	
		WHERE COD_FACTURA=:NumeroFactura AND CORREL=:CorrelativoHonorario
		INTO :NumeroPago",bExistsPago)
.head 8 -  Call SqlClearImmediate( )
.head 8 +  If bExistsPago
.head 9 -  Set NumeroPago = NumeroPago + 1
.head 8 +  Else
.head 9 -  Set NumeroPago = 1
.head 8 -  ! Obtener el Numero de Pago del Medico
.head 8 +  If SqlPrepareAndExecute(hSql1,"
insert 	PAGOS_A_MED  (
	NUMERO_PAGO,
	COD_FACTURA,
	FECHA,
	DESCRIPCION,
	MONTO,
	RECIBO,
	DOCUMENTO,
	COD_PAGO,
	COD_PARTIDA,
	CORREL
	 )
values(
	:NumeroPago,
	:NumeroFactura,
	:Fecha,
	:Descripcion,
	:Monto,
	:sRecibo,
	:CodigoNC,
	:TIPO_PAGO,
                :CodigoPartida,
	:CorrelativoHonorario
               )") AND SqlPrepareAndExecute(hSql1,"
	UPDATE DET_HONORARIOS SET 
		MONTO_DEBE = MONTO_DEBE - :Monto, 
		MONTO_PAGADO = MONTO_PAGADO + :Monto,
		PAGADO = :sEstado,
		ESTADO_PAGO = :nEstado
	WHERE 
		COD_FACTURA = :NumeroFactura AND
		CORREL = :CorrelativoHonorario")
.head 9 -  ! -------------------------Generar partida
.head 9 +  If GenerarPartidaHM()
.head 10 -  Call SqlPrepareAndExecute( hSql1, "COMMIT TRANSACTION")
.head 10 -  Return TRUE
.head 9 +  Else
.head 10 -  Call SqlPrepareAndExecute( hSql1, "ROLLBACK TRANSACTION")
.head 10 -  Return FALSE
.head 9 -  !
.head 7 +  Else
.head 8 -  Call SqlPrepareAndExecute( hSql1, "ROLLBACK TRANSACTION")
.head 8 -  Return FALSE
.head 5 +  Function: CheckNC
.head 6 -  Description:
.head 6 +  Returns
.head 7 -  Boolean:
.head 6 -  Parameters
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  Boolean: bExistsPago
.head 7 -  Boolean: bReturn
.head 6 +  Actions
.head 7 -  Set bReturn = TRUE
.head 7 +  If IsHonorarioMedico
.head 8 -  Call SqlExists("	SELECT *
		FROM PAGOS_HON	
		WHERE COD_FACTURA=:NumeroFactura AND COD_PAGO = :TIPO_PAGO AND CORREL = :CorrelativoHonorario", bExistsPago)
.head 8 -  ! !
.head 8 -  ! ! Solamente puede existir una NC por cada Honorario Medico
.head 8 +  If bExistsPago
.head 9 -  Set bReturn = FALSE
.head 7 +  Else
.head 8 -  Call SqlExists("	SELECT *
		FROM PAGOS	
		WHERE COD_FACTURA=:NumeroFactura AND COD_PAGO = :TIPO_PAGO", bExistsPago)
.head 8 -  ! !
.head 8 -  ! ! Solamente puede existir una NC para Clinica en cada factura.
.head 8 +  If bExistsPago
.head 9 -  Set bReturn = FALSE
.head 7 -  Call SqlClearImmediate( )
.head 7 -  Return bReturn
.head 5 +  Function: GetCodigoPartida
.head 6 -  Description:
.head 6 +  Returns
.head 7 -  String:
.head 6 -  Parameters
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  String: sCodigoPartida
.head 7 -  Number: nPagoNumeroHM
.head 6 +  Actions
.head 7 -  Set sCodigoPartida = "PNC" || SalNumberToStrX(NumeroFactura, 0)
.head 7 +  If IsHonorarioMedico
.head 8 -  Call SqlExists("	SELECT COUNT(*)
		FROM PAGOS_HON	
		WHERE COD_FACTURA=:NumeroFactura AND COD_PAGO = :TIPO_PAGO
		INTO :nPagoNumeroHM", bExistsPago)
.head 8 -  Call SqlClearImmediate( )
.head 8 -  Set sCodigoPartida = "PNC" || SalNumberToStrX(NumeroFactura, 0) || '-' || SalNumberToStrX(nPagoNumeroHM, 0)
.head 7 -  Return sCodigoPartida
.head 3 +  Combo Box Class: cCombo2Cols
.head 4 -  Window Location and Size
.head 5 -  Left:
.head 5 -  Top:   
.head 5 -  Width:  2.071"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.604"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List in Tool Palette? Yes
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Description:
.head 4 -  Derived From
.head 4 -  Class Variables
.head 4 +  Instance Variables
.head 5 -  String: sKeys[*]
.head 5 -  Number: nKeys[*]
.head 5 -  Number: nCaso
.head 5 -  String: sKey
.head 5 -  Number: nKey
.head 5 -  String: sOrder
.head 4 +  Functions
.head 5 +  Function: Populate
.head 6 -  Description:
.head 6 -  Returns
.head 6 +  Parameters
.head 7 -  String: strSQL
.head 6 -  Static Variables
.head 6 +  Local variables
.head 7 -  Number: i
.head 7 -  Number: nTKey
.head 7 -  String: sTKey
.head 7 -  String: sTDescripcion
.head 6 +  Actions
.head 7 -  Call SalListClear( hWndItem )
.head 7 +  If nCaso = 1
.head 8 -  Set strSQL = strSQL || ' INTO :nTKey'
.head 7 +  Else
.head 8 -  Set strSQL = strSQL || ' INTO :sTKey'
.head 7 -  Set strSQL = strSQL || ",:sTDescripcion " || sOrder
.head 7 -  Call SqlPrepareAndExecute( hSql5, strSQL)
.head 7 -  Set i = 0
.head 7 +  While SqlFetchNext( hSql5, nSiguiente )
.head 8 -  Call SalListAdd( hWndItem, sTDescripcion )
.head 8 +  If nCaso = 1
.head 9 -  Set nKeys[i] = nTKey
.head 8 +  Else
.head 9 -  Set sKeys[i] = sTKey
.head 8 -  Set i = i + 1
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If not SalIsNull( hWndItem )
.head 7 +  If SalListSelectString(hWndItem,-1,MyValue)=LB_Err
.head 8 -  Call SalMessageBox("Dato no existe en la lista","ERROR",MB_Ok)
.head 8 -  Call SalSetFocus(hWndItem)
.head 8 -  Return FALSE
.head 7 +  Else
.head 8 -  Return TRUE
.head 6 +  Else
.head 7 -  Return TRUE
.head 5 +  On SAM_Click
.head 6 -  ! aqui es para NUMERICOS
.head 6 +  If nCaso=1
.head 7 -  Set nKey = nKeys[SalListQuerySelection( hWndItem )]
.head 6 +  Else
.head 7 -  Set sKey = sKeys[SalListQuerySelection( hWndItem )]
.head 6 -  ! aqui es para CARACTER
.head 6 -  Call SalSendMsg(hWndItem,SAM_Validate,0,0)
.head 2 +  Default Classes
.head 3 -  MDI Window: cBaseMDI
.head 3 -  Form Window:
.head 3 -  Dialog Box:
.head 3 -  Table Window:
.head 3 -  Quest Window:
.head 3 -  Data Field: dfNumero
.head 3 -  Spin Field:
.head 3 -  Multiline Field: cFlatMultilineField
.head 3 -  Pushbutton: cFlatPushbutton
.head 3 -  Radio Button:
.head 3 -  Option Button:
.head 3 -  ActiveX:
.head 3 -  Check Box:
.head 3 -  Child Table: MyChildTable
.head 3 -  Quest Child Window: cQuickDatabase
.head 3 -  List Box: clsList
.head 3 -  Combo Box: cFlatComboBox
.head 3 -  Picture:
.head 3 -  Vertical Scroll Bar:
.head 3 -  Horizontal Scroll Bar:
.head 3 -  Column: clsDatos
.head 3 -  Background Text:
.head 3 -  Group Box:
.head 3 -  Line:
.head 3 -  Frame:
.head 3 -  Custom Control: cDateTimePicker
.head 2 +  Application Actions
.head 3 +  ! On SAM_SqlError
.head 4 -  Call ProcesarErrorMSQ(  )
.head 4 -  Return FALSE
.head 3 +  On SAM_AppStartup
.head 4 -  Call InitCommonControlsEx( 8, ICC_DATE_CLASSES)
.head 4 -  Set SQLInitialDB = 'SYBASE'
.head 4 -  Call AppConfig.LoadConfiguration()
.head 4 +  If SalModalDialog( dlgLogin,hWndNULL,sGlobalDB)
.head 5 -  Call CargarSeguridad(sNombreUsuario,bArraySeg,'derechos_facturacion')
.head 5 -  Set nBaseEs=31
.head 5 -  !
.head 5 -  ! ---------------Seleccionar la ciudad
.head 5 -  Call SqlImmediate ( "SELECT
        			CODIGO
		FROM
        			CIUDADES_GEO
		WHERE
        			NOMBRE = :strCiudad
		INTO
			:nCodCiudad")
.head 5 -  Call SqlClearImmediate()
.head 5 -  !
.head 5 -  !
.head 5 -  ! ------------Seleccionar el codigo de usuario
.head 5 -  Call SqlImmediate ("SELECT
			B.CODIGO
		FROM        			
        			USUARIOS B
		WHERE
        			B.NOMBRE = :sNombreUsuario
		INTO
			:nCodUser")
.head 5 -  Call SqlClearImmediate()
.head 5 -  !
.head 5 -  Call SalCreateWindow(frmPrincipal,hWndNULL)
.head 1 -  !
.head 1 +  Form Window: frmPrincipalSistema
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Pantalla Principal de Configuraciones del Sistema
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: 0.55"
.head 4 -  Top:    0.458"
.head 4 -  Width:  5.15"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 4.738"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: White
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.714"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Charcoal
.head 3 +  Contents
.head 4 +  Pushbutton: pbSalir
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 2.35"
.head 6 -  Top:    0.119"
.head 6 -  Width:  0.733"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.536"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 2 +  Contents
.head 3 +  Pushbutton: pbUsuarios
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Usuarios
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    1.071"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.905"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\48x48\Group 5.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: 3D Highlight Color
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If bArraySeg[14]
.head 7 -  Call SalCreateWindow( frmUsuarios, hWndForm )
.head 3 +  Pushbutton: pbBodegas
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Almacenes
.head 4 -  Window Location and Size
.head 5 -  Left: 0.45"
.head 5 -  Top:    0.155"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.9"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\48x48\Home 2.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: 3D Highlight Color
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If bArraySeg[11]
.head 7 -  Call SalCreateWindow( frmBodegas, hWndForm )
.head 3 +  Pushbutton: pbEscala
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Escalas
.head 4 -  Window Location and Size
.head 5 -  Left: 2.483"
.head 5 -  Top:    0.155"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.905"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\48x48\Bar Chart 3.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: 3D Highlight Color
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If bArraySeg[12]
.head 7 -  Call SalCreateWindow( frmEscala, hWndForm )
.head 3 +  Pushbutton: pbClave
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Cambio de Clave
.head 4 -  Window Location and Size
.head 5 -  Left: 2.483"
.head 5 -  Top:    1.071"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.905"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\48x48\password1.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: 3D Highlight Color
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalCreateWindow(frmCambioContrasena, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 3 +  Pushbutton: pbDerechos
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Control de Accesos
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    1.988"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.905"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\48x48\Group Security.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: 3D Highlight Color
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If bArraySeg[13]
.head 7 -  Call SalCreateWindow(frmDerechos, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 3 +  Pushbutton: pbEmpresas
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Empresas
.head 4 -  Window Location and Size
.head 5 -  Left: 2.483"
.head 5 -  Top:    1.988"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.9"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\48x48\Home 2.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: 3D Highlight Color
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If bArraySeg[11]
.head 7 -  Call SalCreateWindow( frmEmpresas, hWndForm )
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 -  Window Variables
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalCenterWindow( hWndForm )
.head 4 +  ! If bArraySeg[11]
.head 5 -  Call SalEnableWindow(pbBodegas)
.head 4 +  ! If bArraySeg[12]
.head 5 -  Call SalEnableWindow(pbEscala)
.head 4 +  ! If bArraySeg[13]
.head 5 -  Call SalEnableWindow(pbDerechos)
.head 4 +  ! If bArraySeg[14]
.head 5 -  Call SalEnableWindow(pbUsuarios)
.head 4 -  !
.head 1 +  Form Window: frmFactPend
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Estados de Cuenta
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: 0.275"
.head 4 -  Top:    0.229"
.head 4 -  Width:  13.5"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 7.881"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.607"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Charcoal
.head 3 +  Contents
.head 4 +  Pushbutton: pbSalir
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 10.983"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 2 +  Contents
.head 3 -  Background Text: Codigo Paciente:
.head 4 -  Resource Id: 33281
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.283"
.head 5 -  Top:    0.345"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCodPaciente
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.683"
.head 6 -  Top:    0.321"
.head 6 -  Width:  2.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  ! On SAM_Validate
.head 6 -  Call SqlExists("Select	TIPO
from	PACIENTES
where	COD_PACIENTE =:dfCodPaciente and CORREL_PACIENTE=:dfCorrel  into :nTipo  ",bExists)
.head 6 -  Call SqlClearImmediate( )
.head 6 +  If bExists
.head 7 +  If nTipo!=1 
.head 8 -  Call SalMessageBox("El Paciente Existe pero no es Privado", "Advertencia",MB_Ok)
.head 8 -  Set dfCodPaciente=''
.head 7 +  Else 
.head 8 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 3 +  Data Field: dfCorrel
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.65"
.head 6 -  Top:    0.321"
.head 6 -  Width:  0.433"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set dfCorrel='0'
.head 3 -  Background Text: Nombre Paciente
.head 4 -  Resource Id: 33282
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    0.619"
.head 5 -  Width:  1.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfPrimerNom
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.883"
.head 6 -  Top:    0.571"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Apellido Paciente
.head 4 -  Resource Id: 33283
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.25"
.head 5 -  Top:    0.619"
.head 5 -  Width:  1.433"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfPrimerApe
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.683"
.head 6 -  Top:    0.571"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Group Box: Criterios de Busqueda
.head 4 -  Resource Id: 33285
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.071"
.head 5 -  Width:  8.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.833"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Blue
.head 4 -  Background Color: Default
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.386"
.head 6 -  Top:    1.238"
.head 6 -  Width:  12.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 2.0"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 300
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colFactura
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: #Factura
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.083"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDescrip
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripción
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colNombre
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Nombre Paciente
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.017"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFechaR
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha Reg.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.333"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFechaC
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha Cierre
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.25"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colTotal
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto Total
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.517"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMontoDebe
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto Debe
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.517"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colEstado
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Estado
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 +  Window Variables
.head 5 -  Number: nFilita
.head 4 +  Message Actions
.head 5 +  On SAM_DoubleClick
.head 6 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.colFactura)
.head 6 -  Call SalTblSetContext(tbl1,nFilita)
.head 6 +  If tbl1.colFactura!=NUMBER_Null
.head 7 +  ! If tbl1.colEstado=0
.head 8 -  Call SalModalDialog( dlgPagos, hWndForm,tbl1.colFactura,tbl1.colFechaR,tbl1.colFechaC,tbl1.colTotal,tbl1.colMontoDebe, tbl1.colNombre, 0, nRegresaPago )
.head 8 -  Call SalSendMsg(frmFactPend,MU_ACTUALIZAR,0,0)
.head 7 +  ! Else
.head 8 -  Call SalMessageBox( "Esta Factura ya esta pagada ", "Advertencia", MB_Ok )
.head 7 -  Call SalModalDialog( dlgPagos, hWndForm,tbl1.colFactura,tbl1.colFechaR,tbl1.colFechaC,tbl1.colTotal,tbl1.colMontoDebe, tbl1.colNombre )
.head 7 -  Call SalSendMsg(frmFactPend,MU_ACTUALIZAR,0,0)
.head 5 +  On SAM_Click
.head 6 -  Call CargarDatos(  )
.head 3 -  Background Text: TOTALES
.head 4 -  Resource Id: 33289
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.986"
.head 5 -  Top:    3.345"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTotal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 8.186"
.head 6 -  Top:    3.321"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfDebe
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 9.786"
.head 6 -  Top:    3.321"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Red
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Child Table: tbl2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.383"
.head 6 -  Top:    4.155"
.head 6 -  Width:  12.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.917"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 300
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colCorrel
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Correl
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.567"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFactura
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: #Factura
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.083"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMedico
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Medico
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.067"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colTotal
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto Total
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.367"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMontoDebe
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto Debe
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.417"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDescrip
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripción
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colEstado
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Estado
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: String
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Unformatted
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 +  Message Actions
.head 5 +  On SAM_DoubleClick
.head 6 -  Call SalTblQueryFocus(tbl2,nFilita,tbl2.colFactura)
.head 6 -  Call SalTblSetContext(tbl2,nFilita)
.head 6 +  If tbl2.colFactura!=NUMBER_Null
.head 7 -  Call SalModalDialog( dlgPagosHon, hWndForm,tbl2.colCorrel,tbl2.colFactura )
.head 7 -  Call SalSendMsg(frmFactPend,MU_ACTUALIZAR,0,0)
.head 3 -  Background Text: Factura No:
.head 4 -  Resource Id: 22582
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.583"
.head 5 -  Top:    0.345"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFactura
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.883"
.head 6 -  Top:    0.321"
.head 6 -  Width:  2.3"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  ! On SAM_Validate
.head 6 -  Call SqlExists("select cod_paciente  from facturas where cod_factura = :dfFactura into :dfCodPaciente   ",bExists)
.head 6 -  Call SqlClearImmediate( )
.head 6 +  If bExists
.head 7 -  Call SalSendMsg( dfCodPaciente, SAM_Validate, 0,0 )
.head 6 +  Else 
.head 7 -  Call SalMessageBox( "La Factura no existe","Advertencia",MB_Ok )
.head 3 -  Group Box: Facturacion Clínica
.head 4 -  Resource Id: 28743
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.988"
.head 5 -  Width:  12.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.833"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Blue
.head 4 -  Background Color: Default
.head 3 -  Group Box: Facturacion Honorarios
.head 4 -  Resource Id: 28746
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    3.905"
.head 5 -  Width:  12.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.333"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Blue
.head 4 -  Background Color: Default
.head 3 -  Background Text: *Click en una factura para visualizar honorarios
.head 4 -  Resource Id: 28745
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    3.345"
.head 5 -  Width:  4.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: **DobleClick en una factura para visualizar sus movimientos
.head 4 -  Resource Id: 28744
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.75"
.head 5 -  Top:    3.536"
.head 5 -  Width:  6.033"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbBuscar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.383"
.head 5 -  Top:    0.405"
.head 5 -  Width:  0.667"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F3
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  ! On SAM_Click
.head 6 -  Call SalWaitCursor( TRUE )
.head 6 -  Set dfQuery = ArmarQuery()
.head 6 -  ! Call SalMessageBox(dfQuery,'Sql',MB_Ok)
.head 6 -  Call SalTblPopulate( tbl1, hSqlInterno, dfQuery, TBL_FillAll)
.head 6 -  ! Call SqlPrepareAndExecute(hSqlInterno,"commit")
.head 6 -  Set dfTotal=ContarFilas( tbl1 )
.head 6 -  Set dfSumatoria = SalTblColumnSum( tbl1, 7, 0, 0 )
.head 6 -  Set dfSumatoriaHon = SalTblColumnSum( tbl1, 8, 0, 0 )

.head 6 -  Set dfGrantotal = dfSumatoria + dfSumatoriaHon
.head 6 -  Call SalWaitCursor( FALSE )
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 3 +  Pushbutton: pb4
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbLimpia
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.783"
.head 5 -  Top:    0.405"
.head 5 -  Width:  0.667"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\eraser.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbImprimir
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.083"
.head 5 -  Top:    0.405"
.head 5 -  Width:  0.667"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If not SalIsNull(dfFactura)
.head 7 -  ! Set sConsulta = sConsulta || " AND O.CODIGO = :dfOrden"
.head 7 -  Set params[0] = '1'
.head 7 -  Set params[1] = SalNumberToStrX(dfFactura,0)
.head 6 +  Else
.head 7 -  Set params[0] = '0'
.head 6 +  If not SalIsNull(dfCodPaciente)
.head 7 -  ! Set sConsulta = sConsulta || " AND O.COD_PACIENTE = :dfPaciente"
.head 7 -  Set params[2] = '1'
.head 7 -  Set params[3] = dfCodPaciente
.head 6 +  Else
.head 7 -  Set params[2] = '0'
.head 6 +  ! If not SalIsNull(dfPacienteCorrel)
.head 7 -  ! Set sConsulta = sConsulta || " AND O.CORREL_PACIENTE = :dfPacienteCorrel"
.head 7 -  Set params[16] = '1'
.head 7 -  Set params[17] = dfPacienteCorrel
.head 6 +  ! Else
.head 7 -  Set params[16] = '0'
.head 6 +  If not SalIsNull(dfPrimerNom)
.head 7 -  ! Set sConsulta=sConsulta || "	AND	P.PRIMER_NOM   like '%" || dfNombre || "%' "
.head 7 -  Set params[4] = '1'
.head 7 -  Set params[5] = dfPrimerNom
.head 6 +  Else
.head 7 -  Set params[4] = '0'
.head 6 +  If not SalIsNull(dfPrimerApe)
.head 7 -  ! Set sConsulta=sConsulta || "	AND	P.PRIMER_APE   like '%" || dfApellido || "%' "
.head 7 -  Set params[6] = '1'
.head 7 -  Set params[7] = dfPrimerApe
.head 6 +  Else
.head 7 -  Set params[6] = '0'
.head 6 -  !
.head 6 -  Set strRepTitle = " Estado de Cuenta"
.head 6 -  Set strReportName = strRepPath||"\\EstadoCuenta.rpt"
.head 6 -  !
.head 6 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 2 +  Functions
.head 3 +  Function: CargarDatos
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Call SalTblPopulate(tbl2,hSql1,"
select	A.CORREL,A.COD_FACTURA,B.NOMBRE,A.COSTO,A.MONTO_DEBE,
	A.DESCRIPCION,A.PAGADO
               
from	DET_HONORARIOS  A, MEDICOS B

where	A.ESTADO_PAGO=1 AND A.COD_FACTURA=:tbl1.colFactura and
A.COD_MEDICO=B.COD_MEDICO order by A.COD_FACTURA,A.FECHA  ",TBL_FillAll)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  Number: nTipo
.head 3 -  String: sRegresaPac
.head 3 -  String: sRegresaCor
.head 3 -  Number: nFilita
.head 3 -  Number: nRegresaPago
.head 3 -  String: sConsulta
.head 2 +  Message Actions
.head 3 +  On MU_ACTUALIZAR
.head 4 -  !
.head 4 -  Set sConsulta = "
select	
	A.COD_FACTURA,
	A.DESCRIPCION,
	B.PRIMER_NOM+'   ' +B.PRIMER_APE,
	convert(varchar(10) ,A.FECHA_REGISTRO,103),
	convert(varchar(10) ,A.FECHA_CIERRE,103),
	A.TOTAL,
	A.MONTO_DEBE,
	A.ESTADO_PAGO
from	 
	FACTURAS  A,
	PACIENTES B
where	
	A.COD_PACIENTE        =B.COD_PACIENTE  and  
	A.CORREL_PACIENTE =B.CORREL_PACIENTE and
	A.ESTADO_PROCESO<>2 and 
	(A.ESTADO_PAGO=0 or A.ESTADO_PAGO=1)"
.head 4 +  If not SalIsNull(dfFactura)
.head 5 -  Set sConsulta=sConsulta||"	AND	A.COD_FACTURA  = :dfFactura"
.head 4 +  If dfPrimerNom !=''
.head 5 -  Set sConsulta=sConsulta||"	AND	B.PRIMER_NOM   like '%"||frmFactPend.dfPrimerNom||"%'"
.head 4 +  If dfPrimerApe !=''
.head 5 -  Set sConsulta=sConsulta||"	AND	B.PRIMER_APE   like '%"||frmFactPend.dfPrimerApe||"%'"
.head 4 -  Set sConsulta=sConsulta||"	order	by	
					A.ESTADO_PAGO,
					A.FECHA_REGISTRO,
				  	A.COD_FACTURA"
.head 4 -  Call SalTblPopulate(tbl1,hSql1, sConsulta,TBL_FillAll)
.head 4 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  Set dfTotal=SalTblColumnSum(tbl1,6 ,0,0)
.head 4 -  Set dfDebe=SalTblColumnSum(tbl1,7 ,0,0)
.head 4 -  !
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalCenterWindow( hWndForm )
.head 1 -  !
.head 1 +  Form Window: frmBodegas
.head 2 -  Class: frmSoloNombre
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title:
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Class Default
.head 2 -  Visible? Class Default
.head 2 -  Display Settings
.head 3 -  Display Style? Class Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? Class Default
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? No
.head 3 -  Minimizable? Class Default
.head 3 -  System Menu? Class Default
.head 3 -  Resizable? No
.head 3 -  Window Location and Size
.head 4 -  Left: 1.925"
.head 4 -  Top:    0.844"
.head 4 -  Width:  7.783"
.head 4 -  Width Editable? Class Default
.head 4 -  Height: 4.702"
.head 4 -  Height Editable? Class Default
.head 3 -  Form Size
.head 4 -  Width:  Class Default
.head 4 -  Height: Class Default
.head 4 -  Number of Pages: Class Default
.head 3 -  Font Name: Class Default
.head 3 -  Font Size: Class Default
.head 3 -  Font Enhancement: Class Default
.head 3 -  Text Color: Class Default
.head 3 -  Background Color: Class Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Class Default
.head 4 -  Location? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Size: 0.643"
.head 4 -  Size Editable? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Black
.head 3 +  Contents
.head 4 +  Pushbutton: pbAgregar
.head 5 -  Class Child Ref Key: 29
.head 5 -  Class ChildKey: 0
.head 5 -  Class: frmSoloNombre
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: Class Default
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbBorrar
.head 5 -  Class Child Ref Key: 30
.head 5 -  Class ChildKey: 0
.head 5 -  Class: frmSoloNombre
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.783"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbGrabar
.head 5 -  Class Child Ref Key: 34
.head 5 -  Class ChildKey: 0
.head 5 -  Class: frmSoloNombre
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.383"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbSalir
.head 5 -  Class Child Ref Key: 39
.head 5 -  Class ChildKey: 0
.head 5 -  Class: frmSoloNombre
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 5.983"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 2 +  Contents
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 5
.head 4 -  Class ChildKey: 0
.head 4 -  Class: frmSoloNombre
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: -0.017"
.head 6 -  Top:    -0.012"
.head 6 -  Width:  7.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 2.833"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 1000
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colCodigor
.head 6 -  Class Child Ref Key: 25
.head 6 -  Class ChildKey: 0
.head 6 -  Class: frmSoloNombre
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title:
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colNombrer
.head 6 -  Class Child Ref Key: 26
.head 6 -  Class ChildKey: 0
.head 6 -  Class: frmSoloNombre
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Almacenes o Bodegas
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  6.333"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 +  Message Actions
.head 5 +  On SAM_CreateComplete
.head 6 -  Set frmBodegas.sTitulos='Bodegas'
.head 6 -  Call SalSendClassMessage(SAM_CreateComplete,0,0)
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 -  Window Variables
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  !
.head 4 -  Call SalCenterWindow( hWndForm )
.head 4 -  Set sTabla='BODEGAS'
.head 4 -  Set sNombre='NOMBRE'
.head 4 -  Set sCodigo='COD_BODEGA'
.head 4 -  Set nNumeroTabla=8
.head 4 -  Set hWndTabla=tbl1
.head 4 -  Set sMensajes_Otros='Bodega ya Existe'
.head 4 -  !
.head 3 +  ! On MU_GRABAR
.head 4 -  Call SalSendClassMessage( MU_GRABAR, 0, 0 )
.head 3 +  ! On MU_ACTUALIZAR
.head 4 -  Call SalSendClassMessage( MU_ACTUALIZAR, 0, 0 )
.head 1 -  !
.head 1 -  !
.head 1 +  Form Window: frmConsultas
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Consultas del Sistema
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  10.867"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 4.071"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 +  Menu
.head 3 +  Popup Menu: Consultas
.head 4 -  Resource Id: 1757
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 4 +  ! Menu Item: Listado de Atenciones Medicas
.head 5 -    Keyboard Accelerator: (none)
.head 5 -    Status Text: 
.head 5 +    Menu Settings 
.head 6 -    Enabled when: bArraySeg[5]
.head 6 -    Checked when: 
.head 5 +    Menu Actions 
.head 6 -    Call SalModalDialog( dlgConsultaAtencion, hWndForm,1,sRegresa )
.head 5 -    Menu Item Name: 
.head 4 +  ! Menu Item: Morbilidad por Doctores
.head 5 -    Keyboard Accelerator: (none)
.head 5 -    Status Text: 
.head 5 +    Menu Settings 
.head 6 -    Enabled when: 
.head 6 -    Checked when: 
.head 5 +    Menu Actions 
.head 6 -    Call SalModalDialog( dlgConsultaMorbiDoc, hWndForm )
.head 5 -    Menu Item Name: 
.head 4 +  ! Menu Item: Morbilidad por Deptos
.head 5 -    Keyboard Accelerator: (none)
.head 5 -    Status Text: 
.head 5 +    Menu Settings 
.head 6 -    Enabled when: 
.head 6 -    Checked when: 
.head 5 +    Menu Actions 
.head 6 -    Call SalModalDialog( dlgConsultaMorbiDepto, hWndForm )
.head 5 -    Menu Item Name: 
.head 4 +  ! Menu Item: Incapacitados/Hospitalizado por Depto
.head 5 -    Keyboard Accelerator: (none)
.head 5 -    Status Text: 
.head 5 +    Menu Settings 
.head 6 -    Enabled when: bArraySeg[6]
.head 6 -    Checked when: 
.head 5 +    Menu Actions 
.head 6 -    Call SalModalDialog( dlgConsultaIncap, hWndForm )
.head 5 -    Menu Item Name: 
.head 4 +  ! Menu Item: Morbilidad Totales
.head 5 -    Keyboard Accelerator: (none)
.head 5 -    Status Text: 
.head 5 +    Menu Settings 
.head 6 -    Enabled when: bArraySeg[7]
.head 6 -    Checked when: 
.head 5 +    Menu Actions 
.head 6 -    Call SalModalDialog( dlgConsultaMorbilidadTot, hWndForm )
.head 5 -    Menu Item Name: 
.head 4 +  ! Menu Item: Consultas por Doctores
.head 5 -    Keyboard Accelerator: (none)
.head 5 -    Status Text: 
.head 5 +    Menu Settings 
.head 6 -    Enabled when: bArraySeg[8]
.head 6 -    Checked when: 
.head 5 +    Menu Actions 
.head 6 -    Call SalModalDialog( dlgConsultaDoctores, hWndForm )
.head 5 -    Menu Item Name: 
.head 4 +  Menu Item: Listado de  Medicamentos
.head 5 -  Resource Id: 1760
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when: bArraySeg[11]
.head 6 -  Checked when:
.head 5 -  Menu Actions
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Movimientos de  Medicamentos
.head 5 -  Resource Id: 1761
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when: bArraySeg[11]
.head 6 -  Checked when:
.head 5 -  Menu Actions
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Listado de Servicios
.head 5 -  Resource Id: 1762
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalModalDialog( dlgConsultaServicios, hWndForm,1,sTemp,sTemp )
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Listado de SubGrupos
.head 5 -  Resource Id: 1763
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 -  Menu Actions
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Listado de Proveedores
.head 5 -  Resource Id: 1764
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalCreateWindow( frmImprimir, hWndForm,
"Listado de Proveedores",
strRepPath || "\\GRUPOS.QRP",
":n1,:s1",
" A.COD_GRUPO,A.NOMBRE",
"select A.COD_GRUPO,A.NOMBRE from GRUPOS_MED A	
into
:n1,:s1"," ", FALSE)
.head 5 -  Menu Item Name:
.head 3 +  Popup Menu: Reportes
.head 4 -  Resource Id: 1765
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 4 +  Popup Menu: Pacientes de Maquilas
.head 5 -  Resource Id: 1766
.head 5 -  Enabled when:
.head 5 -  Status Text:
.head 5 -  Menu Item Name:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.56"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Contents
.head 4 +  Pushbutton: pb1
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 10.483"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.417"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 2 -  Contents
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: sRegresa
.head 3 -  Number: nRegresa2
.head 3 -  Number: nRegresa3
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalCenterWindow( hWndForm )
.head 1 +  Form Window: frmEspecialidad
.head 2 -  Class: frmSoloNombre
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title:
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Class Default
.head 2 -  Visible? Class Default
.head 2 -  Display Settings
.head 3 -  Display Style? Class Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? Class Default
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Class Default
.head 3 -  Minimizable? Class Default
.head 3 -  System Menu? Class Default
.head 3 -  Resizable? Class Default
.head 3 -  Window Location and Size
.head 4 -  Left: 1.388"
.head 4 -  Top:    0.396"
.head 4 -  Width:  7.45"
.head 4 -  Width Editable? Class Default
.head 4 -  Height: 4.821"
.head 4 -  Height Editable? Class Default
.head 3 -  Form Size
.head 4 -  Width:  Class Default
.head 4 -  Height: Class Default
.head 4 -  Number of Pages: Class Default
.head 3 -  Font Name: Class Default
.head 3 -  Font Size: Class Default
.head 3 -  Font Enhancement: Class Default
.head 3 -  Text Color: Class Default
.head 3 -  Background Color: Class Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Class Default
.head 4 -  Location? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Size: 0.643"
.head 4 -  Size Editable? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Charcoal
.head 3 +  Contents
.head 4 +  Pushbutton: pbAgregar
.head 5 -  Class Child Ref Key: 29
.head 5 -  Class ChildKey: 0
.head 5 -  Class: frmSoloNombre
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  0.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbBorrar
.head 5 -  Class Child Ref Key: 30
.head 5 -  Class ChildKey: 0
.head 5 -  Class: frmSoloNombre
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.783"
.head 6 -  Top:    Class Default
.head 6 -  Width:  0.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbGrabar
.head 5 -  Class Child Ref Key: 34
.head 5 -  Class ChildKey: 0
.head 5 -  Class: frmSoloNombre
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.383"
.head 6 -  Top:    Class Default
.head 6 -  Width:  0.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbSalir
.head 5 -  Class Child Ref Key: 39
.head 5 -  Class ChildKey: 0
.head 5 -  Class: frmSoloNombre
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 5.983"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 2 +  Contents
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 5
.head 4 -  Class ChildKey: 0
.head 4 -  Class: frmSoloNombre
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: -0.017"
.head 6 -  Top:    -0.012"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 1000
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colCodigor
.head 6 -  Class Child Ref Key: 25
.head 6 -  Class ChildKey: 0
.head 6 -  Class: frmSoloNombre
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title:
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colNombrer
.head 6 -  Class Child Ref Key: 26
.head 6 -  Class ChildKey: 0
.head 6 -  Class: frmSoloNombre
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title:
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  6.133"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 +  Message Actions
.head 5 +  On SAM_CreateComplete
.head 6 -  Set frmEspecialidad.sTitulos='Especialidades'
.head 6 -  Call SalSendClassMessage(SAM_CreateComplete,0,0)
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 -  Window Variables
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  !
.head 4 -  Set sTabla='ESPECIALIDAD'
.head 4 -  Set sNombre='NOMBRE'
.head 4 -  Set sCodigo='COD_ESPECIALIDAD'
.head 4 -  Set nNumeroTabla=19
.head 4 -  Set hWndTabla=tbl1
.head 4 -  Set sMensajes_Otros='Especialidad ya Existe'
.head 4 -  Call SalCenterWindow( hWndForm )
.head 4 -  !
.head 3 +  ! On MU_GRABAR
.head 4 -  Call SalSendClassMessage( MU_GRABAR, 0, 0 )
.head 3 +  ! On MU_ACTUALIZAR
.head 4 -  Call SalSendClassMessage( MU_ACTUALIZAR, 0, 0 )
.head 1 -  !
.head 1 +  Form Window: frmPrincipalPacientes
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Pacientes
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Etched
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: 0.55"
.head 4 -  Top:    0.458"
.head 4 -  Width:  8.933"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 4.071"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: White
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 +  Menu
.head 3 +  Windows Menu: &Consultas
.head 4 -  Resource Id: 14895
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 3 +  Windows Menu: &Reportes
.head 4 -  Resource Id: 14896
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.702"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Charcoal
.head 3 +  Contents
.head 4 +  Pushbutton: pbSalir
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 7.483"
.head 6 -  Top:    0.119"
.head 6 -  Width:  0.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.536"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 2 +  Contents
.head 3 +  Pushbutton: pbPacientesAseg
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Admision Asegurado
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.155"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.9"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\48x48\Patient Woman 1 Blue.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: 3D Highlight Color
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If bArraySeg[4]
.head 7 -  Call SalCreateWindow( frmPacAseg, hWndForm )
.head 3 +  Pushbutton: pbCategorias
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Categorías de Servicio
.head 4 -  Window Location and Size
.head 5 -  Left: 4.183"
.head 5 -  Top:    1.071"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.905"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\48x48\Treatment Plan.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: 3D Highlight Color
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If bArraySeg[6]
.head 7 -  Call SalCreateWindow( frmCatServic, hWndForm )
.head 3 +  Pushbutton: pbServicios
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Servicios
.head 4 -  Window Location and Size
.head 5 -  Left: 4.183"
.head 5 -  Top:    0.155"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.905"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\48x48\Treatment.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: 3D Highlight Color
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If bArraySeg[7]
.head 7 -  Call SalCreateWindow( frmServicios, hWndForm )
.head 3 +  Pushbutton: pbEspecialidad
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Especialidades
.head 4 -  Window Location and Size
.head 5 -  Left: 2.183"
.head 5 -  Top:    0.155"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.905"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\48x48\Medical Symbol 2.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: 3D Highlight Color
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If bArraySeg[8]
.head 7 -  Call SalCreateWindow( frmEspecialidad, hWndForm )
.head 3 +  Pushbutton: pbPacientes
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Admision Privado
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    1.071"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.905"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\48x48\Patient Woman 1.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: 3D Highlight Color
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If bArraySeg[5]
.head 7 -  Call SalCreateWindow( frmPac, hWndForm )
.head 3 +  Pushbutton: pbMedicos
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Médicos
.head 4 -  Window Location and Size
.head 5 -  Left: 2.183"
.head 5 -  Top:    1.071"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.905"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\48x48\Chief of Staff.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: 3D Highlight Color
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If bArraySeg[9]
.head 7 -  Call SalCreateWindow( frmMedicos, hWndForm )
.head 3 +  Pushbutton: pbOrdenServicio
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Orden de Servicio
.head 4 -  Window Location and Size
.head 5 -  Left: 6.183"
.head 5 -  Top:    1.071"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.905"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\48x48\Nurse Army.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: 3D Highlight Color
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If bArraySeg[17]
.head 7 -  !
.head 7 -  Call SalCreateWindow( frmOrdenesServicio, hWndForm )
.head 3 +  Pushbutton: pbCirugias
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Programación Cirugía
.head 4 -  Window Location and Size
.head 5 -  Left: 6.183"
.head 5 -  Top:    0.155"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.905"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\48x48\Surgeon 2 Edit 2.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: 3D Highlight Color
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If bArraySeg[18]
.head 7 -  !
.head 7 -  Call SalCreateWindow( frmCirugias, hWndForm )
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 -  Window Variables
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalCenterWindow( hWndForm )
.head 4 -  !
.head 4 +  ! If bArraySeg[4]
.head 5 -  Call SalEnableWindow(pbPacientesAseg)
.head 4 +  ! If bArraySeg[5]
.head 5 -  Call SalEnableWindow(pbPacientes)
.head 4 +  ! If bArraySeg[6]
.head 5 -  Call SalEnableWindow(pbCategorias)
.head 4 +  ! If bArraySeg[7]
.head 5 -  Call SalEnableWindow(pbServicios)
.head 4 +  ! If bArraySeg[8]
.head 5 -  Call SalEnableWindow(pbEspecialidad)
.head 4 +  ! If bArraySeg[9]
.head 5 -  Call SalEnableWindow(pbMedicos)
.head 1 +  ! frmSoloNombre: frmDestinos
.winattr class Form Window:
.head 2 -  Class: frmSoloNombre
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title:
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Maximized
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: 1.1"
.head 4 -  Top:    0.917"
.head 4 -  Width:  6.6"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 3.313"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.end
.head 2 -    Description: 
.head 2 -    Named Menus 
.head 2 -    Menu 
.head 2 +    Tool Bar 
.head 3 +    Contents 
.head 4 +    Pushbutton: pbAgregar
.head 5 -    Message Actions 
.head 4 +    Pushbutton: pbBorrar
.head 5 -    Message Actions 
.head 4 +    Pushbutton: pbGrabar
.head 5 -    Message Actions 
.head 4 +    Pushbutton: pbSalir
.head 5 -    Message Actions 
.head 2 +    Contents 
.head 3 +    Child Table: tbl1
.head 4 +    Contents 
.head 5 +    Column: colCodigo
.head 6 -    List Values 
.head 6 -    Message Actions 
.head 5 +    Column: colNombre
.head 6 -    List Values 
.head 6 -    Message Actions 
.head 4 -    Functions 
.head 4 -    Window Variables 
.head 4 +    Message Actions 
.head 5 +    On SAM_CreateComplete
.head 6 -    Set frmDestinos.sTitulos='Destinos'
.head 6 -    Call SalSendClassMessage(SAM_CreateComplete,0,0)
.head 2 -    Functions 
.head 2 -    Window Parameters 
.head 2 -    Window Variables 
.head 2 +    Message Actions 
.head 3 +    On SAM_Create
.head 4 -  !
.head 4 -    Set sTabla='DESTINOS'
.head 4 -    Set sNombre='NOMBRE'
.head 4 -    Set sCodigo='COD_DESTINO'
.head 4 -    Set nNumeroTabla=4
.head 4 -    Set hWndTabla=tbl1
.head 4 -    Set sMensajes_Otros='Destino ya Existe'
.head 4 -  !
.head 3 +  ! On MU_GRABAR
.head 4 -    Call SalSendClassMessage( MU_GRABAR, 0, 0 )
.head 3 +  ! On MU_ACTUALIZAR
.head 4 -    Call SalSendClassMessage( MU_ACTUALIZAR, 0, 0 )
.head 3 -  !
.head 3 +    On SAM_CreateComplete
.head 4 -    Call SalWaitCursor(TRUE)
.head 4 -    Call SalTblPopulate(hWndTabla,hSql6,"select "||sCodigo||","||sNombre||",TIPO"
||" from "||sTabla||" 
order by NOMBRE",TBL_FillAll)
.head 4 -    Call SalSendMsg(hWndTabla,SAM_CreateComplete,0,0)
.head 4 -    Call SalWaitCursor(FALSE)
.head 3 +    On MU_GRABAR
.head 4 -    Call SalSetFocus(hWndTabla)
.head 4 +    If SqlPrepare(hSql1,"insert into "||sTabla||"("||sCodigo||","||sNombre||")
		values(:hWndTabla.colCodigor,:hWndTabla.colNombrer)")	and
SalTblDoInserts( hWndTabla,hSql1,TRUE)	and
SqlPrepare(hSql1,"update "||sTabla||" set "||sNombre||"=:hWndTabla.colNombrer
			where "||sCodigo||"=:hWndTabla.colCodigor")	and
SalTblDoUpdates( hWndTabla,hSql1,TRUE)	and
SqlPrepare(hSql1,"delete from "||sTabla||" where "||sCodigo||"=:hWndTabla.colCodigor")	and
SalTblDoDeletes( hWndTabla,hSql1,ROW_MarkDeleted)
.head 5 -  ! viendo la base de datos que es para establecer los inicios de transaccion
.head 5 +    Select Case nBaseEs
.head 6 -    Case 8
.head 6 -    Case 28
.head 6 -    Case 31
.head 6 +    Case 4	! es SYBASE,ORACLE7,ORACLE,MSSQLSERVER
.head 7 -    Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 7 -    Break 
.head 6 +    Case 1	! es SQLBASE
.head 7 -    Call SqlPrepareAndExecute(hSql1,"commit")
.head 7 -    Break 
.head 5 -  !
.head 4 +    Else 
.head 5 -  ! viendo la base de datos que es para establecer los inicios de transaccion
.head 5 +    Select Case nBaseEs
.head 6 -    Case 8
.head 6 -    Case 28
.head 6 -    Case 31
.head 6 +    Case 4	! es SYBASE,ORACLE7,ORACLE,MSSQLSERVER
.head 7 -    Call SqlPrepareAndExecute(hSql1,"rollback tran")
.head 7 -    Break 
.head 6 +    Case 1	! es SQLBASE
.head 7 -    Call SqlPrepareAndExecute(hSql1,"rollback")
.head 7 -    Break 
.head 5 -  !
.head 4 -  !
.head 4 -    Call SalStatusSetText(hWndForm,'Datos Actualizados')
.head 3 +    On MU_ACTUALIZAR
.head 4 -    Call SalSendMsg(hWndForm,SAM_CreateComplete,0,0)
.head 3 +    On SAM_Destroy
.head 4 -    Call SalBringWindowToTop( hWndForm)
.head 1 +  Dialog Box: dlgConsultaDiagnostico
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Consulta de Diagnosticos
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  12.75"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 5.917"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Background Text: Código
.head 4 -  Resource Id: 18512
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.15"
.head 5 -  Top:    0.369"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCodigo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.783"
.head 6 -  Top:    0.321"
.head 6 -  Width:  2.533"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Descripción
.head 4 -  Resource Id: 52548
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.55"
.head 5 -  Top:    0.595"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfDescripcion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.783"
.head 6 -  Top:    0.571"
.head 6 -  Width:  5.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_AnyEdit
.head 6 -  !
.head 6 -  Call SalSendMsg(pbBuscar, SAM_Click, 0, 0)
.head 3 -  Background Text: Categoria
.head 4 -  Resource Id: 18513
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.517"
.head 5 -  Top:    0.869"
.head 5 -  Width:  1.133"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbCateg
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.75"
.head 5 -  Top:    0.869"
.head 5 -  Width:  5.433"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbCateg.nCaso=1
.head 6 -  Set cmbCateg.sTabla='CATEG_DIAGNOSTICO'
.head 6 -  Set cmbCateg.sNombre='NOMBRE_CATEG_DIAGNOSTICO'
.head 6 -  Set cmbCateg.sCodigo='ID_CATEG_DIAGNOSTICO'
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.283"
.head 6 -  Top:    1.405"
.head 6 -  Width:  11.5"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 2.917"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 8
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colCodigo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Codigo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.033"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colNombre
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Nombre
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCategoria
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Categoria
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.733"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCodCategoria
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod Categoria
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 +  Window Variables
.head 5 -  Number: nFilita
.head 4 +  Message Actions
.head 5 +  On SAM_DoubleClick
.head 6 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.colCodigo)
.head 6 -  Call SalTblSetContext(tbl1,nFilita)
.head 6 -  Set nRegresa=tbl1.colCodigo
.head 6 -  Set nRegresa2=tbl1.colCodCategoria
.head 6 -  Call SalEndDialog(dlgConsultaDiagnostico,TRUE)
.head 5 +  On SAM_Create
.head 6 -  !
.head 6 -  Call MTblSubClass( hWndForm )
.head 6 -  Call MTblEnableMWheelScroll( hWndForm, TRUE )
.head 3 +  Pushbutton: pbCopiar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Copiar
.head 4 -  Window Location and Size
.head 5 -  Left: 7.45"
.head 5 -  Top:    0.417"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.679"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F5
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\editpaste.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call SalTblCopyRows(tbl1,0,0)
.head 6 -  Call SalMessageBox('Datos copiados','Atencion',MB_Ok)
.head 6 -  ! Set nLanguage = MTE_LNG_ENGLISH
.head 6 -  ! Set sStartCell = "Cod_Paciente"
.head 6 -  ! Set nExcelFlags = MTE_EXCEL_RUNNING_INSTANCE | MTE_EXCEL_NEW_INSTANCE | MTE_EXCEL_NEW_WORKSHEET
.head 6 -  ! Set nExportFlags = MTE_COL_HEADERS | MTE_COLORS | MTE_FONTS | MTE_GRID | MTE_SPLIT_ROWS | MTE_SHOW_STATUS
.head 6 -  ! Set nRowFlagsOn = 0
.head 6 -  ! Set nRowFlagsOff = ROW_Hidden
.head 6 -  ! Set nColFlagsOn = COL_Visible
.head 6 -  ! Set nColFlagsOff = 0
.head 6 -  ! Call MTblExportToExcel(tbl1, nLanguage, sStartCell, nExcelFlags, nExportFlags, nRowFlagsOn, nRowFlagsOff, nColFlagsOn, nColFlagsOff )
.head 3 +  Pushbutton: pbLimpiar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbLimpia
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.183"
.head 5 -  Top:    0.417"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.679"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\eraser.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbBuscar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.983"
.head 5 -  Top:    0.417"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.679"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalWaitCursor( TRUE )
.head 6 -  Call SalTblPopulate( tbl1, hSql1, ArmarQuery() , TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  Set dfTotal=ContarFilas( tbl1 )
.head 6 -  !
.head 6 -  Call SalWaitCursor( FALSE )
.head 3 +  Pushbutton: pbSalir
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbSalir
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.783"
.head 5 -  Top:    0.417"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.679"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfOculto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.083"
.head 6 -  Top:    4.905"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Posicionese sobre el Servicio en Particular y presione doble click para cargarlo
.head 4 -  Resource Id: 52551
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.183"
.head 5 -  Top:    5.095"
.head 5 -  Width:  8.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Total
.head 4 -  Resource Id: 52552
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.183"
.head 5 -  Top:    4.512"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTotal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 9.883"
.head 6 -  Top:    4.488"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: #0
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Frame
.head 4 -  Resource Id: 50150
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.071"
.head 5 -  Width:  11.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Raised-Shadow
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Criterios de Busqueda
.head 4 -  Resource Id: 50152
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    0.071"
.head 5 -  Width:  7.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.083"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 50151
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    1.321"
.head 5 -  Width:  11.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.107"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 +  Pushbutton: pbOculto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.783"
.head 5 -  Top:    0.405"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Keyboard Accelerator: Enter
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call SalSendMsg(tbl1, SAM_DoubleClick, 0, 0)
.head 2 +  Functions
.head 3 +  Function: ArmarQuery
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sConsulta
.head 4 +  Actions
.head 5 -  Set sConsulta="Select          
			A.ID_DIAGNOSTICO,
			A.NOMBRE_DIAGNOSTICO,
			C.NOMBRE_CATEG_DIAGNOSTICO,
			A.ID_CATEG_DIAGNOSTICO	
		from	
			DIAGNOSTICO  		A,
			CATEG_DIAGNOSTICO 	C
		where	
			A.ID_CATEG_DIAGNOSTICO 	=C.ID_CATEG_DIAGNOSTICO  "
                               
			
.head 5 +  ! If dfCodigo!=''
.head 6 -  Set sConsulta = sConsulta || " AND A.ID_DIAGNOSTICO = :dfCodigo"
.head 5 +  If dfDescripcion!=''
.head 6 -  Set sConsulta=sConsulta||"	AND	A.NOMBRE_DIAGNOSTICO like '" || dfDescripcion || "%'  "
.head 5 +  If cmbCateg!=''
.head 6 -  Set sConsulta=sConsulta||"	AND	A.ID_CATEG_DIAGNOSTICO =:dlgConsultaDiagnostico.cmbCateg.nCodigo
			and 	C.ID_CATEG_DIAGNOSTICO =:dlgConsultaDiagnostico.cmbCateg.nCodigo"

.head 5 -  Set sConsulta=sConsulta||"	order	by  A.NOMBRE_DIAGNOSTICO, A.ID_DIAGNOSTICO"
.head 5 -  Return sConsulta
.head 2 +  Window Parameters
.head 3 -  Receive Number: nRegresa
.head 3 -  Receive Number: nRegresa2
.head 2 +  Window Variables
.head 3 -  String: sConsulta2
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 2 +  Message Actions
.head 3 +  ! On SAM_CreateComplete
.head 4 +  If nCaso=2
.head 5 -  Call SalShowWindowAndLabel( dfOculto )
.head 5 -  Call SalHideWindow(pb6 )
.head 4 +  Else 
.head 5 +  If nCaso=1
.head 6 -  Call SalHideWindowAndLabel( dfOculto )
.head 6 -  Call SalShowWindow(pb6 )
.head 4 -  Call SalHideWindow(dfOculto)
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalBringWindowToTop(dlgConsultaDiagnostico)
.head 4 -  Call SalSetFocus(dfDescripcion)
.head 4 -  !
.head 1 +  Dialog Box: dlgImprimirFacturas
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Impresión de Facturas
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  3.067"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 1.702"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  Pushbutton: pbResumen
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Factura Sumarizada
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.071"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.333"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalCreateWindow( frmImprimir, hWndForm,
"Factura",
strRepPath || "\\FACTURAT2.QRP",
":n1,:s1,:dt1,:n2,:n3,:n4,:n5,
:s2,:s3,:s4,:s5,:s6,
:s7,:n6,:s8,:s9,:s10,:n7,:dt2,:dt3, :s11",

"A.COD_FACTURA,A.DESCRIPCION,A.FECHA_REGISTRO,A.MONTO_FACTURA,A.TOTAL,A.DESCUENTO,
                A.MONTO_HONORARIOS,
                D.COD_PACIENTE,D.CORREL_PACIENTE,D.PRIMER_NOM,D.PRIMER_APE,
                E.COD_CATEGORIA,E.NOMBRE,B.SUBTOTAL,D.DIRECCION,D.SEXO,D.TELEFONO_CASA,B.CANTIDAD,
                A.FECHA_INGRESO,A.FECHA_EGRESO, F.NOMBRE",

"select	A.COD_FACTURA,A.DESCRIPCION,A.FECHA_REGISTRO,A.MONTO_FACTURA,A.TOTAL,A.DESCUENTO,
                A.MONTO_HONORARIOS,
                D.COD_PACIENTE,D.CORREL_PACIENTE,D.PRIMER_NOM,D.PRIMER_APE,
                E.COD_CATEGORIA,E.NOMBRE,B.SUBTOTAL,D.DIRECCION,D.SEXO,D.TELEFONO_CASA,B.CANTIDAD,
	A.FECHA_INGRESO,A.FECHA_EGRESO, F.NOMBRE
                


from	
	FACTURAS A, 
	DET_FACTURA B, 
	SERVICIOS C, 
	PACIENTES D,
                CATEG_SERVICIOS E,
	EMPRESAS	F

where	A.COD_FACTURA*=B.COD_FACTURA AND
                A.COD_PACIENTE *= D.COD_PACIENTE AND 
	A.CORREL_PACIENTE*=D.CORREL_PACIENTE AND
               B.COD_SERVICIO*=C.COD_SERVICIO AND 
	B.COD_CATEGORIA *= C.COD_CATEGORIA AND
                C.COD_CATEGORIA*=E.COD_CATEGORIA AND
	D.COD_EMPRESA 	*= F.COD_EMPRESA  	AND
	 A.COD_FACTURA =:frmFact.dfFactura

ORDER BY E.COD_CATEGORIA

into	:n1,:s1,:dt1,:n2,:n3,:n4,:n5,
	:s2,:s3,:s4,:s5,:s6,
	:s7,:n6,:s8,:s9,:s10,:n7,:dt2,:dt3,:s11",

'', FALSE)
.head 3 +  Pushbutton: pbFacturaDetallada
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Factura Detallada
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.488"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.333"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalCreateWindow( frmImprimir, hWndForm,
"Factura",
strRepPath || "\\FACTURA_DET.QRP",":n1,:s1,:dt1,:n2,:n3,:n4,:n5,
:s2,:s3,:s4,:s5,:s6,
:s7,:n6,:s8,:s9,:s10,:s11,:s12,:n7,:dt2",

"A.COD_FACTURA,A.DESCRIPCION,A.FECHA_REGISTRO,A.MONTO_FACTURA,A.TOTAL,A.DESCUENTO,
                A.MONTO_HONORARIOS,
                D.COD_PACIENTE,D.CORREL_PACIENTE,D.PRIMER_NOM,D.PRIMER_APE,
                E.COD_CATEGORIA,E.NOMBRE,B.SUBTOTAL,D.DIRECCION,D.SEXO,D.TELEFONO_CASA,
                C.COD_SERVICIO,C.NOMBRE,B.CANTIDAD,B.FECHA",

"select	A.COD_FACTURA,A.DESCRIPCION,A.FECHA_REGISTRO,A.MONTO_FACTURA,A.TOTAL,A.DESCUENTO,
                A.MONTO_HONORARIOS,
                D.COD_PACIENTE,D.CORREL_PACIENTE,D.PRIMER_NOM,D.PRIMER_APE,
                E.COD_CATEGORIA,E.NOMBRE,B.SUBTOTAL,D.DIRECCION,D.SEXO,D.TELEFONO_CASA,
                C.COD_SERVICIO,C.NOMBRE,B.CANTIDAD,B.FECHA
                


from	FACTURAS A, DET_FACTURA B, SERVICIOS C, PACIENTES D,
                CATEG_SERVICIOS E
where	A.COD_FACTURA=B.COD_FACTURA AND
                A.COD_PACIENTE = D.COD_PACIENTE AND A.CORREL_PACIENTE=D.CORREL_PACIENTE AND
               B.COD_SERVICIO=C.COD_SERVICIO AND C.COD_CATEGORIA=B.COD_CATEGORIA AND
                C.COD_CATEGORIA=E.COD_CATEGORIA AND A.COD_FACTURA=:frmFact.dfFactura

ORDER BY E.COD_CATEGORIA,B.FECHA

into	:n1,:s1,:dt1,:n2,:n3,:n4,:n5,
	:s2,:s3,:s4,:s5,:s6,
	:s7,:n6,:s8,:s9,:s10,:s11,:s12,:n7,:dt2",

'', FALSE)
.head 3 +  Pushbutton: pbHonorarios
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Honorarios de Factura
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.905"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.333"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalCreateWindow( frmImprimir, hWndForm,
"Factura",
strRepPath || "\\FACTURA_HON.QRP","
 :n1,:s1,:s2,:s3,:n2,:n3,:s4,:s5,:dt1",

"A.COD_FACTURA,
                D.PRIMER_NOM,D.PRIMER_APE,
                E.NOMBRE,B.COSTO,
                C.COD_MEDICO,C.NOMBRE,B.DESCRIPCION,B.FECHA",

"select	A.COD_FACTURA,
                D.PRIMER_NOM,D.PRIMER_APE,
                E.NOMBRE,B.COSTO,
                C.COD_MEDICO,C.NOMBRE,B.DESCRIPCION,B.FECHA
                


from	FACTURAS A, DET_HONORARIOS B, MEDICOS C, PACIENTES D,
                ESPECIALIDAD E
where	A.COD_FACTURA=B.COD_FACTURA AND
                A.COD_PACIENTE = D.COD_PACIENTE AND A.CORREL_PACIENTE=D.CORREL_PACIENTE AND
               B.COD_MEDICO=C.COD_MEDICO AND
                C.COD_ESPECIALIDAD=E.COD_ESPECIALIDAD AND B.ESTADO_PAGO=1  AND A.COD_FACTURA=:frmFact.dfFactura

ORDER BY B.FECHA

into	
 :n1,:s1,:s2,:s3,:n2,:n3,:s4,:s5,:dt1",

'', FALSE)
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 -  Window Variables
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  Call SalBringWindowToTop( hWndForm )
.head 1 +  Dialog Box: dlgConsultaAutorizacionPago
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Consulta de Compromiso de Pagos
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  11.7"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 5.774"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Group Box: Criterios de Busqueda
.head 4 -  Resource Id: 8767
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    0.071"
.head 5 -  Width:  11.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.583"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Autorizacion No:
.head 4 -  Resource Id: 52549
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.883"
.head 5 -  Top:    0.369"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCodigo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.283"
.head 6 -  Top:    0.321"
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  !
.head 6 -  Call SalSendMsg(pbBuscar, SAM_Click, 0, 0)
.head 3 -  Background Text: Nombre Paciente
.head 4 -  Resource Id: 8776
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    0.845"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfNombre
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.283"
.head 6 -  Top:    0.821"
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Apellido Paciente
.head 4 -  Resource Id: 52551
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.383"
.head 5 -  Top:    0.845"
.head 5 -  Width:  1.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfApellido
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.983"
.head 6 -  Top:    0.821"
.head 6 -  Width:  3.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Responsable
.head 4 -  Resource Id: 52552
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.083"
.head 5 -  Top:    1.095"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfResponsable
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.283"
.head 6 -  Top:    1.071"
.head 6 -  Width:  7.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Group Box: Rango de Fecha
.head 4 -  Resource Id: 52553
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.383"
.head 5 -  Top:    0.155"
.head 5 -  Width:  4.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.583"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Desde
.head 4 -  Resource Id: 52548
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.583"
.head 5 -  Top:    0.429"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaI
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.183"
.head 6 -  Top:    0.405"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Hasta
.head 4 -  Resource Id: 52550
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.683"
.head 5 -  Top:    0.429"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaF
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 8.283"
.head 6 -  Top:    0.405"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbSalir
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.183"
.head 5 -  Top:    1.095"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb4
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbLimpia
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.183"
.head 5 -  Top:    0.179"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\eraser.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbBuscar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.183"
.head 5 -  Top:    0.679"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F3
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalWaitCursor( TRUE )
.head 6 -  Set sSQL = ConstruirSQL()
.head 6 -  Call SalTblPopulate( tbl1, hSqlInterno, sSQL, TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute(hSqlInterno,"commit")
.head 6 -  Call SalWaitCursor( FALSE )
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.283"
.head 6 -  Top:    1.988"
.head 6 -  Width:  10.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 2.917"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 8
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: Cod_Autorizacion
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Autorización
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.217"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Responsable
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Responsable
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.967"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Cod_Paciente
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod. Pac
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.933"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Correl_Paciente
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Corr.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Nombre
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Nombre Paciente
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.017"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Fecha_Emision
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha Emision
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Date/Time
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.483"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: DateTime
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 +  Window Variables
.head 5 -  Number: nFilita
.head 4 +  Message Actions
.head 5 +  On SAM_DoubleClick
.head 6 +  If nCaso=2
.head 7 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.Cod_Autorizacion)
.head 7 -  Call SalTblSetContext(tbl1,nFilita)
.head 7 -  Set nRegresa=tbl1.Cod_Autorizacion
.head 7 -  Call SalEndDialog(dlgConsultaAutorizacionPago,TRUE)
.head 3 -  Frame
.head 4 -  Resource Id: 10782
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    1.905"
.head 5 -  Width:  11.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.083"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 -  Background Text: Código Paciente:
.head 4 -  Resource Id: 52554
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    0.595"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: df7
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.283"
.head 6 -  Top:    0.571"
.head 6 -  Width:  2.3"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 2 +  Functions
.head 3 +  Function: ConstruirSQL
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sConsulta
.head 4 +  Actions
.head 5 -  Set sConsulta="Select 
			A.COD_AUTORIZACION,
			A.NOMBRE,
			A.COD_PACIENTE,
                         		A.CORREL_PACIENTE,
			B.PRIMER_NOM+'   ' +B.PRIMER_APE,
                         		convert(varchar(12),A.FECHA_EMISION,103)					
		from	 
			AUTORIZACION_PAGO A,
			PACIENTES B
		where	
			A.COD_PACIENTE		= B.COD_PACIENTE AND
                                                A.CORREL_PACIENTE	= B.CORREL_PACIENTE"

.head 5 +  If not SalIsNull(dfCodigo)
.head 6 -  Set sConsulta=sConsulta||"	AND	A.COD_AUTORIZACION = :dfCodigo"
.head 5 +  If not SalIsNull(dfResponsable)
.head 6 -  Set sConsulta=sConsulta||"	AND	A.NOMBRE  like '%"||dlgConsultaAutorizacionPago.dfResponsable||"%'"
.head 5 +  If dfNombre !=''
.head 6 -  Set sConsulta=sConsulta||"	AND	B.PRIMER_NOM   like '%"||dlgConsultaAutorizacionPago.dfNombre||"%'"
.head 5 +  If dfApellido !=''
.head 6 -  Set sConsulta=sConsulta||"	AND	B.PRIMER_APE   like '%"||dlgConsultaAutorizacionPago.dfApellido||"%'"
.head 5 +  If dfFechaI != DATETIME_Null and dfFechaF !=DATETIME_Null
.head 6 -  Set sConsulta=sConsulta||"	AND	A.FECHA_EMISION >= :dlgConsultaAutorizacionPago.dfFechaI and 
                                                A.FECHA_EMISION <=  :dlgConsultaAutorizacionPago.dfFechaF "

.head 5 -  Set sConsulta=sConsulta||"	order	by	A.COD_AUTORIZACION"
.head 5 -  Return sConsulta
.head 3 +  Function: ConectarCursorInterno
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  ! Setear temporalmente las variables de conexion
.head 5 -  Set SqlDatabase = sGlobalDB
.head 5 -  Set SqlUser = 'sa'
.head 5 -  Set SqlPassword = 'asaber'
.head 5 -  !
.head 5 -  Call ConectarCursores(hSqlInterno)
.head 2 +  Window Parameters
.head 3 -  Number: nCaso
.head 3 -  Receive Number: nRegresa
.head 2 +  Window Variables
.head 3 -  Sql Handle: hSqlInterno
.head 3 -  String: sSQL
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call ConectarCursorInterno()
.head 4 -  Call SalBringWindowToTop(dlgConsultaAutorizacionPago)
.head 3 +  On SAM_Destroy
.head 4 -  !
.head 4 -  Call SqlDisconnect(hSqlInterno)
.head 1 +  Dialog Box: dlgPagosConsulta
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Movimientos de Pago a Cuenta
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: -0.013"
.head 4 -  Top:    -0.01"
.head 4 -  Width:  13.933"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 4.738"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 1.0"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: System Window Color
.head 3 +  Contents
.head 4 -  Group Box: Información de Factura
.head 5 -  Resource Id: 33313
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.483"
.head 6 -  Top:    0.155"
.head 6 -  Width:  13.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.75"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: #Factura :
.head 5 -  Resource Id: 33314
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.75"
.head 6 -  Top:    0.369"
.head 6 -  Width:  1.433"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.226"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Center
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: Paciente:
.head 5 -  Resource Id: 64131
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 2.217"
.head 6 -  Top:    0.369"
.head 6 -  Width:  2.967"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.226"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Center
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfFactura
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Number
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 0.786"
.head 7 -  Top:    0.571"
.head 7 -  Width:  1.4"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Validate
.head 7 -  Call SqlExists("Select	COD_FACTURA
from	FACTURAS 
where	COD_FACTURA =:dfFactura",bExists)
.head 7 -  Call SqlClearImmediate( )
.head 7 +  If bExists
.head 8 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 4 -  Background Text: Fecha Registro :
.head 5 -  Resource Id: 33315
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 5.15"
.head 6 -  Top:    0.369"
.head 6 -  Width:  1.433"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.226"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Center
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfFechaRegistro
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfFecha
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 5.183"
.head 7 -  Top:    0.571"
.head 7 -  Width:  1.4"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 -  Background Text: Fecha Cierre
.head 5 -  Resource Id: 33316
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 6.55"
.head 6 -  Top:    0.369"
.head 6 -  Width:  1.333"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.226"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Center
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfFechaCierre
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfFecha
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 6.583"
.head 7 -  Top:    0.571"
.head 7 -  Width:  1.3"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 -  Background Text: Total Facturado
.head 5 -  Resource Id: 33317
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 7.95"
.head 6 -  Top:    0.369"
.head 6 -  Width:  1.833"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Center
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfTotal
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 7.883"
.head 7 -  Top:    0.571"
.head 7 -  Width:  1.9"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Bold
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 -  Background Text: Total Debe
.head 5 -  Resource Id: 33318
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 9.85"
.head 6 -  Top:    0.369"
.head 6 -  Width:  2.033"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Center
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfDebe
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 9.783"
.head 7 -  Top:    0.571"
.head 7 -  Width:  2.1"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Bold
.head 6 -  Text Color: Red
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbSalir
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 12.783"
.head 6 -  Top:    0.369"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Call SalEndDialog( dlgPagosConsulta, TRUE )
.head 4 +  Data Field: dfNomPaciente
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatDataField
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 2.183"
.head 7 -  Top:    0.571"
.head 7 -  Width:  3.0"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pb9
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Facturas
.head 5 -  Window Location and Size
.head 6 -  Left: 11.983"
.head 6 -  Top:    0.369"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.colPago)
.head 7 -  Call SalTblSetContext(tbl1,nFilita)
.head 7 -  Call SalModalDialog(dlgPagosxRecibo, hWndForm,tbl1.colRecibo)
.head 2 +  Contents
.head 3 -  Group Box: Movimientos Efectuados a Factura
.head 4 -  Resource Id: 33326
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    -0.012"
.head 5 -  Width:  12.567"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.083"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.75"
.head 6 -  Top:    0.238"
.head 6 -  Width:  12.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 2.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: Default
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colPago
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: #Pago
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.683"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFecha
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.25"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colTipo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Tipo Pag.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.417"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDocumento
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: #Documento
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.183"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colRecibo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: #Recibo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDescrip
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripcion
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.883"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMonto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.517"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colTipo_pago
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: cod_pago
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.617"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colRecibide
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Recibi de
.head 6 -  Visible? Yes
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colStrMonto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title:
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 +  Message Actions
.head 5 +  On SAM_DoubleClick
.head 6 +  If nFlag = 1
.head 7 -  !
.head 7 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.colPago)
.head 7 -  Call SalTblSetContext(tbl1,nFilita)
.head 7 +  If tbl1.colPago!=NUMBER_Null
.head 8 -  !
.head 8 -  Set nRegresaPago=tbl1.colPago
.head 8 -  Call SalEndDialog(dlgPagosConsulta,TRUE)
.head 3 +  Data Field: dfTotalPagado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.083"
.head 6 -  Top:    2.488"
.head 6 -  Width:  2.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Total Pagado
.head 4 -  Resource Id: 33328
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.583"
.head 5 -  Top:    2.512"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbBorrar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbMenos
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.986"
.head 5 -  Top:    0.073"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set pbBorrar.nOpcionh=1
.head 6 -  Set pbBorrar.sTitulo=' El Pago'
.head 5 +  On SAM_Click
.head 6 -  Call SalSendClassMessage( SAM_Click, 0, 0 )
.head 6 -  Call SalSendMsg( dlgPagosConsulta, MU_ACTUALIZAR, 0, 0 )
.head 2 -  Functions
.head 2 +  Window Parameters
.head 3 -  Number: pFactura
.head 3 -  Date/Time: pFechaRegistro
.head 3 -  Date/Time: pFechaCierre
.head 3 -  Number: pTotal
.head 3 -  Number: pDebe
.head 3 -  String: sNomPaciente
.head 3 -  Number: nFlag
.head 3 -  Receive Number: nRegresaPago
.head 2 +  Window Variables
.head 3 -  String: FECHA_PAGO
.head 3 -  Number: PAGADO
.head 3 -  Number: ESTADO
.head 3 -  Number: nFilita
.head 3 -  String: sRegresa
.head 3 -  String: sSql
.head 3 -  Number: nMaximo
.head 3 -  String: srecibo
.head 3 -  String: sfactura
.head 3 -  Number: max_en_tabla
.head 3 -  String: sRecibo
.head 3 -  String: misql
.head 3 -  Number: Total_Recibo_Previo
.head 3 -  String: Str_Total_Recibo_Previo
.head 3 -  Number: xno_pago
.head 3 -  Number: xpor_asignar
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  Set dfFactura=pFactura
.head 4 -  Set dfFechaRegistro=pFechaRegistro
.head 4 -  Set dfFechaCierre=pFechaCierre
.head 4 -  Set dfTotal=pTotal
.head 4 -  Set dfDebe=pDebe
.head 4 -  Set dfNomPaciente=sNomPaciente
.head 4 -  Call SalSendMsg( hWndForm, MU_ACTUALIZAR, 0, 0 )
.head 4 -  Call SalBringWindowToTop (dlgPagosConsulta)
.head 3 +  On MU_ACTUALIZAR
.head 4 -  Call SalTblPopulate(tbl1,hSql1,"
select	
	A.NUMERO_PAGO,
              	convert(varchar(10) ,A.FECHA,103),
	B.NOMBRE,
                A.DOCUMENTO,
	A.RECIBO,
	A.DESCRIPCION,
	A.MONTO,
	A.COD_PAGO,
	A.RECIBIDE,
	A.STRMONTO
               
from	 PAGOS  A,
	 TIPOS_PAGO B

where	
	A.COD_PAGO	=B.COD_PAGO AND 
	A.COD_FACTURA	=:dfFactura 
 order by 
	A.FECHA",TBL_FillAll)
.head 4 -  ! Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  Set dfTotalPagado=SalTblColumnSum(tbl1,7,0,0)
.head 4 -  Set dfDebe=dfTotal-dfTotalPagado
.head 1 +  Form Window: frmCatServic
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Categorias de Servicios
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? No
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: 1.2"
.head 4 -  Top:    0.344"
.head 4 -  Width:  10.45"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 4.798"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Gray
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 +  Menu
.head 3 +  Popup Menu: Tablita
.head 4 -  Resource Id: 57846
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 4 +  Menu Item: (Inserta Fila)
.head 5 -  Resource Id: 57847
.head 5 -  Keyboard Accelerator: Ins
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg(pbAgregar,SAM_Click,0,0)
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: (Marca para Borrar Fila)
.head 5 -  Resource Id: 57848
.head 5 -  Keyboard Accelerator: -
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg(pbBorrar,SAM_Click,0,0)
.head 5 -  Menu Item Name:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.69"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Black
.head 3 +  Contents
.head 4 +  Pushbutton: pb1
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 9.383"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.548"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbGrabar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbGrabar
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.583"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.548"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set pbGrabar.nOpcion=2
.head 7 -  Set pbGrabar.hWndTabla=tbl1
.head 4 +  Pushbutton: pbAgregar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbMas
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.183"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.55"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Call SalTblSetFocusCell( tbl1, SalTblInsertRow( tbl1, TBL_MaxRow ), tbl1.colCodigo, 0, 1 )
.head 4 +  Pushbutton: pbBorrar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbMenos
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.883"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.548"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Call SalStatusSetText(hWndForm,'                                                      ')
.head 7 -  Call SalTblQueryFocus(  tbl1,nFilas,hWndFila)
.head 7 +  If SalTblQueryRowFlags( tbl1,nFilas,ROW_MarkDeleted)
.head 8 -  Call SalTblSetRowFlags( tbl1,nFilas, ROW_MarkDeleted,FALSE)
.head 7 +  Else
.head 8 -  Call SalTblSetRowFlags( tbl1,nFilas, ROW_MarkDeleted,TRUE)
.head 2 +  Contents
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: -0.017"
.head 6 -  Top:    -0.012"
.head 6 -  Width:  9.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 3.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Black
.head 5 -  Background Color: White
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 300
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colCodigo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: CODIGO
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colNombre
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: NOMBRE
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  4.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colOrden
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: ORDEN
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.133"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCuenta
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cuenta Contable
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 +  If not SqlExists( "select cod_cuenta from cuentas where cod_cuenta=:tbl1.colCuenta", bExists )
.head 9 -  Call SalMessageBox( "cuenta no existe", "Error", MB_Ok )
.head 9 -  Set tbl1.colCuenta=''
.head 8 -  Call SqlClearImmediate( )
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 -  Message Actions
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  Number: nFilas
.head 2 +  Message Actions
.head 3 +  On MU_GRABAR
.head 4 -  Call SalSetFocus(tbl1)
.head 4 -  Call SqlPrepare(hSql1,"insert into categ_servicios(cod_categoria,Nombre,Orden,cod_cuenta)
		values(:tbl1.colCodigo,:tbl1.colNombre,:tbl1.colOrden,:tbl1.colCuenta)")	
.head 4 -  Call SalTblDoInserts( tbl1,hSql1,TRUE) 
.head 4 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  Call SqlPrepare(hSql1,"update categ_servicios set nombre=:tbl1.colNombre, orden=:tbl1.colOrden,
			cod_cuenta=:tbl1.colCuenta
			where cod_categoria=:tbl1.colCodigo")
.head 4 -  Call SalTblDoUpdates( tbl1,hSql1,TRUE) 
.head 4 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  Call SqlPrepare(hSql1,"delete from categ_servicios where cod_categoria=:tbl1.colCodigo")
.head 4 -  Call SalTblDoDeletes( tbl1,hSql1,ROW_MarkDeleted)
.head 4 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  Call SalStatusSetText(hWndForm,'Datos Actualizados')
.head 3 +  On MU_ACTUALIZAR
.head 4 -  Call SalWaitCursor(TRUE)
.head 4 -  Call SalTblPopulate(tbl1,hSql1,"select cod_categoria ,nombre ,orden,cod_cuenta from  categ_servicios 
order by NOMBRE",TBL_FillAll)
.head 4 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  Call SalWaitCursor(FALSE)
.head 3 +  On SAM_CreateComplete
.head 4 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 1 +  Dialog Box: dlgConsultaFacturasA
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Consulta de Facturas
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  13.033"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 6.024"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Background Text: Descripción
.head 4 -  Resource Id: 44170
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.983"
.head 5 -  Top:    0.393"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfDescripcion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.483"
.head 6 -  Top:    0.321"
.head 6 -  Width:  2.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Factura:
.head 4 -  Resource Id: 47218
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.983"
.head 5 -  Top:    0.393"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCodigo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.383"
.head 6 -  Top:    0.321"
.head 6 -  Width:  2.733"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Primer Nombre
.head 4 -  Resource Id: 47219
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.583"
.head 5 -  Top:    0.595"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Segundo Nombre
.head 4 -  Resource Id: 47220
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.583"
.head 5 -  Top:    0.595"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfNombre
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.483"
.head 6 -  Top:    0.57"
.head 6 -  Width:  2.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfSegundoNombre
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.383"
.head 6 -  Top:    0.571"
.head 6 -  Width:  2.767"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Primer Apellido
.head 4 -  Resource Id: 47221
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    0.845"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Segundo Apellido
.head 4 -  Resource Id: 47222
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.683"
.head 5 -  Top:    0.845"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfApellido
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.483"
.head 6 -  Top:    0.821"
.head 6 -  Width:  2.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfSegundoApellido
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.383"
.head 6 -  Top:    0.821"
.head 6 -  Width:  2.767"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Puesto (Dir)
.head 4 -  Resource Id: 47223
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    1.071"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfPuesto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.483"
.head 6 -  Top:    1.071"
.head 6 -  Width:  2.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Combo Box: cmbCuidades
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.35"
.head 5 -  Top:    1.071"
.head 5 -  Width:  2.767"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbCuidades.nCaso=1
.head 6 -  Set cmbCuidades.sTabla='CIUDADES_GEO'
.head 6 -  Set cmbCuidades.sNombre='NOMBRE'
.head 6 -  Set cmbCuidades.sCodigo='CODIGO'
.head 3 -  Background Text: Ciudad:
.head 4 -  Resource Id: 47224
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.383"
.head 5 -  Top:    1.071"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Fecha Registro
.head 4 -  Resource Id: 47225
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    1.345"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaI
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.483"
.head 6 -  Top:    1.321"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFechaF
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.883"
.head 6 -  Top:    1.321"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: <
.head 4 -  Resource Id: 47226
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.25"
.head 5 -  Top:    1.345"
.head 5 -  Width:  0.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: 10
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: >
.head 4 -  Resource Id: 47227
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.483"
.head 5 -  Top:    1.345"
.head 5 -  Width:  0.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: 10
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbTipo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.35"
.head 5 -  Top:    1.321"
.head 5 -  Width:  2.767"
.head 5 -  Width Editable? Yes
.head 5 -  Height: Default
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Default
.head 4 -  Sorted? Yes
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Call SalListAdd( cmbTipo, "CONSULTA EXTERNA" )
.head 6 -  Call SalListAdd( cmbTipo, "HOSPITALIZACION" )
.head 6 -  Call SalListAdd( cmbTipo, "EMERGENCIA" )
.head 6 -  Call SalListAdd( cmbTipo, "(TODOS)" )
.head 3 -  Background Text: Fecha Ingreso
.head 4 -  Resource Id: 47228
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    1.619"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFecha1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.483"
.head 6 -  Top:    1.571"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFecha2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.883"
.head 6 -  Top:    1.571"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfIdentidad
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.383"
.head 6 -  Top:    1.571"
.head 6 -  Width:  2.767"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Identidad
.head 4 -  Resource Id: 47229
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.317"
.head 5 -  Top:    1.619"
.head 5 -  Width:  0.767"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  ! cmbBaseCodigo: cmbEmpresa
.winattr class Combo Box:
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.483"
.head 5 -  Top:    1.905"
.head 5 -  Width:  2.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.094"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.end
.head 4 -  List Initialization 
.head 4 +  Message Actions 
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 3 +  Combo Box: cmbEmpresa
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigoFiltrado
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.483"
.head 5 -  Top:    1.905"
.head 5 -  Width:  2.5"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.512"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 6 -  Set cmbEmpresa.sNombreFiltro='ESTADO'
.head 6 -  Set cmbEmpresa.nValorFiltro=1
.head 3 -  Background Text: Maquila
.head 4 -  Resource Id: 47230
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.25"
.head 5 -  Top:    1.952"
.head 5 -  Width:  0.833"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Especialidad
.head 4 -  Resource Id: 47231
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.017"
.head 5 -  Top:    1.905"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbEspecialidad
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.35"
.head 5 -  Top:    1.81"
.head 5 -  Width:  2.733"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEspecialidad.nCaso = 1
.head 6 -  Set cmbEspecialidad.sTabla = 'ESPECIALIDAD'
.head 6 -  Set cmbEspecialidad.sNombre='NOMBRE'
.head 6 -  Set cmbEspecialidad.sCodigo='COD_ESPECIALIDAD'
.head 5 +  On SAM_Validate
.head 6 -  Set sSQL = "
			SELECT
				NOMBRE
			FROM
				MEDICOS
			WHERE
				COD_ESPECIALIDAD = :cmbEspecialidad.nCodigo
			ORDER BY
				NOMBRE"
.head 6 -  Call SalListClear(cmbMedicosOS)
.head 6 -  Call SalListPopulate(cmbMedicosOS, hSql1, sSQL)
.head 6 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 3 +  Combo Box: cmbMedicosOS
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatComboBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.35"
.head 5 -  Top:    2.095"
.head 5 -  Width:  2.733"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_DropDown
.head 6 -  !
.head 6 +  If not SalIsNull(cmbEspecialidad)
.head 7 -  !
.head 7 -  Set sMedico = cmbMedicosOS
.head 7 -  Set sSQL = "
			SELECT
				NOMBRE
			FROM
				MEDICOS
			WHERE
				COD_ESPECIALIDAD = :cmbEspecialidad.nCodigo
			ORDER BY
				NOMBRE"
.head 7 -  ! Call SalListClear(cmbMedicosOS)
.head 7 -  Call SalListPopulate(cmbMedicosOS, hSql1, sSQL)
.head 7 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 7 -  !
.head 7 -  Call SalListSelectString( hWndItem, -1,sMedico)
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.283"
.head 6 -  Top:    2.655"
.head 6 -  Width:  12.3"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 2.417"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 8
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: Cod_Factura
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: #Factura
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.217"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Descripcion
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripcion
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.967"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Cod_Paciente
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod. Pac
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.933"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Correl_Paciente
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Corr.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Nombre
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Nombre Paciente
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.017"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Fecha_Registro
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha Reg
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Date/Time
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.483"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: dd/mm/yyyy
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Total
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Total Fac.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.267"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Fecha_Ingreso
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha Ingreso
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Date/Time
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.483"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: dd/mm/yyyy
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 +  Window Variables
.head 5 -  Number: nFilita
.head 4 +  Message Actions
.head 5 +  On SAM_DoubleClick
.head 6 +  If nCaso=2
.head 7 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.Cod_Factura)
.head 7 -  Call SalTblSetContext(tbl1,nFilita)
.head 7 -  Set nRegresa=tbl1.Cod_Factura
.head 7 -  Call SalEndDialog(dlgConsultaFacturasA,TRUE)
.head 3 -  Group Box: Criterios de Busqueda
.head 4 -  Resource Id: 47217
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    0.071"
.head 5 -  Width:  12.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.333"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pb3
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 11.183"
.head 5 -  Top:    0.905"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.679"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F3
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalWaitCursor( TRUE )
.head 6 -  Call SalTblPopulate( tbl1, hSql1, ArmarQuery(), TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  Set dfTotal=ContarFilas( tbl1 )
.head 6 -  Set dfSumatoria = SalTblColumnSum( tbl1, 7, 0, 0 )
.head 6 -  Call SalWaitCursor( FALSE )
.head 3 +  Data Field: dfOculto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.083"
.head 6 -  Top:    4.905"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Total Facturas:
.head 4 -  Resource Id: 44172
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.083"
.head 5 -  Top:    5.262"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTotal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.483"
.head 6 -  Top:    5.238"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: #0
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Monto Facturas:
.head 4 -  Resource Id: 2843
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.35"
.head 5 -  Top:    5.262"
.head 5 -  Width:  1.333"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfSumatoria
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.783"
.head 6 -  Top:    5.238"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: #0
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb4
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbLimpia
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.483"
.head 5 -  Top:    0.905"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.679"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb6
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbImprimir
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.883"
.head 5 -  Top:    1.071"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  ! On SAM_Click
.head 6 +  ! If cb1=TRUE
.head 7 -  Call SalCreateWindow( frmImprimir, hWndForm,
"Listado de Medicamentos",
strRepPath || "\\MEDICAMENTOS.QRP",
":s1,:s2,:n1,:n2,
:s3,:s4,:n3,:n4",
"A.COD_MEDICAMENTO,A.DESP,A.EXISTENCIA,A.COSTO,
C.NOMBRE,B.NOMBRE,A.P_MINIMO,A.P_MAXIMO",
sConsulta2||"	
into
:s1,:s2,:n1,:n2,
:s3,:s4,:n3,:n4",'')
.head 6 +  Else 
.head 7 -  Call SalCreateWindow( frmImprimir, hWndForm,
"Listado de Medicamentos",
strRepPath || "\\MEDICAMENTOS_GENERAL.QRP",
":s1,:s2,:n1,:n2,
:s3,:s4,:n3,:n4",
"A.COD_MEDICAMENTO,A.DESP,A.EXISTENCIA,A.COSTO,
C.NOMBRE,B.NOMBRE,A.P_MINIMO,A.P_MAXIMO",
sConsulta2||"	
into
:s1,:s2,:n1,:n2,
:s3,:s4,:n3,:n4",'')
.head 3 -  Background Text: <
.head 4 -  Resource Id: 14494
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.25"
.head 5 -  Top:    1.619"
.head 5 -  Width:  0.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: 10
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: >
.head 4 -  Resource Id: 14495
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.483"
.head 5 -  Top:    1.619"
.head 5 -  Width:  0.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: 10
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Check Box: cbTitulares
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Solo Titulares?
.head 4 -  Window Location and Size
.head 5 -  Left: 10.483"
.head 5 -  Top:    1.905"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb7
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Copiar
.head 4 -  Window Location and Size
.head 5 -  Left: 10.483"
.head 5 -  Top:    0.238"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.679"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\editpaste.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  ! Call SalTblCopyRows(tbl1,0,0)
.head 6 -  ! Call SalMessageBox('Facturas copiadas','Atencion',MB_Ok)
.head 6 -  !
.head 6 +  If not SalIsNull(dfCodigo)
.head 7 -  Set params[0] = '1'
.head 7 -  Set params[1] = SalNumberToStrX( dfCodigo,0 )
.head 6 +  Else
.head 7 -  Set params[0] = '0'
.head 7 -  Set params[1] = ""
.head 6 +  If dfDescripcion!=''
.head 7 -  Set params[2] = '1'
.head 7 -  Set params[3] = dlgConsultaFacturasA.dfDescripcion
.head 6 +  Else
.head 7 -  Set params[2] = '0'
.head 7 -  Set params[3] = ""
.head 6 +  If cmbTipo!='' and cmbTipo!='(TODOS)'
.head 7 -  Set params[4] = '1'
.head 7 -  Set params[5] = dlgConsultaFacturasA.cmbTipo
.head 6 +  Else
.head 7 -  Set params[4] = '0'
.head 7 -  Set params[5] = ""
.head 6 +  If dfNombre !=''
.head 7 -  Set params[6] = '1'
.head 7 -  Set params[7] = dlgConsultaFacturasA.dfNombre
.head 6 +  Else
.head 7 -  Set params[6] = '0'
.head 7 -  Set params[7] = ""
.head 6 +  If dfSegundoNombre !=''
.head 7 -  Set params[8] = '1'
.head 7 -  Set params[9] = dlgConsultaFacturasA.dfSegundoNombre
.head 6 +  Else
.head 7 -  Set params[8] = '0'
.head 7 -  Set params[9] = ""
.head 6 +  If dfApellido !=''
.head 7 -  Set params[10] = '1'
.head 7 -  Set params[11] = dlgConsultaFacturasA.dfApellido
.head 6 +  Else
.head 7 -  Set params[10] = '0'
.head 7 -  Set params[11] = ""
.head 6 +  If dfSegundoApellido !=''
.head 7 -  Set params[12] = '1'
.head 7 -  Set params[13] = dlgConsultaFacturasA.dfSegundoApellido
.head 6 +  Else
.head 7 -  Set params[12] = '0'
.head 7 -  Set params[13] = ""
.head 6 +  If dfIdentidad !=''
.head 7 -  Set params[14] = '1'
.head 7 -  Set params[15] = dlgConsultaFacturasA.dfIdentidad
.head 6 +  Else
.head 7 -  Set params[14] = '0'
.head 7 -  Set params[15] = ""
.head 6 +  If dfPuesto !=''
.head 7 -  Set params[16] = '1'
.head 7 -  Set params[17] = dlgConsultaFacturasA.dfPuesto
.head 6 +  Else
.head 7 -  Set params[16] = '0'
.head 7 -  Set params[17] = ""
.head 6 +  If dfFechaI != DATETIME_Null and dfFechaF !=DATETIME_Null
.head 7 -  Set params[18] = '1'
.head 7 -  Call SalDateToStr( dlgConsultaFacturasA.dfFechaI, params[19] ) 
.head 7 -  Call SalDateToStr(  dlgConsultaFacturasA.dfFechaF, params[20] )
.head 6 +  Else
.head 7 -  Set params[18] = '0'
.head 7 -  Call SalDateToStr( DATETIME_Null, params[19] ) 
.head 7 -  Call SalDateToStr(  DATETIME_Null, params[20] )
.head 6 +  If dfFecha1 != DATETIME_Null and dfFecha2 !=DATETIME_Null
.head 7 -  Set params[21] = '1'
.head 7 -  Call SalDateToStr( dlgConsultaFacturasA.dfFecha1,params[22])
.head 7 -  Call SalDateToStr( dlgConsultaFacturasA.dfFecha2, params[23])
.head 6 +  Else
.head 7 -  Set params[21] = '0'
.head 7 -  Call SalDateToStr( DATETIME_Null, params[22] ) 
.head 7 -  Call SalDateToStr(  DATETIME_Null, params[23] )
.head 6 +  If cmbEmpresa !=''
.head 7 -  Set params[24] = '1'
.head 7 -  Set params[25] = SalNumberToStrX( dlgConsultaFacturasA.cmbEmpresa.nCodigo, 0 )
.head 6 +  Else
.head 7 -  Set params[24] = '0'
.head 7 -  Set params[25] = ""
.head 6 +  If cmbCuidades !=''
.head 7 -  Set params[26] = '1'
.head 7 -  Set params[27] = SalNumberToStrX( dlgConsultaFacturasA.cmbCuidades.nCodigo, 0 ) 
.head 6 +  Else
.head 7 -  Set params[26] = '0'
.head 7 -  Set params[27] = ""
.head 6 +  ! Else
.head 7 -  Set params[0] = '0'
.head 7 -  Set params[1] = '0'
.head 6 -  !
.head 6 -  Set strRepTitle = " Reporte Facturas Asegurados"
.head 6 -  !
.head 6 -  Set strReportName = strRepPath||"\\FacturasAsegurados.rpt"
.head 6 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 3 +  Pushbutton: pbImprimir
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbImprimir
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 11.183"
.head 5 -  Top:    0.238"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.679"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set sFecha1 = SalFmtFormatDateTime( dfFechaI, "dd/MM/yyyy" )
.head 6 -  Set sFecha2 = SalFmtFormatDateTime( dfFechaF, "dd/MM/yyyy" )
.head 6 -  Set sTitulo = "De la fecha " || sFecha1 || " Hasta la fecha " || sFecha2
.head 6 -  Set sConsultaImp=ArmarQuery2()
.head 6 -  ! Call SalMessageBox(sConsultaImp,'a',MB_Ok)
.head 6 -  Call SalCreateWindow( frmImprimir, hWndForm,
"Reporte de Facturas",
strRepPath || "\\REP_LISTA_FACTURAS.QRP",
":dt1,:s1,:s2,:n1,:n2,:n3,:n4",

"a.fecha_ingreso,a.paciente,b.informacion,b.total_f, b.debe_f, b.total_h, c.debe_h",sConsultaImp,sTitulo, FALSE)
.head 3 -  Background Text: Tipo de Servicio:
.head 4 -  Resource Id: 14171
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.683"
.head 5 -  Top:    1.345"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 14493
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.383"
.head 5 -  Top:    1.821"
.head 5 -  Width:  1.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.417"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: 3D Shadow Color
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 14492
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    2.571"
.head 5 -  Width:  12.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.583"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 -  Background Text: Medico/Destino
.head 4 -  Resource Id: 2841
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.75"
.head 5 -  Top:    2.131"
.head 5 -  Width:  1.367"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 2 +  Functions
.head 3 +  Function: ArmarQuery
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sConsulta
.head 4 +  Actions
.head 5 -  Set sConsulta="Select 
		A.COD_FACTURA,
		A.DESCRIPCION,
		A.COD_PACIENTE,
                         	A.CORREL_PACIENTE,
		B.PRIMER_NOM+'   ' +B.PRIMER_APE,
                         	convert(varchar(12),A.FECHA_REGISTRO,103),
		 A.TOTAL,
		convert(varchar(12),A.FECHA_INGRESO,103)			
	from	 
		FACTURASA 	A,
		PACIENTES 	B
	where	
		A.COD_PACIENTE=B.COD_PACIENTE AND
                                A.CORREL_PACIENTE=B.CORREL_PACIENTE

"			
.head 5 +  If not SalIsNull(dfCodigo)
.head 6 -  Set sConsulta=sConsulta||"	AND	A.COD_FACTURA  = :dfCodigo"
.head 5 +  If dfDescripcion!=''
.head 6 -  Set sConsulta=sConsulta||"	AND	A.DESCRIPCION  like '%"||dlgConsultaFacturasA.dfDescripcion||"%'"
.head 5 +  If cmbTipo!='' and cmbTipo!='(TODOS)'
.head 6 -  Set sConsulta=sConsulta||"	AND	A.TIPO  like '%"||dlgConsultaFacturasA.cmbTipo||"%'"
.head 5 +  If dfNombre !=''
.head 6 -  Set sConsulta=sConsulta||"	AND	B.PRIMER_NOM   like '%"||dlgConsultaFacturasA.dfNombre||"%'"
.head 5 +  If dfSegundoNombre !=''
.head 6 -  Set sConsulta=sConsulta||"	AND	B.SEGUNDO_NOM   like '%"||dlgConsultaFacturasA.dfSegundoNombre||"%'"
.head 5 +  If dfApellido !=''
.head 6 -  Set sConsulta=sConsulta||"	AND	B.PRIMER_APE   like '%"||dlgConsultaFacturasA.dfApellido||"%'"
.head 5 +  If dfSegundoApellido !=''
.head 6 -  Set sConsulta=sConsulta||"	AND	B.SEGUNDO_APE   like '%"||dlgConsultaFacturasA.dfSegundoApellido||"%'"
.head 5 +  If dfIdentidad !=''
.head 6 -  Set sConsulta=sConsulta||"	AND	B.IDENTIDAD   like '%"||dlgConsultaFacturasA.dfIdentidad||"%'"
.head 5 +  If dfPuesto !=''
.head 6 -  Set sConsulta=sConsulta||"	AND	B.DIRECCION   like '"||dlgConsultaFacturasA.dfPuesto||"%'"
.head 5 +  If dfFechaI != DATETIME_Null and dfFechaF !=DATETIME_Null
.head 6 -  Set sConsulta=sConsulta||"	AND	A.FECHA_REGISTRO >= :dlgConsultaFacturasA.dfFechaI and 
                                                A.FECHA_REGISTRO <=  :dlgConsultaFacturasA.dfFechaF "

.head 5 +  If dfFecha1 != DATETIME_Null and dfFecha2 !=DATETIME_Null
.head 6 -  Set sConsulta=sConsulta||"	AND	A.FECHA_INGRESO >= :dlgConsultaFacturasA.dfFecha1 and 
                                                A.FECHA_INGRESO <=  :dlgConsultaFacturasA.dfFecha2 "

.head 5 +  If cmbEmpresa !=''
.head 6 -  Set sConsulta=sConsulta||"	AND	B.COD_EMPRESA = :dlgConsultaFacturasA.cmbEmpresa.nCodigo"
.head 5 +  If cmbCuidades !=''
.head 6 -  Set sConsulta=sConsulta||"	AND	A.CODIGO_CIUDAD_GEO = :dlgConsultaFacturasA.cmbCuidades.nCodigo"
.head 5 +  If cbTitulares=TRUE
.head 6 -  Set sConsulta=sConsulta||"	AND	B.CORREL_PACIENTE='0'"
.head 5 +  If not SalIsNull(cmbEspecialidad)
.head 6 -  !
.head 6 -  Set sConsulta = sConsulta || " AND EXISTS(
                   			 SELECT
                        				C.CORREL
                    			FROM
                       				DET_HONORARIOSA 	C,
                       				MEDICOS      		D
                    			WHERE
                         				C.COD_FACTURA 		= A.COD_FACTURA AND
                         				C.COD_MEDICO 		= D.COD_MEDICO AND
					D.COD_ESPECIALIDAD 	=  :cmbEspecialidad.nCodigo)"
.head 5 +  If not SalIsNull(cmbMedicosOS)
.head 6 -  ! -------Obtener el codigo medico
.head 6 -  Set sSQL = "select
		COD_MEDICO
    	from
		MEDICOS
	where
		NOMBRE = :cmbMedicosOS
  	into
		:nMedico"
.head 6 -  Call SqlImmediate(  sSQL)
.head 6 -  Call SqlClearImmediate( )
.head 6 -  !
.head 6 -  Set sConsulta = sConsulta || " AND EXISTS(
                    			SELECT
                        				E.CORREL
                    			FROM
                       				DET_HONORARIOSA E
                    			WHERE
                         				E.COD_FACTURA = A.COD_FACTURA AND
                         				E.COD_MEDICO = :nMedico)"
.head 5 -  Set sConsulta=sConsulta||"	order	by	A.COD_FACTURA"
.head 5 -  Set sConsulta2=sConsulta
.head 5 -  Return sConsulta
.head 3 +  Function: ArmarQuery2
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sConsulta
.head 4 +  Actions
.head 5 -  Set sConsulta="SELECT a.fecha_ingreso,(b.primer_nom + ' ' + b.segundo_nom + ' ' + b.primer_ape + ' ' + b.segundo_ape) as nombre, a.descripcion, a.monto_factura, a.monto_honorarios, a.descuento,a.total
FROM pacientes b, facturasa a WHERE a.cod_paciente=b.cod_paciente and a.correl_paciente=b.correl_paciente "

.head 5 +  If dfDescripcion!=''
.head 6 -  Set sConsulta=sConsulta||"	AND	A.DESCRIPCION  like '%"||dlgConsultaFacturasA.dfDescripcion||"%'"
.head 5 +  If cmbTipo!='' and cmbTipo!='(TODOS)'
.head 6 -  Set sConsulta=sConsulta||"	AND	A.TIPO  like '%"||dlgConsultaFacturasA.cmbTipo||"%'"
.head 5 +  If dfNombre !=''
.head 6 -  Set sConsulta=sConsulta||"	AND	B.PRIMER_NOM   like '%"||dlgConsultaFacturasA.dfNombre||"%'"
.head 5 +  If dfSegundoNombre !=''
.head 6 -  Set sConsulta=sConsulta||"	AND	B.SEGUNDO_NOM   like '%"||dlgConsultaFacturasA.dfSegundoNombre||"%'"
.head 5 +  If dfApellido !=''
.head 6 -  Set sConsulta=sConsulta||"	AND	B.PRIMER_APE   like '%"||dlgConsultaFacturasA.dfApellido||"%'"
.head 5 +  If dfSegundoApellido !=''
.head 6 -  Set sConsulta=sConsulta||"	AND	B.SEGUNDO_APE   like '%"||dlgConsultaFacturasA.dfSegundoApellido||"%'"
.head 5 +  If dfIdentidad !=''
.head 6 -  Set sConsulta=sConsulta||"	AND	B.IDENTIDAD   like '%"||dlgConsultaFacturasA.dfIdentidad||"%'"
.head 5 +  If dfPuesto !=''
.head 6 -  Set sConsulta=sConsulta||"	AND	B.DIRECCION   like '"||dlgConsultaFacturasA.dfPuesto||"%'"
.head 5 +  If dfFechaI != DATETIME_Null and dfFechaF !=DATETIME_Null
.head 6 -  Set sConsulta=sConsulta||"	AND	A.FECHA_REGISTRO >= :dlgConsultaFacturasA.dfFechaI and 
                                                A.FECHA_REGISTRO <=  :dlgConsultaFacturasA.dfFechaF "
.head 5 +  If dfFecha1 != DATETIME_Null and dfFecha2 !=DATETIME_Null
.head 6 -  Set sConsulta=sConsulta||"	AND	A.FECHA_INGRESO >= :dlgConsultaFacturasA.dfFecha1 and 
                                                A.FECHA_INGRESO <=  :dlgConsultaFacturasA.dfFecha2 "
.head 5 +  If cmbEmpresa !=''
.head 6 -  Set sConsulta=sConsulta||"	AND	B.COD_EMPRESA = :dlgConsultaFacturasA.cmbEmpresa.nCodigo"
.head 5 +  If cmbCuidades !=''
.head 6 -  Set sConsulta=sConsulta||"	AND	A.CODIGO_CIUDAD_GEO = :dlgConsultaFacturasA.cmbCuidades.nCodigo"
.head 5 +  If cbTitulares=TRUE
.head 6 -  Set sConsulta=sConsulta||"	AND	B.CORREL_PACIENTE='0'"
.head 5 -  Set sConsulta=sConsulta||" INTO :dt1,:s1,:s2,:n1,:n2,:n3,:n4 ORDER BY a.fecha_ingreso"
.head 5 -  Set sConsulta2=sConsulta
.head 5 -  Return sConsulta
.head 2 +  Window Parameters
.head 3 -  Number: nCaso
.head 3 -  Receive Number: nRegresa
.head 2 +  Window Variables
.head 3 -  String: sConsulta2
.head 3 -  String: sConsultaImp
.head 3 -  String: sTitulo
.head 3 -  String: sFecha1
.head 3 -  String: sFecha2
.head 3 -  String: sSQL
.head 3 -  Number: nMedico
.head 3 -  String: sMedico
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 +  If nCaso=2
.head 5 -  Call SalShowWindowAndLabel( dfOculto )
.head 5 -  Call SalHideWindow(pb6 )
.head 4 +  Else
.head 5 +  If nCaso=1
.head 6 -  Call SalHideWindowAndLabel( dfOculto )
.head 6 -  Call SalShowWindow(pb6 )
.head 4 -  Call SalHideWindow(dfOculto)
.head 4 -  Set cmbCuidades = strCiudad
.head 4 -  Set cmbCuidades.nCodigo = nCodCiudad
.head 4 -  Call SalBringWindowToTop(dlgConsultaFacturasA)
.head 1 +  Dialog Box: dlgImprimirFacturasA
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Impresión de Facturas
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  3.067"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 1.702"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  Pushbutton: pbResumen
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Factura Sumarizada
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.071"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.333"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalCreateWindow( frmImprimir, hWndForm,
"Factura",
strRepPath || "\\FACTURAT.QRP",
":n1,:s1,:dt1,:n2,:n3,:n4,:n5,
:s2,:s3,:s4,:s5,:s6,
:s7,:n6,:s8,:s9,:s10,:n7,:dt2,:dt3",

"A.COD_FACTURA,A.DESCRIPCION,A.FECHA_REGISTRO,A.MONTO_FACTURA,A.TOTAL,A.DESCUENTO,
                A.MONTO_HONORARIOS,
                D.COD_PACIENTE,D.CORREL_PACIENTE,D.PRIMER_NOM,D.PRIMER_APE,
                E.COD_CATEGORIA,E.NOMBRE,B.SUBTOTAL,D.DIRECCION,D.SEXO,D.TELEFONO_CASA,B.CANTIDAD,
                A.FECHA_INGRESO,A.FECHA_EGRESO",

"select	A.COD_FACTURA,A.DESCRIPCION,A.FECHA_REGISTRO,A.MONTO_FACTURA,A.TOTAL,A.DESCUENTO,
                A.MONTO_HONORARIOS,
                D.COD_PACIENTE,D.CORREL_PACIENTE,D.PRIMER_NOM,D.PRIMER_APE,
                E.COD_CATEGORIA,E.NOMBRE,B.SUBTOTAL,D.DIRECCION,D.SEXO,D.TELEFONO_CASA,B.CANTIDAD,
	A.FECHA_INGRESO,A.FECHA_EGRESO
                


from	FACTURASA A, DET_FACTURAA B, SERVICIOS C, PACIENTES D,
                CATEG_SERVICIOS E
where	A.COD_FACTURA=B.COD_FACTURA AND E.COD_CATEGORIA=B.COD_CATEGORIA AND
                A.COD_PACIENTE = D.COD_PACIENTE AND A.CORREL_PACIENTE=D.CORREL_PACIENTE AND
               B.COD_SERVICIO=C.COD_SERVICIO AND C.COD_SERVICIO=B.COD_SERVICIO AND
                C.COD_CATEGORIA=E.COD_CATEGORIA AND A.COD_FACTURA=:frmFactA.dfFactura

ORDER BY E.ORDEN

into	:n1,:s1,:dt1,:n2,:n3,:n4,:n5,
	:s2,:s3,:s4,:s5,:s6,
	:s7,:n6,:s8,:s9,:s10,:n7,:dt2,:dt3",

'', FALSE)
.head 3 +  Pushbutton: pbFacturaDetallada
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Factura Detallada
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.488"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.333"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalCreateWindow( frmImprimir, hWndForm,
"Factura",
strRepPath || "\\FACTURA_DET.QRP",":n1,:s1,:dt1,:n2,:n3,:n4,:n5,
:s2,:s3,:s4,:s5,:s6,
:s7,:n6,:s8,:s9,:s10,:s11,:s12,:n7,:dt2",

"A.COD_FACTURA,A.DESCRIPCION,A.FECHA_REGISTRO,A.MONTO_FACTURA,A.TOTAL,A.DESCUENTO,
                A.MONTO_HONORARIOS,
                D.COD_PACIENTE,D.CORREL_PACIENTE,D.PRIMER_NOM,D.PRIMER_APE,
                E.COD_CATEGORIA,E.NOMBRE,B.SUBTOTAL,D.DIRECCION,D.SEXO,D.TELEFONO_CASA,
                C.COD_SERVICIO,C.NOMBRE,B.CANTIDAD,B.FECHA",

"select	A.COD_FACTURA,A.DESCRIPCION,A.FECHA_REGISTRO,A.MONTO_FACTURA,A.TOTAL,A.DESCUENTO,
                A.MONTO_HONORARIOS,
                D.COD_PACIENTE,D.CORREL_PACIENTE,D.PRIMER_NOM,D.PRIMER_APE,
                E.COD_CATEGORIA,E.NOMBRE,B.SUBTOTAL,D.DIRECCION,D.SEXO,D.TELEFONO_CASA,
                C.COD_SERVICIO,C.NOMBRE,B.CANTIDAD,B.FECHA
                


from	FACTURASA A, DET_FACTURAA B, SERVICIOS C, PACIENTES D,
                CATEG_SERVICIOS E
where	A.COD_FACTURA=B.COD_FACTURA AND
                A.COD_PACIENTE = D.COD_PACIENTE AND A.CORREL_PACIENTE=D.CORREL_PACIENTE AND
               B.COD_SERVICIO=C.COD_SERVICIO AND  C.COD_SERVICIO=B.COD_SERVICIO AND
                B.COD_CATEGORIA=C.COD_CATEGORIA AND C.COD_CATEGORIA=E.COD_CATEGORIA AND A.COD_FACTURA=:frmFactA.dfFactura

ORDER BY E.ORDEN,B.FECHA

into	:n1,:s1,:dt1,:n2,:n3,:n4,:n5,
	:s2,:s3,:s4,:s5,:s6,
	:s7,:n6,:s8,:s9,:s10,:s11,:s12,:n7,:dt2",

'', FALSE)
.head 3 +  Pushbutton: pbHonorarios
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Honorarios de Factura
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.905"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.333"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalCreateWindow( frmImprimir, hWndForm,
"Factura",
strRepPath || "\\FACTURA_HON.QRP","
 :n1,:s1,:s2,:s3,:n2,:n3,:s4,:s5,:dt1",

"A.COD_FACTURA,
                D.PRIMER_NOM,D.PRIMER_APE,
                E.NOMBRE,B.COSTO,
                C.COD_MEDICO,C.NOMBRE,B.DESCRIPCION,B.FECHA",

"select	A.COD_FACTURA,
                D.PRIMER_NOM,D.PRIMER_APE,
                E.NOMBRE,B.COSTO,
                C.COD_MEDICO,C.NOMBRE,B.DESCRIPCION,B.FECHA
                


from	FACTURASA A, DET_HONORARIOSA B, MEDICOS C, PACIENTES D,
                ESPECIALIDAD E
where	A.COD_FACTURA=B.COD_FACTURA AND
                A.COD_PACIENTE = D.COD_PACIENTE AND A.CORREL_PACIENTE=D.CORREL_PACIENTE AND
               B.COD_MEDICO=C.COD_MEDICO AND
                C.COD_ESPECIALIDAD=E.COD_ESPECIALIDAD AND B.ESTADO_PAGO=1  AND A.COD_FACTURA=:frmFactA.dfFactura

ORDER BY B.FECHA

into	
 :n1,:s1,:s2,:s3,:n2,:n3,:s4,:s5,:dt1",
'', FALSE)
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 -  Window Variables
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  Call SalBringWindowToTop( hWndForm )
.head 1 +  Dialog Box: dlgPagosHon
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Pagos a Honorarios
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: -0.013"
.head 4 -  Top:    -0.01"
.head 4 -  Width:  13.3"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 7.274"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 1.813"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Face Color
.head 3 +  Contents
.head 4 -  Group Box: Información de Factura
.head 5 -  Resource Id: 29610
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.35"
.head 6 -  Top:    0.76"
.head 6 -  Width:  12.333"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.06"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: #Factura :
.head 5 -  Resource Id: 35656
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.75"
.head 6 -  Top:    0.948"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.226"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfFactura
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Number
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 0.783"
.head 7 -  Top:    1.094"
.head 7 -  Width:  1.6"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Validate
.head 7 -  Call SqlExists("Select	COD_FACTURA
from	FACTURAS 
where	COD_FACTURA =:dfFactura",bExists)
.head 7 -  Call SqlClearImmediate( )
.head 7 +  If bExists
.head 8 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 4 -  Background Text: Total
.head 5 -  Resource Id: 35659
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 8.65"
.head 6 -  Top:    0.948"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfTotal
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 8.65"
.head 7 -  Top:    1.115"
.head 7 -  Width:  1.7"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 -  Background Text: Debe el cliente
.head 5 -  Resource Id: 35660
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 10.65"
.head 6 -  Top:    0.948"
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfDebe
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 10.65"
.head 7 -  Top:    1.094"
.head 7 -  Width:  1.7"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Red
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbSalir
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 11.783"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Call SalEndDialog( dlgPagosHon, TRUE )
.head 4 -  Line
.head 5 -  Resource Id: 35661
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Coordinates
.head 6 -  Begin X:  -0.017"
.head 6 -  Begin Y:  0.655"
.head 6 -  End X:  13.183"
.head 6 -  End Y:  0.655"
.head 5 -  Visible? Yes
.head 5 -  Line Style: Solid
.head 5 -  Line Thickness: 2
.head 5 -  Line Color: Default
.head 4 -  Background Text: Correl
.head 5 -  Resource Id: 35662
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 2.583"
.head 6 -  Top:    0.927"
.head 6 -  Width:  0.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfCorrel
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 2.583"
.head 7 -  Top:    1.094"
.head 7 -  Width:  0.9"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 -  Background Text: Medico
.head 5 -  Resource Id: 35665
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 3.583"
.head 6 -  Top:    0.927"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfNombre
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 3.583"
.head 7 -  Top:    1.094"
.head 7 -  Width:  4.8"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 -  Background Text: Descripción
.head 5 -  Resource Id: 35664
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.783"
.head 6 -  Top:    1.51"
.head 6 -  Width:  1.1"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfDes
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 1.983"
.head 7 -  Top:    1.49"
.head 7 -  Width:  6.4"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 -  Background Text: Fecha
.head 5 -  Resource Id: 35663
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 8.783"
.head 6 -  Top:    1.51"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfFec
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfFecha
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 9.783"
.head 7 -  Top:    1.49"
.head 7 -  Width:  1.3"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pb2
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Nuevo
.head 5 -  Window Location and Size
.head 6 -  Left: 0.283"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 -  Call LimpiarCampos()
.head 7 -  Call SqlExists("Select 
		max(NUMERO_PAGO) 
	from   
		PAGOS_HON
	where	
		CORREL=:dfCorrel and 
		cod_factura=:dfFactura 
	into 
		:xno_pago",
	bExists)
.head 7 -  Call SqlClearImmediate( )
.head 7 +  If bExists
.head 8 -  Set xno_pago = xno_pago + 1
.head 7 +  Else
.head 8 -  Set xno_pago = 1 
.head 7 -  Set dfPago = xno_pago
.head 4 +  Pushbutton: pb3
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbGrabar
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.983"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbEliminar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.783"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\editdelete.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 +  If SalIsNull (dfPago)
.head 8 -  !
.head 8 -  Call SalMessageBox ("Debe especificar el no. de pago!", "ERROR", MB_Ok)
.head 8 -  Return FALSE
.head 7 +  If SalMessageBox( "Esta seguro de eliminar el pago #" || SalNumberToStrX(dfPago, 0) || " correspondiente a F-" || SalNumberToStrX(dfFactura,0) || "?", "Advertencia", MB_YesNo )=IDYES
.head 8 -  !
.head 8 -  Call SqlPrepareAndExecute(hSql1,"DELETE
				FROM
					PAGOS_HON
				WHERE
					NUMERO_PAGO = :dfPago AND
					CORREL=:dfCorrel and
					COD_FACTURA   = :dfFactura")
.head 8 -  Call SalSendMsg( dlgPagosHon, MU_ACTUALIZAR, 0, 0 )
.head 2 +  Contents
.head 3 -  Group Box: Pagos Efectuados a Medicos
.head 4 -  Resource Id: 35652
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    2.655"
.head 5 -  Width:  12.867"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.833"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Child Table: tbl2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.783"
.head 6 -  Top:    3.155"
.head 6 -  Width:  12.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.979"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: Default
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colPago
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: #Pago
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMonto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.417"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFecha
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.55"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colTipo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Tipo Pag.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.167"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDocumento
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: #Documento
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.783"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colRecibo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: #Recibo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.35"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDescrip
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripcion
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colTipo_pago
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: cod_pago
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.617"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 +  Message Actions
.head 5 +  ! On SAM_DoubleClick
.head 6 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.colPago)
.head 6 -  Call SalTblSetContext(tbl1,nFilita)
.head 6 -  Set dfPago=tbl1.colPago
.head 6 -  Set dfMonto=tbl1.colMonto
.head 6 -  Set dfFechaPago=tbl1.colFecha
.head 6 -  Set cmbPago.nCodigo=tbl1.colTipo_pago
.head 6 -  Set dfDocumento=tbl1.colDocumento
.head 6 -  Set dfDescrip=tbl1.colDescrip
.head 6 -  Set dfRecibo=tbl1.colRecibo
.head 6 -  Call cmbPago.Actualizar()
.head 3 +  Data Field: dfTotalPagadoAMed
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.583"
.head 6 -  Top:    4.155"
.head 6 -  Width:  2.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: 10
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Total Pagado a Medico
.head 4 -  Resource Id: 35654
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.183"
.head 5 -  Top:    4.179"
.head 5 -  Width:  3.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: 10
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Pagos Efectuados a la Factura por parte del cliente
.head 4 -  Resource Id: 29608
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.071"
.head 5 -  Width:  12.767"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.536"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.683"
.head 6 -  Top:    0.905"
.head 6 -  Width:  12.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.31"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: Default
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colPago
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: #Pago
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMonto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.417"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFecha
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.55"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colTipo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Tipo Pag.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.167"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDocumento
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: #Documento
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.783"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colRecibo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: #Recibo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.35"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDescrip
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripcion
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colTipo_pago
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: cod_pago
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.617"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 +  Message Actions
.head 5 +  On SAM_DoubleClick
.head 6 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.colPago)
.head 6 -  Call SalTblSetContext(tbl1,nFilita)
.head 6 -  Set dfPago=tbl1.colPago
.head 6 -  Set dfMonto=tbl1.colMonto
.head 6 -  Set dfFechaPago=tbl1.colFecha
.head 6 -  Set cmbPago.nCodigo=tbl1.colTipo_pago
.head 6 -  Set cmbPago=tbl1.colTipo
.head 6 -  Set dfDocumento=tbl1.colDocumento
.head 6 -  Set dfDescrip=tbl1.colDescrip
.head 6 -  Set dfRecibo=tbl1.colRecibo
.head 3 +  Data Field: dfTotalPagado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.483"
.head 6 -  Top:    2.238"
.head 6 -  Width:  2.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.226"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: 10
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Total Pagado por el cliente
.head 4 -  Resource Id: 29609
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.771"
.head 5 -  Top:    2.298"
.head 5 -  Width:  3.414"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: 10
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Se debe al medico
.head 4 -  Resource Id: 29611
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.65"
.head 5 -  Top:    2.905"
.head 5 -  Width:  1.743"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfDebeAMed
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.483"
.head 6 -  Top:    2.905"
.head 6 -  Width:  2.267"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Red
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfRecibo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.95"
.head 6 -  Top:    0.512"
.head 6 -  Width:  1.133"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfPago
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.05"
.head 6 -  Top:    0.512"
.head 6 -  Width:  0.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Set dfFechaPago=FechaHoy(2)
.head 6 -  Call SalDateToStr( dfFechaPago, FECHA_PAGO )
.head 6 -  Call SalStrLeft (FECHA_PAGO, 10, FECHA_PAGO )
.head 3 +  Combo Box: cmbPago
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.117"
.head 5 -  Top:    0.512"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Yes
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbPago.nCaso=1
.head 6 -  Set cmbPago.sTabla='TIPOS_PAGO'
.head 6 -  Set cmbPago.sNombre='NOMBRE'
.head 6 -  Set cmbPago.sCodigo='COD_PAGO'
.head 3 +  Data Field: dfFechaPago
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.65"
.head 6 -  Top:    0.512"
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Call SalDateToStr( dfFechaPago, FECHA_PAGO )
.head 6 -  Call SalStrLeft (FECHA_PAGO, 10, FECHA_PAGO )
.head 3 +  Data Field: dfDocumento
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.45"
.head 6 -  Top:    0.512"
.head 6 -  Width:  2.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Data Field: dfDescrip
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.283"
.head 6 -  Top:    0.512"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Pago No.
.head 4 -  Resource Id: 6998
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.017"
.head 5 -  Top:    0.31"
.head 5 -  Width:  0.833"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Recibo No.
.head 4 -  Resource Id: 6995
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.217"
.head 5 -  Top:    0.31"
.head 5 -  Width:  0.933"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Tipo Pago
.head 4 -  Resource Id: 6997
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.683"
.head 5 -  Top:    0.31"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.202"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Fecha
.head 4 -  Resource Id: 6996
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.95"
.head 5 -  Top:    0.31"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Doc. No
.head 4 -  Resource Id: 6993
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.717"
.head 5 -  Top:    0.31"
.head 5 -  Width:  0.833"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Abono
.head 4 -  Resource Id: 7013
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.683"
.head 5 -  Top:    0.333"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Descripcion
.head 4 -  Resource Id: 6994
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.283"
.head 5 -  Top:    0.333"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfMonto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 8.65"
.head 6 -  Top:    0.512"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Pushbutton: pb5
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Nuevo
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    2.905"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call SalModalDialog( dlgPagosHonProv, hWndForm, dfCorrel,dfFactura)
.head 6 -  Call SalSendMsg(frmFactPend,MU_ACTUALIZAR,0,0)
.head 3 +  Pushbutton: pb6
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    0.321"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call SqlImmediate("
select	
	B.PRIMER_NOM+'   ' +B.PRIMER_APE,
	A.FECHA_REGISTRO,
	A.FECHA_CIERRE,
	A.TOTAL,
	A.MONTO_DEBE
from	 
	FACTURAS  A,
	PACIENTES B
where	
	A.COD_FACTURA = :dfFactura and
	A.COD_PACIENTE        =B.COD_PACIENTE  and  
	A.CORREL_PACIENTE =B.CORREL_PACIENTE and
	A.ESTADO_PROCESO<>2 and 
	(A.ESTADO_PAGO=0 or A.ESTADO_PAGO=1)
into
	:sNomPaciente,
	:dtFechaR,
	:dtFechaC,
	:nTotalFacturado,
	:nTotalDebeFactura")
.head 6 -  Call SqlClearImmediate()
.head 6 -  !
.head 6 -  Set nRegresaPago = NUMBER_Null
.head 6 -  Call SalModalDialog( dlgPagosConsulta, hWndForm,dfFactura,dtFechaR,dtFechaC,nTotalFacturado, nTotalDebeFactura, sNomPaciente, 1, nRegresaPago )
.head 6 -  !
.head 6 +  If nRegresaPago != NUMBER_Null
.head 7 -  !
.head 7 -  Call SqlImmediate("
select	
	
              	A.FECHA,
	A.COD_PAGO,
	B.NOMBRE,
                A.DOCUMENTO,
	A.RECIBO,
	A.DESCRIPCION
               
from	 PAGOS  A,
	 TIPOS_PAGO B

where	
	A.COD_PAGO	=B.COD_PAGO AND 
	A.COD_FACTURA	=:dfFactura  and
	A.NUMERO_PAGO = :nRegresaPago
into
	
	:dfFechaPago,
	:cmbPago.nCodigo,
	:cmbPago,
	:dfDocumento,
	:dfRecibo,
	:dfDescrip")
.head 7 -  Call SqlClearImmediate()
.head 2 +  Functions
.head 3 +  Function: ActualizarDebe
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: PAG
.head 4 +  Actions
.head 5 -  ! Call SqlPrepareAndExecute(hSql1,"
select 	sum(monto) from PAGOS where cod_factura=:dfFactura 
 into :PAGADO ") 

.head 5 -  ! Set PAGADO=dfTotalPagado+dfMonto
.head 5 +  ! If dfTotal-PAGADO<=0
.head 6 -  Set ESTADO='S'
.head 5 +  ! Else
.head 6 -  Set ESTADO='N'
.head 5 -  ! Set PAGADO=dfTotal-PAGADO
.head 5 +  ! If not SqlPrepareAndExecute(hSql1,"
update DET_HONORARIOS set MONTO_DEBE=MONTO_DEBE- (:dfMonto), PAGADO=:ESTADO,
MONTO_PAGADO = MONTO_PAGADO +  (:dfMonto) where
correl=:dfCorrel") 
.head 6 -  Return FALSE
.head 5 +  ! If not SqlPrepareAndExecute(hSql1,"
update facturas set DEBE_HONORARIOS=DEBE_HONORARIOS - (:dfMonto ), 
PAGADO_HONORARIOS=PAGADO_HONORARIOS + (:dfMonto) where
cod_factura=:dfFactura") 
.head 6 -  Return FALSE
.head 5 -  ! Return TRUE
.head 3 +  Function: LimpiarCampos
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Set dfPago=NUMBER_Null
.head 5 -  Set dfMonto=NUMBER_Null
.head 5 -  Set dfFechaPago=DATETIME_Null
.head 5 -  Set cmbPago=''
.head 5 -  Set dfDocumento=''
.head 5 -  Set dfRecibo=''
.head 5 -  Set dfDescrip=''
.head 2 +  Window Parameters
.head 3 -  Number: correl
.head 3 -  Number: factura
.head 2 +  Window Variables
.head 3 -  String: FECHA_PAGO
.head 3 -  Number: PAGADO
.head 3 -  String: ESTADO
.head 3 -  Number: nFilita
.head 3 -  Number: xno_pago
.head 3 -  Number: nTotalFacturado
.head 3 -  String: sNomPaciente
.head 3 -  Date/Time: dtFechaR
.head 3 -  Date/Time: dtFechaC
.head 3 -  Number: nTotalDebeFactura
.head 3 -  Number: nRegresaPago
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 +  If dfFactura !=-1 and dfCorrel !=-1
.head 5 -  Set dfFactura=factura
.head 5 -  Set dfCorrel=correl
.head 5 -  Call SqlPrepareAndExecute( hSql1, "Select 
     B.NOMBRE,A.COSTO,A.MONTO_DEBE,A.FECHA,A.DESCRIPCION
FROM DET_HONORARIOS A, MEDICOS B
WHERE A.CORREL=:dfCorrel and A.COD_MEDICO = B.COD_MEDICO into
:dfNombre,:dfTotal,:dfDebe,:dfFec,:dfDes " )
.head 5 -  Call SqlFetchNext( hSql1, nSiguiente )
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  Call SalSendMsg( hWndForm, MU_ACTUALIZAR, 0, 0 )
.head 4 -  Call SalBringWindowToTop( hWndForm )
.head 3 +  On MU_ACTUALIZAR
.head 4 -  Call SalTblPopulate(tbl1,hSql1,"
select	A.NUMERO_PAGO,A.MONTO,
              convert(varchar(10) ,A.FECHA,103),B.NOMBRE,
               A.DOCUMENTO,A.RECIBO,A.DESCRIPCION,A.COD_PAGO
               
from	 PAGOS_HON  A, TIPOS_PAGO B

where	A.COD_PAGO=B.COD_PAGO AND A.CORREL=:dfCorrel

 order by A.FECHA",TBL_FillAll)
.head 4 -  ! Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  Set dfTotalPagado=SalTblColumnSum(tbl1,2 ,0,0)
.head 4 -  Set dfDebe=dfTotal-dfTotalPagado
.head 4 -  !
.head 4 -  Call SalTblPopulate(tbl2,hSql1,"
select	A.NUMERO_PAGO,A.MONTO,
              convert(varchar(10) ,A.FECHA,103),B.NOMBRE,
               A.DOCUMENTO,A.RECIBO,A.DESCRIPCION,A.COD_PAGO
               
from	 PAGOS_A_MED  A, TIPOS_PAGO B

where	A.COD_PAGO=B.COD_PAGO AND A.CORREL=:dfCorrel

 order by A.FECHA",TBL_FillAll)
.head 4 -  Set dfTotalPagadoAMed=SalTblColumnSum(tbl2,2 ,0,0)
.head 4 -  Set dfDebeAMed=dfTotal-dfTotalPagadoAMed
.head 3 +  ! On MU_BORRAR
.head 4 -  Call SqlPrepareAndExecute(hSql1,"Begin Tran")
.head 4 -  Call SqlPrepareAndExecute(hSql1,"
	delete from	Pagos_Hon
	where	numero_pago  =:dfPago and  correl =:dfCorrel ") 
.head 4 -  Set PAGADO=dfTotalPagado-dfMonto
.head 4 +  If dfTotal-PAGADO<=0
.head 5 -  Set ESTADO='S'
.head 4 +  Else 
.head 5 -  Set ESTADO='N'
.head 4 -  Set PAGADO=dfTotal-PAGADO
.head 4 -  Call SqlPrepareAndExecute(hSql1,"
update DET_HONORARIOS set MONTO_DEBE=:PAGADO,
MONTO_PAGADO= (:dfTotal - :PAGADO )  where
CORREL=:dfCorrel ")  
.head 4 -  Call SqlPrepareAndExecute(hSql1, "update facturas set debe_honorarios=debe_honorarios + :dfMonto ,
pagado_honorarios = pagado_honorarios - :dfMonto " )
.head 4 -  Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 4 -  Call SalMessageBox( "Pago  ha sido Borrado", "Advertencia", MB_Ok )
.head 4 -  Call SalEnableWindow(pbGrabar)
.head 3 +  On MU_GRABAR
.head 4 -  Call SqlExists("Select	
		NUMERO_PAGO 
	from   
		PAGOS_HON
	where	
		COD_FACTURA =:dfFactura and 
		NUMERO_PAGO =:dfPago and 
		CORREL=:dfCorrel ",bExists)
.head 4 -  Call SqlClearImmediate( )
.head 4 -  Call SalDateToStr( dfFechaPago, FECHA_PAGO )
.head 4 -  Call SalStrLeft (FECHA_PAGO, 10, FECHA_PAGO )
.head 4 +  If bExists
.head 5 -  Call SqlPrepareAndExecute(hSql1,"
update	
	PAGOS_HON
set	
                FECHA=:FECHA_PAGO,
	DESCRIPCION =:dfDescrip,
	MONTO =:dfMonto,
	RECIBO=:dfRecibo,
	DOCUMENTO =:dfDocumento,
	COD_PAGO =:cmbPago.nCodigo
where	
	NUMERO_PAGO =:dfPago and 
	CORREL=:dfCorrel and
	COD_FACTURA=:dfFactura ")  
.head 4 +  Else
.head 5 -  ! Call SqlPrepareAndExecute(hSql1,"Begin Tran")
.head 5 -  Call SqlPrepareAndExecute(hSql1,"
insert 	PAGOS_HON  ( NUMERO_PAGO,
	COD_FACTURA,
	FECHA,
	DESCRIPCION,
	MONTO,
	RECIBO,
	DOCUMENTO,
	COD_PAGO,
	CORREL

	 )
values(
	:dfPago,      
	:dfFactura,
	:FECHA_PAGO,
	:dfDescrip,
	:dfMonto,
	:dfRecibo,
	:dfDocumento,
	:cmbPago.nCodigo,
	:dfCorrel

               )")  
.head 1 +  Form Window: frmGrafica
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title:
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Maximized
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: 1.24"
.head 4 -  Top:    1.033"
.head 4 -  Width:  8.571"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 5.429"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  Custom Control: cc1
.data CLASSPROPSSIZE
0000: C319
.enddata
.data CLASSPROPS
0000: 4753706563457874 003A000000010000 0000000000000000 0700000000000000
0020: 0000000000000000 0300000000000500 0100310100320100 3301003401003502
0040: 000000000000534F 5552434500050074 626C310000477261 706853706563004C
0060: 1990010000000000 0000000000000000 0000000000000000 0000000000000000
0080: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
00A0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
00C0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
00E0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0100: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0120: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0140: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0160: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0180: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
01A0: 0000000000000000 0000000000000000 0000000000020000 0032000000000000
01C0: 0003000000010000 0000000000000000 0001000000020000 0003000000417269
01E0: 616C000000000000 0000000000000000 0000000000000000 0000000000000000
0200: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0220: 0000000000000000 0000000000417269 616C000000000000 0000000000000000
0240: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0260: 0000000000000000 0000000000000000 0000000000000000 0000000000417269
0280: 616C000000000000 0000000000000000 0000000000000000 0000000000000000
02A0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
02C0: 0000000000000000 0000000000417269 616C000000000000 0000000000000000
02E0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0300: 0000000000000000 0000000000000000 0000000000000000 0000000000C80000
0320: 0096000000640000 0064000000000000 0000000000000000 0000000000000000
0340: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0360: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0380: 0000000000000000 0000000000000000 0000000000040000 0000000000000000
03A0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
03C0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
03E0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0400: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0420: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0440: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0460: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0480: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
04A0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
04C0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
04E0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0500: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0520: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0540: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0560: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0580: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
05A0: 0000000000010000 0001000000000000 0000000000000000 0000000000000000
05C0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
05E0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0600: 0000000000000000 0005000000010000 0000000000000000 0000000000000000
0620: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0640: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0660: 0000000000000000 0000000000320000 00000000001E0000 0000000000000000
0680: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
06A0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
06C0: 0000000000000000 0000000000000000 0064000000010000 0001000000010000
06E0: 0003000000010000 0000000000000000 0000000000000000 0001000000000000
0700: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0720: 000000000074626C 3100000000000000 0000000000000000 0000000000000000
0740: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0760: 0000000000000000 0000000000000000 0000000000010000 00636F6C32000000
0780: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
07A0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
07C0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
07E0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0800: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0820: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0840: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0860: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0880: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
08A0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
08C0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
08E0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0900: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0920: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0940: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0960: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0980: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
09A0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
09C0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
09E0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0A00: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0A20: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0A40: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0A60: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0A80: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0AA0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0AC0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0AE0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0B00: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0B20: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0B40: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0B60: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0B80: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0BA0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0BC0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0BE0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0C00: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0C20: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0C40: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0C60: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0C80: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0CA0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0CC0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0CE0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0D00: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0D20: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0D40: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0D60: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0D80: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0DA0: 0000000000000000 0000000000000000 0000000000000000 00636F6C32000000
0DC0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0DE0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0E00: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0E20: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0E40: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0E60: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0E80: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0EA0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0EC0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0EE0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0F00: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0F20: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0F40: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0F60: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0F80: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0FA0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0FC0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
0FE0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1000: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1020: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1040: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1060: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1080: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
10A0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
10C0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
10E0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1100: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1120: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1140: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1160: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1180: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
11A0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
11C0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
11E0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1200: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1220: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1240: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1260: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1280: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
12A0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
12C0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
12E0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1300: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1320: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1340: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1360: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1380: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
13A0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
13C0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
13E0: 0000000000000000 0000000000000000 0000000000000000 00636F6C31000000
1400: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1420: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1440: 0000000000000000 00636F6C31000000 0000000000000000 0000000000000000
1460: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1480: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
14A0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
14C0: 0000000000000000 0000000000000000 0001000000000000 0000000000000000
14E0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1500: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1520: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1540: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1560: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1580: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
15A0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
15C0: 0000000000000000 0000000000000000 0000000000000000 0007000000FFFFFF
15E0: FFFFFFFFFFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFFFF100000 0010000000100000
1600: 0010000000100000 0010000000100000 0010000000100000 0010000000100000
1620: 0010000000100000 0010000000000000 0000000000000000 0000000000000000
1640: 0000000000000000 0000000000010000 0001000000000000 0000000000000000
1660: 0000000000000000 0000000000000000 00FFFFFFFF000000 00FFFFFFFF000000
1680: 0000000000000000 0000000000000000 0000000000000000 0000000000475241
16A0: 50485050522E484C 5000000000000000 0000000000000000 0000000000000000
16C0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
16E0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1700: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1720: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1740: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1760: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1780: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
17A0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
17C0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
17E0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1800: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1820: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1840: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1860: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1880: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
18A0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
18C0: 0000000000000000 0000000000010000 0047726170682043 6F6E74726F6C0000
18E0: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1900: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1920: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1940: 0000000000000000 0000000000000000 0000000000000000 0000000000000000
1960: 0000000000000000 0000000000000000 0000000000000000 000F000000000000
1980: 0008000000640000 0014000000140000 0000000000000000 0000000000000000
19A0: 0000000000000000 0001000000004954 454D000500636F6C 3200000000000000
19C0: 000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQuickGraph
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.586"
.head 6 -  Top:    0.24"
.head 6 -  Width:  7.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 3.167"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.086"
.head 6 -  Top:    3.906"
.head 6 -  Width:  5.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.333"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: Default
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: col1
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title:
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: col2
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title:
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.114"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 +  Message Actions
.head 5 +  On SAM_CreateComplete
.head 6 -  Call SalTblPopulate(tbl1,hSql1,"SELECT B.NOMBRE,SUM(A.MONTO_FACTURA)
FROM FACTURASA A,EMPRESAS B,PACIENTES C
where A.COD_PACIENTE=C.COD_PACIENTE	and
	A.CORREL_PACIENTE=C.CORREL_PACIENTE and
	C.COD_EMPRESA=B.COD_EMPRESA
GROUP BY B.COD_EMPRESA,B.NOMBRE ",TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 3 +  Pushbutton: pb1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Graficar
.head 4 -  Window Location and Size
.head 5 -  Left: 7.683"
.head 5 -  Top:    3.906"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.292"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: None
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call cc1.Draw()
.head 6 -  Call cc1.Refresh("tbl1")
.head 3 +  Pushbutton: pb2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Imprimir
.head 4 -  Window Location and Size
.head 5 -  Left: 7.683"
.head 5 -  Top:    4.323"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.292"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: None
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set cc1.Graph.ImageFile='GRAPH'
.head 6 -  Set cc1.Graph.DrawMode=6
.head 6 -  Call cc1.Draw()
.head 6 -  Set cc1.Graph.DrawMode=2
.head 6 -  Call SalCreateWindow(frmReporteGrafica,hWndForm,'','C:\\CENTURA\\BETESDA\\REPORTES\\GRAFICA.QRP',
'','','','')
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 -  Window Variables
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalCenterWindow( hWndForm )
.head 1 +  Form Window: frmReporteGrafica
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Ventana de Reportes
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Etched
.head 3 -  Visible at Design time? No
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Maximized
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? No
.head 3 -  Window Location and Size
.head 4 -  Left: 0.0"
.head 4 -  Top:    0.75"
.head 4 -  Width:  7.125"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 3.563"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: System Text Color
.head 3 -  Background Color: System Window Color
.head 2 -  Description: la funcion para imprimir debe recibir lo que se explica aqui: 
1) el título del reporte
2) el nombre del reporte(*.qrp) 
3) el nombre de las bind variables :s1,:n1
4) el nombre de los campos select nombre,edad ,...
5) el comando a ejecutar (SELECT)
.head 2 -  Named Menus
.head 2 +  Menu
.head 3 +  Popup Menu: &Reporte
.head 4 -  Resource Id: 22552
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 4 +  Menu Item: &Primera Página
.head 5 -  Resource Id: 22553
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalReportCmd(hWndForm, RPT_CmdFirstPage)
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: &Ultima página
.head 5 -  Resource Id: 22554
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalReportCmd(hWndForm, RPT_CmdLastPage)
.head 5 -  Menu Item Name:
.head 4 -  Menu Separator
.head 4 +  Menu Item: &Siguiente página
.head 5 -  Resource Id: 22555
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalReportCmd(hWndForm, RPT_CmdNextPage)
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Página &Anterior
.head 5 -  Resource Id: 22556
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalReportCmd(hWndForm, RPT_CmdPrevPage)
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: &Ir a página...
.head 5 -  Resource Id: 22557
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalReportCmd(hWndForm, RPT_CmdGoToPage)
.head 5 -  Menu Item Name:
.head 4 -  Menu Separator
.head 4 +  Menu Item: &Cerrar Reporte
.head 5 -  Resource Id: 22558
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalReportClose(hWndForm)
.head 6 -  Call SalDestroyWindow(hWndForm)
.head 5 -  Menu Item Name:
.head 3 +  Popup Menu: &Impresión
.head 4 -  Resource Id: 22559
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 4 +  Menu Item: &Imprimir
.head 5 -  Resource Id: 22560
.head 5 -  Keyboard Accelerator: Ctrl+P
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalReportCmd(hWndForm, RPT_CmdPrint)
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: &Configurar impresora
.head 5 -  Resource Id: 22561
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalReportCmd(hWndForm, RPT_CmdPrinterSetup)
.head 5 -  Menu Item Name:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.49"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Contents
.head 4 +  Pushbutton: pb1
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 7.188"
.head 6 -  Top:    0.073"
.head 6 -  Width:  0.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.417"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 2 +  Contents
.head 3 +  Picture: picGrafica
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.283"
.head 5 -  Top:    0.905"
.head 5 -  Width:  6.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.333"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Editable? No
.head 4 -  File Name:
.head 4 -  Storage: External
.head 4 -  Picture Transparent Color: None
.head 4 -  Fit: Scale
.head 4 -  Scaling
.head 5 -  Width:  100
.head 5 -  Height:  100
.head 4 -  Corners: Square
.head 4 -  Border Style: Solid
.head 4 -  Border Thickness: 1
.head 4 -  Tile To Parent? No
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 2 -  Functions
.head 2 +  Window Parameters
.head 3 -  String: sTituloListado	
.head 3 -  String: sReporte		
.head 3 -  String: sVarsEnlace	
.head 3 -  String: sVarsEntrada	
.head 3 -  String: sCmdSelect	
.head 3 -  String: sObservaciones
.head 2 +  Window Variables
.head 3 -  String: s1
.head 3 -  String: s2
.head 3 -  String: s3
.head 3 -  String: s4
.head 3 -  String: s5
.head 3 -  String: s6
.head 3 -  String: s7
.head 3 -  String: s8
.head 3 -  String: s9
.head 3 -  String: s10
.head 3 -  String: s11
.head 3 -  String: s12
.head 3 -  String: s13
.head 3 -  String: s14
.head 3 -  String: s15
.head 3 -  String: s16
.head 3 -  String: s17
.head 3 -  String: s18
.head 3 -  String: s19
.head 3 -  String: s20
.head 3 -  String: s21
.head 3 -  !
.head 3 -  Number: n1
.head 3 -  Number: n2
.head 3 -  Number: n3
.head 3 -  Number: n4
.head 3 -  Number: n5
.head 3 -  Number: n6
.head 3 -  Number: n7
.head 3 -  Number: n8
.head 3 -  Number: n9
.head 3 -  Number: n10
.head 3 -  Number: n11
.head 3 -  Number: n12
.head 3 -  Number: n13
.head 3 -  Number: n14
.head 3 -  Number: n15
.head 3 -  Number: n16
.head 3 -  Number: n17
.head 3 -  Number: n18
.head 3 -  Number: n19
.head 3 -  Number: n20
.head 3 -  Number: n21
.head 3 -  Number: n22
.head 3 -  Number: n23
.head 3 -  Number: n24
.head 3 -  Number: n25
.head 3 -  Number: n26
.head 3 -  Number: n27
.head 3 -  Number: n28
.head 3 -  Number: n29
.head 3 -  Number: n30
.head 3 -  Number: n31
.head 3 -  Number: n32
.head 3 -  Number: n33
.head 3 -  Number: n34
.head 3 -  Number: n35
.head 3 -  Number: n36
.head 3 -  Number: n37
.head 3 -  Number: n38
.head 3 -  Number: n39
.head 3 -  Number: n40
.head 3 -  Number: n41
.head 3 -  Number: n42
.head 3 -  Number: n43
.head 3 -  Number: n44
.head 3 -  Number: n45
.head 3 -  Number: n46
.head 3 -  Number: n47
.head 3 -  Number: n48
.head 3 -  Number: n49
.head 3 -  Number: n50
.head 3 -  Number: n51
.head 3 -  Number: n52
.head 3 -  Number: n53
.head 3 -  Number: n54
.head 3 -  Number: n55
.head 3 -  Number: n56
.head 3 -  Number: n57
.head 3 -  Number: n58
.head 3 -  Number: n59
.head 3 -  Number: n60
.head 3 -  !
.head 3 -  Date/Time: dt1
.head 3 -  Date/Time: dt2
.head 3 -  Date/Time: dt3
.head 3 -  Date/Time: dt4
.head 3 -  Date/Time: dt5
.head 3 -  Date/Time: dt6
.head 3 -  Date/Time: dt7
.head 3 -  !
.head 3 -  Long String: ls1
.head 3 -  Long String: ls2
.head 3 -  Long String: ls3
.head 3 -  Long String: ls4
.head 3 -  Long String: ls5
.head 3 -  Long String: lsGrafica
.head 3 -  !
.head 3 -  Number: nError
.head 3 -  Boolean: bBien
.head 3 -  Sql Handle: hSqlReport
.head 3 -  Window Handle: hWndReporte
.head 3 -  !
.head 3 -  String: sDispositivo
.head 3 -  String: sDriver
.head 3 -  String: sPuerto
.head 3 -  !
.head 2 +  Message Actions
.head 3 +  ! On SAM_Create
.head 4 -  Call SalWaitCursor( TRUE )
.head 4 -  Call SqlConnect( hSqlReport )
.head 4 -  Set bBien=TRUE
.head 4 -  !
.head 4 -  ! aqui estoy haciendo la pantalla que despliega el reporte en modo previo, y guardo en una variable de tipo
handle, el "handle" de este reporte, para luego utilizar al:
1) Utilizarlo al momento de querer inicializar cualquier variable que envio al reporte
2) Utilizarlo en la funcion de SalReportDlgOptions
.head 4 -  !
.head 4 -  Set hWndReporte=SalReportView( frmImprimir,frmImprimir, sReporte,sVarsEnlace, sVarsEntrada, nError )
.head 4 -  Call SalWaitCursor( FALSE )
.head 4 -  !
.head 4 -  ! ahora proceso los diferentes errores que me retorna en el nError
.head 4 -  !
.head 4 +  If nError = RPT_ErrFileOpen
.head 5 -  Call SalMessageBox( 'No se pudo encontrar la plantilla: ' ||sReporte, sTituloListado,MB_Ok|MB_IconQuestion )
.head 5 -  Set bBien=FALSE
.head 4 +  If nError = RPT_ErrMaxRpts
.head 5 -  Call SalMessageBox( 'El número de reportes ha llegado al máximo!  ', sTituloListado,MB_Ok|MB_IconQuestion )
.head 5 -  Set bBien=FALSE
.head 4 +  If nError = RPT_ErrRptOpen
.head 5 -  Call SalMessageBox( 'El reporte no se pudo abrir para impresión.', sTituloListado,MB_Ok|MB_IconQuestion )
.head 5 -  Set bBien=FALSE
.head 4 +  If nError = RPT_ErrRptWindow
.head 5 -  Call SalMessageBox( 'No se pudo abrir la ventana de reportes. ', sTituloListado,MB_Ok|MB_IconQuestion )
.head 5 -  Set bBien=FALSE
.head 4 -  !
.head 4 -  ! si hubo algún de estos errores entonces no se podrá imprimir nada, por lo que termino
.head 4 -  !
.head 4 +  If NOT bBien
.head 5 -  Call SalDestroyWindow(hWndForm)
.head 3 +  On SAM_Create
.head 4 -  Call SalCenterWindow( hWndForm )
.head 4 -  Call SalWaitCursor( FALSE )
.head 4 -  Set hWndReporte=SalReportView( frmReporteGrafica, frmReporteGrafica, sReporte, 
					sVarsEnlace, sVarsEntrada, nError )
.head 3 +  On SAM_ReportStart
.head 4 -  Call SalReportDlgOptions( hWndReporte,sTituloListado, sReporte, 'Se 			está imprimiendo...',sTituloListado )
.head 4 -  Call SalReportSetStringVar( hWndReporte, 'sTitulo', sTituloListado )
.head 4 -  Call SalPicSetFile(picGrafica,'GRAPH.WMF')
.head 4 -  Call SalPicGetString(picGrafica,PIC_FormatObject, lsGrafica)
.head 4 -  Call SalReportSetObjectVar( hWndReporte, 'lsGrafica',lsGrafica)
.head 3 +  ! On SAM_ReportFetchInit
.head 4 -  Call SalReportSetStringVar( hWndReporte, 'sTitulo', sTituloListado )
.head 4 -  Call SalReportSetStringVar( hWndReporte, 'sObservaciones', sObservaciones )
.head 4 +  If NOT SqlPrepare( hSqlReport, sCmdSelect )
.head 5 -  Return FALSE
.head 4 +  Else 
.head 5 +  If NOT SqlExecute( hSqlReport )
.head 6 -  Return FALSE
.head 5 +  Else 
.head 6 -  Return TRUE
.head 3 +  ! On SAM_ReportFetchNext
.head 4 +  If SqlFetchNext( hSqlReport, nSiguiente )
.head 5 -  Return TRUE
.head 4 +  Else 
.head 5 -  Call SalWaitCursor( FALSE )
.head 3 +  ! On SAM_Destroy
.head 4 -  Call SqlCommit(hSqlReport)
.head 4 -  Call SqlDisconnect( hSqlReport )
.head 4 -  Call SalBringWindowToTop( hWndForm )
.head 1 +  Dialog Box: dlgHistorial
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Historial de Paciente
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  13.367"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 6.798"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Background Text: Codigo
.head 4 -  Resource Id: 37679
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    0.179"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCod_Paciente
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.083"
.head 6 -  Top:    0.155"
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfCorrelPaciente
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.383"
.head 6 -  Top:    0.155"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Nombres
.head 4 -  Resource Id: 37680
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.283"
.head 5 -  Top:    0.012"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfNombres
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.283"
.head 6 -  Top:    0.155"
.head 6 -  Width:  4.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Apellidos
.head 4 -  Resource Id: 37681
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.783"
.head 5 -  Top:    0.012"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfApellidos
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.783"
.head 6 -  Top:    0.155"
.head 6 -  Width:  4.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbMas
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    0.571"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.0"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set dfCorrelativo=Identity( 495 )
.head 6 -  Set dfFecha=FechaHoy( 2 )
.head 6 -  Call SalDateToStr( dfFecha, FECHA_REGISTRO )
.head 6 -  Call SalStrLeft (FECHA_REGISTRO, 10, FECHA_REGISTRO )
.head 3 -  Background Text: Correlativo
.head 4 -  Resource Id: 37688
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.483"
.head 5 -  Top:    0.679"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCorrelativo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.383"
.head 6 -  Top:    0.679"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Fecha
.head 4 -  Resource Id: 37685
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.783"
.head 5 -  Top:    1.012"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFecha
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.383"
.head 6 -  Top:    0.988"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Call SalDateToStr( dfFecha, FECHA_REGISTRO )
.head 6 -  Call SalStrLeft (FECHA_REGISTRO, 10, FECHA_REGISTRO )
.head 3 -  Background Text: Persona
.head 4 -  Resource Id: 37686
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.883"
.head 5 -  Top:    1.179"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfPersona
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.783"
.head 6 -  Top:    1.321"
.head 6 -  Width:  3.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Anotación
.head 4 -  Resource Id: 37687
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.883"
.head 5 -  Top:    0.429"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Multiline Field: mlAnotacion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 250
.head 5 -  String Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Border? Yes
.head 5 -  Word Wrap? Yes
.head 5 -  Vertical Scroll? Yes
.head 5 -  Window Location and Size
.head 6 -  Left: 3.883"
.head 6 -  Top:    0.571"
.head 6 -  Width:  8.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.0"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: 10
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb4
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbGrabar
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 12.383"
.head 5 -  Top:    0.571"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.0"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If dfFecha!=DATETIME_Null and mlAnotacion!=STRING_Null and dfPersona !=STRING_Null
.head 7 -  Call SqlPrepareAndExecute( hSql1, "insert into historial_med 
values (:dfCorrelativo,:dfCorrelPaciente,:dfCod_Paciente,:FECHA_REGISTRO,:dfPersona,:mlAnotacion) " )
.head 7 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 7 -  Call SalSendMsg( dlgHistorial, MU_ACTUALIZAR, 0, 0 )
.head 7 -  Set dfCorrelativo=NUMBER_Null
.head 7 -  Set mlAnotacion=STRING_Null
.head 3 -  Group Box: Filtro de Busqueda
.head 4 -  Resource Id: 37689
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.683"
.head 5 -  Top:    1.655"
.head 5 -  Width:  10.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.917"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Fecha I
.head 4 -  Resource Id: 37690
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.883"
.head 5 -  Top:    1.929"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Persona
.head 4 -  Resource Id: 37684
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.883"
.head 5 -  Top:    2.262"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaI
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.783"
.head 6 -  Top:    1.905"
.head 6 -  Width:  1.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfPer
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.783"
.head 6 -  Top:    2.238"
.head 6 -  Width:  3.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Fecha F
.head 4 -  Resource Id: 37682
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.183"
.head 5 -  Top:    1.929"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaF
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.983"
.head 6 -  Top:    1.905"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Palabra Clave / Frase
.head 4 -  Resource Id: 37683
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.683"
.head 5 -  Top:    2.012"
.head 5 -  Width:  2.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFrase
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.683"
.head 6 -  Top:    2.238"
.head 6 -  Width:  5.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbBuscar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Buscar
.head 4 -  Window Location and Size
.head 5 -  Left: 11.483"
.head 5 -  Top:    1.988"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: None
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbCambios
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Actualizar/Borrar Cambios
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    2.321"
.head 5 -  Width:  2.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.298"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: None
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SqlPrepare( hSql1, "update  historial_med set fecha=:tbl1.colFecha,persona=:tbl1.colPersona , anotacion=:tbl1.colAnotacion 
where correlativo=:tbl1.colCorrelativo" ) 
.head 6 -  Call SalTblDoUpdates( tbl1, hSql1, TRUE )
.head 6 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 6 -  Call SqlPrepare( hSql1, "delete from historial_med where correlativo=:tbl1.colCorrelativo" )
.head 6 -  Call SalTblDoDeletes( tbl1, hSql1, ROW_MarkDeleted )
.head 6 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 6 -  Call SalSendMsg( dlgHistorial, MU_ACTUALIZAR, 0, 0 )
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.383"
.head 6 -  Top:    2.571"
.head 6 -  Width:  12.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 3.833"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: 5
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 5000
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colCorrelativo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title:
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFecha
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.433"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colPersona
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Persona
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colAnotacion
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Anotación
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: 250
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  9.917"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Yes
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbBorrarCuenta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbChBorrarChiquito
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.05"
.head 5 -  Top:    2.667"
.head 5 -  Width:  0.333"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.905"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set pbBorrarCuenta.hWndFila=tbl1.colCorrelativo
.head 6 -  Set pbBorrarCuenta.hWndTabla=tbl1
.head 5 +  On SAM_Click
.head 6 -  Call SalSendClassMessage( SAM_Click, 0, 0 )
.head 2 -  Functions
.head 2 +  Window Parameters
.head 3 -  String: cod_paciente
.head 3 -  String: correl_paciente
.head 2 +  Window Variables
.head 3 -  String: FECHA_REGISTRO
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  Call SqlPrepareAndExecute(hSql1,"
select	
	PRIMER_NOM+ ' ' +SEGUNDO_NOM,PRIMER_APE+' ' +SEGUNDO_APE
	

from	PACIENTES
where	COD_PACIENTE = :cod_paciente and CORREL_PACIENTE=:correl_paciente
into	
:dfNombres,:dfApellidos")
.head 4 -  Call SqlFetchNext( hSql1, nSiguiente )
.head 4 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 4 -  Set dfCod_Paciente=cod_paciente
.head 4 -  Set dfCorrelPaciente=correl_paciente
.head 4 -  Call SalSendMsg( dlgHistorial, MU_ACTUALIZAR, 0, 0 )
.head 4 -  Call SalBringWindowToTop(hWndForm)
.head 3 +  On MU_ACTUALIZAR
.head 4 -  Call SalTblPopulate( tbl1, hSql1, " 
select correlativo,convert(varchar(10),fecha,103),persona,anotacion
from HISTORIAL_MED where COD_PACIENTE = :cod_paciente and 
CORREL_PACIENTE=:correl_paciente order by fecha", TBL_FillAll )
.head 4 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 1 +  Dialog Box: dlgEstadoDoctores
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Reporte de Estado de Cuenta de Doctores
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: 1.413"
.head 4 -  Top:    0.865"
.head 4 -  Width:  7.983"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 3.167"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Black
.head 3 -  Background Color: 3D Face Color
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.679"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Charcoal
.head 3 +  Contents
.head 4 +  Pushbutton: pbImprimir
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbImprimir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.083"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.75"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.55"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Set sConsulta="select A.cod_medico,B.nombre,A.cod_factura,A.fecha,A.costo,A.descripcion,
A.monto_debe,A.monto_pagado,C.Primer_nom,C.Primer_Ape
from det_honorarios A,medicos B,pacientes C, facturas D
where A.cod_medico=B.cod_medico and A.cod_factura=D.cod_factura and
D.cod_paciente = C.cod_paciente and D.correl_paciente = C.correl_paciente "
.head 7 +  If cmbEmpresa!=''
.head 8 -  Set sConsulta=sConsulta || " AND A.COD_MEDICO=:dlgEstadoDoctores.cmbEmpresa.nCodigo "
.head 7 +  If dfInicio != DATETIME_Null and dfFinal  !=DATETIME_Null
.head 8 -  Set sConsulta=sConsulta||"	AND	A.FECHA >= :dlgEstadoDoctores.dfInicio and 
                                                A.FECHA <=  :dlgEstadoDoctores.dfFinal "

.head 8 -  Set fechaI= SalFmtFormatDateTime(dfInicio,"dd/MM/yyyy")
.head 8 -  Set fechaF= SalFmtFormatDateTime(dfFinal ,"dd/MM/yyyy")
.head 8 -  Set sObs="De la Fecha " || fechaI || "   a la Fecha  " ||  fechaF
.head 7 +  Else
.head 8 -  Set sObs=" "
.head 7 -  Set sConsulta=sConsulta || "  ORDER by B.nombre,A.FECHA  "
.head 7 -  Call SalCreateWindow( frmImprimir, hWndForm,
cmbEmpresa,
strRepPath || "\\CUENTAS_DOCTORES.QRP",
":n1,:s1,:n2,:dt1,:n3,:s2,:n4,:n5,:s3,:s4",
" A.cod_medico,B.nombre,A.cod_factura,A.fecha,A.costo,A.descripcion,
A.monto_debe,A.monto_pagado,C.Primer_nom,C.Primer_Ape",
sConsulta || "
into
   :n1,:s1,:n2,:dt1,:n3,:s2,:n4,:n5,:s3,:s4",sObs, FALSE)
.head 4 +  Pushbutton: pbLimpiar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbLimpia
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.883"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.75"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.548"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pb3
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 6.783"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.75"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.548"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 -  Line
.head 5 -  Resource Id: 59395
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Coordinates
.head 6 -  Begin X:  -0.017"
.head 6 -  Begin Y:  0.655"
.head 6 -  End X:  8.583"
.head 6 -  End Y:  0.655"
.head 5 -  Visible? Yes
.head 5 -  Line Style: Solid
.head 5 -  Line Thickness: 2
.head 5 -  Line Color: Default
.head 4 +  Pushbutton: pb4
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.683"
.head 6 -  Top:    0.073"
.head 6 -  Width:  0.75"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.548"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\Doctor Directory 2.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Set sConsulta="select A.cod_medico,B.nombre,A.cod_factura,A.costo,
A.monto_debe,A.monto_pagado
from det_honorarios A,medicos B, facturas D
where A.cod_medico=B.cod_medico and A.cod_factura=D.cod_factura "
.head 7 -  Set sObs="Honorarios por Pagar  "
.head 7 -  Set sConsulta=sConsulta || "  ORDER by B.nombre "
.head 7 -  Call SalCreateWindow( frmImprimir, hWndForm,
cmbEmpresa,
strRepPath || "\\CUENTAS_DOCTORES2.QRP",
":n1,:s1,:n2,:n3,:n4,:n5",
" A.cod_medico,B.nombre,A.cod_factura,A.costo,
A.monto_debe,A.monto_pagado",
sConsulta || "
into
   :n1,:s1,:n2,:n3,:n4,:n5",sObs, FALSE)
.head 2 +  Contents
.head 3 -  Background Text: Doctor
.head 4 -  Resource Id: 59390
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.55"
.head 5 -  Top:    0.286"
.head 5 -  Width:  0.733"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Black
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbEmpresa
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.35"
.head 5 -  Top:    0.262"
.head 5 -  Width:  6.233"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='MEDICOS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_MEDICO'
.head 3 -  Group Box: Rango de Fechas 
.head 4 -  Resource Id: 59391
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.583"
.head 5 -  Top:    0.738"
.head 5 -  Width:  5.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.0"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Black
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfInicio
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.483"
.head 6 -  Top:    1.238"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFinal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.783"
.head 6 -  Top:    1.238"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Inicio
.head 4 -  Resource Id: 59392
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.483"
.head 5 -  Top:    1.012"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Final
.head 4 -  Resource Id: 59393
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.783"
.head 5 -  Top:    1.012"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: sConsulta
.head 3 -  String: sObs
.head 3 -  String: fechaI
.head 3 -  String: fechaF
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalBringWindowToTop(hWndForm)
.head 1 +  Form Window: frmPresen
.head 2 -  Class: frmSoloNombre
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title:
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Class Default
.head 2 -  Visible? Class Default
.head 2 -  Display Settings
.head 3 -  Display Style? Class Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? Class Default
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Class Default
.head 3 -  Minimizable? Class Default
.head 3 -  System Menu? Class Default
.head 3 -  Resizable? Class Default
.head 3 -  Window Location and Size
.head 4 -  Left: 1.85"
.head 4 -  Top:    0.49"
.head 4 -  Width:  7.333"
.head 4 -  Width Editable? Class Default
.head 4 -  Height: 5.024"
.head 4 -  Height Editable? Class Default
.head 3 -  Form Size
.head 4 -  Width:  Class Default
.head 4 -  Height: Class Default
.head 4 -  Number of Pages: Class Default
.head 3 -  Font Name: Class Default
.head 3 -  Font Size: Class Default
.head 3 -  Font Enhancement: Class Default
.head 3 -  Text Color: Class Default
.head 3 -  Background Color: Class Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Class Default
.head 4 -  Location? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Size: 0.512"
.head 4 -  Size Editable? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Charcoal
.head 3 +  Contents
.head 4 +  Pushbutton: pbAgregar
.head 5 -  Class Child Ref Key: 29
.head 5 -  Class ChildKey: 0
.head 5 -  Class: frmSoloNombre
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.283"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.417"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbBorrar
.head 5 -  Class Child Ref Key: 30
.head 5 -  Class ChildKey: 0
.head 5 -  Class: frmSoloNombre
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.883"
.head 6 -  Top:    Class Default
.head 6 -  Width:  0.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.417"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbGrabar
.head 5 -  Class Child Ref Key: 34
.head 5 -  Class ChildKey: 0
.head 5 -  Class: frmSoloNombre
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.483"
.head 6 -  Top:    Class Default
.head 6 -  Width:  0.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.417"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbSalir
.head 5 -  Class Child Ref Key: 39
.head 5 -  Class ChildKey: 0
.head 5 -  Class: frmSoloNombre
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 5.683"
.head 6 -  Top:    Class Default
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.417"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 2 +  Contents
.head 3 +  Child Table: tbl1 from frmSoloNombre: tblPresentaciones
.head 4 -  Class Child Ref Key: 5
.head 4 -  Class ChildKey: 0
.head 4 -  Class: frmSoloNombre
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: -0.017"
.head 6 -  Top:    -0.012"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 500
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colCodigor
.head 6 -  Class Child Ref Key: 25
.head 6 -  Class ChildKey: 0
.head 6 -  Class: frmSoloNombre
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Código
.head 6 -  Visible? Yes
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colNombrer
.head 6 -  Class Child Ref Key: 26
.head 6 -  Class ChildKey: 0
.head 6 -  Class: frmSoloNombre
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title:
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 +  Message Actions
.head 5 +  On SAM_CreateComplete
.head 6 -  Set frmPresen.sTitulos='Tipos de Presentación'
.head 6 -  Call SalSendClassMessage(SAM_CreateComplete,0,0)
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 -  Window Variables
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  !
.head 4 -  Call SalCenterWindow( hWndForm )
.head 4 -  Set sTabla='TIPOS_PRESEN'
.head 4 -  Set sNombre='NOMBRE'
.head 4 -  Set sCodigo='COD_PRESEN'
.head 4 -  Set nNumeroTabla=6
.head 4 -  Set hWndTabla=tbl1
.head 4 -  Set sMensajes_Otros='Tipo de Presentación ya Existe'
.head 4 -  !
.head 3 +  On MU_GRABAR
.head 4 -  ! Call SalSendClassMessage( MU_GRABAR, 0, 0 )
.head 4 -  Call SalSetFocus(tbl1)
.head 4 -  Call SqlPrepare(hSql1,"insert into 
			TIPOS_PRESEN (
					COD_PRESEN,
					NOMBRE)
		values
			(
				:tbl1.colCodigor,
				:tbl1.colNombrer)
")
.head 4 -  Call SalTblDoInserts( tbl1,hSql1,TRUE)
.head 4 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  Call SqlPrepare(hSql2,"update 
			TIPOS_PRESEN 
		set  
			NOMBRE=:tbl1.colNombrer
		where 
			COD_PRESEN=:tbl1.colCodigor")
.head 4 -  Call SalTblDoUpdates( tbl1,hSql2,TRUE)
.head 4 -  Call SqlPrepareAndExecute(hSql2,"commit")
.head 4 -  Call SqlPrepare(hSql1,"delete from TIPOS_PRESEN  where COD_PRESEN =:tbl1.colCodigor")
.head 4 -  Call SalTblDoDeletes( tbl1,hSql1,ROW_MarkDeleted)
.head 4 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  !
.head 3 +  On MU_ACTUALIZAR
.head 4 -  Call SalWaitCursor(TRUE)
.head 4 -  Call SalTblPopulate(tbl1,hSql1,"select 
				A.COD_PRESEN ,
				A.NOMBRE
			from 
				TIPOS_PRESEN A
			order by 
				A.NOMBRE
			INTO
				:tbl1.colCodigor,
				:tbl1.colNombrer",TBL_FillAll)
.head 4 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  Call SalWaitCursor(FALSE)
.head 3 +  On SAM_CreateComplete
.head 4 -  Call SalSendMsg( hWndForm, MU_ACTUALIZAR, 0, 0 )
.head 1 +  Form Window: frmPuestos
.head 2 -  Class: frmSoloNombre
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Puestos
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Class Default
.head 2 -  Visible? Class Default
.head 2 -  Display Settings
.head 3 -  Display Style? Class Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? Class Default
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Class Default
.head 3 -  Minimizable? Class Default
.head 3 -  System Menu? Class Default
.head 3 -  Resizable? Class Default
.head 3 -  Window Location and Size
.head 4 -  Left: 1.85"
.head 4 -  Top:    0.49"
.head 4 -  Width:  8.633"
.head 4 -  Width Editable? Class Default
.head 4 -  Height: 5.024"
.head 4 -  Height Editable? Class Default
.head 3 -  Form Size
.head 4 -  Width:  Class Default
.head 4 -  Height: Class Default
.head 4 -  Number of Pages: Class Default
.head 3 -  Font Name: Class Default
.head 3 -  Font Size: Class Default
.head 3 -  Font Enhancement: Class Default
.head 3 -  Text Color: Class Default
.head 3 -  Background Color: Class Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Class Default
.head 4 -  Location? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Size: 0.512"
.head 4 -  Size Editable? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Black
.head 3 +  Contents
.head 4 +  Pushbutton: pbAgregar
.head 5 -  Class Child Ref Key: 29
.head 5 -  Class ChildKey: 0
.head 5 -  Class: frmSoloNombre
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.283"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.417"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbBorrar
.head 5 -  Class Child Ref Key: 30
.head 5 -  Class ChildKey: 0
.head 5 -  Class: frmSoloNombre
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.883"
.head 6 -  Top:    Class Default
.head 6 -  Width:  0.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.417"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbGrabar
.head 5 -  Class Child Ref Key: 34
.head 5 -  Class ChildKey: 0
.head 5 -  Class: frmSoloNombre
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.483"
.head 6 -  Top:    Class Default
.head 6 -  Width:  0.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.417"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbSalir
.head 5 -  Class Child Ref Key: 39
.head 5 -  Class ChildKey: 0
.head 5 -  Class: frmSoloNombre
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 7.383"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.417"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 2 +  Contents
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 5
.head 4 -  Class ChildKey: 0
.head 4 -  Class: frmSoloNombre
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: -0.017"
.head 6 -  Top:    -0.012"
.head 6 -  Width:  7.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 500
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colCodigor
.head 6 -  Class Child Ref Key: 25
.head 6 -  Class ChildKey: 0
.head 6 -  Class: frmSoloNombre
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title:
.head 6 -  Visible? Yes
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colNombrer
.head 6 -  Class Child Ref Key: 26
.head 6 -  Class ChildKey: 0
.head 6 -  Class: frmSoloNombre
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title:
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  5.833"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 +  Message Actions
.head 5 +  On SAM_CreateComplete
.head 6 -  Set frmPuestos.sTitulos='Tipos de Puestos'
.head 6 -  Call SalSendClassMessage(SAM_CreateComplete,0,0)
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 -  Window Variables
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  !
.head 4 -  Set sTabla='PUESTOS'
.head 4 -  Set sNombre='NOMBRE'
.head 4 -  Set sCodigo='COD_PUESTO'
.head 4 -  Set nNumeroTabla=31
.head 4 -  Set hWndTabla=tbl1
.head 4 -  Set sMensajes_Otros='Puesto ya Existe'
.head 4 -  Call SalCenterWindow( hWndForm )
.head 4 -  !
.head 3 +  ! On MU_GRABAR
.head 4 -  Call SalSendClassMessage( MU_GRABAR, 0, 0 )
.head 3 +  ! On MU_ACTUALIZAR
.head 4 -  Call SalSendClassMessage( MU_ACTUALIZAR, 0, 0 )
.head 1 +  Dialog Box: dlgReportesAseg
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Reporte de Servicios prestados a Pacientes Asegurados
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: 1.413"
.head 4 -  Top:    0.865"
.head 4 -  Width:  8.683"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 3.073"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Black
.head 3 -  Background Color: 3D Face Color
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.708"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Charcoal
.head 3 +  Contents
.head 4 +  Pushbutton: pbImprimir
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbImprimir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.083"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.55"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Set sConsulta="
SELECT  
        D.COD_PACIENTE,
        D.CORREL_PACIENTE,
        D.PRIMER_NOM,
        D.PRIMER_APE,
        A.COD_FACTURA,
        A.FECHA_REGISTRO,
        A.MONTO_FACTURA,
        A.MONTO_HONORARIOS,
        C.COD_CATEGORIA,
        E.NOMBRE,
        B.SUBTOTAL,
        A.TIPO,
        A.DESCRIPCION
FROM 
        FACTURASA       A,
        DET_FACTURAA    B,
        SERVICIOS       C,
        PACIENTES       D,
        CATEG_SERVICIOS E
WHERE	
        A.COD_FACTURA   =B.COD_FACTURA 		AND
        B.COD_SERVICIO  =C.COD_SERVICIO 		AND
        A.COD_PACIENTE  =D.COD_PACIENTE 		AND
        A.CORREL_PACIENTE=D.CORREL_PACIENTE 	AND       	    
        B.COD_CATEGORIA=C.COD_CATEGORIA 		AND
        B.COD_SERVICIO = C.COD_SERVICIO 		AND
        C.COD_CATEGORIA=E.COD_CATEGORIA    "
.head 7 +  If cmbEmpresa!=''
.head 8 -  Set sConsulta=sConsulta || " AND D.COD_EMPRESA=:dlgReportesAseg.cmbEmpresa.nCodigo "
.head 8 +  If dfInicio != DATETIME_Null and dfFinal  !=DATETIME_Null
.head 9 -  Set sConsulta=sConsulta||"	AND	A.FECHA_REGISTRO >= :dlgReportesAseg.dfInicio and 
                                                A.FECHA_REGISTRO <=  :dlgReportesAseg.dfFinal "

.head 9 -  Set fechaI= SalFmtFormatDateTime(dfInicio,"dd/MM/yyyy")
.head 9 -  Set fechaF= SalFmtFormatDateTime(dfFinal ,"dd/MM/yyyy")
.head 9 -  Set sObs="De la Fecha " || fechaI || "   a la Fecha  " ||  fechaF
.head 8 +  Else
.head 9 -  Set sObs=" "
.head 8 +  If rbDetallada=TRUE
.head 9 -  Set sConsulta=sConsulta || "  ORDER by A.TIPO,D.COD_PACIENTE,A.COD_FACTURA,E.COD_CATEGORIA "
.head 9 -  Call SalCreateWindow( frmImprimir, hWndForm,
cmbEmpresa,
strRepPath || "\\MAQUILAS_DET.QRP",
":s1,:s2,:s3,:s4,
  :n1,:dt1,:n2,:n3,:s5,:s6,:n4,:s7,:s8",
"D.COD_PACIENTE,D.CORREL_PACIENTE,D.PRIMER_NOM,D.PRIMER_APE,
  A.COD_FACTURA,A.FECHA_REGISTRO,A.MONTO_FACTURA,A.MONTO_HONORARIOS,
  C.COD_CATEGORIA,E.NOMBRE,B.SUBTOTAL,A.TIPO,A.DESCRIPCION",
sConsulta || "
into
:s1,:s2,:s3,:s4,
  :n1,:dt1,:n2,:n3,:s5,:s6,:n4,:s7,:s8",sObs, FALSE)
.head 8 +  Else
.head 9 -  Set sConsulta=sConsulta || "  ORDER by A.TIPO,D.COD_PACIENTE,A.COD_FACTURA,E.COD_CATEGORIA "
.head 9 -  Call SalCreateWindow( frmImprimir, hWndForm,
cmbEmpresa,
strRepPath || "\\MAQUILAS_SUM_ORIG.QRP",
":s1,:s2,:s3,:s4,
  :n1,:dt1,:n2,:n3,:s5,:s6,:n4,:s7,:s8",
"D.COD_PACIENTE,D.CORREL_PACIENTE,D.PRIMER_NOM,D.PRIMER_APE,
  A.COD_FACTURA,A.FECHA_REGISTRO,A.MONTO_FACTURA,A.MONTO_HONORARIOS,
  C.COD_CATEGORIA,E.NOMBRE,B.SUBTOTAL,A.TIPO,A.DESCRIPCION",
sConsulta || "
into
:s1,:s2,:s3,:s4,
  :n1,:dt1,:n2,:n3,:s5,:s6,:n4,:s7,:s8",sObs, FALSE)
.head 4 +  Pushbutton: pbLimpiar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbLimpia
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.783"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.548"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pb3
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 7.786"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.548"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 -  Line
.head 5 -  Resource Id: 53356
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Coordinates
.head 6 -  Begin X:  0.114"
.head 6 -  Begin Y:  0.656"
.head 6 -  End X:  8.486"
.head 6 -  End Y:  0.656"
.head 5 -  Visible? Yes
.head 5 -  Line Style: Solid
.head 5 -  Line Thickness: 2
.head 5 -  Line Color: Default
.head 4 +  Pushbutton: pbImprimir2
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbImprimir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 6.783"
.head 6 -  Top:    0.073"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.548"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Set sConsulta="SELECT  	D.COD_PACIENTE,
			D.CORREL_PACIENTE,
			D.PRIMER_NOM,
			D.PRIMER_APE,
	           		A.COD_FACTURA,
			A.FECHA_REGISTRO,
			A.MONTO_FACTURA,
			A.MONTO_HONORARIOS,
                        		A.DESCRIPCION,
			A.TIPO

FROM FACTURASA A,   PACIENTES D
WHERE	A.COD_PACIENTE=D.COD_PACIENTE AND
	A.CORREL_PACIENTE=D.CORREL_PACIENTE  "
.head 7 +  If cmbEmpresa!=''
.head 8 -  Set sConsulta=sConsulta || " AND D.COD_EMPRESA=:dlgReportesAseg.cmbEmpresa.nCodigo "
.head 8 +  If dfInicio != DATETIME_Null and dfFinal  !=DATETIME_Null
.head 9 -  Set sConsulta=sConsulta||"	AND	A.FECHA_REGISTRO >= :dlgReportesAseg.dfInicio and 
                                                A.FECHA_REGISTRO <=  :dlgReportesAseg.dfFinal "

.head 9 -  Set fechaI= SalFmtFormatDateTime(dfInicio,"dd/MM/yyyy")
.head 9 -  Set fechaF= SalFmtFormatDateTime(dfFinal ,"dd/MM/yyyy")
.head 9 -  Set sObs="De la Fecha " || fechaI || "   a la Fecha  " ||  fechaF
.head 8 +  Else
.head 9 -  Set sObs=" "
.head 8 -  Set sConsulta=sConsulta || " AND A.TIPO =:dlgReportesAseg.cmb_tipo "
.head 8 -  Set sConsulta=sConsulta || "  ORDER by D.COD_PACIENTE,A.COD_FACTURA "
.head 8 -  Call SalCreateWindow( frmImprimir, hWndForm,
cmbEmpresa,
strRepPath || "\\MAQUILAS_SUM.QRP",
":s1,:s2,:s3,:s4,
  :s5,:dt1,:n1,:n2,:s6,:s7",
"D.COD_PACIENTE,D.CORREL_PACIENTE,D.PRIMER_NOM,D.PRIMER_APE,
  A.COD_FACTURA,A.FECHA_REGISTRO,A.MONTO_FACTURA,A.MONTO_HONORARIOS,
 A.DESCRIPCION,A.TIPO",
sConsulta || "
into
:s1,:s2,:s3,:s4,
  :s5,:dt1,:n1,:n2,:s6,:s7",sObs, FALSE)
.head 4 +  Combo Box: cmb_tipo
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Window Location and Size
.head 6 -  Left: 2.883"
.head 6 -  Top:    0.323"
.head 6 -  Width:  3.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.893"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Editable? No
.head 5 -  String Type: String
.head 5 -  Maximum Data Length: Default
.head 5 -  Sorted? Yes
.head 5 -  Always Show List? No
.head 5 -  Vertical Scroll? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 5 -  List Initialization
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Call SalListAdd(cmb_tipo,"CONSULTA EXTERNA")
.head 7 -  Call SalListAdd(cmb_tipo,"HOSPITALIZACION")
.head 7 -  Call SalListSetSelect(cmb_tipo,0)
.head 4 -  Background Text: Tipo de servicio
.head 5 -  Resource Id: 12079
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 2.883"
.head 6 -  Top:    0.094"
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: 10
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: White
.head 5 -  Background Color: Default
.head 2 +  Contents
.head 3 -  Background Text: Maquila 
.head 4 -  Resource Id: 53351
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.55"
.head 5 -  Top:    0.286"
.head 5 -  Width:  0.733"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Black
.head 4 -  Background Color: Default
.head 3 +  ! cmbBaseCodigo: cmbEmpresa
.winattr class Combo Box:
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.35"
.head 5 -  Top:    0.262"
.head 5 -  Width:  6.933"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.81"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.end
.head 4 -  List Initialization 
.head 4 +  Message Actions 
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 3 +  Combo Box: cmbEmpresa
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigoFiltrado
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.283"
.head 5 -  Top:    0.238"
.head 5 -  Width:  3.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.512"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 6 -  Set cmbEmpresa.sNombreFiltro='ESTADO'
.head 6 -  Set cmbEmpresa.nValorFiltro=1
.head 3 -  Group Box: Rango de Fechas 
.head 4 -  Resource Id: 53352
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    0.738"
.head 5 -  Width:  3.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.0"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Black
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfInicio
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.683"
.head 6 -  Top:    1.238"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFinal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.483"
.head 6 -  Top:    1.238"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Inicio
.head 4 -  Resource Id: 53353
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    1.012"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Final
.head 4 -  Resource Id: 53354
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.483"
.head 5 -  Top:    1.012"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Tipo de Salida
.head 4 -  Resource Id: 53355
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.383"
.head 5 -  Top:    0.738"
.head 5 -  Width:  4.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.0"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Radio Button: rbSumarizada
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Sumarizada
.head 4 -  Window Location and Size
.head 5 -  Left: 4.683"
.head 5 -  Top:    1.155"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbDetallada
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Detallada
.head 4 -  Window Location and Size
.head 5 -  Left: 6.683"
.head 5 -  Top:    1.155"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: sConsulta
.head 3 -  String: sObs
.head 3 -  String: fechaI
.head 3 -  String: fechaF
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalBringWindowToTop( hWndForm )
.head 1 +  Dialog Box: dlgConsultaPlanilla
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Consulta de Planillas
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  12.933"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 5.095"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Background Text: Inicio
.head 4 -  Resource Id: 20659
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.15"
.head 5 -  Top:    0.536"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Fin
.head 4 -  Resource Id: 20660
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.317"
.head 5 -  Top:    0.81"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfInicio
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.717"
.head 6 -  Top:    0.536"
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFin
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.717"
.head 6 -  Top:    0.786"
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Forma de Pago
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 58530
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.65"
.head 5 -  Top:    0.452"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbFormaPago
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.983"
.head 5 -  Top:    0.452"
.head 5 -  Width:  2.733"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.417"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Default
.head 4 -  Sorted? Yes
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  List Initialization
.head 4 -  Message Actions
.head 3 +  Combo Box: cmbSubTipo
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.983"
.head 5 -  Top:    0.738"
.head 5 -  Width:  2.733"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.881"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Default
.head 4 -  Sorted? Yes
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  List Initialization
.head 4 -  Message Actions
.head 3 -  Background Text: Sub Tipo
.head 4 -  Resource Id: 20662
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.05"
.head 5 -  Top:    0.81"
.head 5 -  Width:  0.833"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.283"
.head 6 -  Top:    1.405"
.head 6 -  Width:  12.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 2.917"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 8
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colCod_Planilla
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Codigo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: #0
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDescripcion
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripcion
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colForma_Pago
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Forma Pag.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.367"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colSubtipo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: SubTipo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.317"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFechaI
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha I.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.133"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: dd/mm/yyyy
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFechaF
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha F.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.133"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: dd/mm/yyyy
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colEstado
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Estado
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.467"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 +  Window Variables
.head 5 -  Number: nFilita
.head 4 +  Message Actions
.head 5 +  On SAM_DoubleClick
.head 6 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.colCod_Planilla)
.head 6 -  Call SalTblSetContext(tbl1,nFilita)
.head 6 -  Set nRegresa=tbl1.colCod_Planilla
.head 6 -  Call SalSendMsg(pbImprimir, SAM_Click, 0, 0)
.head 6 -  ! Call SalEndDialog(dlgConsultaPlanilla,TRUE)
.head 3 -  Group Box: Criterios de Busqueda
.head 4 -  Resource Id: 58532
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    0.071"
.head 5 -  Width:  12.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Blue
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pb3
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.383"
.head 5 -  Top:    0.571"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.595"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalWaitCursor( TRUE )
.head 6 -  Call SalTblPopulate( tbl1, hSql1, ArmarQuery(), TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 6 -  Set dfTotal=ContarFilas( tbl1 )
.head 6 -  Call SalWaitCursor( FALSE )
.head 3 +  Pushbutton: pb4
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbLimpia
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.683"
.head 5 -  Top:    0.571"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.595"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbSalir
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 11.083"
.head 5 -  Top:    0.571"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.595"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfOculto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.083"
.head 6 -  Top:    4.905"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Posicionese sobre el Paciente en Particular y presione doble click para cargarlo
.head 4 -  Resource Id: 58533
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.583"
.head 5 -  Top:    5.595"
.head 5 -  Width:  8.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Total
.head 4 -  Resource Id: 58534
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.483"
.head 5 -  Top:    4.429"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTotal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 11.183"
.head 6 -  Top:    4.405"
.head 6 -  Width:  1.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: #0
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Frame
.head 4 -  Resource Id: 58528
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    1.321"
.head 5 -  Width:  12.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.083"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Charcoal
.head 3 -  Group Box: Rango de Fechas
.head 4 -  Resource Id: 58531
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.883"
.head 5 -  Top:    0.321"
.head 5 -  Width:  3.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.833"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Blue
.head 4 -  Background Color: Default
.head 3 -  Background Text: dd/MM/yyyy
.head 4 -  Resource Id: 58529
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.083"
.head 5 -  Top:    0.679"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbImprimir
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.017"
.head 5 -  Top:    0.571"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If nRegresa!=NUMBER_Null
.head 7 -  !
.head 7 -  Set params[0] = SalNumberToStrX(nRegresa,0)
.head 7 -  Set strRepTitle = "Informe Detallado de Planilla"
.head 7 -  Set strReportName = strRepPath||"\\PlanillaDetallada.rpt"
.head 7 -  !
.head 7 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 6 -  !
.head 2 +  Functions
.head 3 +  Function: ArmarQuery
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sConsulta
.head 4 +  Actions
.head 5 -  Set sConsulta="Select  A.cod_planilla,A.descripcion,A.tipo,A.subtipo,
		   convert(varchar(10),A.fechaI,103),   convert(varchar(10),A.fechaF,103),
		  A.ESTADO
		

		from	PLANILLA A

		where	A.COD_PLANILLA > 0

"
			
.head 5 +  If dfInicio!=DATETIME_Null
.head 6 -  Set sConsulta=sConsulta||"	and	A.FECHAI>=:dlgConsultaPlanilla.dfInicio"
.head 5 +  If dfFin!=DATETIME_Null
.head 6 -  Set sConsulta=sConsulta||"	and	A.FECHAI<=:dlgConsultaPlanilla.dfFin"
.head 5 +  If cmbFormaPago!=''
.head 6 -  Set sConsulta = sConsulta || "  and A.TIPO = :dlgConsultaPlanilla.cmbFormaPago "
.head 5 +  If cmbSubTipo!=''
.head 6 -  Set sConsulta = sConsulta || "  and A.SUBTIPO = :dlgConsultaPlanilla.cmbSubTipo "
.head 5 -  Set sConsulta=sConsulta||"	order	by	A.COD_PLANILLA"
.head 5 -  Set sConsulta2=sConsulta
.head 5 -  Return sConsulta
.head 2 +  Window Parameters
.head 3 -  Receive Number: nRegresa
.head 2 +  Window Variables
.head 3 -  String: sConsulta2
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  Call SalListAdd( cmbFormaPago, 'QUINCENAL' )
.head 4 -  Call SalListAdd( cmbFormaPago, 'MENSUAL' )
.head 4 -  Call SalListAdd( cmbSubTipo, 'AGUINALDO' )
.head 4 -  Call SalListAdd( cmbSubTipo, 'CATORCEAVO' )
.head 4 -  Call SalListAdd( cmbSubTipo, 'NORMAL' )
.head 4 -  Call SalBringWindowToTop(dlgConsultaPlanilla)
.head 1 +  Dialog Box: dlgISR
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Calculo de ISR
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: 1.975"
.head 4 -  Top:    1.188"
.head 4 -  Width:  6.386"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 3.905"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Bold
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Background Text: Sueldo :
.head 4 -  Resource Id: 24137
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    0.262"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfSueldo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.183"
.head 6 -  Top:    0.238"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Call Calcular(  )
.head 3 -  Background Text: X 12 =
.head 4 -  Resource Id: 24138
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.783"
.head 5 -  Top:    0.262"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfAnual
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.683"
.head 6 -  Top:    0.238"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: (menos)
.head 4 -  Resource Id: 24139
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.483"
.head 5 -  Top:    0.619"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfBase
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.683"
.head 6 -  Top:    0.571"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Call Calcular(  )
.head 3 -  Background Text: SubTotal
.head 4 -  Resource Id: 24140
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.55"
.head 5 -  Top:    0.976"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfSubTotal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.683"
.head 6 -  Top:    0.905"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: 30,000 x 10%
.head 4 -  Resource Id: 24141
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.586"
.head 5 -  Top:    1.762"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Resto x 15%
.head 4 -  Resource Id: 24142
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.286"
.head 5 -  Top:    1.762"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTreinta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.486"
.head 6 -  Top:    1.405"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfResto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.186"
.head 6 -  Top:    1.405"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfPTreinta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.486"
.head 6 -  Top:    2.071"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfPResto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.186"
.head 6 -  Top:    2.071"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: =
.head 4 -  Resource Id: 24143
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.914"
.head 5 -  Top:    2.143"
.head 5 -  Width:  0.171"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: +
.head 4 -  Resource Id: 24144
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.043"
.head 5 -  Top:    2.083"
.head 5 -  Width:  0.171"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFinal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.086"
.head 6 -  Top:    2.071"
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Aceptar
.head 4 -  Window Location and Size
.head 5 -  Left: 4.086"
.head 5 -  Top:    3.155"
.head 5 -  Width:  1.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.298"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: None
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set nRetorno=dfRetorno
.head 6 -  Call SalEndDialog(dlgISR,TRUE)
.head 3 +  Data Field: dfMeses
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.186"
.head 6 -  Top:    2.405"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: /
.head 4 -  Resource Id: 24145
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.843"
.head 5 -  Top:    2.5"
.head 5 -  Width:  0.243"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfRetorno
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.086"
.head 6 -  Top:    2.738"
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 2 +  Functions
.head 3 +  Function: Calcular
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Set dfAnual = dfSueldo *12
.head 5 -  Set dfSubTotal= dfAnual - dfBase
.head 5 +  If (dfSubTotal - 30000) >= 0
.head 6 -  Set dfTreinta = 30000
.head 6 -  Set dfResto = dfSubTotal - 30000
.head 5 +  Else
.head 6 -  Set dfTreinta = dfSubTotal
.head 6 -  Set dfResto =0
.head 5 -  Set dfPTreinta = dfTreinta * 0.10
.head 5 -  Set dfPResto = dfResto * 0.15
.head 5 -  Set dfFinal = dfPTreinta + dfPResto
.head 5 -  Set dfRetorno = dfFinal / dfMeses
.head 2 +  Window Parameters
.head 3 -  Receive Number: nRetorno
.head 3 -  Number: psueldo
.head 2 -  Window Variables
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  Set dfSueldo=psueldo
.head 4 -  Set dfMeses=12
.head 4 -  Set dfBase=70000
.head 4 -  Call Calcular(  )
.head 4 -  Call SalBringWindowToTop( hWndForm )
.head 1 +  Dialog Box: dlgImprimirMateriales
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title:
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  7.183"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 2.155"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Background Text: Fecha Inicio
.head 4 -  Resource Id: 18425
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    0.262"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFI
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.183"
.head 6 -  Top:    0.238"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Fecha Final 
.head 4 -  Resource Id: 18426
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.083"
.head 5 -  Top:    0.262"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFF
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.083"
.head 6 -  Top:    0.238"
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbImprimir
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    1.238"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.417"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set sObs="De " || SalFmtFormatDateTime( dfFI, "dd/MM/yyyy" ) || " Hasta " || SalFmtFormatDateTime( dfFF, "dd/MM/yyyy" )
.head 6 -  Call SalCreateWindow( frmImprimir, hWndForm,
"Factura",
strRepPath || "\\SALIDAS_SERVICIOS.QRP",
":s1,:s2,:n1,:n2,:n3",

"B.NOMBRE, C.NOMBRE, B.COSTO, A.VENTA, A.CANTIDAD",
"SELECT B.NOMBRE, C.NOMBRE, B.COSTO2, A.COSTO, SUM(A.CANTIDAD)                

from	DET_FACTURA A, SERVICIOS B, INVENTARIO_MED D, GRUPOS_MED C
where	A.COD_SERVICIO=B.COD_SERVICIO AND A.COD_CATEGORIA = B.COD_SERVICIO AND B.COD_SERVICIO=D.COD_MEDICAMENTO AND
                c.COD_GRUPO = D.COD_GRUPO and a.cod_categoria='6'  AND A.FECHA BETWEEN :dlgImprimirMateriales.dfFI AND :dlgImprimirMateriales.dfFF
GROUP BY B.NOMBRE, C.NOMBRE, B.COSTO2, A.COSTO
ORDER BY b.nombre

into	:s1,:s2,:n1,:n2,:n3",

sObs, FALSE)
.head 3 +  Pushbutton: pb2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbSalir
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.983"
.head 5 -  Top:    1.238"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.417"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: sObs
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalBringWindowToTop(hWndForm)
.head 1 +  Form Window: frmEscala
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Escala de Precios de Medicamentos
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: 1.025"
.head 4 -  Top:    0.708"
.head 4 -  Width:  11.3"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 6.262"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 +  Menu
.head 3 +  Popup Menu: Tablita
.head 4 -  Resource Id: 26644
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 4 +  Menu Item: (Inserta Fila)
.head 5 -  Resource Id: 26645
.head 5 -  Keyboard Accelerator: Ins
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg(pbAgregar,SAM_Click,0,0)
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: (Marca para Borrar Fila)
.head 5 -  Resource Id: 26646
.head 5 -  Keyboard Accelerator: -
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg(pbBorrar,SAM_Click,0,0)
.head 5 -  Menu Item Name:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.643"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Black
.head 3 +  Contents
.head 4 +  Pushbutton: pb1
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 8.783"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.417"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbGrabar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbGrabar
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.483"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set pbGrabar.nOpcion=2
.head 7 -  Set pbGrabar.hWndTabla=tbl1
.head 4 +  Pushbutton: pbAgregar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbMas
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.083"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Call SalTblSetFocusCell( tbl1, SalTblInsertRow( tbl1, TBL_MaxRow ), tbl1.colMinimo, 0, 1 )
.head 7 -  Set tbl1.colCodigo=Identity(29)
.head 4 +  Pushbutton: pbBorrar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbMenos
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.783"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Call SalStatusSetText(hWndForm,'                                                      ')
.head 7 -  Call SalTblQueryFocus(  tbl1,nFilas,hWndFila)
.head 7 +  If SalTblQueryRowFlags( tbl1,nFilas,ROW_MarkDeleted)
.head 8 -  Call SalTblSetRowFlags( tbl1,nFilas, ROW_MarkDeleted,FALSE)
.head 7 +  Else
.head 8 -  Call SalTblSetRowFlags( tbl1,nFilas, ROW_MarkDeleted,TRUE)
.head 4 +  Pushbutton: pbImprimir
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 2.18"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 +  If not SalIsNull(cmbCateg)
.head 8 -  !
.head 8 -  Set params[0] = '1'
.head 8 -  Set params[1] = cmbCateg.sCodigos
.head 7 +  Else
.head 8 -  !
.head 8 -  Set params[0] = '0'
.head 8 -  Set params[1] = '0'
.head 7 -  Set strRepTitle = "Reporte de Escala de Precios"
.head 7 -  Set strReportName = strRepPath||"\\EscalaPrecios.rpt"
.head 7 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 2 +  Contents
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.383"
.head 6 -  Top:    0.571"
.head 6 -  Width:  9.5"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 2.583"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: Default
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colCodigo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Codigo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 5 +  Column: colMinimo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Minimo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.733"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMaximo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Maximo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colPorcentaje
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Empleado
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colPorcentaje1
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Maquila/Privado
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colPorcentaje2
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Aseguradora
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.117"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colPorcentaje3	
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Costo Real
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 -  Message Actions
.head 3 +  Combo Box: cmbCateg
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.85"
.head 5 -  Top:    0.179"
.head 5 -  Width:  6.1"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 2.119"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbCateg.nCaso=2
.head 6 -  Set cmbCateg.sTabla='CATEG_SERVICIOS'
.head 6 -  Set cmbCateg.sNombre='NOMBRE'
.head 6 -  Set cmbCateg.sCodigo='COD_CATEGORIA'
.head 5 +  On SAM_Click
.head 6 -  Call SalSendClassMessage( SAM_Click, 0, 0 )
.head 6 -  Call SalTblPopulate(tbl1,hSql1,"select correl ,minimo ,maximo,porcentaje,porcentaje1,
		porcentaje2,porcentaje3 from  escala where cod_categoria=:cmbCateg.sCodigos
order by correl",TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 3 -  Background Text: Categoria
.head 4 -  Resource Id: 26647
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.55"
.head 5 -  Top:    0.202"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  Number: nFilas
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 2 +  Message Actions
.head 3 +  On MU_GRABAR
.head 4 -  Call SalSetFocus(tbl1)
.head 4 -  Call SqlPrepare(hSql1,"insert into escala(correl,minimo,maximo,porcentaje,porcentaje1,
		porcentaje2,porcentaje3,cod_categoria)
		values(:tbl1.colCodigo,:tbl1.colMinimo,:tbl1.colMaximo,:tbl1.colPorcentaje,
		:tbl1.colPorcentaje1,:tbl1.colPorcentaje2,:tbl1.colPorcentaje3,
		:cmbCateg.sCodigos)")
.head 4 -  Call SalTblDoInserts( tbl1,hSql1,TRUE)
.head 4 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 4 -  Call SqlPrepare(hSql1,"update escala set maximo=:tbl1.colMaximo, minimo=:tbl1.colMinimo,
			porcentaje=:tbl1.colPorcentaje,
			porcentaje1=:tbl1.colPorcentaje1,
			porcentaje2=:tbl1.colPorcentaje2,
			porcentaje3=:tbl1.colPorcentaje3
			where correl=:tbl1.colCodigo")	
.head 4 -  Call SalTblDoUpdates( tbl1,hSql1,TRUE)
.head 4 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 4 -  Call SqlPrepare(hSql1,"delete from escala where correl=:tbl1.colCodigo")
.head 4 -  Call SalTblDoDeletes( tbl1,hSql1,ROW_MarkDeleted)
.head 4 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 4 -  Call SalStatusSetText(hWndForm,'Datos Actualizados')
.head 3 +  On MU_ACTUALIZAR
.head 4 -  Call SalWaitCursor(TRUE)
.head 4 -  Call SalTblPopulate(tbl1,hSql1,"select correl ,minimo ,maximo,porcentaje,porcentaje1,
		porcentaje2,porcentaje3 from  escala where cod_categoria=:cmbCateg.sCodigos
order by correl",TBL_FillAll)
.head 4 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 4 -  Call SalWaitCursor(FALSE)
.head 3 +  On SAM_CreateComplete
.head 4 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 4 -  Call SalCenterWindow( hWndForm )
.head 1 +  Dialog Box: dlgEstadisticas
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Estadisticas de Doctores
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  5.617"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 1.56"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  Data Field: dfDe
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.683"
.head 6 -  Top:    0.155"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.283"
.head 6 -  Top:    0.155"
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: DE:
.head 4 -  Resource Id: 4228
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    0.179"
.head 5 -  Width:  0.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: HASTA:
.head 4 -  Resource Id: 4229
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.583"
.head 5 -  Top:    0.179"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pb1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbImprimir
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.183"
.head 5 -  Top:    0.571"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If dfDe != DATETIME_Null AND dfHasta != DATETIME_Null
.head 7 -  Set sFecha1 = SalFmtFormatDateTime( dfDe, "dd/MM/yyyy" )
.head 7 -  Set sFecha2 = SalFmtFormatDateTime( dfHasta, "dd/MM/yyyy" )
.head 7 -  Set sTitulo = "De la fecha " || sFecha1 || " Hasta la fecha " || sFecha2
.head 7 -  Call SalCreateWindow( frmImprimir, hWndForm,
"Reporte de Estadisticas de Medicos",
strRepPath || "\\ESTADISTICA.QRP",
":s1,:n1,:n2,:n3,:n4",

"A.NOMBRE,A.HOSPITAL_DIO,A.MAX1,A.DOCTOR_DIO,A.MAX2",

"SELECT b.nombre, COUNT(a.cod_medico) AS numero, MAX(COUNT(a.cod_medico)) AS max1,0 AS numero2, 0 AS max2 
	FROM facturas a , medicos b WHERE fecha_ingreso BETWEEN :dlgEstadisticas.dfDe AND :dlgEstadisticas.dfHasta  AND a.cod_medico = b.cod_medico AND origen_paciente = 0 GROUP BY b.nombre
INTO :s1,:n1,:n2,:n3,:n4
UNION 
SELECT b.nombre, 0 AS numero, 0 as max1, COUNT(a.cod_medico) AS numero2, MAX(COUNT(a.cod_medico)) AS max2  
	FROM facturas a , medicos b WHERE fecha_ingreso BETWEEN :dlgEstadisticas.dfDe AND :dlgEstadisticas.dfHasta AND a.cod_medico = b.cod_medico AND origen_paciente = 1 GROUP BY b.nombre

ORDER BY B.NOMBRE",sTitulo, FALSE)
.head 6 +  Else
.head 7 -  Call SalMessageBox( "Especifique las fechas","Hospital Betesda",  0 )
.head 3 +  Pushbutton: pb2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbSalir
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.183"
.head 5 -  Top:    0.571"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: sFecha1
.head 3 -  String: sFecha2
.head 3 -  String: sTitulo
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalBringWindowToTop(hWndForm)
.head 1 +  Dialog Box: dlgFacturas_pendientes
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Facturas Pendientes
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  5.617"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 1.56"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  Data Field: dfDe
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.683"
.head 6 -  Top:    0.155"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.283"
.head 6 -  Top:    0.155"
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: DE:
.head 4 -  Resource Id: 4230
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    0.179"
.head 5 -  Width:  0.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: HASTA:
.head 4 -  Resource Id: 4231
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.583"
.head 5 -  Top:    0.179"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pb1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbImprimir
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.183"
.head 5 -  Top:    0.571"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If dfDe != DATETIME_Null AND dfHasta != DATETIME_Null
.head 7 -  Set sFecha1 = SalFmtFormatDateTime( dfDe, "dd/MM/yyyy" )
.head 7 -  Set sFecha2 = SalFmtFormatDateTime( dfHasta, "dd/MM/yyyy" )
.head 7 -  Set sTitulo = "De la fecha " || sFecha1 || " Hasta la fecha " || sFecha2
.head 7 -  Call SalCreateWindow( frmImprimir, hWndForm,
"Reporte de Facturas Pendientes",
strRepPath || "\\FACTURAS_PENDIENTES.QRP",
":dt1,:s1,:s2,:n1,:n2,:n3,:n4",

"a.fecha_ingreso,a.paciente,b.informacion,b.total_f, b.debe_f, b.total_h, c.debe_h",

"SELECT b.fecha_ingreso,(a.primer_nom + a.segundo_nom + a.primer_ape + a.segundo_ape) as nombre, b.descripcion, b.total, b.monto_debe, b.monto_honorarios, SUM(c.monto_debe) as debe_honorarios
FROM pacientes a, facturas b, det_honorarios c WHERE a.cod_paciente = b.cod_paciente AND b.cod_factura = c.cod_factura AND b.fecha_ingreso BETWEEN :dlgFacturas_pendientes.dfDe  AND :dlgFacturas_pendientes.dfHasta
GROUP BY b.fecha_ingreso,(a.primer_nom + a.segundo_nom + a.primer_ape + a.segundo_ape),b.descripcion,b.total,b.monto_debe,b.monto_honorarios
HAVING (SUM(c.monto_debe) > 0 OR b.monto_debe > 0)  
INTO :dt1,:s1,:s2,:n1,:n2,:n3,:n4
ORDER BY b.fecha_ingreso",sTitulo, FALSE)
.head 6 +  Else
.head 7 -  Call SalMessageBox( "Especifique las fechas","Hospital Betesda",  0 )
.head 3 +  Pushbutton: pb2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbSalir
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.183"
.head 5 -  Top:    0.571"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: sFecha1
.head 3 -  String: sFecha2
.head 3 -  String: sTitulo
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalBringWindowToTop(hWndForm)
.head 1 -  !
.head 1 +  Form Window: frmDerechos
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Pantalla de Asignacion de Derechos a los Usuarios
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  8.657"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 4.458"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.76"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Contents
.head 4 +  Pushbutton: pb1
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbGrabar
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.083"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pb2
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Salir
.head 5 -  Window Location and Size
.head 6 -  Left: 9.183"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 2 +  Contents
.head 3 -  Background Text: Usuarios
.head 4 -  Resource Id: 24962
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.583"
.head 5 -  Top:    0.262"
.head 5 -  Width:  0.833"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbUsuario
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.483"
.head 5 -  Top:    0.238"
.head 5 -  Width:  2.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.427"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalSendClassMessage(SAM_Click,0,0)
.head 6 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 5 +  On SAM_Create
.head 6 -  Set cmbUsuario.sNombre="NOMBRE"
.head 6 -  Set cmbUsuario.sTabla="USUARIOS"
.head 6 -  Set cmbUsuario.sCodigo ="COD_USU"
.head 6 -  Set cmbUsuario.nCaso=1
.head 5 +  On SAM_DropDown
.head 6 -  Call SalWaitCursor(TRUE)
.head 6 +  If MyValue!=''
.head 7 -  Set sComboActual=MyValue
.head 6 -  !
.head 6 -  Call SalListClear(MyValue)
.head 6 -  Call SalListPopulate(MyValue,hSql5,"select "||sNombre||" from "||sTabla||" where NOMBRE<>'sysadm' and NOMBRE<>'sa'")
.head 6 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 6 -  !
.head 6 +  If sComboActual!=''
.head 7 -  Call SalListSelectString( hWndItem, -1,sComboActual)
.head 6 -  Call SalWaitCursor(FALSE)
.head 3 +  Check Box: cb1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Facturas Privadas
.head 4 -  Window Location and Size
.head 5 -  Left: 0.583"
.head 5 -  Top:    0.905"
.head 5 -  Width:  1.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 -  Group Box: Pacientes
.head 4 -  Resource Id: 24963
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.783"
.head 5 -  Top:    0.738"
.head 5 -  Width:  2.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.917"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Check Box: cb2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Facturas Aseguradas
.head 4 -  Window Location and Size
.head 5 -  Left: 0.583"
.head 5 -  Top:    1.155"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cb3
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Pagos
.head 4 -  Window Location and Size
.head 5 -  Left: 0.583"
.head 5 -  Top:    1.405"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cb4
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Asegurados
.head 4 -  Window Location and Size
.head 5 -  Left: 2.883"
.head 5 -  Top:    0.905"
.head 5 -  Width:  1.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cb5
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Privados
.head 4 -  Window Location and Size
.head 5 -  Left: 2.883"
.head 5 -  Top:    1.179"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cb6
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Categ.Servicios
.head 4 -  Window Location and Size
.head 5 -  Left: 2.883"
.head 5 -  Top:    1.452"
.head 5 -  Width:  1.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cb7
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Servicios
.head 4 -  Window Location and Size
.head 5 -  Left: 2.883"
.head 5 -  Top:    1.726"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cb8
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Especialidades Medicas
.head 4 -  Window Location and Size
.head 5 -  Left: 2.883"
.head 5 -  Top:    2.0"
.head 5 -  Width:  2.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cb9
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Medicos
.head 4 -  Window Location and Size
.head 5 -  Left: 2.883"
.head 5 -  Top:    2.274"
.head 5 -  Width:  1.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 -  Group Box: Pantallas
.head 4 -  Resource Id: 24964
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.571"
.head 5 -  Width:  9.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.333"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Facturación
.head 4 -  Resource Id: 24966
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    0.738"
.head 5 -  Width:  2.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.0"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Sistema
.head 4 -  Resource Id: 24967
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.383"
.head 5 -  Top:    0.738"
.head 5 -  Width:  2.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.917"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Check Box: cb13
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Derechos
.head 4 -  Window Location and Size
.head 5 -  Left: 5.75"
.head 5 -  Top:    1.813"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cb10
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Consultas
.head 4 -  Window Location and Size
.head 5 -  Left: 5.75"
.head 5 -  Top:    0.905"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cb11
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Bodegas
.head 4 -  Window Location and Size
.head 5 -  Left: 5.75"
.head 5 -  Top:    1.202"
.head 5 -  Width:  1.667"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cb12
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Escalas de Precios
.head 4 -  Window Location and Size
.head 5 -  Left: 5.75"
.head 5 -  Top:    1.476"
.head 5 -  Width:  1.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cb14
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Usuarios
.head 4 -  Window Location and Size
.head 5 -  Left: 5.75"
.head 5 -  Top:    2.115"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 2 +  Functions
.head 3 +  Function: Limpiar
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Window Handle: hWndHijo
.head 4 +  Actions
.head 5 -  Set hWndHijo=SalGetFirstChild( hWndForm, TYPE_CheckBox)
.head 5 +  While hWndHijo != hWndNULL
.head 6 -  Call SalClearField(hWndHijo)
.head 6 -  Set hWndHijo=SalGetNextChild( hWndHijo, TYPE_CheckBox)
.head 5 -  Return TRUE
.head 3 +  Function: ActualizarSeguridad
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Set sS1=''
.head 5 -  Set sS1=SalNumberToStrX(cb1,0)||SalNumberToStrX(cb2,0)||
	SalNumberToStrX(cb3,0)||SalNumberToStrX(cb4,0)||SalNumberToStrX(cb5,0)||
	SalNumberToStrX(cb6,0)||SalNumberToStrX(cb7,0)||SalNumberToStrX(cb8,0)||
	SalNumberToStrX(cb9,0)||SalNumberToStrX(cb10,0)||SalNumberToStrX(cb11,0)||
	SalNumberToStrX(cb12,0)||
	SalNumberToStrX(cb13,0)||SalNumberToStrX(cb14,0)
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: sSeguridad
.head 3 -  String: sUpdate
.head 3 -  Boolean: arrBooleans[*]
.head 3 -  Boolean: bBueno
.head 3 -  Number: nContador
.head 3 -  String: sS1
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  Set sUpdate="update USUARIOS
		set	derechos_facturacion=:sS1
	where	COD_USU=:cmbUsuario.nCodigo"
.head 4 -  Call SalCenterWindow( hWndForm )
.head 3 +  On MU_ACTUALIZAR
.head 4 -  Call Limpiar()
.head 4 +  If SqlImmediate("select derechos_facturacion	from USUARIOS
	where COD_USU=:cmbUsuario.nCodigo into :sS1")
.head 5 -  Set sS1=SalStrTrimX(sS1)
.head 5 -  Set sSeguridad=''||sS1
.head 5 +  If SalStrLength(sSeguridad)>0
.head 6 -  Set nContador=0
.head 6 +  While nContador <= (SalStrLength( sSeguridad )-1 )
.head 7 -  Set arrBooleans[ nContador+1 ] = SalStrToNumber( SalStrMidX( sSeguridad, nContador, 1 ) )
.head 7 -  Set nContador=nContador+1
.head 6 -  Set cb1=arrBooleans[1]
.head 6 -  Set cb2=arrBooleans[2]
.head 6 -  Set cb3=arrBooleans[3]
.head 6 -  Set cb4=arrBooleans[4]
.head 6 -  Set cb5=arrBooleans[5]
.head 6 -  Set cb6=arrBooleans[6]
.head 6 -  Set cb7=arrBooleans[7]
.head 6 -  Set cb8=arrBooleans[8]
.head 6 -  Set cb9=arrBooleans[9]
.head 6 -  Set cb10=arrBooleans[10]
.head 6 -  Set cb11=arrBooleans[11]
.head 6 -  Set cb12=arrBooleans[12]
.head 6 -  Set cb13=arrBooleans[13]
.head 6 -  Set cb14=arrBooleans[14]
.head 4 +  Else
.head 5 -  Call SalMessageBox("NO se pudo cargar los datos","ERROR",MB_Ok)
.head 5 -  Return FALSE
.head 4 -  Call SqlClearImmediate(  )
.head 3 +  On MU_GRABAR
.head 4 -  Call ActualizarSeguridad()
.head 4 +  If SqlPrepareAndExecute(hSql1,sUpdate)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  Call SalMessageBox("Debe de SALIR Y VOLVER A ENTRAR AL SISTEMA PARA
QUE SE REFLEJEN LOS CAMBIOS RESPECTIVOS","OJO",MB_Ok)
.head 5 -  Return TRUE
.head 4 +  Else
.head 5 -  Call SqlPrepareAndExecute(hSql1,"rollback")
.head 5 -  Call SalMessageBox("Los datos no se pudieron actualizar","ERROR",MB_Ok)
.head 5 -  Return FALSE
.head 1 +  Form Window: frmCambioContrasena
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Cambio Contrasena
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: 0.87"
.head 4 -  Top:    0.725"
.head 4 -  Width:  8.571"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 3.99"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Contents
.head 4 +  Pushbutton: pb1
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 6.886"
.head 6 -  Top:    0.073"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pb2
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbGrabar
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.286"
.head 6 -  Top:    0.073"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set pb2.nOpcion=1
.head 2 +  Contents
.head 3 -  Background Text: Usuario
.head 4 -  Resource Id: 24971
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.371"
.head 5 -  Top:    0.219"
.head 5 -  Width:  0.833"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbUsuario
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.771"
.head 5 -  Top:    0.198"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.427"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbUsuario.sNombre="NOMBRE"
.head 6 -  Set cmbUsuario.sTabla="USUARIOS"
.head 6 -  Set cmbUsuario.sCodigo ="COD_USU"
.head 6 -  Set cmbUsuario.nCaso=1
.head 3 -  Background Text: Contraseña Actual
.head 4 -  Resource Id: 24972
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.386"
.head 5 -  Top:    0.677"
.head 5 -  Width:  1.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfActual
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 8
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.686"
.head 6 -  Top:    0.656"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Invisible
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Set sActual=''
.head 6 -  Call SqlPrepareAndExecute(hSql1,"Select		CONTRASE
FROM	USUARIOS
where	NOMBRE=:cmbUsuario
into	:sActual")
.head 6 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 +  If sActual!=dfActual
.head 7 -  Call SalMessageBox("Contraseña Actual difiere de la ingresada","ERROR",MB_Ok)
.head 7 -  Set dfActual=''
.head 3 -  Background Text: Nueva Contraseña
.head 4 -  Resource Id: 24973
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.371"
.head 5 -  Top:    1.135"
.head 5 -  Width:  1.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfNueva
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 8
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.671"
.head 6 -  Top:    1.115"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Invisible
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If dfVerificacion!=''
.head 7 +  If dfNueva!=dfVerificacion
.head 8 -  Call SalMessageBox("Contraseña Nueva no es igual a la verificada, por favor reingresar","ERROR",MB_Ok)
.head 8 -  Set dfNueva=''
.head 8 -  Set dfVerificacion=''
.head 3 -  Background Text: Verificacion Contraseña
.head 4 -  Resource Id: 24974
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.357"
.head 5 -  Top:    1.677"
.head 5 -  Width:  2.029"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfVerificacion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 8
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.657"
.head 6 -  Top:    1.656"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Invisible
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If dfNueva!=''
.head 7 +  If dfNueva!=dfVerificacion
.head 8 -  Call SalMessageBox("Contraseña Nueva no es igual a la verificada, por favor reingresar","ERROR",MB_Ok)
.head 8 -  Set dfNueva=''
.head 8 -  Set dfVerificacion=''
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: sActual
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  Call SalDisableWindow(cmbUsuario)
.head 4 -  Call SalSendMsg(cmbUsuario,SAM_Create,0,0)
.head 4 -  Set cmbUsuario=sNombreUsuario
.head 4 -  Call SalCenterWindow( hWndForm )
.head 3 +  On MU_GRABAR
.head 4 -  Call SqlPrepareAndExecute(hSql1,"update	USUARIOS
SET	CONTRASE=:dfNueva
where	NOMBRE=:cmbUsuario")
.head 4 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  !
.head 1 -  !
.head 1 +  Dialog Box: dlgSalidasCamas
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Salidas Por Cama
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  12.314"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 5.125"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatChildTable
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.286"
.head 6 -  Top:    0.573"
.head 6 -  Width:  11.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 3.833"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: Class Default
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colCodigoSal
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Salida
.head 6 -  Visible? Yes
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFecha
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.129"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCodigoMed
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Codigo
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: String
.head 6 -  Justify: Center
.head 6 -  Width:  1.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMedicamento
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Nombre
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: String
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCantidad
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cantidad
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Center
.head 6 -  Width:  1.171"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCosto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Costo
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.443"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Decimal
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colSubtotal
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Subtotal
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Decimal
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colNombrePac
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Paciente
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 +  Window Variables
.head 5 -  Number: nFilita
.head 4 +  Message Actions
.head 5 +  On SAM_DoubleClick
.head 6 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.colCodigoMed)
.head 6 -  Call SalTblSetContext(tbl1,nFilita)
.head 6 +  If SalTblQueryRowFlags( tbl1,nFilita, 8 )
.head 7 -  Call SalTblSetRowFlags(tbl1, nFilita, 8, FALSE)
.head 6 +  Else
.head 7 -  Call SalTblSetRowFlags(tbl1, nFilita,8, TRUE)
.head 6 -  ! Call SalEndDialog(dlgEstadoCamas,TRUE)
.head 3 +  Data Field: dfFechaI
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.486"
.head 6 -  Top:    0.24"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Fecha Ingreso
.head 4 -  Resource Id: 15514
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.186"
.head 5 -  Top:    0.01"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Fecha Salida
.head 4 -  Resource Id: 15515
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.171"
.head 5 -  Top:    0.052"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Cama
.head 4 -  Resource Id: 15516
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.857"
.head 5 -  Top:    0.094"
.head 5 -  Width:  0.629"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaF
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.586"
.head 6 -  Top:    0.24"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfCama
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.286"
.head 6 -  Top:    0.24"
.head 6 -  Width:  3.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbImprimir
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbImprimir
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.371"
.head 5 -  Top:    0.115"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.417"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set sFechaI =SalFmtFormatDateTime( dfFechaI,"dd/MM/yyyy")
.head 6 -  Set sFechaF =SalFmtFormatDateTime( dfFechaF,"dd/MM/yyyy")
.head 6 -  Set sConsulta="
select b.cod_salida,b.fecha,a.cod_medicamento,c.nombre,a.cantidad,
         a.costo,b.paciente,'" || sPac || "', '" ||sFechaI|| "','" || sFechaF || "','" || sCama ||"'
from detalle_salidas a,salidas b,inventario_med c
where  b. tipo_salida = 'PACIENTE' and b.cod_salida=a.cod_salida and a.cod_medicamento=c.cod_medicamento
and b.fecha between :dlgSalidasCamas.dfFechaI  and :dlgSalidasCamas.dfFechaF  and b.cama = :dlgSalidasCamas.nCodigo"
.head 6 -  Call SalCreateWindow( frmImprimir, hWndForm,
"Listado de Pacientes",
strRepPath || "\\Salidas_Habitacion.QRP",
":s1,:dt1,:s2,:s3,:n1,:n2,:s4,:s5,:s6,:s7,:s8",
"cod_salida,fecha,codigo,nombre,cantidad,costo,
paciente,pac_fact,fecha_ini,fecha_fin,habitacion",
sConsulta || "
into :s1,:dt1,:s2,:s3,:n1,:n2,:s4,:s5,:s6,:s7,:s8","", FALSE)
.head 6 -  ! salida ,fecha
.head 3 +  Pushbutton: pb2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Aceptar
.head 4 -  Window Location and Size
.head 5 -  Left: 10.186"
.head 5 -  Top:    0.115"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.417"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set i= TBL_MinRow
.head 6 +  Loop
.head 7 +  If SalTblFindNextRow ( tbl1,i,8, 0 )								
.head 8 +  If nTipo = 1
.head 9 -  Set iden=Identity(21)
.head 9 -  Call SqlPrepareAndExecute(hSql1,"insert 	
DET_FACTURA (
CORREL ,
COD_SERVICIO,
COD_FACTURA,
COSTO,
FECHA,
CANTIDAD,
DESCRIPCION,
SUBTOTAL,
COD_CATEGORIA)
values(:iden,
:tbl1.colCodigoMed,
:dfFactura,
:tbl1.colCosto,
:tbl1.colFecha,
:tbl1.colCantidad,
:tbl1.colMedicamento,
:tbl1.colSubtotal,
'6')")	
.head 9 -  Call SqlPrepareAndExecute(hSql1,"commit")	
.head 8 +  Else
.head 9 -  Set iden=Identity(21)
.head 9 -  Call SqlPrepareAndExecute(hSql1,"insert 	
DET_FACTURAA (
CORREL ,
COD_SERVICIO,
COD_FACTURA,
COSTO,
FECHA,
CANTIDAD,
DESCRIPCION,
SUBTOTAL,
COD_CATEGORIA)
values(:iden,
:tbl1.colCodigoMed,
:dfFactura,
:tbl1.colCosto,
:tbl1.colFecha,
:tbl1.colCantidad,
:tbl1.colMedicamento,
:tbl1.colSubtotal,
'6')")	
.head 9 -  Call SqlPrepareAndExecute(hSql1,"commit")	
.head 7 +  Else
.head 8 -  Break
.head 6 -  Call SalEndDialog(dlgSalidasCamas,TRUE)
.head 3 +  Data Field: dfFactura
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.286"
.head 6 -  Top:    0.24"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Factura
.head 4 -  Resource Id: 44688
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.286"
.head 5 -  Top:    0.052"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 2 +  Functions
.head 3 +  Function: Cambiar
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nFila
.head 5 -  Boolean: bOk
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set nFila = -1
.head 5 -  Set bOk = SalTblFindNextRow(tbl1, nFila, 0, 0)
.head 5 +  While bOk
.head 6 -  Call SalTblSetContext(tbl1, nFila)
.head 6 -  Set tbl1.colSubtotal = tbl1.colCantidad * tbl1.colCosto
.head 6 -  Set bOk = SalTblFindNextRow(tbl1, nFila, 0, 0)
.head 2 +  Window Parameters
.head 3 -  String: sCama
.head 3 -  Date/Time: dtFechaI
.head 3 -  Date/Time: dtFechaF
.head 3 -  Number: nCodigo
.head 3 -  String: sPac
.head 3 -  Number: nFactura
.head 3 -  Number: nTipo
.head 2 +  Window Variables
.head 3 -  String: sConsulta
.head 3 -  String: sFechaI
.head 3 -  String: sFechaF
.head 3 -  Number: iden
.head 3 -  Number: i
.head 3 -  Number: k
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  Call SalTblPopulate( tbl1, hSql1, " 
select b.cod_salida,b.fecha,a.cod_medicamento,c.nombre,a.cantidad,a.costo,0,b.paciente
from detalle_salidas a,salidas b,inventario_med c
where  b. tipo_salida = 'PACIENTE' and b.cod_salida=a.cod_salida and a.cod_medicamento=c.cod_medicamento
and b.fecha between :dtFechaI  and :dtFechaF  and b.cama = :nCodigo ", TBL_FillAll )
.head 4 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 4 -  Call Cambiar()
.head 4 -  Set dfFechaI = dtFechaI
.head 4 -  Set dfFechaF= dtFechaF
.head 4 -  Set dfCama = sCama
.head 4 -  Set dfFactura = nFactura
.head 4 -  Call SalBringWindowToTop( hWndForm )
.head 1 +  Form Window: frmModificarRecibos
.head 2 -  Class: frmSoloNombre
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Ventana para modificar recibos existentes
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Class Default
.head 2 -  Visible? Class Default
.head 2 -  Display Settings
.head 3 -  Display Style? Class Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? Class Default
.head 3 -  Initial State: Class Default
.head 3 -  Maximizable? Class Default
.head 3 -  Minimizable? Class Default
.head 3 -  System Menu? Class Default
.head 3 -  Resizable? Class Default
.head 3 -  Window Location and Size
.head 4 -  Left: 0.0"
.head 4 -  Top:    0.0"
.head 4 -  Width:  13.3"
.head 4 -  Width Editable? Class Default
.head 4 -  Height: 3.427"
.head 4 -  Height Editable? Class Default
.head 3 -  Form Size
.head 4 -  Width:  Class Default
.head 4 -  Height: Class Default
.head 4 -  Number of Pages: Class Default
.head 3 -  Font Name: Class Default
.head 3 -  Font Size: Class Default
.head 3 -  Font Enhancement: Class Default
.head 3 -  Text Color: Class Default
.head 3 -  Background Color: Class Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Class Default
.head 4 -  Location? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Size: 0.76"
.head 4 -  Size Editable? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 3 +  Contents
.head 4 +  Pushbutton: pbAgregar
.head 5 -  Class Child Ref Key: 29
.head 5 -  Class ChildKey: 0
.head 5 -  Class: frmSoloNombre
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: Class Default
.head 6 -  Top:    0.115"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbBorrar
.head 5 -  Class Child Ref Key: 30
.head 5 -  Class ChildKey: 0
.head 5 -  Class: frmSoloNombre
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbGrabar
.head 5 -  Class Child Ref Key: 34
.head 5 -  Class ChildKey: 0
.head 5 -  Class: frmSoloNombre
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.386"
.head 6 -  Top:    0.115"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Call SqlPrepareAndExecute(hSql1,"Begin Tran")
.head 7 -  Call SqlPrepareAndExecute(hSql1,Actualizar())
.head 7 -  Call SqlPrepareAndExecute(hSql1,"commit Tran")
.head 7 -  Set dfCodigo = ""
.head 7 -  Call SalSetFocus( dfCodigo )
.head 7 -  Call SalMessageBox( "Cambios realizados","Atencion",MB_Ok)
.head 7 -  Call SalTblReset( tbl1 )
.head 4 +  Pushbutton: pbSalir
.head 5 -  Class Child Ref Key: 39
.head 5 -  Class ChildKey: 0
.head 5 -  Class: frmSoloNombre
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pb4
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbLimpia
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.286"
.head 6 -  Top:    0.115"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Set dfCodigo = ""
.head 7 -  Call SalSetFocus( dfCodigo )
.head 7 -  Call SalTblReset( tbl1 )
.head 2 +  Contents
.head 3 +  Data Field: dfCodigo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.286"
.head 6 -  Top:    0.24"
.head 6 -  Width:  2.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Codigo del Recibo
.head 4 -  Resource Id: 32665
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.486"
.head 5 -  Top:    0.26"
.head 5 -  Width:  1.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 5
.head 4 -  Class ChildKey: 0
.head 4 -  Class: frmSoloNombre
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.086"
.head 6 -  Top:    0.656"
.head 6 -  Width:  12.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.917"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: Class Default
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colCODIGO
.head 6 -  Class Child Ref Key: 25
.head 6 -  Class ChildKey: 0
.head 6 -  Class: frmSoloNombre
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Recibo
.head 6 -  Visible? Yes
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: String
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.129"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colRECIBIDE
.head 6 -  Class Child Ref Key: 26
.head 6 -  Class ChildKey: 0
.head 6 -  Class: frmSoloNombre
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Recibi de
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: String
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.829"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDESCRIPCION
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripcion
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.929"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFECHA
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMONTO
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.114"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  Set tbl1.colSTRMONTO="*" || NumToLetras( frmModificarRecibos.tbl1.colMONTO ) || "********" 
.head 5 +  Column: colSTRMONTO
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto en letras
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.714"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb3
.data CLASSPROPSSIZE
0000: 2D00
.enddata
.data CLASSPROPS
0000: 544F4F4C5449505F 5374617475730001 000000544F4F4C54 49505F5469700007
0020: 0042757363617200 0000000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.457"
.head 5 -  Top:    0.115"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalWaitCursor( TRUE )
.head 6 -  Call SalTblPopulate( tbl1, hSql1, ArmarQuery(), TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 6 -  ! Set dfTotal=ContarFilas( tbl1 )
.head 6 -  ! Set dfTotalEntradas=SalTblColumnSum( tbl1, 6, 0, 0 )
.head 6 -  ! Set dfTot=SalTblColumnSum( tbl2, 6, 0, 0 )
.head 6 -  Call SalWaitCursor( FALSE )
.head 6 -  ! Set t_countfact = ContarFilas(tbl1)
.head 6 -  ! Set t_sumfact=SalTblColumnSum( tblf, 5, 0, 0 )
.head 2 +  Functions
.head 3 +  Function: ArmarQuery
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sConsulta
.head 5 -  String: sConsulta2
.head 4 +  Actions
.head 5 +  ! If rbEntradas
.head 6 -  Set sConsulta="Select a.cod_entrada,a.fecha,b.nombre,a.factura,a.total_factura,a.cod_bodega from ENTRADAS a, grupos_med b where A.COD_GRUPO=B.COD_GRUPO"
.head 5 +  ! If rbPlanPago
.head 6 -  Set sConsulta="Select a.cod_entrada,a.fecha,b.nombre,a.factura,a.total_factura,a.cod_bodega from prog_pago a, grupos_med b where A.COD_GRUPO=B.COD_GRUPO"
.head 5 +  ! If rbTodas
.head 6 -  Set sConsulta="Select a.cod_entrada,a.fecha,b.nombre,a.factura,a.total_factura,a.cod_bodega from ENTRADAS a, grupos_med b where A.COD_GRUPO=B.COD_GRUPO"
.head 6 -  Set sConsulta2="Select a.cod_entrada,a.fecha,b.nombre,a.factura,a.total_factura,a.cod_bodega from prog_pago a, grupos_med b where A.COD_GRUPO=B.COD_GRUPO"
.head 5 +  ! If dfFechaInicial != DATETIME_Null
.head 6 -  Set sConsulta=sConsulta||"	and A.FECHA>=:dlgConsultaPlanPago.dfFechaInicial"
.head 6 -  Set sConsulta2=sConsulta2||"  and A.FECHA>=:dlgConsultaPlanPago.dfFechaInicial"
.head 5 +  ! If dfFechaFinal != DATETIME_Null
.head 6 -  Set sConsulta=sConsulta||"	and	A.FECHA<=:dlgConsultaPlanPago.dfFechaFinal"
.head 6 -  Set sConsulta2=sConsulta2||"  and	A.FECHA<=:dlgConsultaPlanPago.dfFechaFinal"
.head 5 +  ! If cmbGrupo!=''
.head 6 -  Set sConsulta=sConsulta|| " and a.cod_grupo = :dlgConsultaPlanPago.cmbGrupo.nCodigo"
.head 6 -  Set sConsulta2=sConsulta2|| " and a.cod_grupo = :dlgConsultaPlanPago.cmbGrupo.nCodigo"
.head 5 +  ! If dfFactura!=''
.head 6 -  Set sConsulta=sConsulta||"	and 	A.FACTURA=:dlgConsultaPlanPago.dfFactura"
.head 6 -  Set sConsulta2=sConsulta2||"  and 	A.FACTURA=:dlgConsultaPlanPago.dfFactura"
.head 5 -  ! Set sConsulta=sConsulta||"	order by b.nombre asc "
.head 5 -  ! Set sConsulta2=sConsulta2||" order by b.nombre asc "
.head 5 +  ! If rbTodas
.head 6 -  Set sConsulta=sConsulta || " union " || sConsulta2
.head 5 -  Set sConsulta="Select COD_RECIBO,RECIBIDE,DESCRIPCION,FECHA,MONTO,STRMONTO FROM RECIBOS WHERE COD_RECIBO = :dfCodigo"
.head 5 -  Return sConsulta
.head 3 +  Function: Actualizar
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: strAct
.head 4 +  Actions
.head 5 -  Set strAct = "Update RECIBOS Set FECHA=:tbl1.colFECHA, DESCRIPCION=:tbl1.colDESCRIPCION, MONTO=:tbl1.colMONTO, RECIBIDE=:tbl1.colRECIBIDE, STRMONTO=:tbl1.colSTRMONTO WHERE COD_RECIBO=:tbl1.colCODIGO"
.head 5 -  Return strAct
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  ! String 
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalCenterWindow( hWndForm )
.head 1 +  Form Window: frmRecibosCancFactura
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Modulo de Recibos
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  13.457"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 8.036"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: System Window Color
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.738"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Charcoal
.head 3 +  Contents
.head 4 +  Pushbutton: pb5
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbImprimir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.867"
.head 6 -  Top:    0.119"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Set srecibo = dfRecibo
.head 7 -  Set sfactura = '-999'
.head 7 -  Call SalCreateWindow( frmImprimir, hWndForm,
"Recibo",
strRepPath || "\\RECIBO_N.QRP",
":s1,:dt1,:s2,:n1,:n2,:s3,:s4,:s5,:n3,:n4,:s6,:s7",
"recibide2,fecha,descripcion,monto,cod_recibo,strmonto,cheque,banco,saldoant,saldoactual,cod_partida,descripcion2",
"select RECIBIDE,FECHA,DESCRIPCION,MONTO,COD_RECIBO,STRMONTO,DOCUMENTO,BANCO,SALDOANT,SALDOACT,COD_PARTIDA,DESCRIPCION2 from RECIBOS
WHERE COD_RECIBO ='" || srecibo || "' 
into	:s1,:dt1,:s2,:n1,:n2,:s3,:s4,:s5,:n3,:n4,:s6,:s7",'', FALSE)
.head 7 -  ! convert(varchar(10) ,A.FECHA,103)
.head 7 -  ! bueno
.head 7 -  ! Call SalCreateWindow( frmImprimir, hWndForm,
"Recibo",
strRepPath || "\\RECIBO_N.QRP",
":s1,:dt1,:s2,:n1,:n2,:s3,:s4,:s5,:n3,:n4,:s6,:s7",
"recibide2,fecha,descripcion,monto,cod_recibo,strmonto,cheque,banco,saldoant,saldoactual,cod_partida,descripcion2",
"select RECIBIDE,FECHA,DESCRIPCION,MONTO,COD_RECIBO,STRMONTO,DOCUMENTO,BANCO,SALDOANT,SALDOACT,COD_PARTIDA,DESCRIPCION2 from RECIBOS
WHERE MONTO > 0 AND COD_RECIBO ='" || srecibo || "' 
into	:s1,:dt1,:s2,:n1,:n2,:s3,:s4,:s5,:n3,:n4,:s6,:s7",'')
.head 4 +  Pushbutton: pbBuscar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbBusqueda
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 2.667"
.head 6 -  Top:    0.119"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Set sRecibo=''
.head 7 -  Call SalModalDialog(dlgConsultaRecibosNuevos,hWndForm,sRecibo)
.head 7 +  If sRecibo!=''
.head 8 -  Set dfRecibo =sRecibo
.head 8 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 4 +  Pushbutton: pbAgregar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbMas
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.267"
.head 6 -  Top:    0.119"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filenew.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set pbAgregar.nOpcionh=1
.head 7 -  ! Set pbAgregar.hWndCampo=dfPago
.head 6 +  On SAM_Click
.head 7 -  ! Call SalSendClassMessage( SAM_Click, 0, 0 )
.head 7 -  Call SalTblReset(tbl1)
.head 7 -  Call SalTblReset(tbl2)
.head 7 -  Call LimpiarCampos()
.head 7 -  Call SalEnableWindow(pbGrabar)
.head 7 -  Set dfFechaPago=FechaHoy(2)
.head 7 -  Call SalDateToStr( dfFechaPago, FECHA_PAGO )
.head 7 -  Call SalStrLeft (FECHA_PAGO, 10, FECHA_PAGO )
.head 7 -  Call SqlPrepareAndExecute(hSql1,"
select max(MAXIMO) +1 from  IDENTITYS  where COD_TABLA=700 into :dfRecibo")
.head 7 -  Call SqlFetchNext( hSql1, nSiguiente )
.head 7 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 7 -  ! Call SqlPrepareAndExecute(hSql1,"select max(numero_pago) + 1 from pagos where cod_factura = -999 into :dfPago")
.head 7 -  ! Call SqlFetchNext( hSql1, nSiguiente )
.head 7 -  ! Set dfPago=1
.head 7 -  Call SalListSetSelect (cmbPago,1)	
.head 7 -  Set dfDescrip2='*****************************************'
.head 7 -  Set dfFacturasAfectadas=0
.head 7 -  Set dfSobrante = 0
.head 4 +  Pushbutton: pbGrabar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbGrabar
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.067"
.head 6 -  Top:    0.119"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filesave.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbEliminar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 3.467"
.head 6 -  Top:    0.119"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\editdelete.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 -  Call SqlExists(  "select  
		A.ESTADO
from 
		RECIBOS  A 
where
		A.COD_RECIBO  =:dfRecibo
into 
		:sEstado" , bExists)
.head 7 -  Call SqlClearImmediate( )
.head 7 -  !
.head 7 +  If not bExists
.head 8 -  Call SalMessageBox( "Recibo no existe!" , "Error", MB_Ok )
.head 8 -  Return FALSE
.head 7 -  !
.head 7 +  If sEstado = "ANULADO"
.head 8 -  !
.head 8 -  Call SalMessageBox( "El recibo ya está anulado!", "Error", MB_Ok )
.head 7 +  Else If sEstado = "GRABADO"
.head 8 -  !
.head 8 +  If SalMessageBox( "Esta seguro de anular el recibo ?", "Advertencia", MB_YesNo )=IDYES
.head 9 -  !
.head 9 -  Call AnularRecibo(  )
.head 9 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 8 -  !
.head 7 -  !
.head 7 -  Set sRecibo=dfRecibo
.head 7 -  ! Set sRecibo='18148'
.head 7 +  If SalMessageBox( "Desea anular los pagos a facturas afectadas por este recibo?", "Advertencia", MB_YesNo )=IDYES
.head 8 -  !
.head 8 -  Call SalModalDialog(dlgPagosxRecibo, hWndForm,sRecibo)
.head 4 +  Pushbutton: pb9
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Facturas
.head 5 -  Window Location and Size
.head 6 -  Left: 4.283"
.head 6 -  Top:    0.119"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 -  Call SalModalDialog(dlgPagosxRecibo, hWndForm,sRecibo)
.head 4 +  Pushbutton: pb10
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Recibos A
.head 5 -  Window Location and Size
.head 6 -  Left: 5.083"
.head 6 -  Top:    0.119"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Call SalModalDialog(dlgConsultaRecibosAnteriores,hWndForm)
.head 2 +  Contents
.head 3 +  Data Field: dfRecibo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.867"
.head 6 -  Top:    0.286"
.head 6 -  Width:  2.317"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  ! On SAM_Validate
.head 6 -  Call SqlPrepareAndExecute(hSql1,"select A.NUMERO_PAGO,A.MONTO,A.FECHA,A.DOCUMENTO,A.RECIBO,A.DESCRIPCION,A.COD_PAGO,A.RECIBIDE,A.STRMONTO,A.SALDOANT,A.SALDOACT,A.BANCO
               
from	 RECIBOS  A
where	A.COD_FACTURA=-999 AND A.COD_RECIBO=:dfRecibo
into	:dfPago,:dfMonto,:dfFechaPago,:dfDocumento,:dfRecibo,:dfDescrip,:cmbPago.nCodigo,:dfRecibide,:dfstrMonto,:dfSaldoAnt,:dfSaldoAct,:dfBanco")
.head 6 -  !
.head 6 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 6 -  Call cmbPago.Actualizar()
.head 3 +  Data Field: dfFechaPago
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.267"
.head 6 -  Top:    0.286"
.head 6 -  Width:  1.717"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Call SalDateToStr( dfFechaPago, FECHA_PAGO )
.head 6 -  Call SalStrLeft (FECHA_PAGO, 10, FECHA_PAGO )
.head 3 +  Data Field: dfMonto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 8.083"
.head 6 -  Top:    0.286"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ########000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Set dfstrMonto="*" || NumToLetras( dfMonto ) || "********"
.head 3 +  Combo Box: cmbPago
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.867"
.head 5 -  Top:    0.536"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 2.905"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbPago.nCaso=1
.head 6 -  Set cmbPago.sTabla='TIPOS_PAGO'
.head 6 -  Set cmbPago.sNombre='NOMBRE'
.head 6 -  Set cmbPago.sCodigo='COD_PAGO'
.head 5 +  On SAM_Validate
.head 6 +  If cmbPago.nCodigo=0
.head 7 -  Set dfDocumento='EFECTIVO'
.head 7 -  Set dfBanco='0'
.head 6 +  Else
.head 7 -  Set dfDocumento=''
.head 7 -  Set dfBanco=''
.head 3 +  Data Field: dfSaldoAnt
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.283"
.head 6 -  Top:    0.536"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ########000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Set dfstrMonto="*" || NumToLetras( dfMonto ) || "********"
.head 3 +  Data Field: dfSaldoAct
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 8.083"
.head 6 -  Top:    0.536"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ########000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Set dfstrMonto="*" || NumToLetras( dfMonto ) || "********"
.head 3 +  Data Field: dfDocumento
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.867"
.head 6 -  Top:    0.786"
.head 6 -  Width:  2.417"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Data Field: dfBanco
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.283"
.head 6 -  Top:    0.786"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Data Field: dfRecibide
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.867"
.head 6 -  Top:    1.036"
.head 6 -  Width:  7.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfstrMonto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.867"
.head 6 -  Top:    1.298"
.head 6 -  Width:  7.914"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfDescrip
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.867"
.head 6 -  Top:    1.536"
.head 6 -  Width:  7.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfDescrip2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.867"
.head 6 -  Top:    1.738"
.head 6 -  Width:  7.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Estado
.head 4 -  Resource Id: 32955
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.117"
.head 5 -  Top:    0.821"
.head 5 -  Width:  0.643"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: #Recibo
.head 4 -  Resource Id: 32956
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.983"
.head 5 -  Top:    0.321"
.head 5 -  Width:  0.829"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Descripcion
.head 4 -  Resource Id: 32957
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.667"
.head 5 -  Top:    1.536"
.head 5 -  Width:  1.143"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Tipo Pago
.head 4 -  Resource Id: 32958
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.717"
.head 5 -  Top:    0.571"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Fecha
.head 4 -  Resource Id: 32959
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.65"
.head 5 -  Top:    0.321"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Recibi de:
.head 4 -  Resource Id: 32960
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.817"
.head 5 -  Top:    1.048"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Monto
.head 4 -  Resource Id: 32961
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.35"
.head 5 -  Top:    0.321"
.head 5 -  Width:  0.629"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: La Cantidad de:
.head 4 -  Resource Id: 32962
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.417"
.head 5 -  Top:    1.381"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfEstado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 8.083"
.head 6 -  Top:    0.786"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Red
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: S. Actual
.head 4 -  Resource Id: 32963
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.217"
.head 5 -  Top:    0.536"
.head 5 -  Width:  0.771"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Documento
.head 4 -  Resource Id: 32964
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    0.821"
.head 5 -  Width:  1.029"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Banco
.head 4 -  Resource Id: 32965
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.633"
.head 5 -  Top:    0.821"
.head 5 -  Width:  0.643"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: S. Ant
.head 4 -  Resource Id: 32966
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.633"
.head 5 -  Top:    0.536"
.head 5 -  Width:  0.557"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbAgregarFactura
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbChAgregarChiquito
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.567"
.head 5 -  Top:    2.19"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\edit_add15.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Inicializar las variables de instancia del boton
.head 6 -  Set pbAgregarFactura.hWndFila=tbl1.colFactura
.head 6 -  Set pbAgregarFactura.hWndTabla=tbl1
.head 5 +  On SAM_Click
.head 6 -  ! Set tbl1.colUnico=Identity(21)
.head 6 -  ! Al hacer click en este botón se agrega una nueva linea en el detalle
y automaticamente le genera un correlativo con la funcion Identity
.head 6 +  If dfRecibo!=''
.head 7 -  Call SalSendClassMessage(SAM_Click,0,0)
.head 6 +  Else
.head 7 -  Call SalMessageBox('Primero debe especificar los datos del recibo','Atencion',MB_Ok)
.head 3 +  Pushbutton: pbBorrarFactura
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbChBorrarChiquito
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.167"
.head 5 -  Top:    2.19"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\edit_remove15.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set pbBorrarFactura.hWndFila=tbl1.colFactura
.head 6 -  Set pbBorrarFactura.hWndTabla=tbl1
.head 6 -  ! Call TotalAbonos()
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.171"
.head 6 -  Top:    2.571"
.head 6 -  Width:  12.614"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.708"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 300
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colFactura
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: # Fact
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  !
.head 8 -  Set tbl1.colDescripcion = dfDescrip
.head 8 -  Call CargarDatosFact()
.head 5 +  Column: colHon
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Hon?
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Center
.head 6 -  Width:  0.543"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMontoFact
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Mont Fac.
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.917"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: #####000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colHonorarios
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Mont Hon
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.917"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: #####000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colTotal
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Gran Total
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMontoDebe
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Debe Fac
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.914"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDebeHon
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Debe Hon.
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.943"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ########000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colAbono
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Abono
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.117"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: #####000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 +  If tbl1.colAbono < 0
.head 9 -  Call SalMessageBox('El abono debe ser mayor que 0!','Atencion',MB_Ok)
.head 9 -  Return VALIDATE_Cancel
.head 8 -  !
.head 8 +  If tbl1.colHon='S'
.head 9 +  If tbl1.colAbono > tbl1.colDebeHon
.head 10 -  Call SalMessageBox('El abono no puede ser mayor a honorarios adeudados','Atencion',MB_Ok)
.head 10 -  Return VALIDATE_Cancel
.head 8 +  Else
.head 9 +  If tbl1.colAbono > tbl1.colMontoDebe
.head 10 -  Call SalMessageBox('El abono no puede ser mayor al saldo adeudado','Atencion',MB_Ok)
.head 10 -  Return VALIDATE_Cancel
.head 8 -  !
.head 8 -  Call TotalAbonos()
.head 5 +  Column: colNC
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: NC
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: #####000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 +  If tbl1.colHon = 'N'
.head 9 +  If tbl1.colNC > ( tbl1.colMontoDebe - tbl1.colAbono ) 
.head 10 -  Set tbl1.colNC = tbl1.colMontoDebe - tbl1.colAbono 
.head 10 -  Call SalMessageBox( 'El valor de la nota de crédito debe ser menor que ' || SalNumberToStrX(( tbl1.colMontoDebe - tbl1.colAbono ),2) , 'Hospital BETESDA', 0 )
.head 8 +  Else
.head 9 +  If tbl1.colNC > ( tbl1.colDebeHon - tbl1.colAbono ) 
.head 10 -  Set tbl1.colNC = tbl1.colDebeHon - tbl1.colAbono 
.head 10 -  Call SalMessageBox( 'El valor de la nota de crédito debe ser menor que ' || SalNumberToStrX(( tbl1.colDebeHon - tbl1.colAbono ),2) , 'Hospital BETESDA', 0 )
.head 5 +  Column: colPago
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: # Pag
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.586"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colTotalPagado
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Total pagado
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: #####000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMedico
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Medico
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.586"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDescripcion
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descrip Pago
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.3"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCorrel
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Correl
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 +  Window Variables
.head 5 -  Number: nFilita
.head 4 +  Message Actions
.head 5 +  On SAM_RowSetContext
.head 6 -  ! Call CargarDatos()
.head 6 -  Call TotalAbonos()
.head 5 +  On SAM_Click
.head 6 -  Call CargarDatos()
.head 3 -  Background Text: Total Abonos
.head 4 -  Resource Id: 32968
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.583"
.head 5 -  Top:    4.429"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTotalAbonos
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.783"
.head 6 -  Top:    4.405"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ########000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb6
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Adicionar todos los honorarios de esta factura
.head 4 -  Window Location and Size
.head 5 -  Left: 1.483"
.head 5 -  Top:    4.405"
.head 5 -  Width:  4.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.302"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalTblSetContext(tbl2,0)
.head 6 -  Set xvar =0
.head 6 -  Call SalTblSetFocusCell( tbl1, SalTblInsertRow( tbl1, TBL_MaxRow ), xfilas, 0, 1 )
.head 6 -  Call PasarHon()
.head 6 +  While SalTblFindNextRow(tbl2,xvar,0,0)
.head 7 -  Call SalTblSetContext(tbl2,xvar)
.head 7 -  Call SalTblSetFocusCell( tbl1, SalTblInsertRow( tbl1, TBL_MaxRow ), xfilas, 0, 1 )
.head 7 -  Call PasarHon()
.head 3 +  Child Table: tbl2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.167"
.head 6 -  Top:    4.786"
.head 6 -  Width:  12.614"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.619"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 300
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colCorrel
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Correl
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.714"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFactura
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: #Factura
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.029"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMedico
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Medico
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.314"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colTotal
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto Total
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.143"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMontoDebe
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto Debe
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.229"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDescrip
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripción
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  4.643"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 +  Message Actions
.head 5 +  On SAM_DoubleClick
.head 6 -  Call PasarHon()
.head 3 -  Background Text: Honorarios
.head 4 -  Resource Id: 32969
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.167"
.head 5 -  Top:    4.464"
.head 5 -  Width:  1.414"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: 10
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Dark Blue
.head 4 -  Background Color: Default
.head 3 -  Background Text: Facturas Afectadas
.head 4 -  Resource Id: 3234
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.133"
.head 5 -  Top:    2.238"
.head 5 -  Width:  2.35"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: 10
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Dark Blue
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFacturasAfectadas
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.783"
.head 6 -  Top:    2.238"
.head 6 -  Width:  0.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Group Box: Datos Generales del Recibo
.head 4 -  Resource Id: 3238
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    0.071"
.head 5 -  Width:  9.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.0"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: 10
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Midnight Blue
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 3236
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.05"
.head 5 -  Top:    2.512"
.head 5 -  Width:  12.833"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.81"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 -  Frame
.head 4 -  Resource Id: 3235
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.117"
.head 5 -  Top:    4.702"
.head 5 -  Width:  12.767"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.786"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 +  Check Box: cbDeposito
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Depósito de Cliente
.head 4 -  Window Location and Size
.head 5 -  Left: 9.983"
.head 5 -  Top:    1.821"
.head 5 -  Width:  2.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 -  Background Text: Sobrante
.head 4 -  Resource Id: 17039
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.883"
.head 5 -  Top:    2.262"
.head 5 -  Width:  0.75"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfSobrante
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.783"
.head 6 -  Top:    2.238"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ########000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 2 +  Functions
.head 3 +  Function: LimpiarCampos
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Set dfMonto=NUMBER_Null
.head 5 -  Set dfFechaPago=DATETIME_Null
.head 5 -  Set cmbPago=''
.head 5 -  Set dfDocumento=''
.head 5 -  Set dfRecibo=''
.head 5 -  Set dfDescrip=''
.head 5 -  Set dfRecibide=''
.head 5 -  Set dfstrMonto=''
.head 5 -  Set dfSaldoAnt=NUMBER_Null
.head 5 -  Set dfSaldoAct=NUMBER_Null
.head 3 +  Function: TotalAbonos
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: xvar
.head 5 -  Boolean: vok
.head 4 +  Actions
.head 5 -  Set dfTotalAbonos=SalTblColumnSum( tbl1, 8, 0, 0 )
.head 3 +  Function: DataOk
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean: vok
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Boolean: vok
.head 4 +  Actions
.head 5 -  Call TotalAbonos()
.head 5 -  !
.head 5 +  If SalIsNull(dfTotalAbonos) or dfTotalAbonos =0
.head 6 -  !
.head 6 -  Call SalMessageBox('Debe registrar al menos una factura asociada al recibo!','Error',MB_Ok)
.head 6 -  Return FALSE
.head 5 +  If dfMonto != (dfTotalAbonos + dfSobrante)
.head 6 -  Call SalMessageBox('El monto del recibo debe ser igual a la suma de los abonos mas el sobrante en caso de que exista','Error',MB_Ok)
.head 6 -  Return FALSE
.head 5 -  !
.head 5 -  Call SalTblSetContext(tbl1,0)
.head 5 -  Set xvar =0
.head 5 +  If SalIsNull(tbl1.colAbono) 
.head 6 -  Call SalMessageBox('Para guardar el recibo todos los abonos deben ser mayores a 0','Notas de Crédito',MB_Ok)
.head 6 -  Return FALSE
.head 5 +  While SalTblFindNextRow(tbl1,xvar,0,0)
.head 6 -  Call SalTblSetContext(tbl1,xvar)
.head 6 +  If SalIsNull(tbl1.colAbono)
.head 7 -  Call SalMessageBox('Para guardar el recibo todos los abonos deben ser mayores a 0','Error no se pudo grabar',MB_Ok)
.head 7 -  Return FALSE
.head 5 -  !
.head 5 -  Return TRUE
.head 3 +  Function: RegistrarPagoHonInd
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Call SqlExists("Select	NUMERO_PAGO 
from   PAGOS_HON
where	COD_FACTURA =:tbl1.colFactura and NUMERO_PAGO =:tbl1.colPago and CORREL=:tbl1.colCorrel ",bExists)
.head 5 -  Call SqlClearImmediate( )
.head 5 -  Call SalDateToStr( dfFechaPago, FECHA_PAGO )
.head 5 -  Call SalStrLeft (FECHA_PAGO, 10, FECHA_PAGO )
.head 5 +  If bExists
.head 6 -  Call SalMessageBox('El numero de pago de honorarios ya existe','Error',MB_Ok)
.head 5 +  Else
.head 6 -  Call SqlPrepareAndExecute(hSql1,"Begin Tran")
.head 6 +  If SqlPrepareAndExecute(hSql1,"
insert 	PAGOS_HON  ( NUMERO_PAGO,
	COD_FACTURA,
	FECHA,
	DESCRIPCION,
	MONTO,
	RECIBO,
	DOCUMENTO,
	COD_PAGO,
	CORREL

	 )
values(
	:tbl1.colPago,      
	:tbl1.colFactura,
	:FECHA_PAGO,
	:tbl1.colDescripcion,
	:tbl1.colAbono,
	:dfRecibo,
	:dfDocumento,
	:cmbPago.nCodigo,
	:tbl1.colCorrel

               )")  
.head 7 +  If ActualizarMontoDebeHon()
.head 8 -  Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 8 -  Call GenerarHaber()
.head 3 +  Function: GenerarDebe
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nCorrelativo
.head 4 +  Actions
.head 5 -  Set sRegresa='PREC' || dfRecibo
.head 5 -  Call SqlPrepareAndExecute(hSql1,"
insert INTO PARTIDAS (
COD_PARTIDA,
DESCRIPCION,
FECHA,
COD_TIPO,
TOTAL_CARGO,
TOTAL_DEBITO,
ESTADO,
SUMARIZADA,CERRADA
)
values(
:sRegresa,
:dfDescrip ,
:dfFechaPago,
10 ,
:dfMonto,
:dfMonto,
0,0,0)") 	
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  Set nCorrelativo =  Identity(2) 
.head 5 -  Call SqlPrepareAndExecute(hSql1,"insert into
DET_PARTIDAS (
COD_PARTIDA ,
COD_CUENTA,
NOMBRE,
CARGO,CONCEPTO,CORRELATIVO)
values(:sRegresa,
'111-01',
'CAJA GENERAL',
:dfMonto,:dfDescrip,:nCorrelativo
)")	
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  Return TRUE
.head 3 +  Function: CargarDatos
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  ! Call SalTblPopulate(tbl2,hSql1,"
select	
	A.CORREL,
	A.COD_FACTURA,
	B.NOMBRE,
	A.COSTO,
	A.MONTO_DEBE,
	A.DESCRIPCION
               
from	
	DET_HONORARIOS  A, 
	MEDICOS B

where	
	A.ESTADO_PAGO=1 AND 
	A.COD_FACTURA=:tbl1.colFactura and
	A.COD_MEDICO=B.COD_MEDICO 
order by 
	A.COD_FACTURA,A.FECHA  ",TBL_FillAll)
.head 5 -  Call SalTblPopulate(tbl2,hSql1,"
select	
	A.CORREL,
	A.COD_FACTURA,
	B.NOMBRE,
	A.COSTO,
	(A.COSTO - 
(select	
        ISNULL(SUM(C.MONTO),0)
               
from	 PAGOS_HON  C

where
        C.CORREL=A.CORREL)
	),
	A.DESCRIPCION
               
from	
	DET_HONORARIOS  A, 
	MEDICOS B

where		
	A.COD_FACTURA=:tbl1.colFactura and
	A.COD_MEDICO=B.COD_MEDICO 
order by 
	A.COD_FACTURA,A.FECHA  ",TBL_FillAll)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 3 +  Function: RegistrarPagos
.head 4 -  Description: Registro de los pagos a Facturas
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  ! ! Por cada uno de los items en tbl1 (tabla de pagos) registramos los pagos a facturas
.head 5 -  ! ! Vamos a registrar cada uno de los pagos en su respectiva factura
.head 5 -  Call SalTblSetContext(tbl1,0)
.head 5 -  Set xvar =0
.head 5 +  If tbl1.colHon = 'N'
.head 6 -  Call RegistrarPagoFactInd()
.head 6 +  If tbl1.colNC > 0 
.head 7 -  Call oNotaCredito.Create(tbl1.colFactura, tbl1.colNC, tbl1.colMontoDebe - tbl1.colAbono, 0,  DATETIME_Null, FALSE)
.head 7 -  Set oNotaCredito.Descripcion = "NOTA DE CREDITO F-" || SalNumberToStrX(tbl1.colFactura, 0) || ", NO PAGADO POR SEGURO"
.head 7 +  If oNotaCredito.Salvar() = FALSE
.head 8 -  Call SalMessageBox(oNotaCredito.ErrorMessage, 'Notas Crédito', MB_Ok)
.head 5 +  Else
.head 6 -  Call RegistrarPagoHonInd()
.head 6 +  If tbl1.colNC > 0 
.head 7 -  Call oNotaCredito.Create(tbl1.colFactura, tbl1.colNC, tbl1.colDebeHon - tbl1.colAbono, tbl1.colCorrel, DATETIME_Null,TRUE)
.head 7 -  Set oNotaCredito.Descripcion = "NOTA DE CREDITO F-" || SalNumberToStrX(tbl1.colFactura, 0) || ", NO PAGADO POR SEGURO"
.head 7 +  If oNotaCredito.Salvar() = FALSE
.head 8 -  Call SalMessageBox(oNotaCredito.ErrorMessage, 'Notas Crédito', MB_Ok)
.head 5 +  While SalTblFindNextRow(tbl1,xvar,0,0)
.head 6 -  Call SalTblSetContext(tbl1,xvar)
.head 6 +  If tbl1.colHon = 'N'
.head 7 -  Call RegistrarPagoFactInd()
.head 7 -  Set dfFacturasAfectadas=dfFacturasAfectadas+1
.head 7 +  If tbl1.colNC > 0 
.head 8 -  Call oNotaCredito.Create(tbl1.colFactura, tbl1.colNC, tbl1.colMontoDebe - tbl1.colAbono, 0,  DATETIME_Null, FALSE)
.head 8 -  Set oNotaCredito.Descripcion = "NOTA DE CREDITO F-" || SalNumberToStrX(tbl1.colFactura, 0) || ", NO PAGADO POR SEGURO"
.head 8 +  If oNotaCredito.Salvar() = FALSE
.head 9 -  Call SalMessageBox(oNotaCredito.ErrorMessage, 'Notas Crédito', MB_Ok)
.head 6 +  Else
.head 7 -  Call RegistrarPagoHonInd()
.head 7 +  If tbl1.colNC > 0 
.head 8 -  Call oNotaCredito.Create(tbl1.colFactura, tbl1.colNC, tbl1.colDebeHon - tbl1.colAbono, tbl1.colCorrel, DATETIME_Null, TRUE)
.head 8 -  Set oNotaCredito.Descripcion = "NOTA DE CREDITO F-" || SalNumberToStrX(tbl1.colFactura, 0) || ", NO PAGADO POR SEGURO"
.head 8 +  If oNotaCredito.Salvar() = FALSE
.head 9 -  Call SalMessageBox(oNotaCredito.ErrorMessage, 'Notas Crédito', MB_Ok)
.head 3 +  Function: GenerarHaber
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nCorrelativo
.head 5 -  Number: nCodEmpleado
.head 5 -  Boolean: bExistsAutorizacion
.head 5 -  String: sCodCuenta
.head 5 -  String: sNomCuenta
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SqlExists( 
		"SELECT			
			A.COD_EMPLEADO
		FROM
			FACTURAS 		F,
			AUTORIZACION_PAGO	A
		WHERE
			F.COD_AUTORIZACION	= A.COD_AUTORIZACION AND
			F.COD_FACTURA		= :tbl1.colFactura
		INTO	
			:nCodEmpleado
		"
, bExistsAutorizacion)
.head 5 -  Call SqlClearImmediate()
.head 5 -  !
.head 5 +  If bExistsAutorizacion and nCodEmpleado != NUMBER_Null
.head 6 -  !
.head 6 -  Set sCodCuenta = '113-04-' || SalNumberToStrX(nCodEmpleado, 0) || '-01'
.head 6 -  Set sNomCuenta = 'FACTURACION'
.head 5 +  Else
.head 6 -  !
.head 6 -  Set sCodCuenta = '113-10'	
.head 6 -  Set sNomCuenta = 'CLIENTES'
.head 5 -  !
.head 5 -  Set sRegresa='PREC' || dfRecibo
.head 5 -  Set nCorrelativo =  Identity(2) 
.head 5 -  Call SqlPrepareAndExecute(hSql1,"insert into
	DET_PARTIDAS (
			COD_PARTIDA ,
			COD_CUENTA,
			NOMBRE,
			CREDITO,
			CONCEPTO,
			CORRELATIVO)
	values(
			:sRegresa,
			:sCodCuenta,
			:sNomCuenta,
			:tbl1.colAbono,
			:tbl1.colDescripcion,
			:nCorrelativo
)")	
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  Return TRUE
.head 3 +  Function: RegistrarPagoFactInd
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Call SqlPrepareAndExecute(hSql1,"Begin Tran")
.head 5 -  Call SalDateToStr( dfFechaPago, FECHA_PAGO )
.head 5 -  Call SalStrLeft (FECHA_PAGO, 10, FECHA_PAGO )
.head 5 -  Set xstrMonto="*" || NumToLetras( tbl1.colAbono ) || "********"
.head 5 +  If SqlPrepareAndExecute(hSql1,"
insert 	PAGOS  ( NUMERO_PAGO,
	COD_FACTURA,
	FECHA,
	DESCRIPCION,
	MONTO,
	RECIBO,
	DOCUMENTO,
	COD_PAGO,recibide,strmonto,banco,saldoant,saldoact,cod_partida )
values(
	:tbl1.colPago,
	:tbl1.colFactura,
	:FECHA_PAGO,
	:tbl1.colDescripcion,
	:tbl1.colAbono,
	:dfRecibo,
	:dfDocumento,
	:cmbPago.nCodigo,:dfRecibide,:xstrMonto,:dfBanco,:dfSaldoAnt,:dfSaldoAct,
               'PREC" ||dfRecibo || "'
               )")
.head 6 +  If ActualizarMontoDebeFact()
.head 7 -  Call GenerarHaber()
.head 7 -  Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 6 +  Else
.head 7 -  Call SalMessageBox( 'Hubo un error al registrar el Pago', 'Error', MB_Ok )
.head 3 +  Function: ActualizarMontoDebeFact
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: PAG
.head 4 +  Actions
.head 5 -  ! Registro de la disminucion en el saldo de la factura
.head 5 -  Set PAGADO=tbl1.colTotalPagado+tbl1.colAbono
.head 5 -  Set PAG=tbl1.colTotalPagado+tbl1.colAbono
.head 5 +  If tbl1.colMontoFact-PAGADO<=0
.head 6 -  Set ESTADO=1
.head 5 +  Else
.head 6 -  Set ESTADO=0
.head 5 +  If not SqlPrepareAndExecute(hSql1,"
update FACTURAS set MONTO_DEBE= MONTO_DEBE -  :tbl1.colAbono, ESTADO_PAGO=:ESTADO,
MONTO_PAGADO= MONTO_PAGADO + :tbl1.colAbono where
cod_factura=:tbl1.colFactura") 
.head 6 -  Return FALSE
.head 5 -  Return TRUE
.head 3 +  Function: ActualizarMontoDebeHon
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: PAG
.head 4 +  Actions
.head 5 -  ! Call SqlPrepareAndExecute(hSql1,"
select 	sum(monto) from PAGOS where cod_factura=:dfFactura 
 into :PAGADO ") 

.head 5 -  Set PAGADO=tbl1.colTotalPagado+tbl1.colAbono
.head 5 +  If tbl1.colHonorarios-PAGADO<=0
.head 6 -  Set ESTADOH='S'
.head 5 +  Else
.head 6 -  Set ESTADOH='N'
.head 5 -  ! Set PAGADO=tbl1.colHonorarios-PAGADO
.head 5 +  ! If not SqlPrepareAndExecute(hSql1,"
update DET_HONORARIOS set MONTO_DEBE=MONTO_DEBE- (:tbl1.colAbono), PAGADO=:ESTADOH,
MONTO_PAGADO = MONTO_PAGADO +  (:tbl1.colAbono) where
correl=:tbl1.colCorrel") 
.head 6 -  Return FALSE
.head 5 +  If not SqlPrepareAndExecute(hSql1,"
update facturas set DEBE_HONORARIOS=DEBE_HONORARIOS - (:tbl1.colAbono ), 
PAGADO_HONORARIOS=PAGADO_HONORARIOS + (:tbl1.colAbono) where
cod_factura=:tbl1.colFactura") 
.head 6 -  Return FALSE
.head 5 -  Return TRUE
.head 3 +  Function: PasarHon
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Set tbl1.colCorrel = tbl2.colCorrel
.head 5 -  Set tbl1.colFactura = tbl2.colFactura
.head 5 -  Call CargarDatosFact2()
.head 5 -  Set tbl1.colDebeHon = tbl2.colMontoDebe
.head 5 -  Set tbl1.colMedico = tbl2.colMedico
.head 5 -  Set tbl1.colHon = 'S'
.head 5 -  Set tbl1.colDescripcion = "PAGO DE HON.  F-" ||  SalNumberToStrX(tbl1.colFactura, 0)  || " Dr. " || tbl1.colMedico
.head 5 -  Call SalSetFocus( tbl1)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"
select sum(monto) from PAGOS_HON where CORREL=:tbl1.colCorrel into :tbl1.colTotalPagado") 
.head 5 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 5 -  If tbl1.colTotalPagado >0
.head 5 +  Else
.head 6 -  Set tbl1.colTotalPagado = 0.0
.head 5 -  Call SqlExists("Select max(NUMERO_PAGO) 
from   PAGOS_HON
where	CORREL=:tbl1.colCorrel and cod_factura=:tbl1.colFactura into :xno_pago",bExists)
.head 5 -  Call SqlClearImmediate( )
.head 5 +  If bExists
.head 6 -  Set xno_pago = xno_pago + 1
.head 5 +  Else
.head 6 -  Set xno_pago = 1 
.head 5 -  Set tbl1.colPago = xno_pago
.head 3 +  Function: CargarDatosFact
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Call SqlPrepareAndExecute(hSql1,"
select
	 A.TOTAL+A.MONTO_HONORARIOS,
	A.MONTO_DEBE,
	A.MONTO_HONORARIOS,
	A.TOTAL,
	A.DEBE_HONORARIOS
               
from	FACTURAS A
where	
	A.COD_FACTURA=:tbl1.colFactura
into	
	:tbl1.colTotal,
	:tbl1.colMontoDebe,
	:tbl1.colHonorarios,
	:tbl1.colMontoFact,
	:tbl1.colDebeHon")
.head 5 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 5 -  !
.head 5 -  !
.head 5 -  !
.head 5 -  Call SqlPrepareAndExecute(hSql1,"
select 
	sum(monto) 
from 
	PAGOS 
where 
	cod_factura=:tbl1.colFactura
 into 
	:tbl1.colTotalPagado") 
.head 5 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 5 -  !
.head 5 -  !
.head 5 -  !
.head 5 -  If tbl1.colTotalPagado > 0
.head 5 +  Else
.head 6 -  Set tbl1.colTotalPagado = 0
.head 5 -  Call SqlExists("Select	
		max(NUMERO_PAGO) 	
	from   
		PAGOS
	where	
		COD_FACTURA=:tbl1.colFactura 
	into 
		:xno_pago",bExists)
.head 5 -  Call SqlClearImmediate( )
.head 5 +  If bExists
.head 6 -  Set xno_pago = xno_pago + 1
.head 5 +  Else
.head 6 -  Set xno_pago = 1 
.head 5 -  !
.head 5 -  Set tbl1.colPago = xno_pago
.head 5 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 5 -  !
.head 5 -  Set tbl1.colHon = 'N'
.head 5 -  !
.head 5 -  Call CargarDatos()
.head 3 +  Function: CargarDatosFact2
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Call SqlPrepareAndExecute(hSql1,"
select 
	A.TOTAL+A.MONTO_HONORARIOS,
	A.MONTO_DEBE,
	A.MONTO_HONORARIOS,
	A.TOTAL
               
from	
	FACTURAS A
where	
	A.COD_FACTURA=:tbl1.colFactura
into	
	:tbl1.colTotal,
	:tbl1.colMontoDebe,
	:tbl1.colHonorarios,
	:tbl1.colMontoFact")
.head 5 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"
select sum(monto) from PAGOS where cod_factura=:tbl1.colFactura
 into :tbl1.colTotalPagado") 
.head 5 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 5 -  If tbl1.colTotalPagado > 0
.head 5 +  Else
.head 6 -  Set tbl1.colTotalPagado = 0
.head 5 -  Call SqlExists("Select	max(NUMERO_PAGO) 
from   PAGOS
where	COD_FACTURA=:tbl1.colFactura into :xno_pago",bExists)
.head 5 -  Call SqlClearImmediate( )
.head 5 +  If bExists
.head 6 -  Set xno_pago = xno_pago + 1
.head 5 +  Else
.head 6 -  Set xno_pago = 1 
.head 5 -  Set tbl1.colPago = xno_pago
.head 5 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 5 -  ! Call CargarDatos()
.head 5 -  ! Set tbl1.colDebeHon=SalTblColumnSum(tbl2,5 ,0,0)
.head 5 -  Set tbl1.colHon = 'N'
.head 3 +  Function: AnularRecibo
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nCerrada
.head 5 -  Number: nSumarizada
.head 5 -  String: sPartida
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set sPartida =  "PREC"  || dfRecibo
.head 5 -  Call SqlImmediate("select 
				sumarizada,
				cerrada   
			from 
				partidas  
			where 
				cod_partida = :sPartida
			into 
				:nSumarizada, 
				:nCerrada " )
.head 5 -  Call SqlClearImmediate()
.head 5 -  !
.head 5 +  If nCerrada=1 or nSumarizada=1
.head 6 -  Call SalMessageBox( 'El recibo no puede ser anulado, debido a que su partida está cerrada', 'Error', MB_Ok )
.head 5 +  Else
.head 6 -  !
.head 6 -  ! ------------------------Eliminar Partida 
.head 6 -  Call SybExecuteProc( hSql1, "BORRAR_PARTIDA " || sPartida, STRING_Null)
.head 6 -  !
.head 6 -  Call SqlImmediate("update 
			recibos 
		set 
			estado='ANULADO' 
		where
			COD_RECIBO = :dfRecibo " )
.head 6 -  Call SqlClearImmediate()
.head 6 -  !
.head 3 +  Function: GenerarHaberSobrante
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sDescripSobrante
.head 5 -  Number: nCorrelativo
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set sRegresa='PREC' || dfRecibo
.head 5 -  Set nCorrelativo =  Identity(2) 
.head 5 -  Set sDescripSobrante = "Sobrante por " || dfDescrip
.head 5 -  Call SqlPrepareAndExecute(hSql1,"insert into
				DET_PARTIDAS (
					COD_PARTIDA ,
					COD_CUENTA,
					NOMBRE,
					CREDITO,
					CONCEPTO,
					CORRELATIVO)
				values(
					:sRegresa,
					'410-15',
					'SOBRANTES Y FALTANTES',
					:dfSobrante,
					:sDescripSobrante,
					:nCorrelativo)")	
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  Return TRUE
.head 2 +  Window Parameters
.head 3 -  Number: nCaso
.head 3 -  Number: nParamCodFactura
.head 3 -  String: sParamNomPaciente
.head 2 +  Window Variables
.head 3 -  String: FECHA_PAGO
.head 3 -  Number: PAGADO
.head 3 -  Number: ESTADO
.head 3 -  Number: nFilita
.head 3 -  String: sRegresa
.head 3 -  String: sSql
.head 3 -  Number: nMaximo
.head 3 -  String: srecibo
.head 3 -  String: sfactura
.head 3 -  Number: max_en_tabla
.head 3 -  Number: xno_pago
.head 3 -  Boolean: todo_ok
.head 3 -  String: error_msg
.head 3 -  Number: xvar
.head 3 -  String: xstrMonto
.head 3 -  String: sRecibo
.head 3 -  String: ESTADOH
.head 3 -  Window Handle: xfilas
.head 3 -  String: sCodCategoria
.head 3 -  Number: xpor_asignar
.head 3 -  String: sEstado
.head 3 -  : oNotaCredito
.head 4 -  Class: lcNotaCredito
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  ! Set dfFactura=-999
.head 4 -  ! Set dfFechaRegistro=pFechaRegistro
.head 4 -  ! Set dfFechaCierre=pFechaCierre
.head 4 -  ! Set dfTotal=pTotal
.head 4 -  ! Set dfDebe=pDebe
.head 4 -  Call SalCenterWindow( hWndForm )
.head 4 -  Set dfTotalAbonos = 0.00
.head 4 -  !
.head 4 +  If nCaso = 2
.head 5 -  !
.head 5 -  Call SalSendMsg(pbAgregar, SAM_Click, 0, 0)
.head 5 -  Set dfDescrip = "PAGO DE F-" ||  SalNumberToStrX(nParamCodFactura, 0)  || " PAC. " || sParamNomPaciente
.head 5 -  Call SalSendMsg(pbAgregarFactura, SAM_Click, 0, 0)
.head 5 -  Set tbl1.colFactura = nParamCodFactura
.head 5 -  Call SalSendMsg(tbl1.colFactura, SAM_Validate, 0, 0)
.head 5 -  !
.head 3 +  On MU_GRABAR
.head 4 -  Call SalDateToStr( dfFechaPago, FECHA_PAGO )
.head 4 -  Call SalStrLeft (FECHA_PAGO, 10, FECHA_PAGO )
.head 4 -  Call SqlExists("Select COD_RECIBO from RECIBOS where COD_RECIBO=:dfRecibo ",bExists)
.head 4 -  Call SqlClearImmediate( )
.head 4 +  If bExists=TRUE
.head 5 -  Call SalMessageBox("El recibo no puede ser modificado. Consulte al Administrador del Sistema","Advertencia",MB_Ok)
.head 4 +  Else
.head 5 -  !
.head 5 -  ! Revisar que toda la informacione esta correcta
.head 5 +  If not DataOk()
.head 6 -  !
.head 6 -  Return FALSE
.head 5 -  !
.head 5 -  Call SqlPrepareAndExecute(hSql1,"Begin Tran")
.head 5 -  !
.head 5 +  If SalIsButtonChecked(cbDeposito)
.head 6 -  Set xpor_asignar = dfMonto
.head 5 +  Else
.head 6 -  Set xpor_asignar = 0
.head 5 -  !
.head 5 -  ! Registrar el recibo en la tabla Recibos
.head 5 +  If SqlPrepareAndExecute(hSql1,"
insert 	RECIBOS ( 
	
	COD_RECIBO,	
	FECHA,
	DESCRIPCION,
	DESCRIPCION2,
	MONTO,
	DOCUMENTO,
	COD_PAGO,
	COD_CATEGORIA,
	RECIBIDE,STRMONTO,BANCO,SALDOANT,SALDOACT,
	POR_ASIGNAR,	
	FACTURAS_AFECTADAS,
	SOBRANTE,		
	COD_PARTIDA)
values(
	:dfRecibo,      	
	:FECHA_PAGO,
	:dfDescrip,
	:dfDescrip2,
	:dfMonto,
	:dfDocumento,
	:cmbPago.nCodigo,
	'10',
	:dfRecibide,:dfstrMonto,:dfBanco,:dfSaldoAnt,:dfSaldoAct,
	:xpor_asignar,
	:dfFacturasAfectadas,
	:dfSobrante,
               'PREC" ||dfRecibo || "'
               )") 
.head 6 -  ! Debido a que aqui SYSADM puede poner el numero que desee se verifica el maximo
.head 6 -  Set nMaximo = SalStrToNumber( dfRecibo )
.head 6 -  Call SqlPrepareAndExecute(hSql1,"select max(maximo) from identitys where cod_tabla = 700 into :max_en_tabla")
.head 6 -  Call SqlFetchNext( hSql1, nSiguiente )
.head 6 +  If nMaximo>max_en_tabla
.head 7 -  Call SqlPrepareAndExecute(hSql1,"update identitys set maximo=:nMaximo where cod_tabla =700")
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 6 -  !
.head 6 -  ! Crear el en cabezado de partida y el detalle del debe en la misma
.head 6 -  Call GenerarDebe()
.head 6 -  ! ! Registramos cada uno de los pagos a facturas
.head 6 -  Call RegistrarPagos()
.head 6 -  !
.head 6 +  If dfSobrante > 0
.head 7 -  !
.head 7 -  Call GenerarHaberSobrante()
.head 6 -  Call SalMessageBox('Recibo Guardado','Atencion',MB_Ok)
.head 3 +  On MU_ACTUALIZAR
.head 4 -  !
.head 4 -  Call SqlImmediate("select 
				A.MONTO,
				A.SALDOANT,
				A.SALDOACT,
				A.FECHA,
				A.DOCUMENTO,				
				A.DESCRIPCION,
				A.COD_PAGO,
				A.RECIBIDE,
				A.STRMONTO,
				A.DESCRIPCION2,
				A.FACTURAS_AFECTADAS,
				A.SOBRANTE,
				A.ESTADO
from	 
				RECIBOS  A
where	
				A.COD_RECIBO=:sRecibo
into	
				:dfMonto,
				:dfSaldoAnt,
				:dfSaldoAct,
				:dfFechaPago,
				:dfDocumento,				
				:dfDescrip,
				:cmbPago.nCodigo,
				:dfRecibide,
				:dfstrMonto,
				:dfDescrip2,
				:dfFacturasAfectadas,
				:dfSobrante,
				:dfEstado")
.head 4 -  !
.head 4 -  Call SqlClearImmediate()
.head 4 -  !
.head 4 -  Call cmbPago.Actualizar()
.head 1 +  Dialog Box: dlgConsultaRecibosNuevos
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Consulta de Recibos 
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  11.95"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 7.381"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Background Text: # Recibo
.head 4 -  Resource Id: 62204
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.583"
.head 5 -  Top:    0.512"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfRecibo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.633"
.head 6 -  Top:    0.488"
.head 6 -  Width:  2.05"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Call SalSendMsg( hWndForm, MU_ACTUALIZAR, 0, 0 )
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatChildTable
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.186"
.head 6 -  Top:    2.238"
.head 6 -  Width:  11.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 2.083"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 1000000
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colRecibo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: # Recibo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: String
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.986"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFecha
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.043"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDescripcion
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripcion
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.657"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMonto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Right
.head 6 -  Width:  1.471"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ########000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colRecibide
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Pagado por
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.671"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colPorAsignar
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto por asignar
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Right
.head 6 -  Width:  1.643"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ########000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 +  Message Actions
.head 5 +  On SAM_DoubleClick
.head 6 -  Set sRecibo = tbl1.colRecibo
.head 6 -  Call SalEndDialog(dlgConsultaRecibosNuevos,TRUE)
.head 5 +  On SAM_Click
.head 6 -  Set dfRecibo=tbl1.colRecibo
.head 6 -  Set dfRecibo2 = tbl1.colRecibo
.head 6 -  Call SalTblPopulate(tbl2,hSql1,"
select	A.COD_FACTURA,A.NUMERO_PAGO,A.MONTO,
              convert(varchar(10) ,A.FECHA,103),A.DESCRIPCION,'FACTURAS'
               
from	 PAGOS  A  where A.RECIBO = :dfRecibo 

union 

select	A.COD_FACTURA,A.NUMERO_PAGO,A.MONTO,
              convert(varchar(10) ,A.FECHA,103),A.DESCRIPCION,'HONORARIOS'
               
from	 PAGOS_HON  A where A.RECIBO = :dfRecibo

",TBL_FillAll)
.head 3 +  Data Field: dfFI
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.467"
.head 6 -  Top:    0.488"
.head 6 -  Width:  2.117"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFF
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 8.967"
.head 6 -  Top:    0.488"
.head 6 -  Width:  1.617"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Fecha Final
.head 4 -  Resource Id: 62205
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.883"
.head 5 -  Top:    0.512"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Fecha Inicial
.head 4 -  Resource Id: 62206
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.983"
.head 5 -  Top:    0.512"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbBuscar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.867"
.head 5 -  Top:    1.369"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set sConsulta = "select A.COD_RECIBO,convert(varchar(10) ,A.FECHA,103),A.DESCRIPCION,
               A.MONTO, A.RECIBIDE,A.POR_ASIGNAR               
from	RECIBOS A 
where A.MONTO > -1 "
.head 6 +  If dfFI != DATETIME_Null and dfFF !=DATETIME_Null
.head 7 -  Set sConsulta=sConsulta||"	AND	A.FECHA >= :dfFI and 
                                                A.FECHA <=  :dfFF "

.head 6 +  If cbSoloDepositos
.head 7 -  Set sConsulta=sConsulta||" AND A.ES_DEPOSITO = 1 AND A.POR_ASIGNAR>0"
.head 6 +  If dfDescripcion!=''
.head 7 -  Set sConsulta=sConsulta||" AND A.DESCRIPCION LIKE '%" || dfDescripcion || "%'"
.head 6 +  If dfRecibo!=''
.head 7 -  Set sConsulta=sConsulta||" AND A.COD_RECIBO = '" || dfRecibo|| "'"
.head 6 +  If dfRecibide!=''
.head 7 -  Set sConsulta=sConsulta||" AND A.RECIBIDE LIKE '%" || dfRecibide || "%'"
.head 6 +  If dfPrimerNom!=''
.head 7 -  Set sConsulta=sConsulta|| " AND A.COD_RECIBO in 
(select RECIBO from pagos where cod_factura in 
(select F.cod_factura from facturas F, pacientes P where P.primer_nom like '%" || dfPrimerNom || "%' and F.cod_paciente = P.cod_paciente and F.correl_paciente = P.correl_paciente))"
.head 6 +  If dfPrimerApe!=''
.head 7 -  Set sConsulta=sConsulta|| " AND A.COD_RECIBO in 
(select RECIBO from pagos where cod_factura in 
(select F.cod_factura from facturas F, pacientes P where P.primer_ape like '%" || dfPrimerApe || "%' and F.cod_paciente = P.cod_paciente and F.correl_paciente = P.correl_paciente))"
.head 6 -  ! Paciente
.head 6 -  Set sConsulta=sConsulta||" order by A.FECHA "
.head 6 -  ! Call SalMessageBox(sConsulta,'SQL',MB_Ok)
.head 6 -  Call SalWaitCursor(TRUE)
.head 6 -  ! Call SalMessageBox('Haciendo la consulta','SQL',MB_Ok)
.head 6 -  Call SalTblPopulate(tbl1,hSql1,sConsulta,TBL_FillAll)
.head 6 -  ! Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  Call SalWaitCursor(FALSE)
.head 3 +  Check Box: cbSoloDepositos
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Solo Recibos de Depositos
.head 4 -  Window Location and Size
.head 5 -  Left: 7.983"
.head 5 -  Top:    0.905"
.head 5 -  Width:  2.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.333"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 -  Background Text: Primer Nombre
.head 4 -  Resource Id: 46735
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: -0.017"
.head 5 -  Top:    0.881"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.19"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfPrimerNom
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: String
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.633"
.head 6 -  Top:    0.821"
.head 6 -  Width:  2.15"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfPrimerApe
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.467"
.head 6 -  Top:    0.821"
.head 6 -  Width:  2.214"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Primer Apellido
.head 4 -  Resource Id: 46734
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.95"
.head 5 -  Top:    0.881"
.head 5 -  Width:  1.333"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.19"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Descripcion
.head 4 -  Resource Id: 58545
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.35"
.head 5 -  Top:    1.512"
.head 5 -  Width:  1.029"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfDescripcion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: String
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.633"
.head 6 -  Top:    1.452"
.head 6 -  Width:  6.05"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Group Box: Descripcion de Recibos
.head 4 -  Resource Id: 5403
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.086"
.head 5 -  Top:    1.988"
.head 5 -  Width:  11.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.417"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Facturas Afectadas por Recibo
.head 4 -  Resource Id: 5404
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.086"
.head 5 -  Top:    4.488"
.head 5 -  Width:  11.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.333"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: # Recibo
.head 4 -  Resource Id: 5405
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.286"
.head 5 -  Top:    4.51"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfRecibo2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.186"
.head 6 -  Top:    4.738"
.head 6 -  Width:  1.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Child Table: tbl2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.243"
.head 6 -  Top:    5.036"
.head 6 -  Width:  10.943"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.604"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 1000000
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colFactura
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: # Factura
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.086"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colPago
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: #Pago
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.086"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMonto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.643"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFecha
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.55"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDescrip
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripcion
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.643"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colTipo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Pago de
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.429"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 +  Message Actions
.head 5 +  ! On SAM_DoubleClick
.head 6 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.colPago)
.head 6 -  Call SalTblSetContext(tbl1,nFilita)
.head 6 -  Set dfPago=tbl1.colPago
.head 6 -  Set dfMonto=tbl1.colMonto
.head 6 -  Set dfFechaPago=tbl1.colFecha
.head 6 -  Set cmbPago.nCodigo=tbl1.colTipo_pago
.head 6 -  Set dfDocumento=tbl1.colDocumento
.head 6 -  Set dfDescrip=tbl1.colDescrip
.head 6 -  Set dfRecibo=tbl1.colRecibo
.head 6 -  Set dfRecibide=tbl1.colRecibide
.head 6 -  Set dfstrMonto=tbl1.colStrMonto
.head 6 -  Call cmbPago.Actualizar()
.head 3 -  Background Text: Recibi de
.head 4 -  Resource Id: 37155
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.35"
.head 5 -  Top:    1.202"
.head 5 -  Width:  1.029"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfRecibide
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: String
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.633"
.head 6 -  Top:    1.143"
.head 6 -  Width:  6.05"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Excel
.head 4 -  Window Location and Size
.head 5 -  Left: 2.483"
.head 5 -  Top:    4.738"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalTblCopyRows ( tbl2, 0, 0)
.head 3 -  Frame
.head 4 -  Resource Id: 11167
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.883"
.head 5 -  Top:    0.821"
.head 5 -  Width:  2.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: 3D Shadow Color
.head 4 -  Background Color: Default
.head 3 -  Group Box: Criterios de Busqueda
.head 4 -  Resource Id: 11168
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.238"
.head 5 -  Width:  10.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.667"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 2 -  Functions
.head 2 +  Window Parameters
.head 3 -  Receive String: sRecibo
.head 2 +  Window Variables
.head 3 -  String: sConsulta
.head 2 +  Message Actions
.head 3 +  On MU_ACTUALIZAR
.head 4 -  ! Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  ! Set dfTotalPagado=SalTblColumnSum(tbl1,2 ,0,0)
.head 4 -  ! Set dfDebe=dfTotal-dfTotalPagado
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalBringWindowToTop(dlgConsultaRecibosNuevos)
.head 3 -  ! cod de tabla 700 en identitys para recibos
.head 1 +  Dialog Box: dlgReportesCxCSoloClinica
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Reporte de Cuentas Por Cobrar a Pacientes Privados Solo Clinica
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: 1.413"
.head 4 -  Top:    0.865"
.head 4 -  Width:  7.533"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 2.75"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Black
.head 3 -  Background Color: 3D Face Color
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.667"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Charcoal
.head 3 +  Contents
.head 4 +  Pushbutton: pbImprimir
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbImprimir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.083"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.55"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Set sConsulta="select 
		A.cod_factura,
		A.cod_paciente,
		A.correl_paciente,
		A.monto_factura,
		A.total,
		A.descuento,
		A.monto_debe,
		A.monto_pagado,
		B.primer_nom,
		B.primer_ape,
		A.fecha_ingreso, 
		C.NOMBRE,
		B.DIRECCION,
		B.TELEFONO_CASA,
		B.CELULAR
from 
		facturas A,
		pacientes B,
		empresas C
 where 
		A.cod_paciente		=B.cod_paciente 	and
		A.correl_paciente		=B.correl_paciente 	and 
		B.cod_empresa 		= C.cod_empresa 	and
		A.estado_proceso		<>2		and
		A.CODIGO_CIUDAD_GEO 	= :dlgReportesCxCSoloClinica.cmbCuidades.nCodigo"
.head 7 +  If dfInicio != DATETIME_Null and dfFinal  !=DATETIME_Null
.head 8 -  Set sConsulta=sConsulta||"	AND	A.FECHA_INGRESO >= :dlgReportesCxCSoloClinica.dfInicio and 
                                                A.FECHA_INGRESO <=  :dlgReportesCxCSoloClinica.dfFinal "

.head 8 -  Set fechaI= SalFmtFormatDateTime(dfInicio,"dd/MM/yyyy")
.head 8 -  Set fechaF= SalFmtFormatDateTime(dfFinal ,"dd/MM/yyyy")
.head 8 -  Set sObs="De la Fecha " || fechaI || "   a la Fecha  " ||  fechaF
.head 7 +  Else
.head 8 -  Set sObs=" "
.head 7 +  If cbConSaldo = TRUE
.head 8 -  Set sConsulta = sConsulta || " and A.monto_debe > 0 "
.head 7 +  If rbSumarizada=TRUE
.head 8 -  Set sConsulta=sConsulta || "  order by A.fecha_ingreso,A.cod_paciente,A.correl_paciente "
.head 8 -  Call SalCreateWindow( frmImprimir, hWndForm,
"Listado de Pacientes",
strRepPath || "\\CUENTAS_PRIVADOSC.QRP",
":n1,:s1,:s2,:n2,:n3,:n4,:n5,:n6,:s3,:s4,:dt1,:s5, :s6, :s7, :s8",
"A.cod_factura,A.cod_paciente,A.correl_paciente,A.monto_factura,
A.total,A.descuento,A.monto_debe,A.monto_pagado,
B.primer_nom,B.primer_ape,A.fecha_ingreso, 
C.NOMBRE, B.DIRECCION, B.TELEFONO_CASA, B.CELULAR",
sConsulta || "
into :n1,:s1,:s2,:n2,:n3,:n4,:n5,:n6,:s3,:s4,:dt1,:s5, :s6, :s7, :s8",sObs, FALSE)
.head 7 +  Else
.head 8 -  Set sConsulta="select 
		A.cod_factura,
		A.cod_paciente,
		A.correl_paciente,
		A.monto_factura,
		A.total,
		A.descuento,
		A.monto_debe,
		A.monto_pagado,
		B.primer_nom,
		B.primer_ape,
		C.cod_medico,
		C.costo,
		D.nombre,
		A.monto_honorarios,
		A.debe_honorarios,
		A.pagado_honorarios,
		A.fecha_ingreso,
		C.monto_pagado,
		C.monto_debe
from 
		facturas A,
		pacientes B,
		det_honorarios C,
		medicos D
 where 
		A.cod_paciente	=B.cod_paciente 		and
		A.correl_paciente	=B.correl_paciente 		and 
		A.estado_proceso	<>2 			and 
		A.cod_factura	=C.cod_factura 		and 
		C.cod_medico=D.cod_medico			and
		A.CODIGO_CIUDAD_GEO 	= :dlgReportesCxCSoloClinica.cmbCuidades.nCodigo"
.head 8 +  If dfInicio != DATETIME_Null and dfFinal  !=DATETIME_Null
.head 9 -  Set sConsulta=sConsulta||"	AND	A.FECHA_INGRESO >= :dlgReportesCxCSoloClinica.dfInicio and 
                                                A.FECHA_INGRESO <=  :dlgReportesCxCSoloClinica.dfFinal "

.head 9 -  Set fechaI= SalFmtFormatDateTime(dfInicio,"dd/MM/yyyy")
.head 9 -  Set fechaF= SalFmtFormatDateTime(dfFinal ,"dd/MM/yyyy")
.head 9 -  Set sObs="De la Fecha " || fechaI || "   a la Fecha  " ||  fechaF
.head 8 +  If cbConSaldo = TRUE
.head 9 -  Set sConsulta = sConsulta || " and A.monto_debe > 0 "
.head 8 -  Set sConsulta=sConsulta || "  order by A.fecha_ingreso,A.cod_paciente,A.correl_paciente "
.head 8 -  Call SalCreateWindow( frmImprimir, hWndForm,
"Listado de Pacientes",
strRepPath || "\\CUENTAS_PRIVADOS_DET.QRP",
":n1,:s1,:s2,:n2,:n3,:n4,:n5,:n6,:s3,:s4,:n7,:n8,:s5,:n9,:n10,:n11,:dt1,:n12,:n13",
"A.cod_factura,A.cod_paciente,A.correl_paciente,A.monto_factura,
A.total,A.descuento,A.monto_debe,A.monto_pagado,
B.primer_nom,B.primer_ape,C.cod_medico,C.costo,D.nombre,A.monto_honorarios,
A.debe_honorarios,A.pagado_honorarios,A.fecha_ingreso,C.monto_pagado,C.monto_debe",
sConsulta || "
into :n1,:s1,:s2,:n2,:n3,:n4,:n5,:n6,:s3,:s4,:n7,:n8,:s5,:n9,:n10,:n11,:dt1,:n12,:n13",sObs, FALSE)
.head 4 +  Pushbutton: pbLimpiar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbLimpia
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.783"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.548"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pb3
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 6.583"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.548"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 -  Line
.head 5 -  Resource Id: 36513
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Coordinates
.head 6 -  Begin X:  -0.083"
.head 6 -  Begin Y:  0.738"
.head 6 -  End X:  8.483"
.head 6 -  End Y:  0.738"
.head 5 -  Visible? Yes
.head 5 -  Line Style: Solid
.head 5 -  Line Thickness: 2
.head 5 -  Line Color: Default
.head 2 +  Contents
.head 3 -  Group Box: Rango de Fechas 
.head 4 -  Resource Id: 36509
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    0.155"
.head 5 -  Width:  3.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.833"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Black
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfInicio
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.483"
.head 6 -  Top:    0.655"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFinal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.283"
.head 6 -  Top:    0.655"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Inicio
.head 4 -  Resource Id: 36510
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    0.429"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Final
.head 4 -  Resource Id: 36511
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.283"
.head 5 -  Top:    0.429"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Tipo de Salida
.head 4 -  Resource Id: 36512
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.183"
.head 5 -  Top:    0.155"
.head 5 -  Width:  3.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.583"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Radio Button: rbSumarizada
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Sumarizada
.head 4 -  Window Location and Size
.head 5 -  Left: 4.383"
.head 5 -  Top:    0.405"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbDetallada
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Detallada
.head 4 -  Window Location and Size
.head 5 -  Left: 5.883"
.head 5 -  Top:    0.405"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cbConSaldo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Solo Facturas con saldo
.head 4 -  Window Location and Size
.head 5 -  Left: 0.286"
.head 5 -  Top:    1.073"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Combo Box: cmbCuidades
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.417"
.head 5 -  Top:    1.012"
.head 5 -  Width:  2.767"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.893"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbCuidades.nCaso=1
.head 6 -  Set cmbCuidades.sTabla='CIUDADES_GEO'
.head 6 -  Set cmbCuidades.sNombre='NOMBRE'
.head 6 -  Set cmbCuidades.sCodigo='CODIGO'
.head 3 -  Group Box: Ciudad
.head 4 -  Resource Id: 39891
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.183"
.head 5 -  Top:    0.821"
.head 5 -  Width:  3.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.583"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: sConsulta
.head 3 -  String: sObs
.head 3 -  String: fechaI
.head 3 -  String: fechaF
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalBringWindowToTop( hWndForm )
.head 4 -  !
.head 4 -  Set rbSumarizada=TRUE
.head 4 -  !
.head 4 -  ! ---------------Seleccionar la ciudad 
.head 4 -  Call SqlImmediate ("SELECT
        		CODIGO,
        		NOMBRE
	FROM
        		CIUDADES_GEO
	WHERE
        		NOMBRE = :strCiudad
	INTO
		:cmbCuidades.nCodigo,
		:cmbCuidades")
.head 4 -  Call SqlClearImmediate()
.head 1 +  Dialog Box: dlgReportesCxC
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Informes de Cuentas por Cobrar - Pacientes Privados
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: 1.413"
.head 4 -  Top:    0.865"
.head 4 -  Width:  9.55"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 4.167"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Black
.head 3 -  Background Color: System Window Color
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.702"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Charcoal
.head 3 +  Contents
.head 4 +  Pushbutton: pbImprimir
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbImprimir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.083"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.55"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 +  If dfInicio != DATETIME_Null 
.head 8 -  !
.head 8 -  Set params[0] = '1'
.head 8 -  Set params[1] = SalFmtFormatDateTime ( dfInicio, 'dd/MM/yyyy' )
.head 7 +  Else
.head 8 -  !
.head 8 -  Set params[0] = '0'
.head 7 -  !
.head 7 +  If dfFinal  !=DATETIME_Null
.head 8 -  !
.head 8 -  Set params[2] = '1'
.head 8 -  Set params[3] = SalFmtFormatDateTime ( dfFinal, 'dd/MM/yyyy' )
.head 7 +  Else
.head 8 -  !
.head 8 -  Set params[2] = '0'
.head 7 -  !
.head 7 +  If cbConSaldo = TRUE
.head 8 -  Set params[4] = '1'
.head 7 +  Else
.head 8 -  !
.head 8 -  Set params[4] = '0'
.head 7 -  !
.head 7 +  If not SalIsNull(cmbTipo)
.head 8 -  !
.head 8 -  Set params[5] = '1'
.head 8 -  Set params[6] = cmbTipo
.head 7 +  Else
.head 8 -  !
.head 8 -  Set params[5] = '0'
.head 8 -  Set params[6] = cmbTipo
.head 7 -  !
.head 7 -  !
.head 7 +  If rbSumarizada=TRUE
.head 8 -  Set params[7] = '0'
.head 8 -  Set strRepTitle = "Reporte de Cuentas x Cobrar"
.head 8 -  Set strReportName = strRepPath||"\\CxC.rpt"
.head 8 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 7 +  Else If rbCombinada
.head 8 -  !
.head 8 -  Set params[7] = '1'
.head 8 -  Set strRepTitle = "Reporte de Cuentas x Cobrar"
.head 8 -  Set strReportName = strRepPath||"\\CxC.rpt"
.head 8 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 7 +  Else If rbEmpresa
.head 8 -  !
.head 8 +  If not SalIsNull (cmbEmpresa)
.head 9 -  !
.head 9 -  Set params[7] = '1'
.head 9 -  Set params[8] = SalNumberToStrX ( cmbEmpresa.nCodigo, 0 )
.head 9 -  !
.head 8 +  Else
.head 9 -  !
.head 9 -  Set params[7] = '0'
.head 8 -  !
.head 8 -  !
.head 8 +  If cbOcultar= TRUE
.head 9 -  Set params[9] = '1'
.head 8 +  Else
.head 9 -  !
.head 9 -  Set params[9] = '0'
.head 8 -  !
.head 8 -  Set strRepTitle = "Informe CxC por Empresa y Paciente"
.head 8 -  Set strReportName = strRepPath || "\\CxCEmpresa.rpt"
.head 8 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 7 +  Else If rbVencimiento
.head 8 -  !
.head 8 +  If not SalIsNull (cmbEmpresa)
.head 9 -  !
.head 9 -  Set params[7] = '1'
.head 9 -  Set params[8] = SalNumberToStrX ( cmbEmpresa.nCodigo, 0 )
.head 9 -  !
.head 8 +  Else
.head 9 -  !
.head 9 -  Set params[7] = '0'
.head 9 -  Set params[8] = ''
.head 8 -  !
.head 8 -  !
.head 8 -  !
.head 8 -  Set strRepTitle = "Informe CxC - Vencimiento"
.head 8 -  Set strReportName = strRepPath || "\\CxCVencimiento.rpt"
.head 8 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 7 +  ! Else If rbDetallada
.head 8 -  Set sConsulta="select A.cod_factura,A.cod_paciente,A.correl_paciente,A.monto_factura,
A.total,A.descuento,A.monto_debe,A.monto_pagado,
B.primer_nom,B.primer_ape,C.cod_medico,C.costo,D.nombre,A.monto_honorarios,
A.debe_honorarios,A.pagado_honorarios,A.fecha_ingreso,C.monto_pagado,C.monto_debe
from facturas A,pacientes B, det_honorarios C,medicos D
 where A.cod_paciente=B.cod_paciente and
A.correl_paciente=B.correl_paciente and A.estado_proceso<>2
and A.cod_factura=C.cod_factura and C.cod_medico=D.cod_medico"
.head 8 +  If dfInicio != DATETIME_Null and dfFinal  !=DATETIME_Null
.head 9 -  Set sConsulta=sConsulta||"	AND	A.FECHA_INGRESO >= :dlgReportesCxC.dfInicio and 
                                                A.FECHA_INGRESO <=  :dlgReportesCxC.dfFinal "

.head 9 -  Set fechaI= SalFmtFormatDateTime(dfInicio,"dd/MM/yyyy")
.head 9 -  Set fechaF= SalFmtFormatDateTime(dfFinal ,"dd/MM/yyyy")
.head 9 -  Set sObs="De la Fecha " || fechaI || "   a la Fecha  " ||  fechaF
.head 8 +  If cbConSaldo = TRUE
.head 9 -  Set sConsulta = sConsulta || " and A.monto_debe > 0 "
.head 8 -  Set sConsulta=sConsulta || "  order by A.fecha_ingreso,A.cod_paciente,A.correl_paciente "
.head 8 -  Call SalCreateWindow( frmImprimir, hWndForm,
"Listado de Pacientes",
strRepPath || "\\CUENTAS_PRIVADOS_DET.QRP",
":n1,:s1,:s2,:n2,:n3,:n4,:n5,:n6,:s3,:s4,:n7,:n8,:s5,:n9,:n10,:n11,:dt1,:n12,:n13",
"A.cod_factura,A.cod_paciente,A.correl_paciente,A.monto_factura,
A.total,A.descuento,A.monto_debe,A.monto_pagado,
B.primer_nom,B.primer_ape,C.cod_medico,C.costo,D.nombre,A.monto_honorarios,
A.debe_honorarios,A.pagado_honorarios,A.fecha_ingreso,C.monto_pagado,C.monto_debe",
sConsulta || "
into :n1,:s1,:s2,:n2,:n3,:n4,:n5,:n6,:s3,:s4,:n7,:n8,:s5,:n9,:n10,:n11,:dt1,:n12,:n13",sObs, FALSE)
.head 4 +  Pushbutton: pbLimpiar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbLimpia
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.783"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.548"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: White
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pb3
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 7.483"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.548"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 -  Line
.head 5 -  Resource Id: 27540
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Coordinates
.head 6 -  Begin X:  -0.117"
.head 6 -  Begin Y:  0.738"
.head 6 -  End X:  8.483"
.head 6 -  End Y:  0.738"
.head 5 -  Visible? Yes
.head 5 -  Line Style: Solid
.head 5 -  Line Thickness: 2
.head 5 -  Line Color: Default
.head 2 +  Contents
.head 3 -  Group Box: Rango de Fechas 
.head 4 -  Resource Id: 27536
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    0.155"
.head 5 -  Width:  3.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.75"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Black
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfInicio
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.483"
.head 6 -  Top:    0.571"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFinal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.283"
.head 6 -  Top:    0.571"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Inicio
.head 4 -  Resource Id: 27537
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    0.345"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Final
.head 4 -  Resource Id: 27538
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.283"
.head 5 -  Top:    0.345"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Tipo de Reporte
.head 4 -  Resource Id: 27539
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.183"
.head 5 -  Top:    0.155"
.head 5 -  Width:  5.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Radio Button: rbEmpresa
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Agrupado por Empresa
.head 4 -  Window Location and Size
.head 5 -  Left: 4.583"
.head 5 -  Top:    0.405"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call ChangeStatus(TRUE)
.head 3 +  Radio Button: rbVencimiento
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Vencimiento
.head 4 -  Window Location and Size
.head 5 -  Left: 7.35"
.head 5 -  Top:    0.345"
.head 5 -  Width:  1.533"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call ChangeStatus(FALSE)
.head 3 +  Radio Button: rbSumarizada
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Listado General
.head 4 -  Window Location and Size
.head 5 -  Left: 4.583"
.head 5 -  Top:    0.655"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call ChangeStatus(TRUE)
.head 3 +  Radio Button: rbCombinada
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Detallado Honorarios
.head 4 -  Window Location and Size
.head 5 -  Left: 4.583"
.head 5 -  Top:    0.905"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.393"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call ChangeStatus(TRUE)
.head 3 +  Combo Box: cmbEmpresa
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigoFiltrado
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    2.071"
.head 5 -  Width:  3.5"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.881"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 6 -  Set cmbEmpresa.sNombreFiltro='ESTADO'
.head 6 -  Set cmbEmpresa.nValorFiltro=1
.head 3 -  Group Box: Tipo de Atención
.head 4 -  Resource Id: 55263
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    1.071"
.head 5 -  Width:  3.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.667"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Check Box: cbConSaldo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Solo facturas con saldo
.head 4 -  Window Location and Size
.head 5 -  Left: 4.483"
.head 5 -  Top:    1.988"
.head 5 -  Width:  2.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Combo Box: cmbTipo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatComboBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.45"
.head 5 -  Top:    1.345"
.head 5 -  Width:  3.533"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Call SalListAdd( cmbTipo, "CONSULTA EXTERNA" )
.head 6 -  Call SalListAdd( cmbTipo, "HOSPITALIZACION" )
.head 6 -  Call SalListAdd( cmbTipo, "LABORATORIO")
.head 6 -  Call SalListAdd( cmbTipo, "RAYOS X")
.head 6 -  Call SalListAdd( cmbTipo, "AMBULATORIO")
.head 3 -  Frame
.head 4 -  Resource Id: 22729
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.383"
.head 5 -  Top:    1.929"
.head 5 -  Width:  2.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.417"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 22733
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.35"
.head 5 -  Top:    1.429"
.head 5 -  Width:  2.733"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.417"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Empresa
.head 4 -  Resource Id: 22731
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.35"
.head 5 -  Top:    1.845"
.head 5 -  Width:  3.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.667"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Check Box: cbOcultar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Ocultar detalle de pacientes
.head 4 -  Window Location and Size
.head 5 -  Left: 4.483"
.head 5 -  Top:    1.488"
.head 5 -  Width:  2.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 2 +  Functions
.head 3 +  Function: ActualizarEmpleado
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SqlImmediate ("SELECT
			 E.PRIMER_NOM + ' ' + E.SEGUNDO_NOM + ' ' +  E.PRIMER_APE + ' ' + E.SEGUNDO_APE
		FROM
    			EMPLEADOS E
		WHERE
			COD_EMPLEADO = :dfCodEmpleado
		INTO
			:dfNomEmpleado
	")
.head 5 -  Call SqlClearImmediate()
.head 3 +  Function: ChangeStatus
.head 4 -  Description:
.head 4 -  Returns
.head 4 +  Parameters
.head 5 -  Boolean: bStatus
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 +  If not bStatus
.head 6 -  Set cbOcultar = FALSE
.head 6 -  Call SalDisableWindow( cbOcultar )
.head 6 -  Set cbConSaldo = TRUE
.head 6 -  Call SalDisableWindow( cbConSaldo )
.head 5 +  Else
.head 6 -  Set cbOcultar = FALSE
.head 6 -  Call SalEnableWindow( cbOcultar )
.head 6 -  Set cbConSaldo = FALSE
.head 6 -  Call SalEnableWindow( cbConSaldo )
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: sConsulta
.head 3 -  String: sObs
.head 3 -  String: fechaI
.head 3 -  String: fechaF
.head 3 -  String: strRepTitle
.head 3 -  String: strReportName
.head 3 -  String: params[*]
.head 3 -  Number: nRegresaEmpleado
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalBringWindowToTop( hWndForm )
.head 4 -  ! Call SalDisableWindow (cmbEmpresa)
.head 4 -  ! Call SalDisableWindow (cbEmpleado)
.head 4 -  ! Call SalDisableWindow (dfCodEmpleado)
.head 4 -  ! Call SalDisableWindow (dfNomEmpleado)
.head 1 +  Dialog Box: dlgReabrirFacturas
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Reabrir facturas
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  8.4"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 4.571"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatChildTable
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.783"
.head 6 -  Top:    0.988"
.head 6 -  Width:  7.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 3.0"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: Class Default
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colFactura
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: # Factura
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.133"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  Call SqlPrepareAndExecute(hSql1,"
select A.TOTAL+A.MONTO_HONORARIOS,A.ESTADO_PROCESO
from	FACTURAS A
where	A.COD_FACTURA=:tbl1.colFactura
into	:tbl1.colTotal,:nEstadoProceso")
.head 8 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 8 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 8 +  Select Case nEstadoProceso
.head 9 +  Case 0
.head 10 -  Set colEstado = 'EN PROCESO'
.head 10 -  Break
.head 9 +  Case 1
.head 10 -  Set colEstado = 'CERRADA'
.head 10 -  Break
.head 9 +  Default
.head 10 -  Set colEstado = 'ANULADA'
.head 10 -  Break
.head 5 +  Column: colTotal
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Total
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.15"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ########000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colEstado
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Estado
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Center
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbGrabar
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.883"
.head 5 -  Top:    0.155"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SqlPrepare(hSql1,"update facturas set estado_proceso = 0 where cod_factura =:tbl1.colFactura")
.head 6 -  Call SalTblDoUpdates(tbl1,hSql1,TRUE)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 3 +  Pushbutton: pb2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbSalir
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.183"
.head 5 -  Top:    0.155"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbAgregarServicio
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbChAgregarChiquito
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.133"
.head 5 -  Top:    1.464"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Inicializar las variables de instancia del boton
.head 6 -  Set pbAgregarServicio.hWndFila=tbl1.colFactura
.head 6 -  Set pbAgregarServicio.hWndTabla=tbl1
.head 5 +  On SAM_Click
.head 6 -  ! Set tbl1.colUnico=Identity(21)
.head 6 -  ! Al hacer click en este botón se agrega una nueva linea en el detalle
y automaticamente le genera un correlativo con la funcion Identity
.head 6 -  Call SalSendClassMessage(SAM_Click,0,0)
.head 3 +  Pushbutton: pbBorrarServicio
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbChBorrarChiquito
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.133"
.head 5 -  Top:    1.964"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set pbBorrarServicio.hWndFila=tbl1.colFactura
.head 6 -  Set pbBorrarServicio.hWndTabla=tbl1
.head 6 -  ! Call TotalAbonos()
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  Number: nEstadoProceso
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  Call SalBringWindowToTop( hWndForm )
.head 1 +  Form Window: frmReporteGastos
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Informe Balance de Saldos
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  8.15"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 2.262"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  Pushbutton: pb1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbSalir
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.683"
.head 5 -  Top:    0.179"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Desde
.head 4 -  Resource Id: 58164
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.488"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Hasta
.head 4 -  Resource Id: 58165
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.15"
.head 5 -  Top:    0.488"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.883"
.head 6 -  Top:    0.488"
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Center
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.883"
.head 6 -  Top:    0.488"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Center
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbImprimir
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.95"
.head 5 -  Top:    0.179"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set params[0] = SalFmtFormatDateTime ( dfDesde, 'dd/MM/yyyy' )
.head 6 -  Set params[1] = SalFmtFormatDateTime ( dfHasta, 'dd/MM/yyyy' )
.head 6 +  If rbSaldos
.head 7 -  !
.head 7 -  Set strRepTitle = " Balance de Saldos"
.head 7 -  Set strReportName = strRepPath||"\\ResumenGastos.rpt"
.head 6 +  Else
.head 7 -  !
.head 7 -  Set strRepTitle = " Auxiliar de Cuentas"
.head 7 -  Set strReportName = strRepPath||"\\AuxiliarCuentas.rpt"
.head 6 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 3 -  Group Box: Rango de Fecha:
.head 4 -  Resource Id: 1525
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    0.071"
.head 5 -  Width:  5.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.75"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: dd/MM/yyyy
.head 4 -  Resource Id: 1527
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.883"
.head 5 -  Top:    0.32"
.head 5 -  Width:  1.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: dd/MM/yyyy
.head 4 -  Resource Id: 1528
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.85"
.head 5 -  Top:    0.32"
.head 5 -  Width:  1.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Tipo de Informe
.head 4 -  Resource Id: 64351
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.283"
.head 5 -  Top:    0.905"
.head 5 -  Width:  3.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.583"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Radio Button: rbSaldos
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Saldos
.head 4 -  Window Location and Size
.head 5 -  Left: 1.783"
.head 5 -  Top:    1.155"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbAuxiliar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Auxiliar
.head 4 -  Window Location and Size
.head 5 -  Left: 3.283"
.head 5 -  Top:    1.155"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 2 +  Functions
.head 3 +  Function: ArmarQuery
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sConsulta
.head 4 +  Actions
.head 5 -  Set sConsulta = "SELECT A.COD_PLANILLA, A.FECHAI,B.COD_EMPLEADO,C.PRIMER_NOM + ' ' + C.PRIMER_APE,B.SUELDO_PAGADO
             FROM PLANILLA A, DET_PLANILLA B, EMPLEADOS C
             WHERE A.COD_PLANILLA=B.COD_PLANILLA AND B.COD_EMPLEADO=C.COD_EMPLEADO "

.head 5 +  If dfDesde!=DATETIME_Null
.head 6 -  Set sConsulta = sConsulta || " AND FECHAI>=:dfDesde "
.head 5 +  If dfHasta!=DATETIME_Null
.head 6 -  Set sConsulta = sConsulta || " AND FECHAI<=:dfHasta "
.head 5 -  Set sConsulta = sConsulta || " ORDER BY A.COD_PLANILLA "
.head 5 -  Return sConsulta
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 2 +  Message Actions
.head 3 +  ! On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalCenterWindow( hWndForm )
.head 1 +  Form Window: frmDeptosMaquila
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Departamentos de Maquilas
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  8.267"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 5.429"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatChildTable
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.283"
.head 6 -  Top:    0.738"
.head 6 -  Width:  7.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 3.583"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: Class Default
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colCodigo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Codigo
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colNombre
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Nombre
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  5.517"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Uppercase
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbGrabar
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.083"
.head 5 -  Top:    0.071"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If (nFlagNuevo=1)
.head 7 +  If ((tbl1.colNombre!=""))
.head 8 -  Call SqlPrepare(hSql1,"insert into deptos_maquila values(:tbl1.colCodigo,:tbl1.colNombre)")
.head 8 -  Call SalTblDoInserts(tbl1,hSql1,TRUE)
.head 8 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 8 -  Set nFlagNuevo=0
.head 8 -  Call SqlPrepare(hSql1,"update deptos_maquila set nombre=:tbl1.colNombre where codigo=:tbl1.colCodigo")
.head 8 -  Call SalTblDoUpdates(tbl1,hSql1,TRUE)
.head 8 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 8 -  Call SalMessageBox('Cambios Actualizados','Atención',MB_Ok)
.head 7 +  Else
.head 8 -  Call SalMessageBox('Debe ingresar un Nombre','Atención',MB_Ok)
.head 6 +  Else
.head 7 -  Call SqlPrepare(hSql1,"update deptos_maquila set nombre=:tbl1.colNombre where codigo=:tbl1.colCodigo")
.head 7 -  Call SalTblDoUpdates(tbl1,hSql1,TRUE)
.head 7 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 7 -  Call SalMessageBox('Cambios Actualizados','Atención',MB_Ok)
.head 3 +  Pushbutton: pbAgregarServicio
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbChAgregarChiquito
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    0.071"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Inicializar las variables de instancia del boton
.head 6 -  Set pbAgregarServicio.hWndFila=tbl1.colCodigo
.head 6 -  Set pbAgregarServicio.hWndTabla=tbl1
.head 5 +  On SAM_Click
.head 6 +  If (nFlagNuevo=1)
.head 7 +  If SalMessageBox("Desea guardar el registro nuevo antes de seguir?","Atencion",MB_YesNo)=IDYES
.head 8 +  If (tbl1.colNombre!="")
.head 9 -  Call SqlPrepare(hSql1,"insert into deptos_maquila values(:tbl1.colCodigo,:tbl1.colNombre)")
.head 9 -  Call SalTblDoInserts(tbl1,hSql1,TRUE)
.head 9 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 9 -  Call SqlPrepare(hSql1,"update deptos_maquila set nombre=:tbl1.colNombre where codigo=:tbl1.colCodigo")
.head 9 -  Call SalTblDoUpdates(tbl1,hSql1,TRUE)
.head 9 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 9 -  Call SalSendClassMessage(SAM_Click,0,0)
.head 9 -  Call SqlPrepareAndExecute(hSql1,"select max(codigo) + 1 from deptos_maquila into :nNuevoCodigo")
.head 9 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 9 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 9 +  If nNuevoCodigo=NUMBER_Null
.head 10 -  Set nNuevoCodigo=1
.head 9 -  Set tbl1.colCodigo=nNuevoCodigo
.head 9 -  Set nFlagNuevo=1
.head 9 -  Call SalSetFocus(tbl1)
.head 8 +  Else
.head 9 -  Call SalMessageBox('Debe ingresar un Nombre','Atención',MB_Ok)
.head 7 +  Else
.head 8 -  Set tbl1.colNombre=""
.head 8 -  Call SalSetFocus(tbl1)
.head 7 -  Set nFlagNuevo=1
.head 6 +  Else
.head 7 -  Call SalSendClassMessage(SAM_Click,0,0)
.head 7 -  Call SqlPrepareAndExecute(hSql1,"select max(codigo) + 1 from deptos_maquila into :nNuevoCodigo")
.head 7 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 7 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 7 +  If nNuevoCodigo=NUMBER_Null
.head 8 -  Set nNuevoCodigo=1
.head 7 -  Set tbl1.colCodigo=nNuevoCodigo
.head 7 -  Set nFlagNuevo=1
.head 7 -  Call SalSetFocus(tbl1)
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  Number: nNuevoCodigo
.head 3 -  Number: nFlagNuevo
.head 2 +  Message Actions
.head 3 +  On MU_ACTUALIZAR
.head 4 -  Call Limpiar()
.head 4 -  Set nFlagNuevo=0
.head 4 -  Call SalWaitCursor(TRUE)
.head 4 -  Call SalTblPopulate(tbl1,hSql1,"select  codigo,nombre from deptos_maquila",TBL_FillAll)
.head 4 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 4 -  Call SalWaitCursor(FALSE)
.head 3 +  On SAM_CreateComplete
.head 4 -  Call SalSendMsg( hWndForm, MU_ACTUALIZAR, 0, 0 )
.head 4 -  Call SalCenterWindow( hWndForm )
.head 1 +  Dialog Box: dlgDeptosMaquila
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Departamentos de Maquila
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  8.75"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 5.869"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatChildTable
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.683"
.head 6 -  Top:    1.155"
.head 6 -  Width:  7.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 3.583"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colCodigo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Codigo
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colNombre
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Nombre
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  5.517"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Uppercase
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 +  Window Variables
.head 5 -  Number: nFilita
.head 4 +  Message Actions
.head 5 +  On SAM_DoubleClick
.head 6 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.colCodigo)
.head 6 -  Call SalTblSetContext(tbl1,nFilita)
.head 6 -  Set nRegresa=tbl1.colCodigo
.head 6 -  Set sRegresa = tbl1.colNombre
.head 6 -  Call SalEndDialog(dlgDeptosMaquila,TRUE)
.head 3 +  Pushbutton: pb2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbGrabar
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.083"
.head 5 -  Top:    0.155"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filesave.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If (nFlagNuevo=1)
.head 7 +  If ((tbl1.colNombre!=""))
.head 8 -  Call SqlPrepare(hSql1,"insert into deptos_maquila values(:tbl1.colCodigo,:tbl1.colNombre)")
.head 8 -  Call SalTblDoInserts(tbl1,hSql1,TRUE)
.head 8 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 8 -  Set nFlagNuevo=0
.head 8 -  Call SqlPrepare(hSql1,"update deptos_maquila set nombre=:tbl1.colNombre where codigo=:tbl1.colCodigo")
.head 8 -  Call SalTblDoUpdates(tbl1,hSql1,TRUE)
.head 8 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 8 -  Call SalMessageBox('Los datos han sido actualizados','Confirmacion',MB_Ok)
.head 7 +  Else
.head 8 -  Call SalMessageBox('Debe ingresar un Nombre','Atención',MB_Ok)
.head 6 +  Else
.head 7 -  Call SqlPrepare(hSql1,"update deptos_maquila set nombre=:tbl1.colNombre where codigo=:tbl1.colCodigo")
.head 7 -  Call SalTblDoUpdates(tbl1,hSql1,TRUE)
.head 7 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 7 -  Call SalMessageBox("Los datos han sido actualizados","Confirmacion", MB_Ok)
.head 3 +  Pushbutton: pbAgregarServicio
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbChAgregarChiquito
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    0.155"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filenew.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Inicializar las variables de instancia del boton
.head 6 -  Set pbAgregarServicio.hWndFila=tbl1.colCodigo
.head 6 -  Set pbAgregarServicio.hWndTabla=tbl1
.head 5 +  On SAM_Click
.head 6 +  If (nFlagNuevo=1)
.head 7 +  If SalMessageBox("Desea actualizar y guardar el nuevo depto antes de seguir?","Atencion",MB_YesNo)=IDYES
.head 8 +  If (tbl1.colNombre!="")
.head 9 -  Call SqlPrepare(hSql1,"insert into deptos_maquila values(:tbl1.colCodigo,:tbl1.colNombre)")
.head 9 -  Call SalTblDoInserts(tbl1,hSql1,TRUE)
.head 9 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 9 -  Call SqlPrepare(hSql1,"update deptos_maquila set nombre=:tbl1.colNombre where codigo=:tbl1.colCodigo")
.head 9 -  Call SalTblDoUpdates(tbl1,hSql1,TRUE)
.head 9 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 9 -  Call SalSendClassMessage(SAM_Click,0,0)
.head 9 -  Call SqlPrepareAndExecute(hSql1,"select max(codigo) + 1 from deptos_maquila into :nNuevoCodigo")
.head 9 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 9 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 9 +  If nNuevoCodigo=NUMBER_Null
.head 10 -  Set nNuevoCodigo=1
.head 9 -  Set tbl1.colCodigo=nNuevoCodigo
.head 9 -  Set nFlagNuevo=1
.head 9 -  Call SalSetFocus(tbl1)
.head 8 +  Else
.head 9 -  Call SalMessageBox('Debe ingresar un Nombre','Atención',MB_Ok)
.head 7 +  Else
.head 8 -  Set tbl1.colNombre=""
.head 8 -  Call SalSetFocus(tbl1)
.head 7 -  Set nFlagNuevo=1
.head 6 +  Else
.head 7 -  Call SalSendClassMessage(SAM_Click,0,0)
.head 7 -  Call SqlPrepareAndExecute(hSql1,"select max(codigo) + 1 from deptos_maquila into :nNuevoCodigo")
.head 7 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 7 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 7 +  If nNuevoCodigo=NUMBER_Null
.head 8 -  Set nNuevoCodigo=1
.head 7 -  Set tbl1.colCodigo=nNuevoCodigo
.head 7 -  Set nFlagNuevo=1
.head 7 -  Call SalSetFocus(tbl1)
.head 3 -  Frame
.head 4 -  Resource Id: 48230
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.905"
.head 5 -  Width:  8.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 4.083"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Raised-Shadow
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 48231
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.55"
.head 5 -  Top:    1.095"
.head 5 -  Width:  7.333"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.726"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 -  Background Text: ***Doble Click sobre el puesto que desee seleccionar.
.head 4 -  Resource Id: 48232
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.35"
.head 5 -  Top:    5.036"
.head 5 -  Width:  5.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 48233
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    0.071"
.head 5 -  Width:  8.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.75"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Round
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 2 -  Functions
.head 2 +  Window Parameters
.head 3 -  Receive Number: nRegresa
.head 3 -  Receive String: sRegresa
.head 2 +  Window Variables
.head 3 -  Number: nNuevoCodigo
.head 3 -  Number: nFlagNuevo
.head 2 +  Message Actions
.head 3 +  On MU_ACTUALIZAR
.head 4 -  Call Limpiar()
.head 4 -  Set nFlagNuevo=0
.head 4 -  Call SalWaitCursor(TRUE)
.head 4 -  Call SalTblPopulate(tbl1,hSql1,"select  codigo,nombre from deptos_maquila",TBL_FillAll)
.head 4 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 4 -  Call SalWaitCursor(FALSE)
.head 3 +  On SAM_CreateComplete
.head 4 -  Call SalBringWindowToTop(dlgDeptosMaquila)
.head 4 -  Call SalSendMsg( hWndForm, MU_ACTUALIZAR, 0, 0 )
.head 1 +  Form Window: frmAdmisiones
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Registro de Admisiones
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  11.633"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 6.893"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 +  Menu
.head 3 +  Popup Menu: Opciones
.head 4 -  Resource Id: 46703
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 4 +  Menu Item: Nueva Orden
.head 5 -  Resource Id: 46704
.head 5 -  Keyboard Accelerator: Ctrl+N
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbNuevo, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Guardar Orden
.head 5 -  Resource Id: 46705
.head 5 -  Keyboard Accelerator: Ctrl+S
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbGuardar, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Etched
.head 4 -  Location? Left
.head 4 -  Visible? Yes
.head 4 -  Size: 0.983"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Charcoal
.head 3 +  Contents
.head 4 +  Pushbutton: pbGuardar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.183"
.head 6 -  Top:    1.238"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.6"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filesave.bmp
.head 5 -  Picture Transparent Color: White
.head 5 -  Image Style: Single
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 -  !
.head 7 -  !
.head 7 +  If SalIsNull(dfCodigo)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe especificar el No de Admisión", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 8 -  Return FALSE
.head 7 +  If SalIsNull(dfPaciente)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe especificar el codigo del paciente", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 8 -  Call SalSetFocus(dfPaciente)
.head 8 -  Return FALSE
.head 7 +  If SalIsNull(dfPacienteCorrel)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe especificar el correlativo del paciente", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 8 -  Call SalSetFocus(dfPacienteCorrel)
.head 8 -  Return FALSE
.head 7 +  If SalIsNull(cmbTipoServicio)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe seleccionar el tipo de servicio", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 8 -  Call SalSetFocus(cmbTipoServicio)
.head 8 -  Return FALSE
.head 7 +  Else
.head 8 -  !
.head 8 +  ! If cmbTipoServicio = 'HOSPITALIZACION' and SalIsNull(cmbHabitacion)
.head 9 -  !
.head 9 -  Call SalMessageBox( "Debe seleccionar la habitacion", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 9 -  Call SalSetFocus(cmbHabitacion)
.head 9 -  Return FALSE
.head 7 +  ! If SalIsNull(cmbDiagnostico)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe seleccionar el diagnostico", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 8 -  Call SalSetFocus(cmbDiagnostico)
.head 8 -  Return FALSE
.head 7 -  !
.head 7 -  ! --------------Verificar si la admision ya existe
.head 7 -  Set sSQL = "   SELECT
			*
		FROM
			ADMISIONES
		WHERE
			COD_ADMISION   =   :dfCodigo"
.head 7 -  Call SqlExists (sSQL, bExisteAdmision)
.head 7 -  Call SqlClearImmediate()
.head 7 -  !
.head 7 -  ! --------Preparar los datos a guardar
.head 7 +  If not PrepareData()
.head 8 -  Return FALSE
.head 7 -  !
.head 7 -  ! ----------Ejecutar la actualizacion o insercion
.head 7 +  If bExisteAdmision
.head 8 -  !
.head 8 -  !
.head 8 -  Call DoUpdate(  )
.head 7 +  Else
.head 8 -  !
.head 8 -  Call DoInsert(  )
.head 7 -  !
.head 7 -  Set bNuevaAdmision=FALSE
.head 7 -  !
.head 7 -  Call CargarDatos()
.head 7 -  Return TRUE
.head 4 +  Pushbutton: pbBuscarOrden
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.183"
.head 6 -  Top:    1.821"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.6"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Keyboard Accelerator: F3
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Single
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 +  If bNuevaAdmision
.head 8 -  !
.head 8 -  Set sSQL = "   SELECT
			*
		FROM
			ADMISIONES
		WHERE
			COD_ADMISION   =   :dfCodigo"
.head 8 -  Call SqlExists (sSQL, bExisteAdmision)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If SalMessageBox("Ha seleccionado crear una nueva admision. Desea guardar los cambios antes de salir?","Atencion",MB_YesNo)=IDYES
.head 9 -  !
.head 9 -  Call SalSendMsg (pbGuardar, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  !
.head 9 +  If not bExisteAdmision
.head 10 -  !
.head 10 -  Set sSQL = 'DELETE FROM
		 IDENTITYS 
	WHERE 
		cod_tabla = 714 AND
		MAXIMO = :dfCodigo'
.head 10 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 10 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 10 -  !
.head 10 -  Set bNuevaAdmision =FALSE
.head 10 -  Set nRegresaAdmision= NUMBER_Null
.head 10 -  Call SalModalDialog( dlgConsultaAdmisiones, hWndForm,nRegresaAdmision, 1)
.head 10 +  If nRegresaAdmision != NUMBER_Null
.head 11 -  !
.head 11 -  Set dfCodigo =nRegresaAdmision
.head 11 -  Call CargarDatos()
.head 7 +  Else
.head 8 -  !
.head 8 -  Set bNuevaAdmision =FALSE
.head 8 -  Set nRegresaAdmision= NUMBER_Null
.head 8 -  Call SalModalDialog( dlgConsultaAdmisiones, hWndForm,nRegresaAdmision, 1)
.head 8 +  If nRegresaAdmision != NUMBER_Null
.head 9 -  !
.head 9 -  Set dfCodigo =nRegresaAdmision
.head 9 -  Call CargarDatos()
.head 4 +  Pushbutton: pbImprimir
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.183"
.head 6 -  Top:    2.405"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.6"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Single
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Set params[0] = SalNumberToStrX(dfCodigo,0)
.head 7 -  Set strRepTitle = " Ordenes de Servicio"
.head 7 -  Set strReportName = strRepPath||"\\OrdenesServicio.rpt"
.head 7 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 4 +  Pushbutton: pbNuevo
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.183"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.6"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filenew.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Single
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 +  If bNuevaAdmision
.head 8 -  !
.head 8 -  Set sSQL = "   SELECT
			*
		FROM
			ADMISIONES
		WHERE
			COD_ADMISION   =   :dfCodigo"
.head 8 -  Call SqlExists (sSQL, bExisteAdmision)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If SalMessageBox("Ha seleccionado crear una nueva admisión. Desea guardar los cambios antes de continuar?","Atencion",MB_YesNo)=IDYES
.head 9 -  !
.head 9 -  Call SalSendMsg (pbGuardar, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  !
.head 9 +  If not bExisteAdmision
.head 10 -  !
.head 10 -  Set sSQL = 'DELETE FROM
		 IDENTITYS 
	WHERE 
		cod_tabla = 714 AND
		MAXIMO = :dfCodigo'
.head 10 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 10 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 10 -  !
.head 10 -  Call ResetControls()
.head 10 -  Call LoadDefaultValues()
.head 10 -  Call SalSetFocus( dfCodigo )
.head 7 +  Else
.head 8 -  !
.head 8 -  Call ResetControls()
.head 8 -  Call LoadDefaultValues()
.head 8 -  ! !
.head 8 -  Call SalSetFocus( dfCodigo )
.head 4 +  Pushbutton: pbEliminar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.183"
.head 6 -  Top:    0.655"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.6"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\editdelete.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Single
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 +  Message Actions
.head 6 +  ! On SAM_Click
.head 7 -  !
.head 7 -  Call AnularOrden(  )
.head 7 -  Call CargarDatosOrden()
.head 4 +  Pushbutton: pb9
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.183"
.head 6 -  Top:    2.988"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.6"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 8
.head 5 -  Font Enhancement: None
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\Logout.bmp
.head 5 -  Picture Transparent Color: White
.head 5 -  Image Style: Single
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 +  If bNuevaAdmision
.head 8 -  !
.head 8 -  Set sSQL = "   SELECT
			*
		FROM
			ADMISIONES
		WHERE
			COD_ADMISION   =   :dfCodigo"
.head 8 -  Call SqlExists (sSQL, bExisteAdmision)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If SalMessageBox("Ha seleccionado crear una nueva admisión. Desea guardar los cambios antes de salir?","Atencion",MB_YesNo)=IDYES
.head 9 -  !
.head 9 -  Call SalSendMsg (pbGuardar, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  !
.head 9 +  If not bExisteAdmision
.head 10 -  !
.head 10 -  Set sSQL = 'DELETE FROM
		 IDENTITYS 
	WHERE 
		cod_tabla = 714 AND
		MAXIMO = :dfCodigo'
.head 10 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 10 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 10 -  !
.head 10 -  Call SalSendClassMessage ( SAM_Click, 0, 0)
.head 7 +  Else
.head 8 -  !
.head 8 -  Call SalSendClassMessage ( SAM_Click, 0, 0)
.head 2 +  Contents
.head 3 -  Background Text: Admisión No.
.head 4 -  Resource Id: 46707
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.083"
.head 5 -  Top:    0.512"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Fecha de Admisión
.head 4 -  Resource Id: 46708
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    0.845"
.head 5 -  Width:  1.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Diagnóstico
.head 4 -  Resource Id: 46709
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    3.917"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Observaciones 
.head 4 -  Resource Id: 46710
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.583"
.head 5 -  Top:    4.19"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.298"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Empresa
.head 4 -  Resource Id: 46711
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    2.012"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Paciente
.head 4 -  Resource Id: 46712
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    1.786"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCodigo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.383"
.head 6 -  Top:    0.488"
.head 6 -  Width:  2.5"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Center
.head 5 -  Format: #0
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Blue
.head 5 -  Background Color: 3D Face Color
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  !
.head 6 +  If not SalIsNull(dfCodigo)
.head 7 -  !
.head 7 -  ! ------------Informacion General de la Orden
.head 7 -  !
.head 7 -  Call CargarDatos(  )
.head 3 +  Custom Control: ccFecha
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name: user32.dll
.head 5 -  MS Windows Class Name: SysDateTimePick32
.head 5 -  Style:  0x50000004
.head 5 -  ExStyle:  0x00000000
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 2.383"
.head 6 -  Top:    0.762"
.head 6 -  Width:  4.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? No
.head 5 -  Etched Border? No
.head 5 -  Hollow? No
.head 5 -  Vertical Scroll? No
.head 5 -  Horizontal Scroll? No
.head 5 -  Tab Stop? None
.head 5 -  Tile To Parent? No
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Data Field: dfPaciente
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.883"
.head 6 -  Top:    1.655"
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.31"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: dfPacienteCorrel
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.183"
.head 6 -  Top:    1.655"
.head 6 -  Width:  0.5"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.31"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Call ActualizarPaciente()
.head 3 +  Data Field: dfNombre
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.683"
.head 6 -  Top:    1.655"
.head 6 -  Width:  5.033"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.298"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Data Field: dfCodDiagnostico
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.883"
.head 6 -  Top:    3.905"
.head 6 -  Width:  1.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_KillFocus
.head 6 -  !
.head 6 +  If not SalIsNull (dfCodDiagnostico)
.head 7 -  !
.head 7 -  Set sSQL = "SELECT 
    		D.ID_DIAGNOSTICO,
		D.NOMBRE_DIAGNOSTICO 
	FROM
    		DIAGNOSTICO D
	WHERE
    		D.ID_DIAGNOSTICO = :dfCodDiagnostico
	INTO 
		:cmbDiagnostico.nCodigo,
		:cmbDiagnostico" 
.head 7 -  Call SqlExists(sSQL , bExists)
.head 7 -  Call SqlClearImmediate()
.head 7 +  If not bExists
.head 8 -  Call SalMessageBox("Diagnostico no existe","ERROR",MB_Ok)
.head 8 -  Set dfCodDiagnostico=NUMBER_Null
.head 8 -  Set cmbDiagnostico=''
.head 3 +  Multiline Field: mlObservaciones
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatMultilineField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  String Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Border? Yes
.head 5 -  Word Wrap? No
.head 5 -  Vertical Scroll? Yes
.head 5 -  Window Location and Size
.head 6 -  Left: 1.883"
.head 6 -  Top:    4.238"
.head 6 -  Width:  6.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.0"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Message Actions
.head 3 -  Group Box: Información del Paciente
.head 4 -  Resource Id: 46714
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    1.405"
.head 5 -  Width:  9.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.0"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Diagnóstico
.head 4 -  Resource Id: 46715
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    3.405"
.head 5 -  Width:  9.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.917"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Datos Generales
.head 4 -  Resource Id: 46716
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    0.155"
.head 5 -  Width:  6.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.0"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 46717
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    0.071"
.head 5 -  Width:  9.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 5.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Raised-Shadow
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbTipoServicio
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatComboBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.65"
.head 5 -  Top:    2.762"
.head 5 -  Width:  3.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.19"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Call SalListAdd( cmbTipoServicio, "CONSULTA EXTERNA" )
.head 6 -  Call SalListAdd( cmbTipoServicio, "HOSPITALIZACION" )
.head 6 -  Call SalListAdd( cmbTipoServicio, "AMBULATORIO" )
.head 3 +  Pushbutton: pbCam
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.783"
.head 5 -  Top:    2.571"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.595"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\Hospital Bed.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Combo Box: cmbHabitacion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.75"
.head 5 -  Top:    2.762"
.head 5 -  Width:  3.971"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.19"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbHabitacion.nCaso=1
.head 6 -  Set cmbHabitacion.sTabla='CAMAS'
.head 6 -  Set cmbHabitacion.sNombre='DESCRIPCION'
.head 6 -  Set cmbHabitacion.sCodigo='CODIGO'
.head 3 -  Group Box: Habitación
.head 4 -  Resource Id: 46718
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.583"
.head 5 -  Top:    2.488"
.head 5 -  Width:  5.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.75"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Tipo de Servicio
.head 4 -  Resource Id: 46719
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    2.488"
.head 5 -  Width:  4.033"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.75"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Puesto
.head 4 -  Resource Id: 46720
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.05"
.head 5 -  Top:    2.012"
.head 5 -  Width:  0.633"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfDepto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.783"
.head 6 -  Top:    1.988"
.head 6 -  Width:  2.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: dfEmpresa
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.883"
.head 6 -  Top:    1.988"
.head 6 -  Width:  3.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbBuscarPaciente
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.783"
.head 5 -  Top:    1.655"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: F1
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\access.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set sRegresaPac=''
.head 6 -  Set sRegresaCor=''
.head 6 -  Call SalModalDialog( dlgConsultaPacientesO, hWndForm,sRegresaPac,sRegresaCor, 3, 1, 1 )
.head 6 +  If sRegresaPac!=''
.head 7 -  Set dfPaciente 		=sRegresaPac
.head 7 -  Set dfPacienteCorrel 	=sRegresaCor
.head 7 -  Call ActualizarPaciente()
.head 3 +  Data Field: dfFecha
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.683"
.head 6 -  Top:    0.988"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? No
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Black
.head 5 -  Background Color: 3D Highlight Color
.head 5 -  Input Mask: 99/99/9999
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbBuscarDiagnostico
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.683"
.head 5 -  Top:    3.655"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.595"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\Stethoscope Blue.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set nRegresaDiagnostico=NUMBER_Null
.head 6 -  Set nRegresaCategDiagnostico=NUMBER_Null
.head 6 -  Call SalModalDialog( dlgConsultaDiagnostico, hWndForm,nRegresaDiagnostico,nRegresaCategDiagnostico )
.head 6 +  If nRegresaDiagnostico != NUMBER_Null
.head 7 -  Set dfCodDiagnostico 		=nRegresaDiagnostico
.head 7 -  Call SalSendMsg(dfCodDiagnostico,  SAM_KillFocus, 0, 0)
.head 3 +  Combo Box: cmbDiagnostico
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.083"
.head 5 -  Top:    3.905"
.head 5 -  Width:  5.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.19"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbDiagnostico.nCaso = 1
.head 6 -  Set cmbDiagnostico.sTabla = 'DIAGNOSTICO'
.head 6 -  Set cmbDiagnostico.sNombre='NOMBRE_DIAGNOSTICO'
.head 6 -  Set cmbDiagnostico.sCodigo='ID_DIAGNOSTICO'
.head 5 +  On SAM_DropDown
.head 6 -  !
.head 6 -  ! ---------------Antes de especificar el diagnostico se debe especificar la categoria
.head 6 +  If not SalIsNull(cmbCategDiagnostico)
.head 7 -  !
.head 7 -  ! -----------Cargar los diagnosticos de la categoria seleccionada
.head 7 -  Set sDiagnostico = cmbDiagnostico
.head 7 -  Set sSQL = "
			SELECT
				NOMBRE_DIAGNOSTICO
			FROM
				DIAGNOSTICO
			WHERE
				ID_CATEG_DIAGNOSTICO = :cmbCategDiagnostico.nCodigo
			ORDER BY
				NOMBRE_DIAGNOSTICO"
.head 7 -  Call SalListClear(cmbDiagnostico)
.head 7 -  Call SalListPopulate(cmbDiagnostico, hSql1, sSQL)
.head 7 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 7 -  !
.head 7 -  Call SalListSelectString( hWndItem, -1,sDiagnostico)
.head 6 -  !
.head 5 +  On SAM_Validate
.head 6 -  !
.head 6 -  ! --------Obtener el codigo del DIAGNOSTICO 
.head 6 -  Set sSQL = "select
		ID_DIAGNOSTICO
    	from
		DIAGNOSTICO
	where		
		NOMBRE_DIAGNOSTICO = :cmbDiagnostico
  	into
		:dfCodDiagnostico"
.head 6 -  Call SqlImmediate(sSQL)
.head 6 -  Call SqlClearImmediate( )
.head 3 -  Background Text: Categoría
.head 4 -  Resource Id: 46612
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.65"
.head 5 -  Top:    3.69"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCodCategoria
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.883"
.head 6 -  Top:    3.679"
.head 6 -  Width:  1.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_KillFocus
.head 6 -  !
.head 6 +  If not SalIsNull (dfCodCategoria)
.head 7 -  !
.head 7 -  Set sSQL = "select 
		A.ID_CATEG_DIAGNOSTICO,
		A.NOMBRE_CATEG_DIAGNOSTICO  
	from 
		CATEG_DIAGNOSTICO A 
	where 
		A.ID_CATEG_DIAGNOSTICO=:dfCodCategoria
	into 
		:cmbCategDiagnostico.nCodigo , 
		:cmbCategDiagnostico" 
.head 7 -  Call SqlExists(sSQL , bExists)
.head 7 -  Call SqlClearImmediate()
.head 7 +  If not bExists
.head 8 -  Call SalMessageBox("Categoria no existe","ERROR",MB_Ok)
.head 8 -  Set dfCodCategoria= NUMBER_Null
.head 8 -  Set cmbCategDiagnostico=''
.head 7 +  Else
.head 8 -  !
.head 8 -  Call SalSendMsg ( cmbCategDiagnostico, SAM_DropDown, 0, 0 )
.head 3 +  Combo Box: cmbCategDiagnostico
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.083"
.head 5 -  Top:    3.655"
.head 5 -  Width:  5.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.036"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbCategDiagnostico.nCaso = 1
.head 6 -  Set cmbCategDiagnostico.sTabla = 'CATEG_DIAGNOSTICO'
.head 6 -  Set cmbCategDiagnostico.sNombre='NOMBRE_CATEG_DIAGNOSTICO'
.head 6 -  Set cmbCategDiagnostico.sCodigo='ID_CATEG_DIAGNOSTICO'
.head 5 +  On SAM_Validate
.head 6 -  !
.head 6 -  ! ----------Cargar los diagnosticos de la categoria seleccionada
.head 6 -  Set sSQL = "
			SELECT
				NOMBRE_DIAGNOSTICO
			FROM
				DIAGNOSTICO
			WHERE
				ID_CATEG_DIAGNOSTICO = :cmbCategDiagnostico.nCodigo 
			ORDER BY
				NOMBRE_DIAGNOSTICO"
.head 6 -  Call SalListClear(cmbDiagnostico)
.head 6 -  Call SalListPopulate(cmbDiagnostico, hSql1, sSQL)
.head 6 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 6 -  !
.head 6 -  Set dfCodCategoria=cmbCategDiagnostico.nCodigo
.head 2 +  Functions
.head 3 +  Function: ActualizarPaciente
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Boolean: bExistsPacient
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set sSQL = "select
		A.PRIMER_NOM + ' ' +A.SEGUNDO_NOM + ' ' + A.PRIMER_APE  + ' ' + A.SEGUNDO_APE,
  		E.NOMBRE,
		D.NOMBRE
    	from
		PACIENTES 		A,
		EMPRESAS		E,
		DEPTOS_MAQUILA 	D
	where
		A.COD_PACIENTE  	=:dfPaciente  	and
		A.CORREL_PACIENTE	=:dfPacienteCorrel 	and
		A.ESTADO_PAC 		!= 1		AND
		A.COD_EMPRESA		*=E.COD_EMPRESA AND
		A.CODIGO_DEPTO		*=D.CODIGO
  	into
		:dfNombre,
		:dfEmpresa,
		:dfDepto"
.head 5 -  Call SqlExists(  sSQL, bExistsPacient)
.head 5 -  Call SqlClearImmediate( )
.head 5 +  If not bExistsPacient
.head 6 -  Call SalMessageBox( "Codigo inválido" , "Error", MB_Ok )
.head 6 -  Set dfPaciente=''
.head 6 -  Set dfPacienteCorrel = ''
.head 6 -  Call SalSetFocus(dfPaciente)
.head 6 -  Return FALSE
.head 5 -  !
.head 5 -  Return TRUE
.head 3 +  Function: ResetControls
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Window Handle: hWndChild
.head 5 -  Number: nHwndChild
.head 5 -  Number: nType
.head 4 +  Actions
.head 5 -  Set hWndChild = SalGetFirstChild( hWndForm, TYPE_Any )
.head 5 +  While hWndChild != hWndNULL
.head 6 -  Set nHwndChild = SalWindowHandleToNumber( hWndChild )
.head 6 -  Set nType = SalGetType( hWndChild )
.head 6 +  If nType = TYPE_ChildTable
.head 7 -  Call SalTblReset( hWndChild )
.head 6 +  Else If nType = TYPE_DataField or nType = TYPE_MultilineText or nType = TYPE_CheckBox or nType = TYPE_ComboBox
.head 7 -  Call SalClearField( hWndChild )
.head 6 -  Set hWndChild = SalGetNextChild( hWndChild, TYPE_Any )
.head 5 -  !
.head 5 -  !
.head 3 +  Function: LoadDefaultValues
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  !
.head 5 -  Call ccFecha.SetSystemTime(GDT_VALID, SalDateCurrent ( ))
.head 5 -  Set dfCodigo = Identity(714)
.head 5 -  Set bNuevaAdmision = TRUE
.head 5 -  !
.head 5 -  !
.head 5 -  ! ---------------Seleccionar la ciudad 
.head 5 -  Set sSQL= "SELECT
        		CODIGO,
        		NOMBRE
	FROM
        		CIUDADES_GEO
	WHERE
        		NOMBRE = :strCiudad
	INTO
		:nCodigo_Ciudad_Geo"
.head 5 -  Call SqlImmediate (sSQL)
.head 5 -  Call SqlClearImmediate()
.head 3 +  Function: CargarDatos
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  Set sSQL = "SELECT
        			A.FECHA,
			A.COD_PACIENTE,
        			A.CORREL_PACIENTE,
        			P.PRIMER_NOM + ' ' + P.SEGUNDO_NOM + ' ' + P.PRIMER_APE  + ' ' + P.SEGUNDO_APE AS PACIENTE,
        			E.NOMBRE AS EMPRESA,
			D.NOMBRE AS DEPTO,     
			A.TIPO_SERVICIO,   			
        			A.ID_DIAGNOSTICO,   
			A.COD_CAMA,     				
        			A.OBSERVACIONES        			
	FROM
        			ADMISIONES    		A,
        			PACIENTES           		P,
        			EMPRESAS            		E,
			DEPTOS_MAQUILA 	D			
	WHERE
        			A.COD_ADMISION 				= :dfCodigo     		AND
        			A.COD_PACIENTE 				= P.COD_PACIENTE 	AND
			A.CORREL_PACIENTE 			= P.CORREL_PACIENTE 	AND
        			P.COD_EMPRESA 				= E.COD_EMPRESA  	AND
			P.CODIGO_DEPTO 			= D.CODIGO 								
	INTO
			:dfFecha,
			:dfPaciente,
			:dfPacienteCorrel,
			:dfNombre,
			:dfEmpresa,
			:dfDepto,	
			:cmbTipoServicio,		
			:cmbDiagnostico.nCodigo,
			:cmbHabitacion.nCodigo,			
			:mlObservaciones"
.head 5 -  Call SqlImmediate ( sSQL )
.head 5 -  Call SqlClearImmediate ()
.head 5 -  !
.head 5 -  Call ccFecha.SetSystemTime(GDT_VALID, dfFecha)
.head 5 -  !
.head 5 -  Set dfCodDiagnostico = cmbDiagnostico.nCodigo
.head 5 -  Call cmbDiagnostico.Actualizar()
.head 5 -  Call cmbHabitacion.Actualizar()
.head 5 -  !
.head 5 -  Call SalWaitCursor(FALSE)
.head 3 +  Function: DoUpdate
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Date/Time: dtHoy
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  Set dtHoy = SalDateCurrent()
.head 5 -  Set sSQL = 'UPDATE
		ADMISIONES
	SET
		FECHA                     		=	:dfFecha,
		COD_PACIENTE              		=	:dfPaciente,
    		CORREL_PACIENTE           		=	:dfPacienteCorrel,
		TIPO_SERVICIO			=	:cmbTipoServicio,
		COD_CAMA			=	:cmbHabitacion.nCodigo,
		ID_DIAGNOSTICO			=	:cmbDiagnostico.nCodigo,
    		OBSERVACIONES             		=	:mlObservaciones
	WHERE
		COD_ADMISION = :dfCodigo'
.head 5 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  Call SalWaitCursor(FALSE)
.head 5 -  !
.head 4 +  !
.head 5 -  -----------Actualizar la orden existente
.head 3 +  Function: DoInsert
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  Set sSQL = "INSERT INTO
		ADMISIONES
			(
    				COD_ADMISION,
    				FECHA,
    				COD_CAMA,
				TIPO_SERVICIO,    				
    				CODIGO_CIUDAD_GEO,    				
    				OBSERVACIONES,
    				COD_PACIENTE,
    				CORREL_PACIENTE,				
    				ID_DIAGNOSTICO
			)
		VALUES
			(
				:dfCodigo,
				:dfFecha,
				:cmbHabitacion.nCodigo,
				:cmbTipoServicio,				
				:nCodigo_Ciudad_Geo,				
				:mlObservaciones,
				:dfPaciente,
				:dfPacienteCorrel,
				:cmbDiagnostico.nCodigo
									
			)"
.head 5 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  Call SalWaitCursor(FALSE)
.head 3 +  Function: PrepareData
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Boolean: bExistsMedico
.head 5 -  Boolean: bExistsServicio
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set dfFecha = ccFecha.GetSystemTime()
.head 5 -  !
.head 5 -  Return TRUE
.head 3 +  Function: AnularOrden
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Boolean: bExisteOrden
.head 5 -  Number: nEstadoOrden
.head 4 +  Actions
.head 5 -  !
.head 5 -  ! Set sSQL = "select
		A.ESTADO
    	from
		ORDENES_SERVICIO  A
	where
		A.CODIGO  =:dfOrden
  	into
		:nEstadoOrden "
.head 5 -  ! Call SqlExists( sSQL,bExisteOrden)
.head 5 -  ! Call SqlClearImmediate( )
.head 5 +  ! If not bExisteOrden
.head 6 -  Call SalMessageBox( "La orden no existe" , "Error", MB_Ok )
.head 5 +  ! Else
.head 6 +  Select Case nEstadoOrden
.head 7 +  Case 0
.head 8 -  Call SalMessageBox( "La Orden no se puede Anular, esta en PROCESO", "Error", MB_Ok )
.head 8 -  Break 
.head 8 -  !
.head 7 +  Case 1
.head 8 +  If SalMessageBox( "Esta seguro de anular la Orden?", "Advertencia", MB_YesNo )=IDYES
.head 9 -  !
.head 9 -  Set sSQL = "update
		ORDENES_SERVICIO
                 set
		ESTADO	=2
	where
		CODIGO  = :dfOrden"
.head 9 -  Call SqlPrepareAndExecute( hSql1,  sSQL)
.head 9 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 9 -  Call SalMessageBox ("La Orden ha sido ANULADA","MENSAJE",MB_Ok)
.head 8 -  Break 
.head 8 -  !
.head 7 +  Case 2
.head 8 -  Call SalMessageBox( "La Orden ya fue anulada", "Error", MB_Ok )
.head 8 -  Break 
.head 8 -  !
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: sSQL
.head 3 -  Boolean: bExisteAdmision
.head 3 -  String: sRegresaPac
.head 3 -  String: sRegresaCor
.head 3 -  Number: nRegresaDiagnostico
.head 3 -  Number: nRegresaCategDiagnostico
.head 3 -  String: sFecha
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 3 -  Number: nRegresaAdmision
.head 3 -  Boolean: bNuevaAdmision
.head 3 -  String: sDiagnostico
.head 3 -  Number: nCodigo_Ciudad_Geo
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  ! Call DeshabilitarTodo(  )
.head 4 -  ! Call SalDisableWindow(pbGrabar)
.head 4 -  Call SalCenterWindow(frmAdmisiones)
.head 4 -  Set bNuevaAdmision=FALSE
.head 3 +  On SAM_Destroy
.head 4 -  !
.head 4 +  If bNuevaAdmision
.head 5 -  !
.head 5 -  Set sSQL = "   SELECT
			*
		FROM
			ADMISIONES
		WHERE
			COD_ADMISION  =   :dfCodigo"
.head 5 -  Call SqlExists (sSQL, bExisteAdmision)
.head 5 -  Call SqlClearImmediate()
.head 5 +  If not bExisteAdmision
.head 6 -  !
.head 6 -  Set sSQL = 'DELETE FROM
		 IDENTITYS 
	WHERE 
		cod_tabla = 714 AND
		MAXIMO = :dfCodigo'
.head 6 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  !
.head 1 +  Form Window: frmSueldos
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Reporte de sueldos y salarios anuales por empleado
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  10.0"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 7.06"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatChildTable
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.183"
.head 6 -  Top:    0.988"
.head 6 -  Width:  9.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 3.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 1000000
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colCodPlanilla
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: # Planilla
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  1.083"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFechaPlanilla
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCodEmpleado
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod. Empleado
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.367"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colNomEmpleado
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Nombre Empleado
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.917"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colSueldo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Sueldo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Right
.head 6 -  Width:  1.433"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbSalir
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.283"
.head 5 -  Top:    0.179"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.783"
.head 5 -  Top:    0.179"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalWaitCursor(TRUE)
.head 6 -  Call SalTblPopulate(tbl1,hSql1,ArmarQuery(),TBL_FillAll)
.head 6 -  Call SalWaitCursor(FALSE)
.head 3 -  Background Text: Desde
.head 4 -  Resource Id: 59115
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.488"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Hasta
.head 4 -  Resource Id: 59116
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.15"
.head 5 -  Top:    0.488"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.883"
.head 6 -  Top:    0.488"
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Center
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.883"
.head 6 -  Top:    0.488"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Center
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbImprimir
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.55"
.head 5 -  Top:    0.179"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set params[0] = SalFmtFormatDateTime ( dfDesde, 'dd/MM/yyyy' )
.head 6 -  Set params[1] = SalFmtFormatDateTime ( dfHasta, 'dd/MM/yyyy' )
.head 6 -  Set strRepTitle = " Resumen de Sueldos"
.head 6 -  Set strReportName = strRepPath||"\\ResumenSueldosAnual.rpt"
.head 6 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 3 -  Group Box: Rango de Fecha:
.head 4 -  Resource Id: 59117
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    0.071"
.head 5 -  Width:  5.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.75"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 59118
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    0.905"
.head 5 -  Width:  9.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.417"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Solid
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: System Text Color
.head 4 -  Background Color: 3D Shadow Color
.head 3 -  Background Text: dd/MM/yyyy
.head 4 -  Resource Id: 59119
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.883"
.head 5 -  Top:    0.32"
.head 5 -  Width:  1.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: dd/MM/yyyy
.head 4 -  Resource Id: 59120
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.85"
.head 5 -  Top:    0.32"
.head 5 -  Width:  1.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 2 +  Functions
.head 3 +  Function: ArmarQuery
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sConsulta
.head 4 +  Actions
.head 5 -  Set sConsulta = "SELECT A.COD_PLANILLA, A.FECHAI,B.COD_EMPLEADO,C.PRIMER_NOM + ' ' + C.PRIMER_APE,B.SUELDO_PAGADO
             FROM PLANILLA A, DET_PLANILLA B, EMPLEADOS C
             WHERE A.COD_PLANILLA=B.COD_PLANILLA AND B.COD_EMPLEADO=C.COD_EMPLEADO "

.head 5 +  If dfDesde!=DATETIME_Null
.head 6 -  Set sConsulta = sConsulta || " AND FECHAI>=:dfDesde "
.head 5 +  If dfHasta!=DATETIME_Null
.head 6 -  Set sConsulta = sConsulta || " AND FECHAI<=:dfHasta "
.head 5 -  Set sConsulta = sConsulta || " ORDER BY A.COD_PLANILLA "
.head 5 -  Return sConsulta
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  Call SalCenterWindow( hWndForm )
.head 1 +  Form Window: frmCirugias
.head 2 -  Class: cQuickTabsForm
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Cirugias
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Class Default
.head 2 -  Display Settings
.head 3 -  Display Style? Class Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Class Default
.head 3 -  Minimizable? Class Default
.head 3 -  System Menu? Class Default
.head 3 -  Resizable? Class Default
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  13.8"
.head 4 -  Width Editable? Class Default
.head 4 -  Height: 8.548"
.head 4 -  Height Editable? Class Default
.head 3 -  Form Size
.head 4 -  Width:  Class Default
.head 4 -  Height: Class Default
.head 4 -  Number of Pages: Class Default
.head 3 -  Font Name: Class Default
.head 3 -  Font Size: Class Default
.head 3 -  Font Enhancement: Class Default
.head 3 -  Text Color: Class Default
.head 3 -  Background Color: Class Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 +  Menu
.head 3 -  !
.head 3 +  Popup Menu: Opciones
.head 4 -  Resource Id: 15604
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 4 +  Menu Item: Nueva Cirugia
.head 5 -  Resource Id: 26009
.head 5 -  Keyboard Accelerator: Ctrl+N
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbNuevo, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Guardar Cirugia
.head 5 -  Resource Id: 26008
.head 5 -  Keyboard Accelerator: Ctrl+S
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbGuardar, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Cerrar Cirugia
.head 5 -  Resource Id: 25220
.head 5 -  Keyboard Accelerator: Ctrl+R
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbCerrarOrden, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Agregar Procedimiento
.head 5 -  Resource Id: 15605
.head 5 -  Keyboard Accelerator: F4
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbAddProc, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Eliminar Procedimiento
.head 5 -  Resource Id: 15606
.head 5 -  Keyboard Accelerator: F5
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbRemoveProc, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Agregar Medico
.head 5 -  Resource Id: 15609
.head 5 -  Keyboard Accelerator: F6
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbAddMed, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Eliminar Medico
.head 5 -  Resource Id: 15610
.head 5 -  Keyboard Accelerator: F7
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbRemoveMed, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Class Default
.head 4 -  Location? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Size: 4.964"
.head 4 -  Size Editable? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 3 +  Contents
.head 4 +  Data Field: dfCod_Cirugia
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Number
.head 6 -  Editable? Yes
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 5.517"
.head 7 -  Top:    1.119"
.head 7 -  Width:  1.233"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Yes
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Bold
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: 3D Face Color
.head 6 -  Input Mask: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Validate
.head 7 -  !
.head 7 +  If not SalIsNull(dfCod_Cirugia)
.head 8 -  !
.head 8 -  Call CargarDatosCirugia()
.head 6 +  On MU_REVISAR
.head 7 -  Return TRUE
.head 4 +  Custom Control: ccFecha_Programada
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cDateTimePickerDateLong
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Display Settings
.head 6 -  DLL Name:
.head 6 -  MS Windows Class Name:
.head 6 -  Style:  Class Default
.head 6 -  ExStyle:  Class Default
.head 6 -  Title:
.head 6 -  Window Location and Size
.head 7 -  Left: 5.517"
.head 7 -  Top:    1.452"
.head 7 -  Width:  4.0"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Etched Border? Class Default
.head 6 -  Hollow? Class Default
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Horizontal Scroll? Class Default
.head 6 -  Tab Stop? Class Default
.head 6 -  Tile To Parent? Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  DLL Settings
.head 5 -  Message Actions
.head 4 +  Custom Control: ccHora_Programada
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cDateTimePickerTime
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Display Settings
.head 6 -  DLL Name:
.head 6 -  MS Windows Class Name:
.head 6 -  Style:  Class Default
.head 6 -  ExStyle:  Class Default
.head 6 -  Title:
.head 6 -  Window Location and Size
.head 7 -  Left: 5.517"
.head 7 -  Top:    1.821"
.head 7 -  Width:  3.967"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Etched Border? Class Default
.head 6 -  Hollow? Class Default
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Horizontal Scroll? Class Default
.head 6 -  Tab Stop? Class Default
.head 6 -  Tile To Parent? Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  DLL Settings
.head 5 -  Message Actions
.head 4 +  Data Field: dfPaciente
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 4.383"
.head 7 -  Top:    2.488"
.head 7 -  Width:  2.3"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.31"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Uppercase
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 +  Message Actions
.head 6 +  ! On SAM_KillFocus
.head 7 -  !
.head 7 +  If dfPaciente = "TEMPCOD"
.head 8 -  !
.head 8 -  Set dfPacienteCorrel = '0'
.head 8 -  Call SalEnableWindow(dfNombre)
.head 8 -  Call SalSetFocus(dfNombre)
.head 7 +  Else 
.head 8 -  !
.head 8 -  Call SalDisableWindow(dfNombre)
.head 6 +  On MU_REVISAR
.head 7 -  Return TRUE
.head 6 +  On SAM_KillFocus
.head 7 -  !
.head 7 +  If dfPaciente = "TEMPCOD"
.head 8 -  !
.head 8 -  Set dfPacienteCorrel = '0'
.head 8 -  Call SalEnableWindow(dfNombre)
.head 8 -  Call SalSetFocus(dfNombre)
.head 7 +  Else
.head 8 -  !
.head 8 -  Call SalDisableWindow(dfNombre)
.head 4 +  Data Field: dfPacienteCorrel
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 6.683"
.head 7 -  Top:    2.488"
.head 7 -  Width:  0.7"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.31"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Uppercase
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_KillFocus
.head 7 -  Call ActualizarPaciente()
.head 6 +  On MU_REVISAR
.head 7 -  Return TRUE
.head 4 +  Data Field: dfNombre
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 7.383"
.head 7 -  Top:    2.488"
.head 7 -  Width:  5.2"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.298"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Uppercase
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfCodMedico
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatDataField
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Number
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 4.517"
.head 7 -  Top:    3.095"
.head 7 -  Width:  0.867"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_KillFocus
.head 7 -  !
.head 7 -  Call ActualizarMedico()
.head 4 -  Background Text: Codigo:
.head 5 -  Resource Id: 37513
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 3.75"
.head 6 -  Top:    3.131"
.head 6 -  Width:  0.667"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: Codigo:
.head 5 -  Resource Id: 37514
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 3.817"
.head 6 -  Top:    3.738"
.head 6 -  Width:  0.667"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfNombreMedico
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatDataField
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 5.383"
.head 7 -  Top:    3.095"
.head 7 -  Width:  3.4"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfEspecialidadMedico
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatDataField
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: String
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 8.783"
.head 7 -  Top:    3.095"
.head 7 -  Width:  3.8"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfCodCategoria
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatDataField
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 4.483"
.head 7 -  Top:    3.655"
.head 7 -  Width:  0.867"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_KillFocus
.head 7 -  !
.head 7 +  If not SalIsNull (dfCodCategoria)
.head 8 -  !
.head 8 -  Set sSQL = "select 
		A.COD_CATEGORIA,
		A.NOMBRE  
	from 
		CATEG_SERVICIOS A 
	where 
		A.COD_CATEGORIA=:dfCodCategoria
	into 
		:cmbCategServiciosOS.sCodigos , 
		:cmbCategServiciosOS" 
.head 8 -  Call SqlExists(sSQL , bExists)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If not bExists
.head 9 -  Call SalMessageBox("Categoria no existe","ERROR",MB_Ok)
.head 9 -  Set dfCodCategoria=''
.head 9 -  Set cmbCategServiciosOS=''
.head 8 +  Else
.head 9 -  !
.head 9 -  Call SalSendMsg ( cmbCategServiciosOS, SAM_DropDown, 0, 0 )
.head 4 +  Combo Box: cmbCategServiciosOS
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cmbBaseCodigo
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Window Location and Size
.head 6 -  Left: 5.383"
.head 6 -  Top:    3.655"
.head 6 -  Width:  3.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.738"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Editable? Class Default
.head 5 -  String Type: String
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Sorted? Class Default
.head 5 -  Always Show List? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 5 -  List Initialization
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set cmbCategServiciosOS.nCaso = 2
.head 7 -  Set cmbCategServiciosOS.sTabla = 'CATEG_SERVICIOS'
.head 7 -  Set cmbCategServiciosOS.sNombre='NOMBRE'
.head 7 -  Set cmbCategServiciosOS.sCodigo='COD_CATEGORIA'
.head 6 +  On SAM_Validate
.head 7 -  !
.head 7 -  ! ----------Cargar los servicios de la categoria seleccionada
.head 7 -  Set sSQL = "
			SELECT
				NOMBRE
			FROM
				SERVICIOS
			WHERE
				COD_CATEGORIA = :cmbCategServiciosOS.sCodigos AND
				EN_USO = 1
			ORDER BY
				NOMBRE"
.head 7 -  Call SalListClear(cmbServicios)
.head 7 -  Call SalListPopulate(cmbServicios, hSql1, sSQL)
.head 7 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 7 -  !
.head 7 -  Set dfCodCategoria=cmbCategServiciosOS.sCodigos
.head 4 +  Data Field: dfCodServicio
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatDataField
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 8.383"
.head 7 -  Top:    3.655"
.head 7 -  Width:  0.867"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_KillFocus
.head 7 -  !
.head 7 -  ! ------Se debe especificar antes la categoria de servicio
.head 7 +  If not SalIsNull (dfCodServicio)
.head 8 -  !
.head 8 +  If not SalIsNull(cmbCategServiciosOS)
.head 9 -  !
.head 9 -  Set sSQL = "select 
		A.NOMBRE
	from 
		SERVICIOS A
	where 
		A.COD_SERVICIO 		=:dfCodServicio and 
		A.COD_CATEGORIA	=:cmbCategServiciosOS.sCodigos and 
		A.EN_USO 		= 1
  	into 
		:cmbServicios"
.head 9 -  Call SqlExists(sSQL ,bExists)
.head 9 -  Call SqlClearImmediate()
.head 9 +  If not bExists
.head 10 -  Call SalMessageBox("Servicio no existe o ha sido desactivado","ERROR",MB_Ok)
.head 10 -  Set dfCodServicio=''
.head 10 -  Set cmbServicios=''
.head 10 -  Call SalSetFocus(dfCodServicio)
.head 8 +  Else
.head 9 -  !
.head 9 -  Call SalMessageBox("Debe especificar la categoria de servicio","ADVERTENCIA",MB_Ok)
.head 4 +  Combo Box: cmbServicios
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatComboBox
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Window Location and Size
.head 6 -  Left: 9.283"
.head 6 -  Top:    3.655"
.head 6 -  Width:  3.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.738"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Editable? Class Default
.head 5 -  String Type: Class Default
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Sorted? No
.head 5 -  Always Show List? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 5 -  List Initialization
.head 5 +  Message Actions
.head 6 +  On SAM_DropDown
.head 7 -  !
.head 7 -  ! ---------------Antes de especificar el servicio se debe especificar la categoria
.head 7 +  If not SalIsNull(cmbCategServiciosOS)
.head 8 -  !
.head 8 -  ! -----------Cargar los servicios de la categoria seleccionada
.head 8 -  Set sServicio = cmbServicios
.head 8 -  Set sSQL = "
			SELECT
				NOMBRE
			FROM
				SERVICIOS
			WHERE
				COD_CATEGORIA = :cmbCategServiciosOS.sCodigos AND
				EN_USO = 1
			ORDER BY
				NOMBRE"
.head 8 -  Call SalListClear(cmbServicios)
.head 8 -  Call SalListPopulate(cmbServicios, hSql1, sSQL)
.head 8 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 8 -  !
.head 8 -  Call SalListSelectString( hWndItem, -1,sServicio)
.head 7 -  !
.head 6 +  On SAM_Validate
.head 7 -  !
.head 7 -  ! --------Obtener el codigo del servicio solo si se ha especificado la categoria
.head 7 +  If not SalIsNull(cmbCategServiciosOS)
.head 8 -  !
.head 8 -  Set sSQL = "select
		COD_SERVICIO
    	from
		SERVICIOS
	where
		COD_CATEGORIA = :cmbCategServiciosOS.sCodigos AND
		EN_USO = 1 AND
		NOMBRE = :cmbServicios 
  	into
		:dfCodServicio"
.head 8 -  Call SqlImmediate(sSQL)
.head 8 -  Call SqlClearImmediate( )
.head 7 +  Else
.head 8 -  !
.head 8 -  Call SalMessageBox("Debe especificar la categoria de servicio","ADVERTENCIA",MB_Ok)
.head 4 +  Combo Box: cmbUsuariosOS
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cmbBaseCodigo
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Window Location and Size
.head 6 -  Left: 3.717"
.head 6 -  Top:    4.429"
.head 6 -  Width:  3.867"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 2.75"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Editable? Class Default
.head 5 -  String Type: String
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Sorted? Yes
.head 5 -  Always Show List? Class Default
.head 5 -  Vertical Scroll? Yes
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 5 -  List Initialization
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set cmbUsuariosOS.nCaso = 1
.head 7 -  Set cmbUsuariosOS.sTabla = 'USUARIOS_OS'
.head 7 -  Set cmbUsuariosOS.sNombre='NOMBREFIRMA'
.head 7 -  Set cmbUsuariosOS.sCodigo='CODIGO'
.head 7 -  !
.head 7 -  !
.head 6 +  On MU_REVISAR
.head 7 -  Return TRUE
.head 4 +  Multiline Field: mlObservaciones
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatMultilineField
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  String Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Border? Class Default
.head 6 -  Word Wrap? Class Default
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Window Location and Size
.head 7 -  Left: 8.15"
.head 7 -  Top:    4.238"
.head 7 -  Width:  4.9"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.583"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfTotalServicios
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Number
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 11.283"
.head 7 -  Top:    1.321"
.head 7 -  Width:  1.833"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Right
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfTotalProcedimientos
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Number
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 11.283"
.head 7 -  Top:    1.071"
.head 7 -  Width:  1.833"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Right
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfTotalHonorarios
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Number
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 11.283"
.head 7 -  Top:    1.655"
.head 7 -  Width:  1.833"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Right
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfTotal
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Number
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 11.283"
.head 7 -  Top:    1.905"
.head 7 -  Width:  1.833"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Right
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 -  Group Box: Datos Paciente
.head 5 -  Resource Id: 20990
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 3.583"
.head 6 -  Top:    2.321"
.head 6 -  Width:  9.1"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.583"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Group Box: Medico Base
.head 5 -  Resource Id: 54011
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 3.583"
.head 6 -  Top:    2.929"
.head 6 -  Width:  9.1"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.476"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Group Box: Procedimiento Base
.head 5 -  Resource Id: 54012
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 3.55"
.head 6 -  Top:    3.452"
.head 6 -  Width:  9.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.536"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Pushbutton: pbBuscarPaciente
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 12.683"
.head 6 -  Top:    2.429"
.head 6 -  Width:  0.667"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.476"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: F1
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\access.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Single
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Set sRegresaPac=''
.head 7 -  Set sRegresaCor=''
.head 7 -  Call SalModalDialog( dlgConsultaPacientesO, hWndForm,sRegresaPac,sRegresaCor, 3, 1,  1 )
.head 7 +  If sRegresaPac!=''
.head 8 -  Set dfPaciente 		=sRegresaPac
.head 8 -  Set dfPacienteCorrel 	=sRegresaCor
.head 8 -  Call ActualizarPaciente()
.head 4 -  Background Text: No. Cirugia :
.head 5 -  Resource Id: 4195
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 4.217"
.head 6 -  Top:    1.202"
.head 6 -  Width:  1.233"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: Codigo:
.head 5 -  Resource Id: 20992
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 3.683"
.head 6 -  Top:    2.56"
.head 6 -  Width:  0.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: Fecha Programada:
.head 5 -  Resource Id: 4197
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 3.65"
.head 6 -  Top:    1.536"
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: Hora Programada:
.head 5 -  Resource Id: 60242
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 3.65"
.head 6 -  Top:    1.905"
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Group Box: Datos Generales
.head 5 -  Resource Id: 4198
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 3.55"
.head 6 -  Top:    0.929"
.head 6 -  Width:  6.133"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.31"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Frame
.head 5 -  Resource Id: 4194
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.083"
.head 6 -  Top:    0.071"
.head 6 -  Width:  13.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.75"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Corners: Round
.head 5 -  Border Style: Etched
.head 5 -  Border Thickness: 1
.head 5 -  Border Color: 3D Shadow Color
.head 5 -  Background Color: 3D Shadow Color
.head 4 +  Data Field: dfEstado
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatDataField
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: String
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 4.583"
.head 7 -  Top:    0.405"
.head 7 -  Width:  1.9"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Center
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Bold
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: 3D Shadow Color
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 -  Group Box: Autorizado por:
.head 5 -  Resource Id: 20988
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 3.583"
.head 6 -  Top:    4.238"
.head 6 -  Width:  4.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Group Box: Totales
.head 5 -  Resource Id: 20991
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 9.883"
.head 6 -  Top:    0.905"
.head 6 -  Width:  3.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.333"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: Procedimientos
.head 5 -  Resource Id: 20993
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 9.983"
.head 6 -  Top:    1.179"
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: Otros Servicios
.head 5 -  Resource Id: 20996
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 9.983"
.head 6 -  Top:    1.452"
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: Honorarios
.head 5 -  Resource Id: 20995
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 9.983"
.head 6 -  Top:    1.726"
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: Total
.head 5 -  Resource Id: 20994
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 9.983"
.head 6 -  Top:    2.0"
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Group Box: Observaciones
.head 5 -  Resource Id: 36502
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 7.983"
.head 6 -  Top:    3.988"
.head 6 -  Width:  5.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.917"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Pushbutton: pbNuevo
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.55"
.head 6 -  Top:    0.179"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.6"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filenew.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 +  If bNuevaCirugia
.head 8 -  !
.head 8 -  Set sSQL = " 
		SELECT
			COD_CIRUGIA
		FROM
			CIRUGIAS
		WHERE
			COD_CIRUGIA   =   :dfCod_Cirugia"
.head 8 -  Call SqlExists (sSQL, bExistsCirugia)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If SalMessageBox("Ha seleccionado emitir una nueva cirugia. Desea guardar los cambios antes de continuar?","Atencion",MB_YesNo)=IDYES
.head 9 -  !
.head 9 -  Call SalSendMsg (pbGuardar, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  !
.head 9 +  If not bExistsCirugia
.head 10 -  !
.head 10 -  Set sSQL = '
	DELETE FROM
		 IDENTITYS 
	WHERE 
		cod_tabla = 706 AND
		MAXIMO = :dfCod_Cirugia'
.head 10 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 10 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 10 -  !
.head 10 -  Call ResetMaster()
.head 10 -  Call ResetControls()
.head 10 -  Call LoadDefaultValues()
.head 10 -  !
.head 7 +  Else
.head 8 -  !
.head 8 -  Call ResetMaster()
.head 8 -  Call ResetControls()
.head 8 -  Call LoadDefaultValues()
.head 4 +  Pushbutton: pbGuardar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.25"
.head 6 -  Top:    0.179"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.6"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filesave.bmp
.head 5 -  Picture Transparent Color: White
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 +  If SalIsNull(dfCod_Cirugia)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe especificar el No de Cirugia", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 8 -  Return FALSE
.head 7 +  If SalIsNull(dfPaciente)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe especificar el codigo del paciente", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 8 -  Call SalSetFocus(dfPaciente)
.head 8 -  Return FALSE
.head 7 +  Else
.head 8 -  !
.head 8 -  ! -----Cuando es codigo temporal siempre se debe especificar el nombre del paciente
.head 8 +  If dfPaciente = 'TEMPCOD'
.head 9 -  !
.head 9 +  If SalIsNull(dfNombre)
.head 10 -  !
.head 10 -  Call SalMessageBox( "Debe especificar el nombre del paciente temporal", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 10 -  Call SalSetFocus(dfNombre)
.head 10 -  Return FALSE
.head 7 +  If SalIsNull(dfPacienteCorrel)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe especificar el correlativo del paciente", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 8 -  Call SalSetFocus(dfPacienteCorrel)
.head 8 -  Return FALSE
.head 7 +  If SalIsNull(cmbUsuariosOS)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe especificar el usuario que autoriza", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 8 -  Call SalSetFocus(cmbUsuariosOS)
.head 8 -  Return FALSE
.head 7 +  If not RevisarTablas(tbl1)
.head 8 -  !
.head 8 -  Return FALSE
.head 7 -  !
.head 7 -  ! --------------Verificar si la orden ya existe
.head 7 -  Set sSQL = " 
		SELECT
			*
		FROM
			CIRUGIAS
		WHERE
			COD_CIRUGIA   =   :dfCod_Cirugia"
.head 7 -  Call SqlExists (sSQL, bExistsCirugia)
.head 7 -  Call SqlClearImmediate()
.head 7 -  !
.head 7 -  ! --------Preparar los datos a guardar
.head 7 +  If not PrepareData()
.head 8 -  Return FALSE
.head 7 -  !
.head 7 -  ! ----------Ejecutar la actualizacion o insercion
.head 7 +  If bExistsCirugia
.head 8 -  !
.head 8 -  ! ---------Verificar que el numero de orden no haya sido tomada por otro usuario (Asegurar la concurrencia)
.head 8 +  If bNuevaCirugia=TRUE
.head 9 -  Set dfCod_Cirugia=Identity(706)
.head 9 -  Call SalMessageBox( 'El Numero de Cirugia ya existe. Se reasiganara al siguiente NUMERO : '||SalNumberToStrX( dfCod_Cirugia ,0 ) ,
'Advertencia', MB_Ok )
.head 8 -  !
.head 8 -  Call DoUpdate(  )
.head 7 +  Else
.head 8 -  !
.head 8 -  Call DoInsert(  )
.head 7 -  !
.head 7 -  Set bNuevaCirugia=FALSE
.head 7 -  !
.head 7 -  Call CargarDatosCirugia()
.head 7 -  !
.head 7 -  Return TRUE
.head 4 +  Pushbutton: pbBuscarOrden
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 3.35"
.head 6 -  Top:    0.179"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.6"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: F3
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 +  If bNuevaCirugia
.head 8 -  !
.head 8 -  Set sSQL = "   SELECT
			*
		FROM
			CIRUGIAS
		WHERE
			COD_CIRUGIA   =   :dfCod_Cirugia"
.head 8 -  Call SqlExists (sSQL, bExistsCirugia)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If SalMessageBox("Ha seleccionado crear una nueva cirugia. Desea guardar los cambios antes de salir?","Atencion",MB_YesNo)=IDYES
.head 9 -  !
.head 9 -  Call SalSendMsg (pbGuardar, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  !
.head 9 +  If not bExistsCirugia
.head 10 -  !
.head 10 -  Set sSQL = 'DELETE FROM
		 IDENTITYS 
	WHERE 
		cod_tabla = 706 AND
		MAXIMO = :dfCod_Cirugia'
.head 10 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 10 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 10 -  !
.head 10 -  Set bNuevaCirugia =FALSE
.head 10 -  Set nRegresaCirugia= NUMBER_Null
.head 10 -  Call SalModalDialog( dlgConsultaCirugias, hWndForm,nRegresaCirugia, 0, 0, 0, 0)
.head 10 +  If nRegresaCirugia != NUMBER_Null
.head 11 -  !
.head 11 -  Set dfCod_Cirugia =nRegresaCirugia
.head 11 -  Call CargarDatosCirugia()
.head 7 +  Else
.head 8 -  !
.head 8 -  Set bNuevaCirugia =FALSE
.head 8 -  Set nRegresaCirugia= NUMBER_Null
.head 8 -  Call SalModalDialog( dlgConsultaCirugias, hWndForm,nRegresaCirugia, 0, 0, 0, 0)
.head 8 +  If nRegresaCirugia != NUMBER_Null
.head 9 -  !
.head 9 -  Set dfCod_Cirugia =nRegresaCirugia
.head 9 -  Call CargarDatosCirugia()
.head 4 +  Pushbutton: pbImprimir
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 11.85"
.head 6 -  Top:    0.179"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.6"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Set params[0] = SalNumberToStrX(dfCod_Cirugia,0)
.head 7 -  Set strRepTitle = " Solicitd de Cirugia "
.head 7 -  Set strReportName = strRepPath||"\\SolicitudCirugias.rpt"
.head 7 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 4 +  Pushbutton: pbCerrarOrden
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.95"
.head 6 -  Top:    0.179"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.6"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\decrypted.bmp
.head 5 -  Picture Transparent Color: White
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 -  Call CerrarCirugia(  )
.head 7 -  Call CargarDatosCirugia()
.head 4 +  Pushbutton: pbEliminar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 2.65"
.head 6 -  Top:    0.179"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.6"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\editdelete.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 -  Call AnularCirugia(  )
.head 7 -  Call CargarDatosCirugia()
.head 4 +  Pushbutton: pb9
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 12.55"
.head 6 -  Top:    0.179"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.6"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 +  If bNuevaCirugia
.head 8 -  !
.head 8 -  Set sSQL = "   SELECT
			*
		FROM
			CIRUGIAS
		WHERE
			COD_CIRUGIA   =   :dfCod_Cirugia"
.head 8 -  Call SqlExists (sSQL, bExistsCirugia)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If SalMessageBox("Ha seleccionado crear una nueva cirugia. Desea guardar los cambios antes de salir?","Atencion",MB_YesNo)=IDYES
.head 9 -  !
.head 9 -  Call SalSendMsg (pbGuardar, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  !
.head 9 +  If not bExistsCirugia
.head 10 -  !
.head 10 -  Set sSQL = 'DELETE FROM
		 IDENTITYS 
	WHERE 
		cod_tabla = 706 AND
		MAXIMO = :dfCod_Cirugia'
.head 10 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 10 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 10 -  !
.head 10 -  Call SalSendClassMessage ( SAM_Click, 0, 0)
.head 7 +  Else
.head 8 -  !
.head 8 -  Call SalSendClassMessage ( SAM_Click, 0, 0)
.head 4 +  Custom Control: ccMes
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cMonthCalendarDemo
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Display Settings
.head 6 -  DLL Name:
.head 6 -  MS Windows Class Name:
.head 6 -  Style:  Class Default
.head 6 -  ExStyle:  Class Default
.head 6 -  Title:
.head 6 -  Window Location and Size
.head 7 -  Left: 0.183"
.head 7 -  Top:    1.488"
.head 7 -  Width:  3.2"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 2.167"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Etched Border? Class Default
.head 6 -  Hollow? Class Default
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Horizontal Scroll? Class Default
.head 6 -  Tab Stop? Class Default
.head 6 -  Tile To Parent? Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  DLL Settings
.head 5 +  Message Actions
.head 6 +  ! On WM_NOTIFY
.head 7 +  Select Case wParam 
.head 8 -  Case 1                        ! Day changed 
.head 8 -  Case 2                        ! Lost Focus 
.head 8 +  Case 3                        ! Month changed 
.head 9 -  !
.head 9 -  Call SalSendMsg (pbMonth, SAM_Click, 0, 0)
.head 4 +  Pushbutton: pbMonth
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Marcar Citas del Mes
.head 5 -  Window Location and Size
.head 6 -  Left: 0.183"
.head 6 -  Top:    3.655"
.head 6 -  Width:  3.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 -  !
.head 7 +  If not (GetWindowLongA( ccMes.hWndCalendar, GWL_STYLE ) & MCS_DAYSTATE)
.head 8 -  Call SalMessageBox( 'The DAYSTATE style must be set !', 'Information', MB_Ok | MB_IconExclamation )
.head 7 -  !
.head 7 -  Call ccMes.GetMonthRange(GMR_DAYSTATE,dBegin, dEnd)
.head 7 -  Set dEndDay1 = SalDateMonthBegin(SalDateConstruct(  SalDateYear( dBegin ),  SalDateMonth( dBegin ) + 1, 1, 0, 0, 0 )) - 1
.head 7 -  Set dEndDay2 = SalDateMonthBegin(SalDateConstruct(  SalDateYear( dEnd ),  SalDateMonth( dEnd ), SalDateDay( dEnd ), 0, 0, 0 )) - 1
.head 7 -  Set dEndDay3 = dEnd
.head 7 -  !
.head 7 -  Set nBeginDay1 = SalDateDay( dBegin )
.head 7 -  Set nEndDay1 = SalDateDay(SalDateMonthBegin(SalDateConstruct(  SalDateYear( dBegin ),  SalDateMonth( dBegin ) + 1, 1, 0, 0, 0 )) - 1)
.head 7 -  Set nEndDay2 = SalDateDay(SalDateMonthBegin(SalDateConstruct(  SalDateYear( dEnd ),  SalDateMonth( dEnd ), SalDateDay( dEnd ), 0, 0, 0 )) - 1)
.head 7 -  Set nEndDay3 = SalDateDay( dEnd )
.head 7 -  !
.head 7 -  ! Inicializar la matriz de estado en su primer fila (1 mes)
.head 7 -  Set nIndex = nBeginDay1
.head 7 +  While nIndex <= nEndDay1
.head 8 -  Set nDayState[0, nIndex] = 0
.head 8 -  Set nIndex = nIndex + 1
.head 7 -  !
.head 7 -  ! Inicializar la matriz de estado en su segunda fila (2 mes)
.head 7 -  Set nIndex = 1
.head 7 +  While nIndex <= nEndDay2
.head 8 -  Set nDayState[1, nIndex] = 0
.head 8 -  Set nIndex = nIndex + 1
.head 7 -  !
.head 7 -  ! Inicializar la matriz de estado en su tercer fila (3 mes)
.head 7 -  Set nIndex = 1
.head 7 +  While nIndex <= nEndDay3
.head 8 -  Set nDayState[2, nIndex] = 0
.head 8 -  Set nIndex = nIndex + 1
.head 7 -  !
.head 7 -  ! Encontrar las fechas a seleccionar
.head 7 -  Call SqlPrepareAndExecute( hSql1, "
					SELECT 
						DISTINCT FECHA_PROGRAMADA
					FROM
						CIRUGIAS
					WHERE
						FECHA_PROGRAMADA BETWEEN :dBegin AND :dEnd
					INTO
						:dFechaCita	
" )
.head 7 +  While SqlFetchNext( hSql1, nSiguiente)
.head 8 -  !
.head 8 +  If dFechaCita <= dEndDay1
.head 9 -  !
.head 9 -  Set nIndex = 0
.head 8 +  Else If dFechaCita <= dEndDay2
.head 9 -  !
.head 9 -  Set nIndex = 1
.head 8 +  Else
.head 9 -  !
.head 9 -  Set nIndex = 2
.head 8 -  !
.head 8 -  Set nDay = SalDateDay(dFechaCita)
.head 8 -  Set nDayState[nIndex, nDay] = 1
.head 8 -  !
.head 8 -  ! Set sFechaCita = SalFmtFormatDateTime ( dFechaCita, 'dd/MM/yyyy' )
.head 8 -  ! Call SalMessageBox( 'DAY' || sFechaCita, 'Information', MB_Ok | MB_IconExclamation )
.head 7 -  !
.head 7 -  Call ccMes.SetDayState(nDayState)
.head 6 +  ! On SAM_Click
.head 7 -  !
.head 7 +  If not (GetWindowLongA( ccMes.hWndCalendar, GWL_STYLE ) & MCS_DAYSTATE)
.head 8 -  Call SalMessageBox( 'The DAYSTATE style must be set !', 'Information', MB_Ok | MB_IconExclamation )
.head 7 +  Else 
.head 8 +  If SalModalDialog(dlgDayState, hWndForm)
.head 9 -  Call ccMes.SetDayState(nDayState)
.head 4 +  Pushbutton: pbDay
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Ver Citas del Dia
.head 5 -  Window Location and Size
.head 6 -  Left: 0.183"
.head 6 -  Top:    3.952"
.head 6 -  Width:  3.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 -  !
.head 7 -  Set nDayP = SalDateDay(ccMes.GetCurDateSelected())
.head 7 -  Set nMonthP = SalDateMonth(ccMes.GetCurDateSelected())
.head 7 -  Set nYearP = SalDateYear(ccMes.GetCurDateSelected())
.head 7 -  Set bNuevaCirugia =FALSE
.head 7 -  Set nRegresaCirugia= NUMBER_Null
.head 7 -  Call SalModalDialog( dlgConsultaCirugias, hWndForm,nRegresaCirugia, 1, nDayP, nMonthP, nYearP)
.head 7 -  Set dfCod_Cirugia = nRegresaCirugia
.head 7 +  If not SalIsNull(dfCod_Cirugia)
.head 8 -  !
.head 8 -  Call CargarDatosCirugia()
.head 4 +  Pushbutton: pbBuscarDoctor
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 12.717"
.head 6 -  Top:    2.952"
.head 6 -  Width:  0.667"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.476"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: F2
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\doctor.bmp
.head 5 -  Picture Transparent Color: White
.head 5 -  Image Style: Single
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Set nRegresaMed=NUMBER_Null
.head 7 -  Call SalModalDialog( dlgConsultaMedicos, hWndForm,nRegresaMed, 1 )
.head 7 +  If nRegresaMed != NUMBER_Null
.head 8 -  Set dfCodMedico = nRegresaMed
.head 8 -  Call ActualizarMedico()
.head 4 -  Frame
.head 5 -  Resource Id: 54010
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.083"
.head 6 -  Top:    1.405"
.head 6 -  Width:  3.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 2.917"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Corners: Square
.head 5 -  Border Style: Etched
.head 5 -  Border Thickness: 1
.head 5 -  Border Color: 3D Shadow Color
.head 5 -  Background Color: Default
.head 2 +  Contents
.head 3 +  Picture: picTabs
.data CLASSPROPS
0000: 546162557365466F 6E74000700506172 656E740000546162 466F6E744E616D65
0020: 000E004D53205361 6E73205365726966 00005461624C6566 744D617267696E00
0040: 0200300000546162 43757272656E7400 080074616250726F 630000546162426F
0060: 74746F6D4D617267 696E000200300000 5461625061676543 6F756E7400020031
0080: 00005461624C6162 656C73003E005072 6F636564696D6965 6E746F7320517569
00A0: 7275726769636F73 095374616666204D 656469636F095365 72766963696F7320
00C0: 41646963696F6E61 6C65730000546162 4E616D6573001700 74616250726F6309
00E0: 746162486F6E0974 6162536572760000 5461625269676874 4D617267696E0002
0100: 0030000054616244 7261775374796C65 000B0057696E3331 5374796C65000054
0120: 6162466F726D5061 6765730003000909 0000546162546F70 4D617267696E0002
0140: 003000005461624F 7269656E74617469 6F6E000A00546162 734F6E546F700000
0160: 546162466F6E7453 697A650002003800 0000000000000000 0000000000000000
0180: 0000000000000000 0000000000
.enddata
.data CLASSPROPSSIZE
0000: 8D01
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 1
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQuickTabsForm
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: Class Default
.head 5 -  Top:    Class Default
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  File Name:
.head 4 -  Storage: Class Default
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Fit: Class Default
.head 4 -  Scaling
.head 5 -  Width:  Class Default
.head 5 -  Height:  Class Default
.head 4 -  Corners: Class Default
.head 4 -  Border Style: Class Default
.head 4 -  Border Thickness: Class Default
.head 4 -  Tile To Parent? Yes
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Face Color
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbAddServ
.data CLASSPROPSSIZE
0000: 1B00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000800 7461625365727600 000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.35"
.head 5 -  Top:    0.512"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.4"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\edit_add15.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalSetFocus(tbl2)
.head 6 -  Call SalTblSetFocusCell( tbl2, SalTblInsertRow( tbl2, TBL_MaxRow ), tbl2.colCategoria, 0, 1 )
.head 6 -  !
.head 6 -  Set tbl2.colUnico=Identity(704)
.head 6 -  Set tbl2.colCosto =0
.head 6 -  Set tbl2.colCantidad = 1
.head 6 -  Set tbl2.colSubTotal = tbl2.colCosto * tbl2.colCantidad
.head 6 -  ! Set tbl2.colFecha=FechaHoy(2)
.head 6 -  Set tbl2.colFecha=ccFecha_Programada.GetSystemTime()
.head 3 +  Pushbutton: pbRemoveServ
.data CLASSPROPSSIZE
0000: 1B00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000800 7461625365727600 000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.35"
.head 5 -  Top:    0.92"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.4"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\edit_remove15.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call SalTblQueryFocus(  tbl2,nRow, tbl2.colCategoria)
.head 6 +  If SalTblQueryRowFlags( tbl2,nRow,ROW_MarkDeleted)
.head 7 -  Call SalTblSetRowFlags( tbl2,nRow, ROW_MarkDeleted,FALSE)
.head 6 +  Else
.head 7 +  If SalTblQueryRowFlags( tbl2,nRow,ROW_New)
.head 8 -  Call SalTblDeleteRow( tbl2, nRow, TBL_Adjust )
.head 7 +  Else
.head 8 -  Call SalTblSetRowFlags( tbl2,nRow, ROW_MarkDeleted,TRUE)
.head 6 -  Call SalTblSetFocusCell( tbl2, nRow, tbl2.colCategoria, 0, 1 )
.head 3 -  Frame
.data CLASSPROPSSIZE
0000: 1900
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000800 74616250726F6300 00
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 36501
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.983"
.head 5 -  Top:    0.571"
.head 5 -  Width:  12.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.75"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Solid
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 +  Child Table: tbl1
.data CLASSPROPSSIZE
0000: 1900
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000800 74616250726F6300 00
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatChildTable
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.083"
.head 6 -  Top:    0.655"
.head 6 -  Width:  11.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 1.583"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Yes
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: Class Default
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colUnico
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Correl
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.583"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCategoria
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod Cat
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.717"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_KillFocus
.head 8 -  ! Al salirse de este campo del grid  se carga los datos de la categoria
seleccionada y se actualiza el nombre en el combo correspondiente
.head 8 +  If not SalIsNull(colCategoria)
.head 9 -  !
.head 9 -  Set sSQL = "
	select 
		A.NOMBRE 
	from 
		CATEG_SERVICIOS A 
	where 
		A.COD_CATEGORIA=:tbl1.colCategoria  
	into 
		:colcmbCateg" 
.head 9 -  Call SqlExists( sSQL, bExists)
.head 9 -  Call SqlClearImmediate()
.head 9 +  If not bExists
.head 10 -  Call SalMessageBox("Categoria  no existe","ERROR",MB_Ok)
.head 10 -  Set tbl1.colCategoria=''
.head 10 -  Set tbl1.colcmbCateg=''
.head 9 +  Else
.head 10 -  Set tbl1.colcmbCateg.sCodigos=tbl1.colCategoria
.head 7 +  On MU_REVISAR
.head 8 -  Return FALSE
.head 5 +  Column: colcmbCateg
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsCbCodigo
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Categoria
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.133"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  ! Inicializar las variables de instancia del boton
.head 8 -  Set colcmbCateg.nCaso=2
.head 8 -  Set colcmbCateg.sTabla='CATEG_SERVICIOS'
.head 8 -  Set colcmbCateg.sNombre='NOMBRE'
.head 8 -  Set colcmbCateg.sCodigo='COD_CATEGORIA'
.head 7 +  On SAM_Validate
.head 8 -  ! Al salirse del combo se actualiza el codigo de la categoria
.head 8 -  Call SalSendClassMessage(SAM_Validate,0,0)
.head 8 -  Set tbl1.colCategoria=tbl1.colcmbCateg.sCodigos
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 5 +  Column: colServicio
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod Proc
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.017"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_KillFocus
.head 8 -  ! Al introducir el codigo de servicio y luego salirse del campo se 
procede a cargar todos los costos asociados a es servicio, Estos costos
son agregados en una columna de grid la cual es un combo, para que
el usuario decida el costo a seleccionar de todos los propuestos, tambien
verifica que exista el codigo de servicio.
.head 8 +  If not SalIsNull(colServicio)
.head 9 -  !
.head 9 -  Set sSQL = "select 
		A.NOMBRE,
		A.COSTO,
		A.COSTO1,
		A.COSTO2,
		A.COSTO3,
		A.COSTO4  
	from 
		SERVICIOS A
	where 
		A.COD_SERVICIO =:tbl1.colServicio and 		
		A.COD_CATEGORIA=:tbl1.colCategoria and 
		A.EN_USO = 1
 	into 
		:colcmbServi,
		:nCosto,
		:nCosto1,
		:nCosto2,
		:nCosto3,
		:nCosto4 "
.head 9 -  Call SqlExists( sSQL ,bExists)
.head 9 -  Call SqlClearImmediate()
.head 9 -  !
.head 9 +  If not bExists
.head 10 -  Call SalMessageBox("Servicio no existe o ha sido desactivado ","ERROR",MB_Ok)
.head 10 -  Set tbl1.colServicio=''
.head 10 -  Set tbl1.colcmbServi=''
.head 9 +  Else
.head 10 -  !
.head 10 -  Call SalListClear( tbl1.colCosto )
.head 10 -  Call SalListAdd( tbl1.colCosto, SalFmtFormatNumber( nCosto,'000000.00' ))
.head 10 -  Call SalListAdd( tbl1.colCosto, SalFmtFormatNumber( nCosto1,'000000.00' ) )
.head 10 -  Call SalListAdd( tbl1.colCosto,SalFmtFormatNumber (nCosto2 ,'000000.00' ))
.head 10 -  Call SalListAdd( tbl1.colCosto, SalFmtFormatNumber(nCosto3,'000000.00'  ))
.head 10 -  Call SalListAdd( tbl1.colCosto,SalFmtFormatNumber( nCosto4,'000000.00' ))
.head 10 -  Call SalListSetSelect( tbl1.colCosto, 4 )
.head 7 +  On MU_REVISAR
.head 8 -  Return FALSE
.head 5 +  Column: colcmbServi
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsCbCodigoFiltrado
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Procedimiento
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set colcmbServi.nCaso=2
.head 8 -  Set colcmbServi.sTabla='SERVICIOS'
.head 8 -  Set colcmbServi.sNombre='NOMBRE'
.head 8 -  Set colcmbServi.sCodigo='COD_SERVICIO'
.head 8 -  Set colcmbServi.sNombreFiltro = 'EN_USO'
.head 8 -  Set colcmbServi.nValorFiltro = 1
.head 7 +  On SAM_DropDown
.head 8 -  ! Cuando se despliega el combo de servicios se filtran de tal forma
que solo presente servicios asociados con la categoria seleccionada
.head 8 -  Set sSQL = "select 
		A.NOMBRE 
	from 
		SERVICIOS A
	where 		
 		A.COD_CATEGORIA =:tbl1.colCategoria AND
		A.EN_USO = 1"
.head 8 -  Call SalListPopulate( tbl1.colcmbServi, hSql1, sSQL  )
.head 8 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 7 +  On SAM_Validate
.head 8 -  ! Al seleccionar el  servicio del combo y luego salirse del campo se 
procede a cargar todos los costos asociados a es servicio, Estos costos
son agregados en una columna de grid la cual es un combo, para que
el usuario decida el costo a seleccionar de todos los propuestos, tambien
verifica que exista el codigo de servicio.
.head 8 -  !
.head 8 +  If not SalIsNull( colcmbServi )
.head 9 -  !
.head 9 +  If SalListSelectString(hWndItem,-1,MyValue)=LB_Err
.head 10 -  Call SalMessageBox("Dato no existe en la lista","ERROR",MB_Ok)
.head 10 -  Call SalSetFocus(hWndItem)
.head 10 -  Return FALSE
.head 9 -  !
.head 9 -  Set sSQL = "
	select 
		cod_servicio 
	from 
		servicios 
	where 
		cod_categoria=:tbl1.colCategoria	and 
		nombre=:tbl1.colcmbServi and 
		en_uso = 1
	into	
		:tbl1.colcmbServi.sCodigos"
.head 9 -  Call SqlImmediate(sSQL)
.head 9 -  Call SqlClearImmediate()
.head 9 -  !
.head 9 -  Set tbl1.colServicio=tbl1.colcmbServi.sCodigos
.head 9 -  !
.head 9 -  Set sSQL =  "select 
		A.COSTO,
		A.COSTO1,
		A.COSTO2,
		A.COSTO3,
		A.COSTO4  
	from 
		SERVICIOS  A
	where 
		A.COD_SERVICIO = :tbl1.colServicio and 
		A.COD_CATEGORIA=:tbl1.colCategoria  
	into 
		:nCosto,
		:nCosto1,
		:nCosto2,
		:nCosto3,
		:nCosto4 "
.head 9 -  Call SqlImmediate( sSQL )
.head 9 -  Call SqlClearImmediate()
.head 9 -  !
.head 9 -  Call SalListClear( tbl1.colCosto )
.head 9 -  Call SalListAdd( tbl1.colCosto, SalFmtFormatNumber( nCosto,'000000.00' ))
.head 9 -  Call SalListAdd( tbl1.colCosto, SalFmtFormatNumber( nCosto1,'000000.00'  ))
.head 9 -  Call SalListAdd( tbl1.colCosto,SalFmtFormatNumber (nCosto2 ,'000000.00' ))
.head 9 -  Call SalListAdd( tbl1.colCosto, SalFmtFormatNumber(nCosto3,'000000.00'  ))
.head 9 -  Call SalListAdd( tbl1.colCosto,SalFmtFormatNumber( nCosto4,'000000.00' ))
.head 9 -  Call SalListSetSelect( tbl1.colCosto, 4 )
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 5 +  Column: colCosto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Costo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.333"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Drop Down List
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_KillFocus
.head 8 -  ! Al salirse del campo de costo se actualiza el subtotal de la linea y 
ademas sugiere la fecha del sistema en la que se llevo a cabo el servicio
.head 8 -  Set tbl1.colSubTotal=tbl1.colCosto*tbl1.colCantidad
.head 8 -  Call Actualizar_Montos(  )
.head 7 +  On MU_REVISAR
.head 8 -  Return FALSE
.head 5 +  Column: colCantidad
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cantidad
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.233"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_KillFocus
.head 8 -  ! Al salirse del campo de cantidad se actualiza el subtotal de la linea y 
ademas sugiere la fecha del sistema en la que se llevo a cabo el servicio
.head 8 -  Set tbl1.colSubTotal=tbl1.colCosto*tbl1.colCantidad
.head 8 -  Call Actualizar_Montos(  )
.head 7 +  On MU_REVISAR
.head 8 -  Return FALSE
.head 5 +  Column: colFecha
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Date/Time
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.467"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On MU_REVISAR
.head 8 -  Return FALSE
.head 5 +  Column: colSubTotal
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: SubTotal
.head 6 -  Visible? Class Default
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.467"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On MU_REVISAR
.head 8 -  Return FALSE
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 -  Message Actions
.head 3 -  Frame
.data CLASSPROPSSIZE
0000: 1B00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000800 7461625365727600 000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 56024
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.883"
.head 5 -  Top:    0.512"
.head 5 -  Width:  12.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.143"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Corners: Square
.head 4 -  Border Style: Solid
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 +  Child Table: tbl2
.data CLASSPROPSSIZE
0000: 1B00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000800 7461625365727600 000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatChildTable
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.983"
.head 6 -  Top:    0.595"
.head 6 -  Width:  12.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 1.976"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: Class Default
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colUnico
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Correl
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.583"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCategoria
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod Cat
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.833"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_KillFocus
.head 8 -  ! Al salirse de este campo del grid  se carga los datos de la categoria
seleccionada y se actualiza el nombre en el combo correspondiente
.head 8 +  If not SalIsNull(colCategoria)
.head 9 -  !
.head 9 -  Set sSQL = "
	select 
		A.NOMBRE 
	from 
		CATEG_SERVICIOS A 
	where 
		A.COD_CATEGORIA=:tbl2.colCategoria  
	into 
		:colcmbCateg" 
.head 9 -  Call SqlExists( sSQL, bExists)
.head 9 -  Call SqlClearImmediate()
.head 9 +  If not bExists
.head 10 -  Call SalMessageBox("Categoria  no existe","ERROR",MB_Ok)
.head 10 -  Set tbl2.colCategoria=''
.head 10 -  Set tbl2.colcmbCateg=''
.head 9 +  Else
.head 10 -  Set tbl2.colcmbCateg.sCodigos=tbl2.colCategoria
.head 7 +  On MU_REVISAR
.head 8 -  Return FALSE
.head 5 +  Column: colcmbCateg
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsCbCodigo
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Categoria
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.133"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  ! Inicializar las variables de instancia del boton
.head 8 -  Set colcmbCateg.nCaso=2
.head 8 -  Set colcmbCateg.sTabla='CATEG_SERVICIOS'
.head 8 -  Set colcmbCateg.sNombre='NOMBRE'
.head 8 -  Set colcmbCateg.sCodigo='COD_CATEGORIA'
.head 7 +  On SAM_Validate
.head 8 -  ! Al salirse del combo se actualiza el codigo de la categoria
.head 8 -  Call SalSendClassMessage(SAM_Validate,0,0)
.head 8 -  Set tbl2.colCategoria=tbl2.colcmbCateg.sCodigos
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 5 +  Column: colServicio
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod Serv
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.967"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_KillFocus
.head 8 -  ! Al introducir el codigo de servicio y luego salirse del campo se 
procede a cargar todos los costos asociados a es servicio, Estos costos
son agregados en una columna de grid la cual es un combo, para que
el usuario decida el costo a seleccionar de todos los propuestos, tambien
verifica que exista el codigo de servicio.
.head 8 +  If not SalIsNull(colServicio)
.head 9 -  !
.head 9 -  Set sSQL = "select 
		A.NOMBRE,
		A.COSTO,
		A.COSTO1,
		A.COSTO2,
		A.COSTO3,
		A.COSTO4  
	from 
		SERVICIOS A
	where 
		A.COD_SERVICIO =:tbl2.colServicio and 		
		A.COD_CATEGORIA=:tbl2.colCategoria and 
		A.EN_USO = 1
 	into 
		:colcmbServi,
		:nCosto,
		:nCosto1,
		:nCosto2,
		:nCosto3,
		:nCosto4 "
.head 9 -  Call SqlExists( sSQL ,bExists)
.head 9 -  Call SqlClearImmediate()
.head 9 -  !
.head 9 +  If not bExists
.head 10 -  Call SalMessageBox("Servicio no existe o ha sido desactivado ","ERROR",MB_Ok)
.head 10 -  Set tbl2.colServicio=''
.head 10 -  Set tbl2.colcmbServi=''
.head 9 +  Else
.head 10 -  !
.head 10 -  Call SalListClear( tbl2.colCosto )
.head 10 -  Call SalListAdd( tbl2.colCosto, SalFmtFormatNumber( nCosto,'000000.00' ))
.head 10 -  Call SalListAdd( tbl2.colCosto, SalFmtFormatNumber( nCosto1,'000000.00' ) )
.head 10 -  Call SalListAdd( tbl2.colCosto,SalFmtFormatNumber (nCosto2 ,'000000.00' ))
.head 10 -  Call SalListAdd( tbl2.colCosto, SalFmtFormatNumber(nCosto3,'000000.00'  ))
.head 10 -  Call SalListAdd( tbl2.colCosto,SalFmtFormatNumber( nCosto4,'000000.00' ))
.head 10 -  Call SalListSetSelect( tbl2.colCosto, 4 )
.head 7 +  On MU_REVISAR
.head 8 -  Return FALSE
.head 5 +  Column: colcmbServi
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsCbCodigoFiltrado
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Servicio
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.657"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set colcmbServi.nCaso=2
.head 8 -  Set colcmbServi.sTabla='SERVICIOS'
.head 8 -  Set colcmbServi.sNombre='NOMBRE'
.head 8 -  Set colcmbServi.sCodigo='COD_SERVICIO'
.head 8 -  Set colcmbServi.sNombreFiltro = 'EN_USO'
.head 8 -  Set colcmbServi.nValorFiltro = 1
.head 7 +  On SAM_DropDown
.head 8 -  ! Cuando se despliega el combo de servicios se filtran de tal forma
que solo presente servicios asociados con la categoria seleccionada
.head 8 -  Set sSQL = "select 
		A.NOMBRE 
	from 
		SERVICIOS A
	where 		
 		A.COD_CATEGORIA =:tbl2.colCategoria AND
		A.EN_USO = 1"
.head 8 -  Call SalListPopulate( tbl2.colcmbServi, hSql1, sSQL  )
.head 8 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 7 +  On SAM_Validate
.head 8 -  ! Al seleccionar el  servicio del combo y luego salirse del campo se 
procede a cargar todos los costos asociados a es servicio, Estos costos
son agregados en una columna de grid la cual es un combo, para que
el usuario decida el costo a seleccionar de todos los propuestos, tambien
verifica que exista el codigo de servicio.
.head 8 -  !
.head 8 +  If not SalIsNull( colcmbServi )
.head 9 -  !
.head 9 +  If SalListSelectString(hWndItem,-1,MyValue)=LB_Err
.head 10 -  Call SalMessageBox("Dato no existe en la lista","ERROR",MB_Ok)
.head 10 -  Call SalSetFocus(hWndItem)
.head 10 -  Return FALSE
.head 9 -  !
.head 9 -  Set sSQL = "
	select 
		cod_servicio 
	from 
		servicios 
	where 
		cod_categoria=:tbl2.colCategoria	and 
		nombre=:tbl2.colcmbServi and 
		en_uso = 1
	into	
		:tbl2.colcmbServi.sCodigos"
.head 9 -  Call SqlImmediate(sSQL)
.head 9 -  Call SqlClearImmediate()
.head 9 -  !
.head 9 -  Set tbl2.colServicio=tbl2.colcmbServi.sCodigos
.head 9 -  !
.head 9 -  Set sSQL =  "select 
		A.COSTO,
		A.COSTO1,
		A.COSTO2,
		A.COSTO3,
		A.COSTO4  
	from 
		SERVICIOS  A
	where 
		A.COD_SERVICIO = :tbl2.colServicio and 
		A.COD_CATEGORIA=:tbl2.colCategoria  
	into 
		:nCosto,
		:nCosto1,
		:nCosto2,
		:nCosto3,
		:nCosto4 "
.head 9 -  Call SqlImmediate( sSQL )
.head 9 -  Call SqlClearImmediate()
.head 9 -  !
.head 9 -  Call SalListClear( tbl2.colCosto )
.head 9 -  Call SalListAdd( tbl2.colCosto, SalFmtFormatNumber( nCosto,'000000.00' ))
.head 9 -  Call SalListAdd( tbl2.colCosto, SalFmtFormatNumber( nCosto1,'000000.00'  ))
.head 9 -  Call SalListAdd( tbl2.colCosto,SalFmtFormatNumber (nCosto2 ,'000000.00' ))
.head 9 -  Call SalListAdd( tbl2.colCosto, SalFmtFormatNumber(nCosto3,'000000.00'  ))
.head 9 -  Call SalListAdd( tbl2.colCosto,SalFmtFormatNumber( nCosto4,'000000.00' ))
.head 9 -  Call SalListSetSelect( tbl2.colCosto, 4 )
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 5 +  Column: colCosto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Costo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.333"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Drop Down List
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_KillFocus
.head 8 -  ! Al salirse del campo de costo se actualiza el subtotal de la linea y 
ademas sugiere la fecha del sistema en la que se llevo a cabo el servicio
.head 8 -  Set tbl2.colSubTotal=tbl2.colCosto*tbl2.colCantidad
.head 8 -  Call Actualizar_Montos(  )
.head 7 +  On MU_REVISAR
.head 8 -  Return FALSE
.head 5 +  Column: colCantidad
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cantidad
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.233"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_KillFocus
.head 8 -  ! Al salirse del campo de cantidad se actualiza el subtotal de la linea y 
ademas sugiere la fecha del sistema en la que se llevo a cabo el servicio
.head 8 -  Set tbl2.colSubTotal=tbl2.colCosto*tbl2.colCantidad
.head 8 -  Call Actualizar_Montos(  )
.head 7 +  On MU_REVISAR
.head 8 -  Return FALSE
.head 5 +  Column: colFecha
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Date/Time
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.467"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On MU_REVISAR
.head 8 -  Return FALSE
.head 5 +  Column: colSubTotal
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: SubTotal
.head 6 -  Visible? Class Default
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.467"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On MU_REVISAR
.head 8 -  Return FALSE
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 -  Message Actions
.head 3 +  Child Table: tbl3
.data CLASSPROPSSIZE
0000: 1A00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000700 746162486F6E0000 0000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.783"
.head 6 -  Top:    0.595"
.head 6 -  Width:  12.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.976"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? No
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: 1
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 1000
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colUnicoHon
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: CorrelHon
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCodEspecialidad
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod Esp
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.867"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_KillFocus
.head 8 -  ! Al salirse de este campo del grid  se carga los datos de la especialidad
seleccionada y se actualiza el nombre en el combo correspondiente
.head 8 +  If not SalIsNull(colCodEspecialidad)
.head 9 -  !
.head 9 -  Set sSQL = "
	select 
		A.NOMBRE 
	from 
		ESPECIALIDAD A 
	where 
		A.COD_ESPECIALIDAD=:tbl3.colCodEspecialidad  
	into 
		:colcmbEspecialidad" 
.head 9 -  Call SqlExists( sSQL, bExists)
.head 9 -  Call SqlClearImmediate()
.head 9 +  If not bExists
.head 10 -  Call SalMessageBox("Especialidad  no existe","ERROR",MB_Ok)
.head 10 -  Set tbl3.colCodEspecialidad= NUMBER_Null
.head 10 -  Set tbl3.colcmbEspecialidad=''
.head 9 +  Else
.head 10 -  Set tbl3.colcmbEspecialidad.nCodigo=tbl3.colCodEspecialidad
.head 7 +  On MU_REVISAR
.head 8 -  Return FALSE
.head 5 +  Column: colcmbEspecialidad
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsCbCodigo
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Especialidad
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set tbl3.colcmbEspecialidad.nCaso=1
.head 8 -  Set tbl3.colcmbEspecialidad.sTabla='ESPECIALIDAD'
.head 8 -  Set tbl3.colcmbEspecialidad.sNombre='NOMBRE'
.head 8 -  Set tbl3.colcmbEspecialidad.sCodigo='COD_ESPECIALIDAD'
.head 7 +  On SAM_Validate
.head 8 -  ! Al salirse del combo de especialidad se actualizar el codigo de la misma
.head 8 -  Call SalSendClassMessage(SAM_Validate,0,0)
.head 8 -  Set tbl3.colCodEspecialidad =tbl3.colcmbEspecialidad.nCodigo
.head 7 +  On MU_REVISAR
.head 8 -  Return FALSE
.head 5 +  Column: colCodDoctor
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod Med
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_KillFocus
.head 8 -  !
.head 8 +  If not SalIsNull (colCodDoctor)
.head 9 -  !
.head 9 -  Set sSQL = "SELECT 
    		M.NOMBRE,
    		M.COD_ESPECIALIDAD,
    		E.NOMBRE    
	FROM
    		MEDICOS M,
    		ESPECIALIDAD E
	WHERE
    		M.COD_MEDICO = :colCodDoctor AND
    		E.COD_ESPECIALIDAD = M.COD_ESPECIALIDAD
	INTO 
		:colcmbMedico,
		:colcmbEspecialidad.nCodigo , 
		:colcmbEspecialidad" 
.head 9 -  Call SqlExists(sSQL , bExists)
.head 9 -  Call SqlClearImmediate()
.head 9 +  If not bExists
.head 10 -  Call SalMessageBox("Medico no existe","ERROR",MB_Ok)
.head 10 -  Set colCodDoctor=NUMBER_Null
.head 10 -  Set colcmbMedico=''
.head 7 +  On MU_REVISAR
.head 8 -  Return FALSE
.head 5 +  Column: colcmbMedico
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsCbCodigo
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Medico
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set tbl3.colcmbMedico.nCaso=1
.head 8 -  Set tbl3.colcmbMedico.sTabla='MEDICOS'
.head 8 -  Set tbl3.colcmbMedico.sNombre='NOMBRE'
.head 8 -  Set tbl3.colcmbMedico.sCodigo='COD_MEDICO'
.head 7 +  On SAM_DropDown
.head 8 -  !
.head 8 -  ! -----------------Los medicos pueden ser desplegados con/sin filtro de especialidad
.head 8 +  If not SalIsNull(colcmbEspecialidad)
.head 9 -  !
.head 9 -  Set sMedico = colcmbMedico
.head 9 -  Set sSQL = "
			SELECT
				NOMBRE
			FROM
				MEDICOS
			WHERE
				COD_ESPECIALIDAD = :colcmbEspecialidad.nCodigo
			ORDER BY
				NOMBRE"
.head 9 -  Call SalListPopulate(colcmbMedico, hSql1, sSQL)
.head 9 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 9 -  !
.head 9 -  Call SalListSelectString( hWndItem, -1,sMedico)
.head 8 +  Else
.head 9 -  !
.head 9 -  !
.head 9 -  Set sMedico = colcmbMedico
.head 9 -  Set sSQL = "
			SELECT
				NOMBRE
			FROM
				MEDICOS
			ORDER BY
				NOMBRE"
.head 9 -  Call SalListPopulate(colcmbMedico, hSql1, sSQL)
.head 9 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 9 -  !
.head 9 -  Call SalListSelectString( hWndItem, -1,sMedico)
.head 8 -  !
.head 7 +  On SAM_Validate
.head 8 -  !
.head 8 -  !
.head 8 -  Set sSQL = "
	SELECT 
    		M.COD_MEDICO,
    		M.COD_ESPECIALIDAD,
    		E.NOMBRE    
	FROM
    		MEDICOS M,
    		ESPECIALIDAD E
	WHERE
    		M.NOMBRE = :colcmbMedico AND
    		E.COD_ESPECIALIDAD = M.COD_ESPECIALIDAD
	INTO 
		:tbl3.colCodDoctor ,
		:tbl3.colcmbEspecialidad.nCodigo , 
		:tbl3.colcmbEspecialidad
	"
.head 8 -  Call SqlImmediate(sSQL)
.head 8 -  Call SqlClearImmediate( )
.head 8 -  !
.head 8 -  Set colCodEspecialidad = tbl3.colcmbEspecialidad.nCodigo
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 5 +  Column: colDescripcion
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripcion
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On MU_REVISAR
.head 8 -  Return FALSE
.head 5 +  Column: colCosto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Costo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.433"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_KillFocus
.head 8 -  !
.head 8 -  Call Actualizar_Montos(  )
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 5 +  Column: colFecha
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.517"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 -  Message Actions
.head 3 -  Frame
.data CLASSPROPSSIZE
0000: 1A00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000700 746162486F6E0000 0000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 56025
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.717"
.head 5 -  Top:    0.536"
.head 5 -  Width:  12.367"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.119"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Corners: Square
.head 4 -  Border Style: Solid
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 +  Pushbutton: pbAddProc
.data CLASSPROPSSIZE
0000: 1900
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000800 74616250726F6300 00
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.45"
.head 5 -  Top:    0.571"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.4"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\edit_add15.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalSetFocus(tbl1)
.head 6 -  Call SalTblSetFocusCell( tbl1, SalTblInsertRow( tbl1, TBL_MaxRow ), tbl1.colCategoria, 0, 1 )
.head 6 -  !
.head 6 -  Set tbl1.colUnico=Identity(703)
.head 6 -  Set tbl1.colCosto =0
.head 6 -  Set tbl1.colCantidad = 1
.head 6 -  Set tbl1.colSubTotal = tbl1.colCosto * tbl1.colCantidad
.head 6 -  Set tbl1.colFecha = ccFecha_Programada.GetSystemTime()
.head 6 -  ! Set tbl1.colFecha=FechaHoy(2)
.head 3 +  Pushbutton: pbRemoveProc
.data CLASSPROPSSIZE
0000: 1B00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000800 74616250726F6300 000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.45"
.head 5 -  Top:    1.0"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.4"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\edit_remove15.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call SalTblQueryFocus(  tbl1,nRow, tbl1.colCategoria)
.head 6 +  If SalTblQueryRowFlags( tbl1,nRow,ROW_MarkDeleted)
.head 7 -  Call SalTblSetRowFlags( tbl1,nRow, ROW_MarkDeleted,FALSE)
.head 6 +  Else
.head 7 +  If SalTblQueryRowFlags( tbl1,nRow,ROW_New)
.head 8 -  Call SalTblDeleteRow( tbl1, nRow, TBL_Adjust )
.head 7 +  Else
.head 8 -  Call SalTblSetRowFlags( tbl1,nRow, ROW_MarkDeleted,TRUE)
.head 6 -  Call SalTblSetFocusCell( tbl1, nRow, tbl1.colCategoria, 0, 1 )
.head 3 +  Pushbutton: pbAddMed
.data CLASSPROPSSIZE
0000: 1A00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000700 746162486F6E0000 0000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.536"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.4"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\edit_add15.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalSetFocus(tbl3)
.head 6 -  Call SalTblSetFocusCell( tbl3, SalTblInsertRow( tbl3, TBL_MaxRow ), tbl3.colCodEspecialidad, 0, 1 )
.head 6 -  !
.head 6 -  Set tbl3.colUnicoHon=Identity(705)
.head 6 -  Set tbl3.colCosto = 0
.head 6 -  ! Set tbl3.colFecha=FechaHoy(2)
.head 6 -  Set tbl3.colFecha=ccFecha_Programada.GetSystemTime()
.head 3 +  Pushbutton: pbRemoveMed
.data CLASSPROPSSIZE
0000: 1A00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000700 746162486F6E0000 0000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.94"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.4"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\edit_remove15.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call SalTblQueryFocus(  tbl3,nRow, tbl3.colCodEspecialidad)
.head 6 +  If SalTblQueryRowFlags( tbl3,nRow,ROW_MarkDeleted)
.head 7 -  Call SalTblSetRowFlags( tbl3,nRow, ROW_MarkDeleted,FALSE)
.head 6 +  Else
.head 7 +  If SalTblQueryRowFlags( tbl3,nRow,ROW_New)
.head 8 -  Call SalTblDeleteRow( tbl3, nRow, TBL_Adjust )
.head 7 +  Else
.head 8 -  Call SalTblSetRowFlags( tbl3,nRow, ROW_MarkDeleted,TRUE)
.head 6 -  Call SalTblSetFocusCell( tbl3, nRow, tbl3.colCodEspecialidad, 0, 1 )
.head 3 +  Data Field: dfFecha_Programada
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.683"
.head 6 -  Top:    0.988"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 2 +  Functions
.head 3 +  Function: ActualizarPaciente
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Boolean: bExistsPacient
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set sSQL = "select
		A.PRIMER_NOM + ' ' +A.SEGUNDO_NOM + ' ' + A.PRIMER_APE  + ' ' + A.SEGUNDO_APE
    	from
		PACIENTES A
	where
		A.COD_PACIENTE  	=:dfPaciente  and
		A.CORREL_PACIENTE	=:dfPacienteCorrel
  	into
		:dfNombre"
.head 5 -  Call SqlExists(  sSQL, bExistsPacient)
.head 5 -  Call SqlClearImmediate( )
.head 5 +  If not bExistsPacient
.head 6 -  Call SalMessageBox( "Codigo invalido" , "Error", MB_Ok )
.head 6 -  Set dfPaciente=''
.head 6 -  Set dfPacienteCorrel = ''
.head 6 -  Call SalSetFocus(dfPaciente)
.head 6 -  Return FALSE
.head 5 -  !
.head 5 -  Return TRUE
.head 3 +  Function: ResetControls
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Window Handle: hWndChild
.head 5 -  Number: nHwndChild
.head 5 -  Number: nType
.head 4 +  Actions
.head 5 -  Set hWndChild = SalGetFirstChild( hWndForm, TYPE_Any )
.head 5 +  While hWndChild != hWndNULL
.head 6 -  Set nHwndChild = SalWindowHandleToNumber( hWndChild )
.head 6 -  Set nType = SalGetType( hWndChild )
.head 6 +  If nType = TYPE_ChildTable
.head 7 -  Call SalTblReset( hWndChild )
.head 6 +  Else If nType = TYPE_DataField or nType = TYPE_MultilineText or nType = TYPE_CheckBox or nType = TYPE_ComboBox
.head 7 -  Call SalClearField( hWndChild )
.head 6 -  Set hWndChild = SalGetNextChild( hWndChild, TYPE_Any )
.head 5 -  !
.head 5 -  !
.head 3 +  Function: LoadDefaultValues
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  ! Call ccFecha.SetSystemTime(GDT_VALID, SalDateCurrent ( ))
.head 5 -  Set dfCod_Cirugia = Identity(706)
.head 5 -  Set bNuevaCirugia= TRUE
.head 5 -  Set dfTotalProcedimientos = 0
.head 5 -  Set dfTotalServicios = 0
.head 5 -  Set dfTotalHonorarios = 0
.head 5 -  Set dfTotal = 0
.head 5 -  !
.head 5 -  ! ------------Seleccionar el usuario actual como autorizador de la orden
.head 5 -  Set sSQL= "SELECT 
			A.CODIGO,
        			A.NOMBREFIRMA
		FROM
        			USUARIOS_OS A,
        			USUARIOS B
		WHERE
        			B.NOMBRE = :sNombreUsuario AND
        			A.CODIGO = B.COD_USU   
		INTO
			:cmbUsuariosOS.nCodigo,
			:cmbUsuariosOS"
.head 5 -  Call SqlImmediate (sSQL)
.head 5 -  Call SqlClearImmediate()
.head 5 -  !
.head 5 -  Call SalSetFocus(dfCod_Cirugia)
.head 3 +  Function: PrepareData
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 +  If dfPaciente = "TEMPCOD"
.head 6 -  !
.head 6 -  Set dfPacienteCorrel = '0'
.head 5 -  !
.head 5 -  Set dtHora_Programada= ccHora_Programada.GetSystemTime()
.head 5 -  Set dfFecha_Programada= ccFecha_Programada.GetSystemTime()
.head 5 -  !
.head 5 -  !
.head 5 -  ! -------Obtener el codigo del usuario que ha creado/modificado la orden
.head 5 -  Set sSQL = "select
		COD_USU
    	from
		USUARIOS
	where
		NOMBRE = :sNombreUsuario
  	into
		:nUser"
.head 5 -  Call SqlImmediate(  sSQL)
.head 5 -  Call SqlClearImmediate( )
.head 5 -  !
.head 5 -  Return TRUE
.head 3 +  Function: DoInsert
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SqlPrepareAndExecute(hSql1,"begin tran")
.head 5 -  !
.head 5 -  ! Insertar el maestro de la factura
.head 5 -  !
.head 5 +  If SqlPrepareAndExecute(hSql1, "INSERT INTO
		CIRUGIAS
			(
    				COD_CIRUGIA,
    				FECHA_PROGRAMADA,				
				HORA_PROGRAMADA,  				
    				AUTORIZADO_POR,
    				OBSERVACIONES,
    				COD_PACIENTE,
    				CORREL_PACIENTE,
				NOMBRE_TMP,				
				CREADO_POR,
				COD_MEDICO,
				COD_CATEGORIA,
    				COD_SERVICIO
			)
		VALUES
			(
				:dfCod_Cirugia,
				:dfFecha_Programada,				
				:dtHora_Programada,			
				:cmbUsuariosOS.nCodigo,
				:mlObservaciones,
				:dfPaciente,
				:dfPacienteCorrel,	
				:dfNombre,			
				:nUser,
				:dfCodMedico,
				:dfCodCategoria,
				:dfCodServicio									
			)")
.head 6 -  !
.head 6 -  ! Insertar los procedimientos de la cirugia
.head 6 -  !
.head 6 -  Call SqlPrepare(hSql1, "
	insert into	
		CIRUGIAS_PROCEDIMIENTOS 
				(
					CORRELATIVO ,
					COD_CIRUGIA,
					COD_CATEGORIA,
					COD_SERVICIO,					
					COSTO,
					CANTIDAD,						
					FECHA			
				)
	values
				(
					:tbl1.colUnico,
					:dfCod_Cirugia,
					:tbl1.colCategoria,
					:tbl1.colServicio,					
					:tbl1.colCosto,					
					:tbl1.colCantidad,
					:tbl1.colFecha
				)")	
.head 6 -  Call SalTblDoInserts(tbl1,hSql1,TRUE)
.head 6 -  !
.head 6 -  ! Insertar los servicios adicionales de la cirugia
.head 6 -  !
.head 6 -  Call SqlPrepare(hSql1, "
	insert into	
		CIRUGIAS_SERVICIOS 
				(
					CORRELATIVO ,
					COD_CIRUGIA,
					COD_CATEGORIA,
					COD_SERVICIO,					
					COSTO,
					CANTIDAD,						
					FECHA			
				)
	values
				(
					:tbl2.colUnico,
					:dfCod_Cirugia,
					:tbl2.colCategoria,
					:tbl2.colServicio,					
					:tbl2.colCosto,					
					:tbl2.colCantidad,
					:tbl2.colFecha
				)")	
.head 6 -  Call SalTblDoInserts(tbl2,hSql1,TRUE)
.head 6 -  !
.head 6 -  ! Insertar los honorarios de la cirugia
.head 6 -  !
.head 6 -  Call SqlPrepare(hSql1,"
		INSERT INTO
				CIRUGIAS_HONORARIOS 
				(
					CORRELATIVO ,
					COD_CIRUGIA,
					COD_MEDICO,
					COSTO,
					FECHA,
					DESCRIPCION
				)
		values
				(
					:tbl3.colUnicoHon,
					:dfCod_Cirugia,
					:tbl3.colCodDoctor,
					:tbl3.colCosto,
					:tbl3.colFecha,
					:tbl3.colDescripcion
				)")	
.head 6 -  Call SalTblDoInserts(tbl3,hSql1,TRUE)
.head 6 -  !
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 3 +  Function: DoUpdate
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Date/Time: dtHoy
.head 4 +  Actions
.head 5 -  !
.head 5 +  If nEstado = 0
.head 6 -  !
.head 6 -  Call SalWaitCursor(TRUE)
.head 6 -  Set dtHoy = SalDateCurrent()
.head 6 -  !
.head 6 -  Call SqlPrepareAndExecute(hSql1,"Begin tran")
.head 6 -  !
.head 6 -  ! -----------Insercion, Actualizacion y Eliminacion de Procedimientos
.head 6 -  !
.head 6 -  Call SqlPrepare(hSql1,"insert  into
			CIRUGIAS_PROCEDIMIENTOS 
				(
					CORRELATIVO ,
					COD_CIRUGIA,
					COD_CATEGORIA,
					COD_SERVICIO,					
					COSTO,					
					CANTIDAD,
					FECHA
				)
		values
				(
					:tbl1.colUnico,
					:dfCod_Cirugia,
					:tbl1.colCategoria,
					:tbl1.colServicio,					
					:tbl1.colCosto,
					:tbl1.colCantidad,
					:tbl1.colFecha
				)")
.head 6 -  Call SalTblDoInserts(tbl1,hSql1,TRUE)
.head 6 -  !
.head 6 -  Call SqlPrepare(hSql1,"update	
			CIRUGIAS_PROCEDIMIENTOS 
		  set 
			COD_CIRUGIA	=	:dfCod_Cirugia,
			COD_CATEGORIA	=	:tbl1.colCategoria,
			COD_SERVICIO	=	:tbl1.colServicio,
			COSTO		=	:tbl1.colCosto,			
			CANTIDAD	=	:tbl1.colCantidad,
			FECHA		=	:tbl1.colFecha						
		where 
			CORRELATIVO 	= 	:tbl1.colUnico")
.head 6 -  Call SalTblDoUpdates(tbl1,hSql1,TRUE)
.head 6 -  !
.head 6 -  Call SqlPrepare(hSql1,"delete from	
				CIRUGIAS_PROCEDIMIENTOS
			where	
				CORRELATIVO=:tbl1.colUnico")
.head 6 -  Call SalTblDoDeletes(tbl1,hSql1,ROW_MarkDeleted)
.head 6 -  !
.head 6 -  ! -----------Insercion, Actualizacion y Eliminacion de Servicios Adicionales
.head 6 -  !
.head 6 -  Call SqlPrepare(hSql1,"insert  into
			CIRUGIAS_SERVICIOS 
				(
					CORRELATIVO ,
					COD_CIRUGIA,
					COD_CATEGORIA,
					COD_SERVICIO,					
					COSTO,					
					CANTIDAD,
					FECHA
				)
		values
				(
					:tbl2.colUnico,
					:dfCod_Cirugia,
					:tbl2.colCategoria,
					:tbl2.colServicio,					
					:tbl2.colCosto,
					:tbl2.colCantidad,
					:tbl2.colFecha
				)")
.head 6 -  Call SalTblDoInserts(tbl2,hSql1,TRUE)
.head 6 -  !
.head 6 -  Call SqlPrepare(hSql1,"update	
			CIRUGIAS_SERVICIOS 
		  set 
			COD_CIRUGIA	=	:dfCod_Cirugia,
			COD_CATEGORIA	=	:tbl2.colCategoria,
			COD_SERVICIO	=	:tbl2.colServicio,
			COSTO		=	:tbl2.colCosto,			
			CANTIDAD	=	:tbl2.colCantidad,
			FECHA		=	:tbl2.colFecha			
		where 
			CORRELATIVO 	= 	:tbl2.colUnico")
.head 6 -  Call SalTblDoUpdates(tbl2,hSql1,TRUE)
.head 6 -  !
.head 6 -  Call SqlPrepare(hSql1,"delete from	
				CIRUGIAS_SERVICIOS
			where	
				CORRELATIVO=:tbl2.colUnico")
.head 6 -  Call SalTblDoDeletes(tbl2,hSql1,ROW_MarkDeleted)
.head 6 -  !
.head 6 -  ! Insercion, Actualizacion y Eliminacion de Honorarios
.head 6 -  !
.head 6 -  Call SqlPrepare(hSql1,"insert 	into
			CIRUGIAS_HONORARIOS 
				(
					CORRELATIVO ,
					COD_CIRUGIA,
					COD_MEDICO,
					COSTO,
					FECHA,
					DESCRIPCION
				)
		values
				(
					:tbl3.colUnicoHon,
					:dfCod_Cirugia,
					:tbl3.colCodDoctor,
					:tbl3.colCosto,
					:tbl3.colFecha,
					:tbl3.colDescripcion
				)")	
.head 6 -  Call SalTblDoInserts(tbl3,hSql1,TRUE) 
.head 6 -  !
.head 6 -  Call SqlPrepare(hSql1,"update	
			CIRUGIAS_HONORARIOS 
		  set 
			COD_CIRUGIA	=	:dfCod_Cirugia,
			COD_MEDICO	=	:tbl3.colCodDoctor,			
			COSTO		=	:tbl3.colCosto,			
			FECHA		=	:tbl3.colFecha,
			DESCRIPCION	=	:tbl3.colDescripcion		
		where 
			CORRELATIVO 	= 	:tbl3.colUnicoHon")
.head 6 -  Call SalTblDoUpdates(tbl3,hSql1,TRUE)
.head 6 -  !
.head 6 -  Call SqlPrepare(hSql1,"delete from	
				CIRUGIAS_HONORARIOS
			where	
				CORRELATIVO=:tbl3.colUnicoHon")	
.head 6 -  Call SalTblDoDeletes(tbl3,hSql1,ROW_MarkDeleted)
.head 6 -  !
.head 6 -  ! Actualizacion del maestro de Cirugias
.head 6 -  !
.head 6 -  Call SqlPrepareAndExecute(hSql1,"UPDATE
				CIRUGIAS
			 SET
				FECHA_PROGRAMADA                     	=	:dfFecha_Programada,						
				HORA_PROGRAMADA                     	=	:dtHora_Programada,		
				COD_PACIENTE              		=	:dfPaciente,
    				CORREL_PACIENTE           		=	:dfPacienteCorrel,    		
				NOMBRE_TMP			=	:dfNombre,
    				AUTORIZADO_POR            		=	:cmbUsuariosOS.nCodigo,
    				OBSERVACIONES             		=	:mlObservaciones,
				MODIFICADO_POR		=	:nUser,
				FECHA_MODIFICACION		=	:dtHoy,
				COD_MEDICO			=	:dfCodMedico,
				COD_CATEGORIA			=	:dfCodCategoria,
				COD_SERVICIO			=	:dfCodServicio
			WHERE
				COD_CIRUGIA 			= 	:dfCod_Cirugia
				" ) 
.head 6 -  !
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 6 -  !
.head 6 -  Call SalWaitCursor(FALSE)
.head 6 -  !
.head 5 +  Else
.head 6 -  !
.head 6 -  !
.head 6 -  Call SalMessageBox ("La cirugia esta cerrada o anulada. No puede actualizarla.","MENSAJE",MB_Ok)
.head 3 +  Function: CargarDatosCirugia
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  !
.head 5 -  ! -------------Cargar el maestro de la cirugia
.head 5 -  !
.head 5 -  Set sSQL = "SELECT
			C.ESTADO,        			
        			C.FECHA_PROGRAMADA,        			
			C.HORA_PROGRAMADA,   
			C.COD_PACIENTE,
        			C.CORREL_PACIENTE,
			(CASE
                            			WHEN C.COD_PACIENTE = 'TEMPCOD' THEN C.NOMBRE_TMP
                            			ELSE P.PRIMER_NOM + ' ' + P.SEGUNDO_NOM + ' ' + P.PRIMER_APE  + ' ' + P.SEGUNDO_APE
                        		 END ),			
        			C.OBSERVACIONES,
        			C.AUTORIZADO_POR,
        			U.NOMBREFIRMA,
			C.COD_MEDICO,
        			M.NOMBRE,
        			E.NOMBRE,
			C.COD_SERVICIO,
        			S.NOMBRE,
			C.COD_CATEGORIA,
			G.NOMBRE
			
	FROM
        			CIRUGIAS    		C,
        			PACIENTES           		P,
        			USUARIOS_OS         	U,
			MEDICOS          		M,
        			ESPECIALIDAD    		E,
			SERVICIOS 		S,
			CATEG_SERVICIOS	G
	WHERE
        			C.COD_CIRUGIA 				= :dfCod_Cirugia        AND        			
        			C.COD_PACIENTE + C.CORREL_PACIENTE 	*= P.COD_PACIENTE + P.CORREL_PACIENTE AND        			
        			C.AUTORIZADO_POR 			*= U.CODIGO AND
			C.COD_MEDICO 			                *= M.COD_MEDICO 	AND
        			M.COD_ESPECIALIDAD 			*= E.COD_ESPECIALIDAD  	AND
			C.COD_SERVICIO 				*= S.COD_SERVICIO 	AND
			C.COD_CATEGORIA			*= S.COD_CATEGORIA 	AND
			S.COD_CATEGORIA 			*= G.COD_CATEGORIA	
			
	INTO
			:nEstado,
			:dfFecha_Programada,
			:dtHora_Programada,
			:dfPaciente,
			:dfPacienteCorrel,
			:dfNombre,			
			:mlObservaciones,
			:cmbUsuariosOS.nCodigo,
			:cmbUsuariosOS,
			:dfCodMedico,
			:dfNombreMedico,
			:dfEspecialidadMedico,
			:dfCodServicio,
			:cmbServicios,
			:dfCodCategoria,
			:cmbCategServiciosOS
			"
.head 5 -  Call SqlImmediate ( sSQL )
.head 5 -  Call SqlClearImmediate ()
.head 5 -  !
.head 5 -  Set cmbCategServiciosOS.sCodigos = dfCodCategoria
.head 5 -  !
.head 5 +  Select Case nEstado
.head 6 +  Case 0
.head 7 -  Set dfEstado='EN PROCESO'
.head 7 -  Break
.head 6 +  Case 1
.head 7 -  Set dfEstado='CERRADA'
.head 7 -  Break
.head 6 +  Case 2
.head 7 -  Set dfEstado='ANULADA'
.head 7 -  Break
.head 5 -  !
.head 5 -  ! --------Setear valores
.head 5 -  Call ccFecha_Programada.SetSystemTime(GDT_VALID, dfFecha_Programada)
.head 5 -  Call ccHora_Programada.SetSystemTime(GDT_VALID, dtHora_Programada)
.head 5 -  !
.head 5 -  ! -------------Cargar el detalle de procedimientos de la cirugia
.head 5 -  !
.head 5 -  Set sSQL = "
	select	
		A.CORRELATIVO ,
                	A.COD_CATEGORIA,
                	C.NOMBRE,
                	A.COD_SERVICIO,
                	B.NOMBRE,
                	A.COSTO,              
                	A.CANTIDAD,    
                	A.FECHA,
		A.COSTO *   A.CANTIDAD
	from	 
		CIRUGIAS_PROCEDIMIENTOS 	A, 
		SERVICIOS 			B, 
		CATEG_SERVICIOS 		C
	where	
		A.COD_CIRUGIA		=	:dfCod_Cirugia  		AND 
		A.COD_SERVICIO		=	B.COD_SERVICIO 		AND 		
		A.COD_CATEGORIA	=	C.COD_CATEGORIA	AND
		B.COD_CATEGORIA	=	C.COD_CATEGORIA
	order by 
		A.CORRELATIVO "
.head 5 -  Call SalTblPopulate(tbl1, hSql1, sSQL ,TBL_FillAll)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  !
.head 5 -  ! -------------Cargar el detalle de servicios de la cirugia
.head 5 -  !
.head 5 -  Set sSQL = "
	select	
		A.CORRELATIVO ,
                	A.COD_CATEGORIA,
                	C.NOMBRE,
                	A.COD_SERVICIO,
                	B.NOMBRE,
                	A.COSTO,              
                	A.CANTIDAD,    
                	A.FECHA,
		A.COSTO *   A.CANTIDAD             
	from	 
		CIRUGIAS_SERVICIOS 		A, 
		SERVICIOS 			B, 
		CATEG_SERVICIOS 		C
	where	
		A.COD_CIRUGIA		=	:dfCod_Cirugia  		AND 
		A.COD_SERVICIO		=	B.COD_SERVICIO 		AND 		
		A.COD_CATEGORIA	=	C.COD_CATEGORIA	AND
		B.COD_CATEGORIA	=	C.COD_CATEGORIA
	order by 
		A.CORRELATIVO "
.head 5 -  Call SalTblPopulate(tbl2, hSql1, sSQL ,TBL_FillAll)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  !
.head 5 -  ! Cargar el detalle de honorarios de la cirugia
.head 5 -  !
.head 5 -  Set sSQL = "
	select	
		A.CORRELATIVO ,
		B.COD_ESPECIALIDAD,
		C.NOMBRE,
                	A.COD_MEDICO,
                	B.NOMBRE,
                	A.DESCRIPCION,
                	A.COSTO,                               			
                	A.FECHA              
	from	 
		CIRUGIAS_HONORARIOS 	A, 
		MEDICOS  	   	B,
		ESPECIALIDAD		C
	where	
		A.COD_CIRUGIA	=	:dfCod_Cirugia  	and 
		A.COD_MEDICO	=	B.COD_MEDICO 	and
		B.COD_ESPECIALIDAD = 	C.COD_ESPECIALIDAD
	order by 
		A.CORRELATIVO "
.head 5 -  Call SalTblPopulate(tbl3,hSql1, sSQL,TBL_FillAll)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  !
.head 5 -  Call Actualizar_Montos(  )
.head 5 -  !
.head 5 -  Call SalWaitCursor(FALSE)
.head 3 +  Function: ResetMaster
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SalClearField( dfEstado )
.head 5 -  Call SalClearField( dfCod_Cirugia )
.head 5 -  Call SalClearField( dfPaciente)
.head 5 -  Call SalClearField( dfPacienteCorrel)
.head 5 -  Call SalClearField( dfNombre)
.head 5 -  Call SalClearField( cmbUsuariosOS)
.head 5 -  Call SalClearField( mlObservaciones)
.head 5 -  Call SalClearField( dfTotalProcedimientos)
.head 5 -  Call SalClearField( dfTotalHonorarios)
.head 5 -  Call SalClearField( dfTotalServicios)
.head 5 -  Call SalClearField( dfTotal)
.head 3 +  Function: CerrarCirugia
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Boolean: bExisteCirugia
.head 5 -  Number: nEstadoCirugia
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set sSQL = "select
		A.ESTADO
    	from
		CIRUGIAS  A
	where
		A.COD_CIRUGIA  =:dfCod_Cirugia
  	into
		:nEstadoCirugia "
.head 5 -  Call SqlExists( sSQL,bExisteCirugia)
.head 5 -  Call SqlClearImmediate( )
.head 5 +  If not bExisteCirugia
.head 6 -  Call SalMessageBox( "La cirugia no existe" , "Error", MB_Ok )
.head 5 +  Else
.head 6 +  Select Case nEstadoCirugia
.head 7 +  Case 0
.head 8 -  !
.head 8 +  If SalMessageBox( "Esta seguro de Cerrar la Cirugia?", "Advertencia", MB_YesNo )=IDYES
.head 9 -  !
.head 9 -  Set sSQL = "update
		CIRUGIAS
                 set
		ESTADO	=1
	where
		COD_CIRUGIA  = :dfCod_Cirugia"
.head 9 -  Call SqlPrepareAndExecute( hSql1,  sSQL)
.head 9 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 9 -  Call SalMessageBox ("La Cirugia ha sido CERRADA","MENSAJE",MB_Ok)
.head 8 -  !
.head 8 -  Break
.head 7 +  Case 1
.head 8 -  Call SalMessageBox( "La cirugia ya fue  cerrada ", "Error", MB_Ok )
.head 8 -  Break
.head 7 +  Case 2
.head 8 -  Call SalMessageBox( "La cirugia esta anulada, no puede cerrarse", "Error", MB_Ok )
.head 8 -  Break
.head 3 +  Function: AnularCirugia
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Boolean: bExisteCirugia
.head 5 -  Number: nEstadoCirugia
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set sSQL = "select
		A.ESTADO
    	from
		CIRUGIAS  A
	where
		A.COD_CIRUGIA  =:dfCod_Cirugia
  	into
		:nEstadoCirugia "
.head 5 -  Call SqlExists( sSQL,bExisteCirugia)
.head 5 -  Call SqlClearImmediate( )
.head 5 +  If not bExisteCirugia
.head 6 -  Call SalMessageBox( "La cirugia no existe" , "Error", MB_Ok )
.head 5 +  Else
.head 6 +  Select Case nEstadoCirugia
.head 7 +  Case 0
.head 8 -  Call SalMessageBox( "La Cirugia no se puede Anular, esta en PROCESO", "Error", MB_Ok )
.head 8 -  Break
.head 8 -  !
.head 7 +  Case 1
.head 8 +  If SalMessageBox( "Esta seguro de anular la Cirugia?", "Advertencia", MB_YesNo )=IDYES
.head 9 -  !
.head 9 -  Set sSQL = "update
		CIRUGIAS
                 set
		ESTADO	=2
	where
		COD_CIRUGIA  = :dfCod_Cirugia"
.head 9 -  Call SqlPrepareAndExecute( hSql1,  sSQL)
.head 9 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 9 -  Call SalMessageBox ("La Cirugia ha sido ANULADA","MENSAJE",MB_Ok)
.head 8 -  Break
.head 8 -  !
.head 7 +  Case 2
.head 8 -  Call SalMessageBox( "La cirugia ya fue anulada", "Error", MB_Ok )
.head 8 -  Break
.head 8 -  !
.head 3 +  Function: Actualizar_Montos
.head 4 -  Description: Esta función actualiza los montos de la factura, especialmente los totales. 
Esto se hace cuando se cambia la cantidad de algun detalle o el precio o
se cambia el descuento, o se agregan nuevas lineas al detalle
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nEst
.head 5 -  Number: nImp
.head 5 -  Number: nFila
.head 4 +  Actions
.head 5 -  Set dfTotalProcedimientos = SalTblColumnSum(tbl1,9,0,32)
.head 5 -  Set dfTotalServicios = SalTblColumnSum(tbl2,9,0,32)
.head 5 -  Set dfTotalHonorarios = SalTblColumnSum(tbl3,7,0,32)
.head 5 -  Set dfTotal=dfTotalProcedimientos + dfTotalServicios + dfTotalHonorarios
.head 3 +  Function: ActualizarMedico
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Boolean: bExistsMedico
.head 4 +  Actions
.head 5 -  !
.head 5 +  If not SalIsNull (dfCodMedico)
.head 6 -  !
.head 6 -  Set sSQL = "SELECT 
    		M.NOMBRE,    		
    		E.NOMBRE    
	FROM
    		MEDICOS M,
    		ESPECIALIDAD E
	WHERE
    		M.COD_MEDICO = :dfCodMedico AND
    		E.COD_ESPECIALIDAD = M.COD_ESPECIALIDAD
	INTO 		
		:dfNombreMedico , 
		:dfEspecialidadMedico" 
.head 6 -  Call SqlExists(sSQL , bExistsMedico)
.head 6 -  Call SqlClearImmediate()
.head 6 +  If not bExistsMedico
.head 7 -  Call SalMessageBox("Medico no existe","ERROR",MB_Ok)
.head 7 -  Set dfCodMedico=NUMBER_Null
.head 7 -  Set dfNombreMedico=STRING_Null
.head 7 -  Set dfEspecialidadMedico=STRING_Null
.head 7 -  Return FALSE
.head 5 -  Return TRUE
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: sSQL
.head 3 -  String: sSQLInsert
.head 3 -  String: sSQLUpdate
.head 3 -  String: sSQLDelete
.head 3 -  String: sRegresaPac
.head 3 -  String: sRegresaCor
.head 3 -  Number: nCosto
.head 3 -  Number: nCosto1
.head 3 -  Number: nCosto2
.head 3 -  Number: nCosto3
.head 3 -  Number: nCosto4
.head 3 -  String: sMedico
.head 3 -  Number: nRegresaMed
.head 3 -  String: sServicio
.head 3 -  !
.head 3 -  Number: nRegresaCirugia
.head 3 -  Boolean: bExistsCirugia
.head 3 -  ! String: sFecha
.head 3 -  ! String: params[*]
.head 3 -  ! String: strReportName
.head 3 -  ! String: strRepTitle
.head 3 -  Boolean: bNuevaCirugia
.head 3 -  Number: nUser
.head 3 -  Number: nEstado
.head 3 -  Date/Time: dtHora_Programada
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 3 -  !
.head 3 -  Number: nIndex
.head 3 -  Number: nDay
.head 3 -  String: sFechaCita
.head 3 -  Date/Time: dFechaCita
.head 3 -  Date/Time: dBegin
.head 3 -  Date/Time: dEnd
.head 3 -  Number: nBeginDay1
.head 3 -  Number: nEndDay1
.head 3 -  Number: nEndDay2
.head 3 -  Number: nEndDay3
.head 3 -  Date/Time: dEndDay1
.head 3 -  Date/Time: dEndDay2
.head 3 -  Date/Time: dEndDay3
.head 3 -  Number: nDayState[*,32]
.head 3 -  Number: nCalendarStyle
.head 3 -  Number: nCalendarStyleOrigin
.head 3 -  Number: nSelectedStyle
.head 3 -  !
.head 3 -  Number: nDayP
.head 3 -  Number: nMonthP
.head 3 -  Number: nYearP
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  Call SalCenterWindow(frmCirugias)
.head 4 -  Set bNuevaCirugia=FALSE
.head 4 -  Set nCalendarStyleOrigin = GetWindowLongA( ccMes.hWndCalendar, GWL_STYLE )
.head 4 -  Set nCalendarStyle = nCalendarStyleOrigin
.head 4 -  Set nSelectedStyle = StringToNumber('MCS_DAYSTATE')
.head 4 +  If not ( nCalendarStyle & nSelectedStyle)
.head 5 -  Set nCalendarStyle = nCalendarStyle + nSelectedStyle
.head 4 -  Call SalDestroyWindow( ccMes.hWndCalendar )
.head 4 -  Call ccMes.CreateCalendar(nCalendarStyle)
.head 3 +  On SAM_Destroy
.head 4 -  !
.head 4 +  If bNuevaCirugia
.head 5 -  !
.head 5 -  Set sSQL = " 
		SELECT
			COD_CIRUGIA
		FROM
			CIRUGIAS
		WHERE
			COD_CIRUGIA   =   :dfCod_Cirugia"
.head 5 -  Call SqlExists (sSQL, bExistsCirugia)
.head 5 -  Call SqlClearImmediate()
.head 5 +  If not bExistsCirugia
.head 6 -  !
.head 6 -  Set sSQL = '
	DELETE FROM
		 IDENTITYS 
	WHERE 
		cod_tabla = 706 AND
		MAXIMO = :dfCod_Cirugia'
.head 6 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 1 +  Form Window: frmLaboratorio
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Examenes por Empresa
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  15.283"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 6.679"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Frame
.head 4 -  Resource Id: 23779
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    0.071"
.head 5 -  Width:  11.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.667"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 +  Pushbutton: pbImprimir
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.35"
.head 5 -  Top:    0.119"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set dfFecha = ccFecha.GetSystemTime()
.head 6 -  Set params[0] = SalFmtFormatDateTime ( dfFecha, 'dd/MM/yyyy' )
.head 6 +  If not SalIsNull(cmbEmpresa)
.head 7 -  !
.head 7 -  Set params[1] = '1'
.head 7 -  Set params[2] = SalNumberToStrX(cmbEmpresa.nCodigo,0)
.head 6 +  Else
.head 7 -  !
.head 7 -  Set params[1] = '0'
.head 6 +  If SalIsButtonChecked(cbResumido)
.head 7 -  !
.head 7 -  Set params[3] = '1'
.head 6 +  Else
.head 7 -  !
.head 7 -  Set params[3] = '0'
.head 6 -  Set strRepTitle = "Examenes de Laboratorio por Empresa"
.head 6 -  Set strReportName = strRepPath||"\\LaboratorioExamenes.rpt"
.head 6 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 5 +  ! On SAM_Click
.head 6 -  !
.head 6 -  Set strRepTitle = "Estadistica de Examenes por Empresa"
.head 6 -  Set strReportName = strRepPath||"\\LabEstadisticaExams.rpt"
.head 6 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params)
.head 3 +  Pushbutton: pbBuscarOrden
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.95"
.head 5 -  Top:    0.119"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F3
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If SalIsNull(cmbEmpresa)
.head 7 -  !
.head 7 -  Call SalMessageBox( "Debe especificar la empresa", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 7 -  Call SalSetFocus(cmbEmpresa)
.head 7 -  Return FALSE
.head 6 -  !
.head 6 -  Call CargarDatos()
.head 3 +  Pushbutton: pbNuevo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.517"
.head 5 -  Top:    0.119"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filenew.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call ResetControls()
.head 3 +  Pushbutton: pbGuardar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.217"
.head 5 -  Top:    0.119"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filesave.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If SalIsNull(cmbEmpresa)
.head 7 -  !
.head 7 -  Call SalMessageBox( "Debe especificar la empresa", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 7 -  Call SalSetFocus(cmbEmpresa)
.head 7 -  Return FALSE
.head 6 +  If not RevisarTablas(tbl1)
.head 7 -  !
.head 7 -  Return FALSE
.head 6 -  !
.head 6 -  !
.head 6 -  Call SalWaitCursor(TRUE)
.head 6 -  !
.head 6 -  Set dfFecha = ccFecha.GetSystemTime()
.head 6 -  !
.head 6 -  ! -----------Insercion, Actualizacion y Eliminacion de Examense
.head 6 -  !
.head 6 -  Call SqlPrepare(hSql1,"insert  into
			LABORATORIO_EXAMENES 
				(
					CORRELATIVO ,
					FECHA,
					COD_EMPRESA,
					COD_CATEGORIA,
					COD_SERVICIO,					
					TOTAL_INTERNO,					
					TOTAL_EXTERNO,
					TOTAL_EMPRESA
				)
		values
				(
					:tbl1.colUnico,
					:dfFecha,
					:cmbEmpresa.nCodigo,
					:tbl1.colCategoria,
					:tbl1.colServicio,					
					:tbl1.colTotal_Interno,
					:tbl1.colTotal_Externo,
					:tbl1.colTotal_Empresa
				)")
.head 6 -  Call SalTblDoInserts(tbl1,hSql1,TRUE)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  !
.head 6 -  Call SqlPrepare(hSql1,"update	
			LABORATORIO_EXAMENES 
		  set 
			FECHA		=	:dfFecha,
			COD_EMPRESA	=	:cmbEmpresa.nCodigo,
			COD_CATEGORIA	=	:tbl1.colCategoria,
			COD_SERVICIO	=	:tbl1.colServicio,
			TOTAL_INTERNO	=	:tbl1.colTotal_Interno,			
			TOTAL_EXTERNO	=	:tbl1.colTotal_Externo,
			TOTAL_EMPRESA	=	:tbl1.colTotal_Empresa			
		where 
			CORRELATIVO 	= 	:tbl1.colUnico")
.head 6 -  Call SalTblDoUpdates(tbl1,hSql1,TRUE)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  !
.head 6 -  Call SqlPrepare(hSql1,"delete from	
				LABORATORIO_EXAMENES
			where	
				CORRELATIVO=:tbl1.colUnico")
.head 6 -  Call SalTblDoDeletes(tbl1,hSql1,ROW_MarkDeleted)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  !
.head 6 -  Call SalWaitCursor(FALSE)
.head 6 -  !
.head 6 -  !
.head 6 -  Call CargarDatos()
.head 6 -  !
.head 6 -  Return TRUE
.head 3 -  Frame
.head 4 -  Resource Id: 23780
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    1.655"
.head 5 -  Width:  13.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.75"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Solid
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 +  Child Table: tbl1
.data CLASSPROPSSIZE
0000: 1900
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000800 74616250726F6300 00
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatChildTable
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.85"
.head 6 -  Top:    1.738"
.head 6 -  Width:  12.733"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 3.583"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Yes
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colUnico
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Correl
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.583"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCategoria
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.717"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_KillFocus
.head 8 -  ! Al salirse de este campo del grid  se carga los datos de la categoria
seleccionada y se actualiza el nombre en el combo correspondiente
.head 8 +  If not SalIsNull(colCategoria)
.head 9 -  !
.head 9 -  Set sSQL = "
	select 
		A.NOMBRE 
	from 
		CATEG_SERVICIOS A 
	where 
		A.COD_CATEGORIA=:tbl1.colCategoria  
	into 
		:colcmbCateg" 
.head 9 -  Call SqlExists( sSQL, bExists)
.head 9 -  Call SqlClearImmediate()
.head 9 +  If not bExists
.head 10 -  Call SalMessageBox("Categoria  no existe","ERROR",MB_Ok)
.head 10 -  Set tbl1.colCategoria=''
.head 10 -  Set tbl1.colcmbCateg=''
.head 9 +  Else
.head 10 -  Set tbl1.colcmbCateg.sCodigos=tbl1.colCategoria
.head 7 +  On MU_REVISAR
.head 8 -  Return FALSE
.head 5 +  Column: colcmbCateg
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsCbCodigo
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Categoria
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  ! Inicializar las variables de instancia del boton
.head 8 -  Set colcmbCateg.nCaso=2
.head 8 -  Set colcmbCateg.sTabla='CATEG_SERVICIOS'
.head 8 -  Set colcmbCateg.sNombre='NOMBRE'
.head 8 -  Set colcmbCateg.sCodigo='COD_CATEGORIA'
.head 7 +  On SAM_Validate
.head 8 -  ! Al salirse del combo se actualiza el codigo de la categoria
.head 8 -  Call SalSendClassMessage(SAM_Validate,0,0)
.head 8 -  Set tbl1.colCategoria=tbl1.colcmbCateg.sCodigos
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 5 +  Column: colServicio
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.883"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_KillFocus
.head 8 -  ! Al introducir el codigo de servicio y luego salirse del campo se 
procede a cargar todos los costos asociados a es servicio, Estos costos
son agregados en una columna de grid la cual es un combo, para que
el usuario decida el costo a seleccionar de todos los propuestos, tambien
verifica que exista el codigo de servicio.
.head 8 +  If not SalIsNull(colServicio)
.head 9 -  !
.head 9 -  Set sSQL = "select 
		A.NOMBRE
	from 
		SERVICIOS A
	where 
		A.COD_SERVICIO =:tbl1.colServicio and 		
		A.COD_CATEGORIA=:tbl1.colCategoria and 
		A.EN_USO = 1
 	into 
		:colcmbServi "
.head 9 -  Call SqlExists( sSQL ,bExists)
.head 9 -  Call SqlClearImmediate()
.head 9 -  !
.head 9 +  If not bExists
.head 10 -  Call SalMessageBox("Servicio no existe o ha sido desactivado ","ERROR",MB_Ok)
.head 10 -  Set tbl1.colServicio=''
.head 10 -  Set tbl1.colcmbServi=''
.head 7 +  On MU_REVISAR
.head 8 -  Return FALSE
.head 5 +  Column: colcmbServi
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsCbCodigoFiltrado
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Procedimiento
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.967"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set colcmbServi.nCaso=2
.head 8 -  Set colcmbServi.sTabla='SERVICIOS'
.head 8 -  Set colcmbServi.sNombre='NOMBRE'
.head 8 -  Set colcmbServi.sCodigo='COD_SERVICIO'
.head 8 -  Set colcmbServi.sNombreFiltro = 'EN_USO'
.head 8 -  Set colcmbServi.nValorFiltro = 1
.head 7 +  On SAM_DropDown
.head 8 -  ! Cuando se despliega el combo de servicios se filtran de tal forma
que solo presente servicios asociados con la categoria seleccionada
.head 8 -  Set sSQL = "select 
		A.NOMBRE 
	from 
		SERVICIOS A
	where 		
 		A.COD_CATEGORIA =:tbl1.colCategoria AND
		A.EN_USO = 1"
.head 8 -  Call SalListPopulate( tbl1.colcmbServi, hSql1, sSQL  )
.head 8 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 7 +  On SAM_Validate
.head 8 -  ! Al seleccionar el  servicio del combo y luego salirse del campo se 
procede a cargar todos los costos asociados a es servicio, Estos costos
son agregados en una columna de grid la cual es un combo, para que
el usuario decida el costo a seleccionar de todos los propuestos, tambien
verifica que exista el codigo de servicio.
.head 8 -  !
.head 8 +  If not SalIsNull( colcmbServi )
.head 9 -  !
.head 9 +  If SalListSelectString(hWndItem,-1,MyValue)=LB_Err
.head 10 -  Call SalMessageBox("Dato no existe en la lista","ERROR",MB_Ok)
.head 10 -  Call SalSetFocus(hWndItem)
.head 10 -  Return FALSE
.head 9 -  !
.head 9 -  Set sSQL = "
	select 
		cod_servicio 
	from 
		servicios 
	where 
		cod_categoria=:tbl1.colCategoria	and 
		nombre=:tbl1.colcmbServi and 
		en_uso = 1
	into	
		:tbl1.colcmbServi.sCodigos"
.head 9 -  Call SqlImmediate(sSQL)
.head 9 -  Call SqlClearImmediate()
.head 9 -  !
.head 9 -  Set tbl1.colServicio=tbl1.colcmbServi.sCodigos
.head 9 -  !
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 5 +  Column: colTotal_Interno
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Total  Interno
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.333"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Drop Down List
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_KillFocus
.head 8 -  ! Al salirse del campo de costo se actualiza el subtotal de la linea y 
ademas sugiere la fecha del sistema en la que se llevo a cabo el servicio
.head 8 -  Set tbl1.colSubTotal=tbl1.colTotal_Interno + tbl1.colTotal_Externo + tbl1.colTotal_Empresa
.head 7 +  On MU_REVISAR
.head 8 -  Return FALSE
.head 5 +  Column: colTotal_Externo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Total Externo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.333"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_KillFocus
.head 8 -  ! Al salirse del campo de cantidad se actualiza el subtotal de la linea y 
ademas sugiere la fecha del sistema en la que se llevo a cabo el servicio
.head 8 -  Set tbl1.colSubTotal=tbl1.colTotal_Interno + tbl1.colTotal_Externo + tbl1.colTotal_Empresa
.head 7 +  On MU_REVISAR
.head 8 -  Return FALSE
.head 5 +  Column: colTotal_Empresa
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Total Empresa
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.333"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_KillFocus
.head 8 -  ! Al salirse del campo de cantidad se actualiza el subtotal de la linea y 
ademas sugiere la fecha del sistema en la que se llevo a cabo el servicio
.head 8 -  Set tbl1.colSubTotal=tbl1.colTotal_Interno + tbl1.colTotal_Externo + tbl1.colTotal_Empresa
.head 7 +  On MU_REVISAR
.head 8 -  Return FALSE
.head 5 +  Column: colSubTotal
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Total
.head 6 -  Visible? Class Default
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.467"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On MU_REVISAR
.head 8 -  Return FALSE
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 -  Message Actions
.head 3 +  ! cmbBaseCodigo: cmbEmpresa
.winattr class Combo Box:
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.083"
.head 5 -  Top:    1.036"
.head 5 -  Width:  4.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.202"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.end
.head 4 -  List Initialization 
.head 4 +  Message Actions 
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 3 +  Combo Box: cmbEmpresa
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigoFiltrado
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.083"
.head 5 -  Top:    1.071"
.head 5 -  Width:  3.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.512"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 6 -  Set cmbEmpresa.sNombreFiltro='ESTADO'
.head 6 -  Set cmbEmpresa.nValorFiltro=1
.head 3 -  Background Text: Empresa
.head 4 -  Resource Id: 23781
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.083"
.head 5 -  Top:    1.083"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Fecha:
.head 4 -  Resource Id: 23782
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.117"
.head 5 -  Top:    1.083"
.head 5 -  Width:  0.767"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbAddProc
.data CLASSPROPSSIZE
0000: 1900
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000800 74616250726F6300 00
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.1"
.head 5 -  Top:    1.762"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.4"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\edit_add15.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalSetFocus(tbl1)
.head 6 -  Call SalTblSetFocusCell( tbl1, SalTblInsertRow( tbl1, TBL_MaxRow ), tbl1.colCategoria, 0, 1 )
.head 6 -  !
.head 6 -  Set tbl1.colUnico=Identity(707)
.head 6 -  Set tbl1.colTotal_Interno = 0
.head 6 -  Set tbl1.colTotal_Externo = 0
.head 6 -  Set tbl1.colTotal_Empresa = 0
.head 6 -  Set tbl1.colSubTotal = 0
.head 3 +  Pushbutton: pbRemoveProc
.data CLASSPROPSSIZE
0000: 1B00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000800 74616250726F6300 000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.1"
.head 5 -  Top:    2.19"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.4"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\edit_remove15.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call SalTblQueryFocus(  tbl1,nRow, tbl1.colCategoria)
.head 6 +  If SalTblQueryRowFlags( tbl1,nRow,ROW_MarkDeleted)
.head 7 -  Call SalTblSetRowFlags( tbl1,nRow, ROW_MarkDeleted,FALSE)
.head 6 +  Else
.head 7 +  If SalTblQueryRowFlags( tbl1,nRow,ROW_New)
.head 8 -  Call SalTblDeleteRow( tbl1, nRow, TBL_Adjust )
.head 7 +  Else
.head 8 -  Call SalTblSetRowFlags( tbl1,nRow, ROW_MarkDeleted,TRUE)
.head 6 -  Call SalTblSetFocusCell( tbl1, nRow, tbl1.colCategoria, 0, 1 )
.head 3 +  Data Field: dfFecha
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.683"
.head 6 -  Top:    0.988"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Frame
.head 4 -  Resource Id: 23783
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.883"
.head 5 -  Top:    0.905"
.head 5 -  Width:  11.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Round
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 +  Custom Control: ccFecha
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 2.05"
.head 6 -  Top:    1.036"
.head 6 -  Width:  4.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Data Field: dfTotal_Interno
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.483"
.head 6 -  Top:    5.524"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfTotal_Externo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 8.95"
.head 6 -  Top:    5.524"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfTotal_Empresa
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.417"
.head 6 -  Top:    5.524"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfTotal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 11.883"
.head 6 -  Top:    5.524"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Totales
.head 4 -  Resource Id: 23786
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.583"
.head 5 -  Top:    5.595"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Check Box: cbResumido
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Resumido
.head 4 -  Window Location and Size
.head 5 -  Left: 6.883"
.head 5 -  Top:    0.405"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 4 -  Message Actions
.head 2 +  Functions
.head 3 +  Function: ResetControls
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Window Handle: hWndChild
.head 5 -  Number: nHwndChild
.head 5 -  Number: nType
.head 4 +  Actions
.head 5 -  Set hWndChild = SalGetFirstChild( hWndForm, TYPE_Any )
.head 5 +  While hWndChild != hWndNULL
.head 6 -  Set nHwndChild = SalWindowHandleToNumber( hWndChild )
.head 6 -  Set nType = SalGetType( hWndChild )
.head 6 +  If nType = TYPE_ChildTable
.head 7 -  Call SalTblReset( hWndChild )
.head 6 +  Else If nType = TYPE_DataField or nType = TYPE_MultilineText or nType = TYPE_CheckBox or nType = TYPE_ComboBox
.head 7 -  Call SalClearField( hWndChild )
.head 6 -  Set hWndChild = SalGetNextChild( hWndChild, TYPE_Any )
.head 5 -  !
.head 5 -  !
.head 3 +  Function: CargarDatos
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  Set dfFecha = ccFecha.GetSystemTime()
.head 5 -  !
.head 5 -  Set sSQL = "
	select	
		A.CORRELATIVO ,
                	A.COD_CATEGORIA,
                	C.NOMBRE,
                	A.COD_SERVICIO,
                	B.NOMBRE,
                	A.TOTAL_INTERNO,              
                	A.TOTAL_EXTERNO,    
                	A.TOTAL_EMPRESA,
		A.TOTAL_INTERNO +  A.TOTAL_EXTERNO + TOTAL_EMPRESA
	from	 
		LABORATORIO_EXAMENES 	A, 
		SERVICIOS 			B, 
		CATEG_SERVICIOS 		C
	where	
		A.COD_EMPRESA		=	:cmbEmpresa.nCodigo 	AND 
		A.FECHA			=	:dfFecha			AND
		A.COD_SERVICIO		=	B.COD_SERVICIO 		AND 		
		A.COD_CATEGORIA	=	C.COD_CATEGORIA	AND
		B.COD_CATEGORIA	=	C.COD_CATEGORIA
	order by 
		B.NOMBRE "
.head 5 -  Call SalTblPopulate(tbl1, hSql1, sSQL ,TBL_FillAll)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  !
.head 5 -  Set dfTotal_Interno = SalTblColumnSum( tbl1, 6, 0, 0 )
.head 5 -  Set dfTotal_Externo = SalTblColumnSum( tbl1, 7, 0, 0 )
.head 5 -  Set dfTotal_Empresa = SalTblColumnSum( tbl1, 8, 0, 0 )
.head 5 -  Set dfTotal = SalTblColumnSum( tbl1, 9, 0, 0 )
.head 5 -  !
.head 5 -  Call SalWaitCursor(FALSE)
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: sSQL
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalCenterWindow( hWndForm )
.head 1 +  Form Window: frmMedicos
.head 2 -  Class: frmSoloNombre
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title:
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Class Default
.head 2 -  Visible? Class Default
.head 2 -  Display Settings
.head 3 -  Display Style? Class Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? Class Default
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Class Default
.head 3 -  Minimizable? Class Default
.head 3 -  System Menu? Class Default
.head 3 -  Resizable? Class Default
.head 3 -  Window Location and Size
.head 4 -  Left: 0.225"
.head 4 -  Top:    0.292"
.head 4 -  Width:  10.467"
.head 4 -  Width Editable? Class Default
.head 4 -  Height: 5.381"
.head 4 -  Height Editable? Class Default
.head 3 -  Form Size
.head 4 -  Width:  Class Default
.head 4 -  Height: Class Default
.head 4 -  Number of Pages: Class Default
.head 3 -  Font Name: Class Default
.head 3 -  Font Size: Class Default
.head 3 -  Font Enhancement: Class Default
.head 3 -  Text Color: Class Default
.head 3 -  Background Color: Class Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Class Default
.head 4 -  Location? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Size: 0.571"
.head 4 -  Size Editable? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Charcoal
.head 3 +  Contents
.head 4 +  Pushbutton: pbAgregar
.head 5 -  Class Child Ref Key: 29
.head 5 -  Class ChildKey: 0
.head 5 -  Class: frmSoloNombre
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: Class Default
.head 6 -  Top:    Class Default
.head 6 -  Width:  0.65"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.45"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbBorrar
.head 5 -  Class Child Ref Key: 30
.head 5 -  Class ChildKey: 0
.head 5 -  Class: frmSoloNombre
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.883"
.head 6 -  Top:    Class Default
.head 6 -  Width:  0.65"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.452"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbGrabar
.head 5 -  Class Child Ref Key: 34
.head 5 -  Class ChildKey: 0
.head 5 -  Class: frmSoloNombre
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.583"
.head 6 -  Top:    Class Default
.head 6 -  Width:  0.65"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.452"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbSalir
.head 5 -  Class Child Ref Key: 39
.head 5 -  Class ChildKey: 0
.head 5 -  Class: frmSoloNombre
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 9.083"
.head 6 -  Top:    Class Default
.head 6 -  Width:  0.65"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.452"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbBuscar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 7.283"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.65"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.45"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: F3
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 -  ! Set nRegresaMed=NUMBER_Null
.head 7 -  ! Call SalModalDialog( dlgConsultaMedicos, hWndForm,nRegresaMed, 1 )
.head 7 +  ! If nRegresaMed != NUMBER_Null
.head 8 -  ! Set dfCodMedico = nRegresaMed
.head 8 -  ! Call ActualizarMedico()
.head 8 -  Call SalSetFocus(tbl1)
.head 8 -  Call SalTblClearSelection( tbl1 )
.head 8 -  Set nRowToSelect = VisTblFindNumber( tbl1, 0,tbl1.colCodigor,nRegresaMed)
.head 8 -  Call SalTblSetRowFlags( tbl1, nRowToSelect, ROW_Selected, TRUE )
.head 7 -  ! Call SalSetFocus(tbl1)
.head 7 -  ! Call SalTblClearSelection( tbl1 )
.head 7 -  ! Set nRowToSelect = VisTblFindString( tbl1, 0,tbl1.colNombrer,dfNombre)
.head 7 -  ! Call SalTblSetRowFlags( tbl1, nRowToSelect, ROW_Selected, TRUE )
.head 7 -  Call SalWaitCursor(TRUE)
.head 7 -  Call SalTblPopulate(tbl1,hSql1,"select 
				A.cod_medico ,
				A.nombre,
				B.NOMBRE,
				B.cod_especialidad,
				A.DIRECCION
			from 
				medicos A, 
				ESPECIALIDAD B 
			where 
				A.COD_ESPECIALIDAD=B.COD_ESPECIALIDAD AND
				A.NOMBRE LIKE  '%" || dfNombre || "%'
			order by 
				A.NOMBRE
			INTO
				:tbl1.colCodigor,
				:tbl1.colNombrer,
				:tbl1.cmbEspecialidad,
				:tbl1.cmbEspecialidad.nCodigo,
				:tbl1.colDireccion",TBL_FillAll)
.head 7 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 7 -  Call SalWaitCursor(FALSE)
.head 4 +  Data Field: dfNombre
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatDataField
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 3.383"
.head 7 -  Top:    0.155"
.head 7 -  Width:  3.8"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_AnyEdit
.head 7 -  !
.head 7 -  Call SalSendMsg(pbBuscar, SAM_Click, 0, 0)
.head 4 -  Background Text: Nombre
.head 5 -  Resource Id: 2370
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 2.483"
.head 6 -  Top:    0.179"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: System Window Color
.head 5 -  Background Color: Default
.head 2 +  Contents
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 5
.head 4 -  Class ChildKey: 0
.head 4 -  Class: frmSoloNombre
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.283"
.head 6 -  Top:    0.238"
.head 6 -  Width:  9.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 1000
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colCodigor
.head 6 -  Class Child Ref Key: 25
.head 6 -  Class ChildKey: 0
.head 6 -  Class: frmSoloNombre
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title:
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colNombrer
.head 6 -  Class Child Ref Key: 26
.head 6 -  Class ChildKey: 0
.head 6 -  Class: frmSoloNombre
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title:
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  4.05"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: cmbEspecialidad
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsCbCodigo
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Especialidad
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.35"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set cmbEspecialidad.nCaso=1
.head 8 -  Set cmbEspecialidad.sTabla='ESPECIALIDAD'
.head 8 -  Set cmbEspecialidad.sNombre='NOMBRE'
.head 8 -  Set cmbEspecialidad.sCodigo='COD_ESPECIALIDAD'
.head 5 +  Column: colDireccion
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Direccion
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Long String
.head 6 -  Justify: Left
.head 6 -  Width:  5.183"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 +  Message Actions
.head 5 +  On SAM_CreateComplete
.head 6 -  Set frmMedicos.sTitulos='Medicos'
.head 6 -  Call SalSendClassMessage(SAM_CreateComplete,0,0)
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  Number: nRegresaMed
.head 3 -  Number: nRowToSelect
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  !
.head 4 -  Call SalCenterWindow( hWndForm )
.head 4 -  Set sTabla='MEDICOS'
.head 4 -  Set sNombre='NOMBRE'
.head 4 -  Set sCodigo='COD_MEDICO'
.head 4 -  Set nNumeroTabla=4
.head 4 -  Set hWndTabla=tbl1
.head 4 -  Set sMensajes_Otros='Medico ya Existe'
.head 4 -  !
.head 3 +  On MU_GRABAR
.head 4 -  ! Call SalSendClassMessage( MU_GRABAR, 0, 0 )
.head 4 -  Call SalSetFocus(tbl1)
.head 4 -  Call SqlPrepare(hSql1,"insert into medicos (COD_MEDICO,NOMBRE,COD_ESPECIALIDAD, DIRECCION)
		values(:tbl1.colCodigor,:tbl1.colNombrer,:tbl1.cmbEspecialidad.nCodigo, :tbl1.colDireccion)")
.head 4 -  Call SalTblDoInserts( tbl1,hSql1,TRUE)
.head 4 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  Call SqlPrepare(hSql2,"update 
			medicos 
		set  
			nombre=:tbl1.colNombrer, 
			cod_especialidad=:tbl1.cmbEspecialidad.nCodigo,
			direccion = :tbl1.colDireccion
		where 
			cod_medico=:tbl1.colCodigor")
.head 4 -  Call SalTblDoUpdates( tbl1,hSql2,TRUE)
.head 4 -  Call SqlPrepareAndExecute(hSql2,"commit")
.head 4 -  Call SqlPrepare(hSql1,"delete from medicos  where cod_medico =:tbl1.colCodigor")
.head 4 -  Call SalTblDoDeletes( tbl1,hSql1,ROW_MarkDeleted)
.head 4 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  !
.head 4 -  Call SalClearField (dfNombre)
.head 3 +  On MU_ACTUALIZAR
.head 4 -  Call SalWaitCursor(TRUE)
.head 4 -  Call SalTblPopulate(tbl1,hSql1,"select 
				A.cod_medico ,
				A.nombre,
				B.NOMBRE,
				B.cod_especialidad,
				A.DIRECCION
			from 
				medicos A, 
				ESPECIALIDAD B 
			where 
				A.COD_ESPECIALIDAD=B.COD_ESPECIALIDAD
			order by 
				A.NOMBRE
			INTO
				:tbl1.colCodigor,
				:tbl1.colNombrer,
				:tbl1.cmbEspecialidad,
				:tbl1.cmbEspecialidad.nCodigo,
				:tbl1.colDireccion",TBL_FillAll)
.head 4 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  Call SalWaitCursor(FALSE)
.head 3 +  On SAM_CreateComplete
.head 4 -  Call SalSendMsg( hWndForm, MU_ACTUALIZAR, 0, 0 )
.head 1 +  Form Window: frmFactA
.head 2 -  Class: cQuickTabsForm
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Registro de Servicios a los Asegurados
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Class Default
.head 2 -  Display Settings
.head 3 -  Display Style? Class Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Maximized
.head 3 -  Maximizable? Class Default
.head 3 -  Minimizable? Class Default
.head 3 -  System Menu? Class Default
.head 3 -  Resizable? Class Default
.head 3 -  Window Location and Size
.head 4 -  Left: 1.375"
.head 4 -  Top:    1.146"
.head 4 -  Width:  13.533"
.head 4 -  Width Editable? Class Default
.head 4 -  Height: 7.286"
.head 4 -  Height Editable? Class Default
.head 3 -  Form Size
.head 4 -  Width:  Class Default
.head 4 -  Height: Class Default
.head 4 -  Number of Pages: Class Default
.head 3 -  Font Name: Class Default
.head 3 -  Font Size: Class Default
.head 3 -  Font Enhancement: Class Default
.head 3 -  Text Color: Class Default
.head 3 -  Background Color: Class Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 +  Menu
.head 3 +  Popup Menu: Opciones
.head 4 -  Resource Id: 25636
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 4 +  Menu Item: &Insertar Servicio
.head 5 -  Resource Id: 25637
.head 5 -  Keyboard Accelerator: Ins
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbAgregarServicio, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: &Insertar Honorario
.head 5 -  Resource Id: 42037
.head 5 -  Keyboard Accelerator: Shift+Ins
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbAgregarHon, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Nueva Factura
.head 5 -  Resource Id: 29592
.head 5 -  Keyboard Accelerator: Ctrl+N
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbAgregar, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Guardar Factura
.head 5 -  Resource Id: 29593
.head 5 -  Keyboard Accelerator: Ctrl+S
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbGrabar, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Cerrar Factura
.head 5 -  Resource Id: 25221
.head 5 -  Keyboard Accelerator: Ctrl+R
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbCerrar, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Class Default
.head 4 -  Location? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Size: 3.071"
.head 4 -  Size Editable? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 3 +  Contents
.head 4 -  Background Text: Fecha Registro :
.head 5 -  Resource Id: 25650
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 3.083"
.head 6 -  Top:    0.845"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfFechaRegistro
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfFecha
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 4.483"
.head 7 -  Top:    0.845"
.head 7 -  Width:  1.4"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbAgregar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbMas
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Ctrl + N
.head 5 -  Window Location and Size
.head 6 -  Left: 0.28"
.head 6 -  Top:    0.06"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.679"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filenew.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set pbAgregar.nOpcionh=1
.head 7 -  Set pbAgregar.hWndCampo=dfFactura
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 +  If NUEVO
.head 8 -  !
.head 8 -  Set sSQL = "select
		COD_FACTURA
	from
		FACTURASA
	where
		COD_FACTURA=:dfFactura"
.head 8 -  Call SqlExists (sSQL, bExistsFact)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If SalMessageBox("Ha seleccionado crear una nueva factura. Desea guardar los cambios antes de continuar?","Atencion",MB_YesNo)=IDYES
.head 9 -  !
.head 9 -  Call SalSendMsg (pbGrabar, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  !
.head 9 +  If not bExistsFact
.head 10 -  !
.head 10 -  Set sSQL = 'DELETE FROM
		 IDENTITYS
	WHERE
		cod_tabla = 24 AND
		MAXIMO = :dfFactura'
.head 10 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 10 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 10 -  !
.head 10 -  Call SalSendClassMessage(SAM_Click,0,0)
.head 10 -  ! Call SalEnableWindow(pb4)
.head 10 -  Set dfFechaRegistro=FechaHoy(2)
.head 10 -  Set dfFechaIngreso=FechaHoy(2)
.head 10 -  Call SalDateToStr( dfFechaRegistro, FECHA_REGISTRO )
.head 10 -  Call SalStrLeft (FECHA_REGISTRO, 10, FECHA_REGISTRO )
.head 10 -  Call SalEnableWindow( pbGrabar )
.head 10 -  Call SalClearField( mlDescripcion )
.head 10 -  Call SalClearField( dfPaciente )
.head 10 -  Call SalClearField( dfFactura )
.head 10 -  Call SalClearField( dfPacienteCorrel )
.head 10 -  Call SalClearField ( dfCreadoPor )
.head 10 -  Call SalClearField ( dfModificadoPor )
.head 10 -  Set dfMontoFactura=0
.head 10 -  Set dfHonorarios=0
.head 10 -  Set dfDescuento =0
.head 10 -  Set dfTotal =0
.head 10 -  Set dfPacienteCorrel ='0'
.head 10 -  Set dfNombre  =''
.head 10 -  Set dfFechaEgreso=DATETIME_Null
.head 10 -  Set dfFactura=Identity(24)
.head 10 -  Call SalSetFocus( mlDescripcion )
.head 10 -  Set NUEVO=TRUE
.head 10 -  Set cmbCuidades = strCiudad
.head 10 -  Set cmbCuidades.nCodigo = nCodCiudad
.head 7 +  Else
.head 8 -  !
.head 8 -  Call SalSendClassMessage(SAM_Click,0,0)
.head 8 -  ! Call SalEnableWindow(pb4)
.head 8 -  Set dfFechaRegistro=FechaHoy(2)
.head 8 -  Set dfFechaIngreso=FechaHoy(2)
.head 8 -  Call SalDateToStr( dfFechaRegistro, FECHA_REGISTRO )
.head 8 -  Call SalStrLeft (FECHA_REGISTRO, 10, FECHA_REGISTRO )
.head 8 -  Call SalEnableWindow( pbGrabar )
.head 8 -  Call SalClearField( mlDescripcion )
.head 8 -  Call SalClearField( dfPaciente )
.head 8 -  Call SalClearField( dfFactura )
.head 8 -  Call SalClearField( dfPacienteCorrel )
.head 8 -  Call SalClearField ( dfCreadoPor )
.head 8 -  Call SalClearField ( dfModificadoPor )
.head 8 -  Set dfMontoFactura=0
.head 8 -  Set dfHonorarios=0
.head 8 -  Set dfDescuento =0
.head 8 -  Set dfTotal =0
.head 8 -  Set dfPacienteCorrel ='0'
.head 8 -  Set dfNombre  =''
.head 8 -  Set dfFechaEgreso=DATETIME_Null
.head 8 -  Set dfFactura=Identity(24)
.head 8 -  Call SalSetFocus( mlDescripcion )
.head 8 -  Set NUEVO=TRUE
.head 8 -  Set cmbCuidades = strCiudad
.head 8 -  Set cmbCuidades.nCodigo = nCodCiudad
.head 4 +  Pushbutton: pbBorrar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbMenos
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.083"
.head 6 -  Top:    0.06"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.679"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\editdelete.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set pbBorrar.nOpcionh=1
.head 7 -  Set pbBorrar.sTitulo=' La Factura'
.head 4 +  Pushbutton: pbGrabar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbGrabar
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Ctrl + S
.head 5 -  Window Location and Size
.head 6 -  Left: 1.883"
.head 6 -  Top:    0.06"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.679"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filesave.bmp
.head 5 -  Picture Transparent Color: White
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set pbGrabar.nOpcion=2
.head 7 -  Set pbGrabar.hWndTabla=tbl1
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 +  If VerSiPuedeGrabar(  )
.head 8 +  If RevisarTablas( tbl2 )
.head 9 -  !
.head 9 -  Call EliminarBlancos()
.head 9 -  Call SalSendClassMessage( SAM_Click, 0, 0 )
.head 4 +  Pushbutton: pbBuscar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbBusqueda
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: F3
.head 5 -  Window Location and Size
.head 6 -  Left: 2.683"
.head 6 -  Top:    0.06"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.679"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: F3
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 +  If NUEVO
.head 8 -  !
.head 8 -  Set sSQL = "select
		COD_FACTURA
	from
		FACTURASA
	where
		COD_FACTURA=:dfFactura"
.head 8 -  Call SqlExists (sSQL, bExistsFact)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If SalMessageBox("Ha seleccionado crear una nueva factura. Desea guardar los cambios antes de continuar?","Atencion",MB_YesNo)=IDYES
.head 9 -  !
.head 9 -  Call SalSendMsg (pbGrabar, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  !
.head 9 +  If not bExistsFact
.head 10 -  !
.head 10 -  Set NUEVO=FALSE
.head 10 -  Set nRegresa=0
.head 10 -  Call SalModalDialog( dlgConsultaFacturasA, hWndForm,2,nRegresa )
.head 10 +  If nRegresa!=0
.head 11 -  Set dfFactura =nRegresa
.head 11 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 11 -  Set NUEVO=FALSE
.head 7 +  Else
.head 8 -  !
.head 8 -  Set NUEVO=FALSE
.head 8 -  Set nRegresa=0
.head 8 -  Call SalModalDialog( dlgConsultaFacturasA, hWndForm,2,nRegresa )
.head 8 +  If nRegresa!=0
.head 9 -  Set dfFactura =nRegresa
.head 9 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 4 -  Background Text: #Factura :
.head 5 -  Resource Id: 25652
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.483"
.head 6 -  Top:    0.845"
.head 6 -  Width:  1.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfFactura
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Number
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 1.483"
.head 7 -  Top:    0.845"
.head 7 -  Width:  1.3"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Validate
.head 7 -  Call SqlExists("Select	COD_FACTURA
from	FACTURASA
where	COD_FACTURA =:dfFactura",bExists)
.head 7 -  Call SqlClearImmediate( )
.head 7 +  If bExists
.head 8 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 8 -  Set NUEVO=FALSE
.head 7 -  Call SalSetFocus( mlDescripcion )
.head 4 -  Background Text: Descripcion
.head 5 -  Resource Id: 25653
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.383"
.head 6 -  Top:    1.179"
.head 6 -  Width:  1.1"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Multiline Field: mlDescripcion
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: mlBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: 250
.head 6 -  String Type: String
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Border? Class Default
.head 6 -  Word Wrap? Yes
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Window Location and Size
.head 7 -  Left: 1.483"
.head 7 -  Top:    1.155"
.head 7 -  Width:  7.4"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.667"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 -  Background Text: Paciente
.head 5 -  Resource Id: 25654
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.286"
.head 6 -  Top:    2.012"
.head 6 -  Width:  1.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfPaciente
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 1.483"
.head 7 -  Top:    1.905"
.head 7 -  Width:  1.3"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.31"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Validate
.head 7 -  Call ActualizarPaciente()
.head 4 +  Data Field: dfNombre
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 3.383"
.head 7 -  Top:    1.905"
.head 7 -  Width:  4.9"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.298"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 +  Message Actions
.head 6 +  On MU_REVISAR
.head 7 -  Return TRUE
.head 4 +  Data Field: dfPacienteCorrel
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 2.783"
.head 7 -  Top:    1.905"
.head 7 -  Width:  0.5"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.31"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Validate
.head 7 -  Call ActualizarPaciente()
.head 4 +  Pushbutton: pb6
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 12.383"
.head 6 -  Top:    0.06"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.679"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 +  If NUEVO
.head 8 -  !
.head 8 -  Set sSQL = "select
		COD_FACTURA
	from
		FACTURASA
	where
		COD_FACTURA=:dfFactura"
.head 8 -  Call SqlExists (sSQL, bExistsFact)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If SalMessageBox("Ha seleccionado crear una nueva factura. Desea guardar los cambios antes de continuar?","Atencion",MB_YesNo)=IDYES
.head 9 -  !
.head 9 -  Call SalSendMsg (pbGrabar, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  !
.head 9 +  If not bExistsFact
.head 10 -  !
.head 10 -  Set sSQL = 'DELETE FROM
		 IDENTITYS
	WHERE
		cod_tabla = 24 AND
		MAXIMO = :dfFactura'
.head 10 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 10 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 10 -  !
.head 10 -  Call SalSendClassMessage ( SAM_Click, 0, 0)
.head 7 +  Else
.head 8 -  !
.head 8 -  Call SalSendClassMessage ( SAM_Click, 0, 0)
.head 4 +  Pushbutton: pbCerrar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbBusqueda
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Ctrl + R
.head 5 -  Window Location and Size
.head 6 -  Left: 8.483"
.head 6 -  Top:    0.06"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.679"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\CENTURA\BITMAPS\cerrar.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Call CerrarFactura(  )
.head 7 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 4 +  Pushbutton: pbImprimir
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbBusqueda
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 10.083"
.head 6 -  Top:    0.06"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.679"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\Printer.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Single
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Call SqlExists("Select	ESTADO_PROCESO
from	FACTURASA
where	COD_FACTURA =:dfFactura into :wEstado  ",bExists)
.head 7 -  Call SqlClearImmediate( )
.head 7 +  If bExists
.head 8 +  If wEstado=0 or wEstado=1
.head 9 -  Call SalModalDialog( dlgImprimirFacturasA, hWndForm )
.head 8 +  Else
.head 9 -  Call SalMessageBox("Factura  no se puede imprimir ya esta CERRADA o ANULADA","ERROR",MB_Ok)
.head 7 +  Else
.head 8 -  Call SalMessageBox("Factura  no existe","ERROR",MB_Ok)
.head 4 +  Pushbutton: pbAnular
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbBusqueda
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Anular
.head 5 -  Window Location and Size
.head 6 -  Left: 9.283"
.head 6 -  Top:    0.06"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.679"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\ICONS\WRITING\Erase02.ico
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Call AnularFactura(  )
.head 7 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 4 -  Frame
.head 5 -  Resource Id: 25655
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 9.183"
.head 6 -  Top:    1.488"
.head 6 -  Width:  3.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.5"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Corners: Square
.head 5 -  Border Style: Drop-Shadow
.head 5 -  Border Thickness: 1
.head 5 -  Border Color: Default
.head 5 -  Background Color: Default
.head 4 +  Pushbutton: pb9
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: >>
.head 5 -  Window Location and Size
.head 6 -  Left: 8.283"
.head 6 -  Top:    1.905"
.head 6 -  Width:  0.5"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.298"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Keyboard Accelerator: F1
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: None
.head 5 -  Image Style: Single
.head 5 -  Text Color: Blue
.head 5 -  Background Color: Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Set sRegresaPac=''
.head 7 -  Set sRegresaCor=''
.head 7 -  Call SalModalDialog( dlgConsultaPacientesO, hWndForm,sRegresaPac,sRegresaCor, 2, 1, 1 )
.head 7 +  If sRegresaPac!=''
.head 8 -  Set dfPaciente =sRegresaPac
.head 8 -  Set dfPacienteCorrel =sRegresaCor
.head 8 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 4 -  Background Text: Sub Total
.head 5 -  Resource Id: 25656
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 9.383"
.head 6 -  Top:    1.595"
.head 6 -  Width:  1.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: Honorarios
.head 5 -  Resource Id: 25657
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 9.383"
.head 6 -  Top:    1.929"
.head 6 -  Width:  1.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.226"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: Descuento
.head 5 -  Resource Id: 25658
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 9.383"
.head 6 -  Top:    2.262"
.head 6 -  Width:  1.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.226"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: Total Factura
.head 5 -  Resource Id: 25659
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 9.383"
.head 6 -  Top:    2.595"
.head 6 -  Width:  1.1"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.313"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfMontoFactura
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 10.683"
.head 7 -  Top:    1.571"
.head 7 -  Width:  1.7"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfHonorarios
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 10.683"
.head 7 -  Top:    1.929"
.head 7 -  Width:  1.7"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfDescuento
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Yes
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 10.683"
.head 7 -  Top:    2.262"
.head 7 -  Width:  1.7"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Validate
.head 7 -  Call Actualizar_Montos(  )
.head 4 +  Data Field: dfTotal
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 10.683"
.head 7 -  Top:    2.595"
.head 7 -  Width:  1.7"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfEstadoProceso
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 12.583"
.head 7 -  Top:    0.905"
.head 7 -  Width:  0.5"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? No
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfEstadoImpresa
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 12.583"
.head 7 -  Top:    1.238"
.head 7 -  Width:  0.5"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? No
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfEstadoPago
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 12.583"
.head 7 -  Top:    1.571"
.head 7 -  Width:  0.5"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? No
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfFechaCierre
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfFecha
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 12.583"
.head 7 -  Top:    1.905"
.head 7 -  Width:  0.6"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? No
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfESTADO_PROCESO_STRING
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 6.383"
.head 7 -  Top:    0.821"
.head 7 -  Width:  2.3"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Red
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfFechaIngreso
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfFecha
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Yes
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 4.85"
.head 7 -  Top:    2.615"
.head 7 -  Width:  1.4"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfFechaEgreso
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfFecha
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Yes
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 7.517"
.head 7 -  Top:    2.646"
.head 7 -  Width:  1.4"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 +  Message Actions
.head 6 +  On MU_REVISAR
.head 7 -  Return TRUE
.head 4 -  Background Text: Fecha Ingreso
.head 5 -  Resource Id: 25660
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 3.983"
.head 6 -  Top:    2.573"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.357"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: Fecha Salida
.head 5 -  Resource Id: 25661
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 6.283"
.head 6 -  Top:    2.677"
.head 6 -  Width:  1.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: Disponible
.head 5 -  Resource Id: 25662
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.083"
.head 6 -  Top:    2.594"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.226"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: 10
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Blue
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfDisp
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 1.483"
.head 7 -  Top:    2.573"
.head 7 -  Width:  2.0"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Right
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Font Name: Arial
.head 6 -  Font Size: 10
.head 6 -  Font Enhancement: Bold
.head 6 -  Text Color: Black
.head 6 -  Background Color: White
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 -  Frame
.head 5 -  Resource Id: 25663
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.583"
.head 6 -  Top:    2.656"
.head 6 -  Width:  2.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Corners: Square
.head 5 -  Border Style: Solid
.head 5 -  Border Thickness: 1
.head 5 -  Border Color: Default
.head 5 -  Background Color: Black
.head 4 +  Combo Box: cmbTipo
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Window Location and Size
.head 6 -  Left: 9.183"
.head 6 -  Top:    0.821"
.head 6 -  Width:  3.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.333"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Editable? No
.head 5 -  String Type: String
.head 5 -  Maximum Data Length: Default
.head 5 -  Sorted? Yes
.head 5 -  Always Show List? No
.head 5 -  Vertical Scroll? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 5 -  List Initialization
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Call SalListAdd( cmbTipo, "CONSULTA EXTERNA" )
.head 7 -  Call SalListAdd( cmbTipo, "HOSPITALIZACION" )
.head 7 -  Call SalListAdd( cmbTipo, "EMERGENCIA" )
.head 4 +  Pushbutton: pbCam
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: >>
.head 5 -  Window Location and Size
.head 6 -  Left: 5.557"
.head 6 -  Top:    2.24"
.head 6 -  Width:  0.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.298"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: 10
.head 5 -  Font Enhancement: Bold
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Blue
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  ! Al hacer Click en este boton se llama a la caja de dialogo para busqueda de
pacientes, si los valores de regreso no son vacios entonces se procede a actualizar
los datos de la ventana
.head 7 -  ! Set sCama=''
.head 7 -  ! Set nCodigo_cama=-1
.head 7 -  Call SalModalDialog( dlgSalidasCamas, hWndForm,cmbHabitacion,dfFechaIngreso,dfFechaEgreso,cmbHabitacion.nCodigo,dfNombre,dfFactura,2 )
.head 7 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 4 -  Background Text: Cama
.head 5 -  Resource Id: 25664
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.371"
.head 6 -  Top:    2.302"
.head 6 -  Width:  0.829"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Combo Box: cmbHabitacion
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cmbBaseCodigo
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.471"
.head 6 -  Top:    2.281"
.head 6 -  Width:  3.971"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 1.271"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Editable? Class Default
.head 5 -  String Type: Class Default
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Sorted? No
.head 5 -  Always Show List? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 5 -  List Initialization
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set cmbHabitacion.nCaso=1
.head 7 -  Set cmbHabitacion.sTabla='CAMAS'
.head 7 -  Set cmbHabitacion.sNombre='DESCRIPCION'
.head 7 -  Set cmbHabitacion.sCodigo='CODIGO'
.head 6 +  ! On SAM_Validate
.head 7 -  Call SalSendClassMessage( SAM_Validate, wParam, lParam )
.head 7 -  Set sCad = SalNumberToStrX( cmbPrueba.nCodigo, 0 )
.head 7 -  Call SalMessageBox(sCad, "Codigo", MB_Ok)
.head 6 +  On MU_REVISAR
.head 7 -  Return TRUE
.head 4 +  Combo Box: cmbCuidades
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cmbBaseCodigo
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Window Location and Size
.head 6 -  Left: 10.15"
.head 6 -  Top:    1.119"
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 1.048"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Editable? Class Default
.head 5 -  String Type: Class Default
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Sorted? Class Default
.head 5 -  Always Show List? No
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 5 -  List Initialization
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set cmbCuidades.nCaso=1
.head 7 -  Set cmbCuidades.sTabla='CIUDADES_GEO'
.head 7 -  Set cmbCuidades.sNombre='NOMBRE'
.head 7 -  Set cmbCuidades.sCodigo='CODIGO'
.head 4 -  Background Text: Ciudad:
.head 5 -  Resource Id: 5861
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 9.383"
.head 6 -  Top:    1.179"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfModificadoPor
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatDataField
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: String
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 5.55"
.head 7 -  Top:    0.429"
.head 7 -  Width:  1.9"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Center
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Bold
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: 3D Shadow Color
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfCreadoPor
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatDataField
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: String
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 5.55"
.head 7 -  Top:    0.143"
.head 7 -  Width:  1.9"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Center
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Bold
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: 3D Shadow Color
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 -  Background Text: Creado por:
.head 5 -  Resource Id: 5862
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 4.05"
.head 6 -  Top:    0.202"
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: 3D Shadow Color
.head 4 -  Background Text: Modificado por:
.head 5 -  Resource Id: 5863
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 3.517"
.head 6 -  Top:    0.476"
.head 6 -  Width:  1.833"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: 3D Shadow Color
.head 4 -  Frame
.head 5 -  Resource Id: 13591
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.083"
.head 6 -  Top:    0.02"
.head 6 -  Width:  13.233"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.74"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Corners: Square
.head 5 -  Border Style: Solid
.head 5 -  Border Thickness: 1
.head 5 -  Border Color: 3D Shadow Color
.head 5 -  Background Color: 3D Shadow Color
.head 2 +  Contents
.head 3 +  Pushbutton: pbAgregarServicio
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbChAgregarChiquito
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    0.896"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\edit_add15.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set pbAgregarServicio.hWndFila=tbl1.colCategoria
.head 6 -  Set pbAgregarServicio.hWndTabla=tbl1
.head 5 +  On SAM_Click
.head 6 -  Call SalSendClassMessage(SAM_Click,0,0)
.head 6 -  Set tbl1.colUnico=Identity(21)
.head 3 +  Child Table: tbl1
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.986"
.head 6 -  Top:    0.823"
.head 6 -  Width:  11.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 2.833"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colUnico
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Correl
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.583"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCategoria
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod Categ.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.617"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  Call SqlExists( "select 
		A.COD_CATEGORIA,
		A.NOMBRE  
	from 
		CATEG_SERVICIOS A 
	where
		A.COD_CATEGORIA=:tbl1.colCategoria  
	into 
		:colcmbCateg.sCodigos, 
		:colcmbCateg  " ,bExists)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If not bExists
.head 9 -  Call SalMessageBox("Categoria  no existe","ERROR",MB_Ok)
.head 9 -  Set tbl1.colCategoria=''
.head 9 -  Set tbl1.colcmbCateg=''
.head 5 +  Column: colcmbCateg
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsCbCodigo
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Categoria
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.133"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set colcmbCateg.nCaso=2
.head 8 -  Set colcmbCateg.sTabla='CATEG_SERVICIOS'
.head 8 -  Set colcmbCateg.sNombre='NOMBRE'
.head 8 -  Set colcmbCateg.sCodigo='COD_CATEGORIA'
.head 7 +  On SAM_Validate
.head 8 -  Call SalSendClassMessage(SAM_Validate,0,0)
.head 8 -  Set tbl1.colCategoria=tbl1.colcmbCateg.sCodigos
.head 5 +  Column: colServicio
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod. Servi.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.85"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  Call SqlExists( "select 
		A.NOMBRE,
		A.COSTO,
		A.COSTO1,
		A.COSTO2,
		A.COSTO3  
	from 
		SERVICIOS A
	where
		A.COD_SERVICIO 		=:tbl1.colServicio and 
		A.COD_CATEGORIA	=:tbl1.colCategoria and 
		A.EN_USO = 1
  	into 
		:colcmbServi,
		:nCosto,
		:nCosto1,
		:nCosto2,
		:nCosto3" ,bExists)
.head 8 -  Call SqlClearImmediate()
.head 8 -  Call SalListClear( tbl1.colCosto )
.head 8 -  Call SalListAdd( tbl1.colCosto, nCosto )
.head 8 -  Call SalListAdd( tbl1.colCosto, nCosto1 )
.head 8 -  Call SalListAdd( tbl1.colCosto, nCosto2 )
.head 8 -  Call SalListAdd( tbl1.colCosto, nCosto3 )
.head 8 -  Call SalListSetSelect( tbl1.colCosto, 0)
.head 8 +  If not bExists
.head 9 -  Call SalMessageBox("Servicio no existe o ha sido desactivado","ERROR",MB_Ok)
.head 9 -  Set tbl1.colServicio=''
.head 9 -  Set tbl1.colcmbServi=''
.head 5 +  Column: colcmbServi
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsCbCodigoFiltrado
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Servicio
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.633"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set colcmbServi.nCaso=2
.head 8 -  Set colcmbServi.sTabla='SERVICIOS'
.head 8 -  Set colcmbServi.sNombre='NOMBRE'
.head 8 -  Set colcmbServi.sCodigo='COD_SERVICIO'
.head 8 -  Set colcmbServi.sNombreFiltro='EN_USO'
.head 8 -  Set colcmbServi.nValorFiltro=1
.head 7 +  On SAM_DropDown
.head 8 -  Call SalListPopulate( tbl1.colcmbServi, hSql1, "select A.NOMBRE from
SERVICIOS A , CATEG_SERVICIOS  B where
A.COD_CATEGORIA=B.COD_CATEGORIA  AND
A.EN_USO = 1 AND
 A.COD_CATEGORIA =:tbl1.colCategoria"  )
.head 8 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 7 +  On SAM_Validate
.head 8 -  !
.head 8 -  ! Al seleccionar el  servicio del combo y luego salirse del campo se
procede a cargar todos los costos asociados a es servicio, Estos costos
son agregados en una columna de grid la cual es un combo, para que
el usuario decida el costo a seleccionar de todos los propuestos, tambien
verifica que exista el codigo de servicio.
.head 8 -  ! Call SalSendClassMessage(SAM_Validate,0,0)
.head 8 -  !
.head 8 +  If colcmbServi = STRING_Null
.head 9 -  !
.head 9 -  Return FALSE
.head 8 -  !
.head 8 +  If SalListSelectString(hWndItem,-1,MyValue)=LB_Err
.head 9 -  Call SalMessageBox("Dato no existe en la lista","ERROR",MB_Ok)
.head 9 -  Call SalSetFocus(hWndItem)
.head 9 -  Return FALSE
.head 8 +  Else
.head 9 -  Call SqlPrepareAndExecute(hSql1,"
select cod_servicio from servicios
where cod_categoria=:tbl1.colCategoria	and
nombre=:tbl1.colcmbServi and en_uso = 1
into	:tbl1.colcmbServi.sCodigos")
.head 9 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 8 -  !
.head 8 -  Set tbl1.colServicio=tbl1.colcmbServi.sCodigos
.head 8 -  Call SqlImmediate( "select 
			A.COSTO,
			A.COSTO1,
			A.COSTO2,
			A.COSTO3  
		from 
			SERVICIOS  A 
		where
			A.COD_SERVICIO 	= :tbl1.colServicio and 
			A.COD_CATEGORIA=:tbl1.colCategoria  
		into 
			:nCosto,
			:nCosto1,
			:nCosto2,
			:nCosto3 " )
.head 8 -  Call SqlClearImmediate()
.head 8 -  Call SalListClear( tbl1.colCosto )
.head 8 -  Call SalListAdd( tbl1.colCosto, nCosto )
.head 8 -  Call SalListAdd( tbl1.colCosto, nCosto1 )
.head 8 -  Call SalListAdd( tbl1.colCosto, nCosto2 )
.head 8 -  Call SalListAdd( tbl1.colCosto, nCosto3 )
.head 8 -  Call SalListSetSelect( tbl1.colCosto, 0)
.head 5 +  Column: colCosto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Costo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.25"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Drop Down List
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? No
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  Set tbl1.colSubTotal=tbl1.colCosto*tbl1.colCantidad
.head 8 -  Call Actualizar_Montos(  )
.head 7 +  On SAM_DropDown
.head 8 -  !
.head 8 -  !
.head 8 +  If not SalIsNull(colServicio) and not SalIsNull(colCategoria)
.head 9 -  !
.head 9 -  Call SqlImmediate( "select 
			A.COSTO,
			A.COSTO1,
			A.COSTO2,
			A.COSTO3  
		from 
			SERVICIOS  A
		where
			A.COD_SERVICIO = :tbl1.colServicio and 
			A.COD_CATEGORIA=:tbl1.colCategoria  
		into 
			:nCosto,
			:nCosto1,
			:nCosto2,
			:nCosto3 " )
.head 9 -  Call SqlClearImmediate()
.head 9 -  Call SalListClear( tbl1.colCosto )
.head 9 -  Call SalListAdd( tbl1.colCosto, nCosto )
.head 9 -  Call SalListAdd( tbl1.colCosto, nCosto1 )
.head 9 -  Call SalListAdd( tbl1.colCosto, nCosto2 )
.head 9 -  Call SalListAdd( tbl1.colCosto, nCosto3 )
.head 9 -  Call SalListSetSelect( tbl1.colCosto, 0)
.head 8 -  !
.head 5 +  Column: colCantidad
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cantidad
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.233"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  Set tbl1.colSubTotal=tbl1.colCosto*tbl1.colCantidad
.head 8 -  Call Actualizar_Montos(  )
.head 8 -  Set tbl1.colFecha=FechaHoy(2)
.head 8 -  ! Call SalDateToStr( tbl1.colFecha , tbl1.colFechaString  )
.head 8 -  ! Call SalStrLeft ( tbl1.colFechaString, 10,  tbl1.colFechaString )
.head 5 +  Column: colFecha
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Date/Time
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.467"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colSubTotal
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: SubTotal
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.467"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 5 +  Column: colFechaString
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: colFechaString
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.65"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbBorrarServicio
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbChBorrarChiquito
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    1.313"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\edit_remove15.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set pbBorrarServicio.hWndFila=tbl1.colServicio
.head 6 -  Set pbBorrarServicio.hWndTabla=tbl1
.head 3 +  Pushbutton: pbAgregarHon
.data CLASSPROPSSIZE
0000: 1F00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000C00 746162486F6E6172 696F7300000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbChAgregarChiquito
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.25"
.head 5 -  Top:    0.667"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set pbAgregarHon.hWndFila=tbl2.colCodDoctor
.head 6 -  Set pbAgregarHon.hWndTabla=tbl2
.head 5 +  On SAM_Click
.head 6 -  Call SalSendClassMessage(SAM_Click,0,0)
.head 6 -  Set tbl2.colUnicoHon=Identity(22)
.head 6 -  Set tbl2.colFecha=FechaHoy(2)
.head 6 -  Set tbl2.colPagar=1
.head 3 +  Child Table: tbl2
.data CLASSPROPSSIZE
0000: 1D00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000C00 746162486F6E6172 696F730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.983"
.head 6 -  Top:    0.488"
.head 6 -  Width:  11.5"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 2.75"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? No
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: 1
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 1000
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colUnicoHon
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: CorrelHon
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCodDoctor
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod. Med
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.483"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  Call SqlExists( "select A.COD_MEDICO,A.NOMBRE  from MEDICOS A where
A.COD_MEDICO=:tbl2.colCodDoctor  into :colcmbMedico.nCodigo , :colcmbMedico " ,bExists)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If not bExists
.head 9 -  Call SalMessageBox("Medico  no existe","ERROR",MB_Ok)
.head 9 -  Set tbl2.colCodDoctor=0
.head 9 -  Set tbl2.colcmbMedico=''
.head 5 +  Column: colcmbMedico
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsCbCodigo
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Medico
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set tbl2.colcmbMedico.nCaso=1
.head 8 -  Set tbl2.colcmbMedico.sTabla='MEDICOS'
.head 8 -  Set tbl2.colcmbMedico.sNombre='NOMBRE'
.head 8 -  Set tbl2.colcmbMedico.sCodigo='COD_MEDICO'
.head 7 +  On SAM_Validate
.head 8 -  Call SalSendClassMessage(SAM_Validate,0,0)
.head 8 -  Set tbl2.colCodDoctor =tbl2.colcmbMedico.nCodigo
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 5 +  Column: colDescripcion
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripcion
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 5 +  Column: colCosto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Costo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.433"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 5 +  Column: colFecha
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.517"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  Call SalDateToStr( tbl2.colFecha , tbl2.colFechaString  )
.head 8 -  Call SalStrLeft ( tbl2.colFechaString, 10,  tbl2.colFechaString )
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 5 +  Column: colPagar
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: No Pagar?
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.033"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Check Box
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value: 0
.head 8 -  Uncheck Value: 1
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 -  On SAM_Validate
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 5 +  Column: colFechaString
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: colFechaString
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 -  Message Actions
.head 3 +  Picture: Tabs
.data CLASSPROPS
0000: 5461624F7269656E 746174696F6E000A 00546162734F6E54 6F7000005461624C
0020: 6566744D61726769 6E00020030000054 616243757272656E 74000D0074616253
0040: 6572766963696F73 0000546162426F74 746F6D4D61726769 6E00020030000054
0060: 616250616765436F 756E740002003100 005461624C616265 6C73003F00202020
0080: 536572766963696F 7320202009202020 486F6E6F72617269 6F73202009202020
00A0: 436C69656E746520 2020094F7264656E 6573205365727669 63696F0000546162
00C0: 4E616D6573002F00 7461625365727669 63696F7309746162 486F6E6172696F73
00E0: 09746162436C6965 6E7465097461624F 7264656E65730000 5461625269676874
0100: 4D617267696E0002 0030000054616244 7261775374796C65 000B0057696E3935
0120: 5374796C65000054 6162466F726D5061 6765730004000909 090000546162546F
0140: 704D617267696E00 0200300000000000 0000000000000000 0000000000000000
0160: 000000
.enddata
.data CLASSPROPSSIZE
0000: 6301
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 1
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQuickTabsForm
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.186"
.head 5 -  Top:    0.156"
.head 5 -  Width:  12.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 3.833"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  File Name:
.head 4 -  Storage: Class Default
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Fit: Class Default
.head 4 -  Scaling
.head 5 -  Width:  Class Default
.head 5 -  Height:  Class Default
.head 4 -  Corners: Class Default
.head 4 -  Border Style: Class Default
.head 4 -  Border Thickness: Class Default
.head 4 -  Tile To Parent? No
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Face Color
.head 4 -  Message Actions
.head 3 -  Background Text: Sumatoria Ordenes:
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 7461624F7264656E 65730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 28080
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.75"
.head 5 -  Top:    2.917"
.head 5 -  Width:  1.733"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Total Ordenes:
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 7461624F7264656E 65730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 28081
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.217"
.head 5 -  Top:    2.893"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 7461624F7264656E 65730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 28082
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.55"
.head 5 -  Top:    0.512"
.head 5 -  Width:  11.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.333"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 +  Child Table: tblOrdenes
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 7461624F7264656E 65730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatChildTable
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.65"
.head 6 -  Top:    0.595"
.head 6 -  Width:  11.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 2.167"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colOrden
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: No. Orden
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Left
.head 6 -  Width:  1.083"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCodigoPaciente
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod Paciente
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  Default
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCorrelativoPaciente
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cor
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colNombrePaciente
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Nombre Paciente
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFechaEmision
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Date/Time
.head 6 -  Justify: Left
.head 6 -  Width:  Default
.head 6 -  Width Editable? Yes
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCantidad
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cantidad
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMonto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Right
.head 6 -  Width:  1.317"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDescServicio
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Servicio
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCategoria
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: CodCateg
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.817"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colServicio
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: CodServ
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.733"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDestino
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Medico/Destino
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 +  Window Variables
.head 5 -  Number: nFila
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  !
.head 6 -  Call MTblSubClass( hWndForm )
.head 6 -  Call MTblEnableMWheelScroll( hWndForm, TRUE )
.head 5 +  On SAM_DoubleClick
.head 6 -  !
.head 6 -  Call SalSendMsg(pbAgregarServicio, SAM_Click, 0, 0)
.head 6 -  Set tbl1.colServicio=tblOrdenes.colServicio
.head 6 -  Set tbl1.colCategoria=tblOrdenes.colCategoria
.head 6 -  Set tbl1.colCantidad = tblOrdenes.colCantidad
.head 6 -  Call SalSendMsg(tbl1.colCategoria, SAM_Validate,0,0)
.head 6 -  Call SalSendMsg(tbl1.colServicio, SAM_Validate,0,0)
.head 6 -  Call SalSendMsg(tbl1.colCantidad, SAM_Validate,0,0)
.head 3 +  Data Field: dfTotaltbl
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 7461624F7264656E 65730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.817"
.head 6 -  Top:    2.869"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: #0
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfSumatoria
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 7461624F7264656E 65730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.517"
.head 6 -  Top:    2.869"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbBorrarHon
.data CLASSPROPSSIZE
0000: 1F00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000C00 746162486F6E6172 696F7300000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbChBorrarChiquito
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.25"
.head 5 -  Top:    1.083"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set pbBorrarHon.hWndFila=tbl2.colCodDoctor
.head 6 -  Set pbBorrarHon.hWndTabla=tbl2
.head 3 +  Data Field: dfPrimer_Nom
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.883"
.head 6 -  Top:    1.095"
.head 6 -  Width:  3.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Data Field: dfSegundo_Nom
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 8.183"
.head 6 -  Top:    1.071"
.head 6 -  Width:  3.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Primer Nombre :
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 25639
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    1.095"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Segundo Nombre:
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 25640
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.183"
.head 5 -  Top:    1.095"
.head 5 -  Width:  1.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Primer Apellido :
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 25641
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    1.429"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfPrimer_Ape
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.883"
.head 6 -  Top:    1.429"
.head 6 -  Width:  3.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Segundo Apelido :
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 25642
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.183"
.head 5 -  Top:    1.429"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfSegundo_Ape
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 8.183"
.head 6 -  Top:    1.405"
.head 6 -  Width:  3.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Dirección :
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 25643
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.583"
.head 5 -  Top:    2.095"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Multiline Field: mlDireccion
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: mlBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  String Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Border? Class Default
.head 5 -  Word Wrap? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Window Location and Size
.head 6 -  Left: 1.883"
.head 6 -  Top:    2.071"
.head 6 -  Width:  5.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 1.0"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfSexo
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 9.983"
.head 6 -  Top:    1.905"
.head 6 -  Width:  2.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Sexo :
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 25644
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.683"
.head 5 -  Top:    1.929"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Estado Civil :
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 25645
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.183"
.head 5 -  Top:    2.262"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfEstadoCivil
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 9.983"
.head 6 -  Top:    2.238"
.head 6 -  Width:  2.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Identidad :
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 25646
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.383"
.head 5 -  Top:    2.595"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfIdentidad
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 9.983"
.head 6 -  Top:    2.571"
.head 6 -  Width:  2.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Telefono :
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 25647
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.383"
.head 5 -  Top:    3.012"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTelefono
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 9.983"
.head 6 -  Top:    2.905"
.head 6 -  Width:  2.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Tipo de Paciente:
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 25648
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    0.512"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTipo
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.883"
.head 6 -  Top:    0.488"
.head 6 -  Width:  2.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Empresa/Maquila
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 25649
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.083"
.head 5 -  Top:    0.512"
.head 5 -  Width:  1.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfEmpresa
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.883"
.head 6 -  Top:    0.488"
.head 6 -  Width:  3.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Fecha Nacimiento:
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 21991
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.583"
.head 5 -  Top:    0.512"
.head 5 -  Width:  1.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFecha_Nac
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 11.083"
.head 6 -  Top:    0.488"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: 99/99/9999
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbBuscarServicio
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    1.655"
.head 5 -  Width:  0.633"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: F5
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\info.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set sRegresaServ= ''
.head 6 -  Set sRegresaCateg=''
.head 6 +  If SalIsNull(tbl1.colUnico)
.head 7 -  !
.head 7 -  Return FALSE
.head 6 -  Call SalModalDialog( dlgConsultaServicios, hWndForm,2,sRegresaServ, sRegresaCateg)
.head 6 +  If sRegresaCateg !='' and sRegresaServ !=''
.head 7 -  ! Call Limpiar()
.head 7 -  Set tbl1.colServicio=sRegresaServ
.head 7 -  Set tbl1.colCategoria=sRegresaCateg
.head 7 -  Call SalSendMsg(tbl1.colCategoria, SAM_Validate,0,0)
.head 7 -  Call SalSendMsg(tbl1.colServicio, SAM_Validate,0,0)
.head 7 +  ! If cmbCateg.sCodigos='6' or cmbCateg.sCodigos='11'
.head 8 -  Call DeshabilitarTodo(  )
.head 3 +  Pushbutton: pbAplicarPlantilla
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.117"
.head 5 -  Top:    0.429"
.head 5 -  Width:  0.633"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.393"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\ok.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If SalIsNull(cmbPlantilla)
.head 7 -  !
.head 7 -  !
.head 7 -  Call SalMessageBox( "Debe especificar la plantilla a aplicar", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 7 -  Call SalSetFocus(cmbPlantilla)
.head 7 -  Return FALSE
.head 6 -  !
.head 6 -  Call AplicarPlantilla()
.head 3 -  Background Text: Plantilla a aplicar:
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 11203
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.05"
.head 5 -  Top:    0.536"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbPlantilla
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatComboBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.55"
.head 5 -  Top:    0.512"
.head 5 -  Width:  3.5"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.048"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_DropDown
.head 6 -  !
.head 6 -  Set sPlantilla= cmbPlantilla
.head 6 -  Set sSQL = "
			SELECT 
				DISTINCT
				DESC_PLANTILLA
			FROM
				PLANTILLAS_INVENTARIO
			ORDER BY
				DESC_PLANTILLA"
.head 6 -  Call SalListPopulate(cmbPlantilla, hSql1, sSQL)
.head 6 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 6 -  !
.head 6 -  Call SalListSelectString( hWndItem, -1,sPlantilla)
.head 6 -  !
.head 5 +  On SAM_Validate
.head 6 -  !
.head 6 -  !
.head 6 -  ! Set sSQL = "
	SELECT 
    		M.COD_MEDICO,
    		M.COD_ESPECIALIDAD,
    		E.NOMBRE    
	FROM
    		MEDICOS M,
    		ESPECIALIDAD E
	WHERE
    		M.NOMBRE = :cmbMedicosOS AND
    		E.COD_ESPECIALIDAD = M.COD_ESPECIALIDAD
	INTO 
		:dfCodMedico,
		:cmbEspecialidad.nCodigo , 
		:cmbEspecialidad
	"
.head 6 -  ! Call SqlImmediate(sSQL)
.head 6 -  ! Call SqlClearImmediate( )
.head 2 +  Functions
.head 3 +  Function: VerSiPuedeBorrar
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nEst
.head 5 -  Number: nImp
.head 4 +  Actions
.head 5 -  Call SqlPrepareAndExecute(hSql1,"
select	ESTADO_PROCESO,ESTADO_IMPRESA
from	FACTURASA
where	COD_FACTURA=:dfFactura  into	:nEst,:nImp")
.head 5 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  ! nEst=0 En proceso nEst=1 Cerrada, nEst=2 Anulada
.head 5 +  Select Case nEst
.head 6 +  Case 1
.head 7 -  Call SalMessageBox( "No se puede Borrar
                                 una Factura que ha sido cerrada ", "Error", MB_Ok )
.head 7 -  Return FALSE
.head 6 +  Case 2
.head 7 -  Call SalMessageBox( "No se puede Borrar
                                 una Factura que ha sido anulada ", "Error", MB_Ok )
.head 5 +  Select Case nImp
.head 6 +  Case 1
.head 7 -  Call SalMessageBox( "No se puede Borrar
                                 una Factura que ha sido impresa ", "Error", MB_Ok )
.head 7 -  Return FALSE
.head 5 -  Return TRUE
.head 3 +  Function: Actualizar_Montos
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nEst
.head 5 -  Number: nImp
.head 5 -  Number: nFila
.head 4 +  Actions
.head 5 -  Set dfMontoFactura=SalTblColumnSum(tbl1,9,0,32)
.head 5 -  Set dfHonorarios=SalTblColumnSum(tbl2,5,0,32)
.head 5 -  Set nFila=-1
.head 5 +  While SalTblFindNextRow(tbl2,nFila,0,0)
.head 6 -  Call SalTblSetContext(tbl2,nFila)
.head 6 +  If tbl2.colPagar =0
.head 7 +  If not SalTblQueryRowFlags(tbl2,nFila,ROW_MarkDeleted)
.head 8 -  Set dfHonorarios=dfHonorarios-tbl2.colCosto
.head 5 -  Set dfTotal=dfMontoFactura + dfHonorarios - dfDescuento
.head 5 -  ! Set dfTotal=dfMontoFactura  - dfDescuento
.head 5 -  Call SalDateToStr( dfFechaRegistro, FECHA_REGISTRO )
.head 5 -  Call SalStrLeft (FECHA_REGISTRO, 10, FECHA_REGISTRO )
.head 5 -  Call SalDateToStr( dfFechaIngreso, FECHA_INGRESO )
.head 5 -  Call SalStrLeft (FECHA_INGRESO, 10, FECHA_INGRESO )
.head 5 +  If dfFechaEgreso!=DATETIME_Null
.head 6 -  Call SalDateToStr( dfFechaEgreso, FECHA_EGRESO )
.head 6 -  Call SalStrLeft (FECHA_EGRESO, 10, FECHA_EGRESO )
.head 5 +  Else
.head 6 -  Set FECHA_EGRESO=STRING_Null
.head 3 +  Function: VerSiPuedeGrabar
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nEst
.head 5 -  Number: nImp
.head 4 +  Actions
.head 5 -  Call SqlPrepareAndExecute(hSql1,"
select	ESTADO_PROCESO,ESTADO_IMPRESA
from	FACTURASA
where	COD_FACTURA=:dfFactura  into	:nEst,:nImp")
.head 5 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  ! nEst=0 En proceso nEst=1 Cerrada, nEst=2 Anulada
.head 5 +  Select Case nEst
.head 6 +  Case 1
.head 7 -  Call SalMessageBox( "No se puede Modificar
                                 una Factura que ha sido cerrada ", "Error", MB_Ok )
.head 7 -  Return FALSE
.head 6 +  Case 2
.head 7 -  Call SalMessageBox( "No se puede Modificar
                                 una Factura que ha sido anulada ", "Error", MB_Ok )
.head 7 -  Return FALSE
.head 5 -  Return TRUE
.head 3 +  Function: ActualizarPaciente
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nTipo
.head 5 -  Number: nEstado
.head 5 -  String: nSexo
.head 5 -  Number: nEstado_Pac
.head 5 -  Date/Time: nFecha
.head 5 -  Date/Time: nFechaHoy
.head 5 -  Number: nEmpresa
.head 4 +  Actions
.head 5 -  Call LimpiarCliente()
.head 5 -  Call SqlExists( "select 
		A.PRIMER_NOM + ' ' + A.PRIMER_APE,
   		A.DIRECCION,
		A.TIPO,
		A.IDENTIDAD,
   		A.SEXO,
		A.ESTADO_CIVIL,
		A.TELEFONO_CASA,
		A.PRIMER_NOM,
   		A.SEGUNDO_NOM,
		A.PRIMER_APE,
		A.SEGUNDO_APE,
		A.ESTADO_PAC,
		A.FEC_FCONTRATO,
   		A.COD_EMPRESA,
		A.TIPO_S,
		A.DISPONIBLE,
		FECHA_NAC
from 
		PACIENTES A 
where
		A.COD_PACIENTE  =:dfPaciente  and 
		A.CORREL_PACIENTE=:dfPacienteCorrel and
		A.ESTADO_PAC	!= 1
into 
		:dfNombre,
		:mlDireccion,
		:nTipo, 
		:dfIdentidad,
		:nSexo, 
		:nEstado,
		:dfTelefono,
		:dfPrimer_Nom,
		:dfSegundo_Nom,
		:dfPrimer_Ape,
		:dfSegundo_Ape,
		:nEstado_Pac,
		:nFecha,
		:nEmpresa,
		:dfTipo,
		:dfDisp, 
		:dfFecha_Nac " ,bExists)
.head 5 -  Call SqlClearImmediate( )
.head 5 +  If not bExists
.head 6 -  Call SalMessageBox( "Paciente no existe o está inactivo" , "Error", MB_Ok )
.head 6 -  Set dfPaciente=''
.head 5 +  Else
.head 6 -  Call SqlClearImmediate()
.head 6 -  Call SqlExists( "select A.NOMBRE from EMPRESAS A where COD_EMPRESA=:nEmpresa
into :dfEmpresa",bExists)
.head 6 -  Call SqlClearImmediate( )
.head 6 +  If nEstado_Pac=1
.head 7 -  Call SalMessageBox( "Paciente esta Inactivo por lo tanto no se le puede
                                    generar factura " , "Error", MB_Ok )
.head 7 -  Set dfPaciente=''
.head 7 -  Return 0
.head 6 +  If nSexo='M'
.head 7 -  Set dfSexo='Masculino'
.head 6 +  Else
.head 7 -  Set dfSexo='Femenino'
.head 6 +  Select Case nEstado
.head 7 +  Case 0
.head 8 -  Set dfEstadoCivil='Soltero'
.head 8 -  Break
.head 7 +  Case 1
.head 8 -  Set dfEstadoCivil='Casado'
.head 8 -  Break
.head 7 +  Case 2
.head 8 -  Set dfEstadoCivil='Divorciado'
.head 8 -  Break
.head 3 +  Function: LimpiarCliente
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Set dfPrimer_Nom=''
.head 5 -  Set dfSegundo_Nom=''
.head 5 -  Set dfPrimer_Ape=''
.head 5 -  Set dfSegundo_Ape=''
.head 5 -  Set mlDireccion= ''
.head 5 -  Set dfEstadoCivil =''
.head 5 -  Set dfIdentidad =''
.head 5 -  Set dfEmpresa=''
.head 5 -  Set dfTipo=''
.head 5 -  Set dfSexo=''
.head 5 -  Set dfTelefono=''
.head 3 +  Function: CerrarFactura
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nEstadoProceso
.head 5 -  Number: nEstadoImpresa
.head 5 -  String: nfechahoy
.head 5 -  Number: nTipo
.head 4 +  Actions
.head 5 -  Call SqlExists( "select  
		A.ESTADO_PROCESO,
		A.ESTADO_IMPRESA
    from 
		FACTURASA  A 
where
		A.COD_FACTURA  =:dfFactura
  into 	
		:nEstadoProceso,
		:nEstadoImpresa " ,bExists)
.head 5 -  Call SqlClearImmediate( )
.head 5 +  If not bExists
.head 6 -  Call SalMessageBox( "Factura no Existe" , "Error", MB_Ok )
.head 5 +  Else
.head 6 +  Select Case nEstadoProceso
.head 7 +  Case 1
.head 8 -  Call SalMessageBox( "La Factura ya fue  cerrada ", "Error", MB_Ok )
.head 8 -  Return 0
.head 7 +  Case 2
.head 8 -  Call SalMessageBox( "La Factura esta Anulada, no puede cerrarse", "Error", MB_Ok )
.head 8 -  Return 0
.head 7 +  Case 0
.head 8 -  !
.head 8 -  Call SybExecuteProc( hSql6, "CERRAR_FACTURAA " || SalNumberToStrX (dfFactura, 0) , STRING_Null)
.head 8 -  !
.head 8 -  Call SalMessageBox ("La Factura ha sido CERRADA","MENSAJE",MB_Ok)
.head 8 -  Break
.head 3 +  Function: AnularFactura
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nEstadoProceso
.head 5 -  Number: nEstadoImpresa
.head 5 -  String: nfechahoy
.head 5 -  Number: nTipo
.head 4 +  Actions
.head 5 -  Call SqlExists( "select  A.ESTADO_PROCESO,A.ESTADO_IMPRESA
    from FACTURASA  A where
A.COD_FACTURA  =:dfFactura

  into :nEstadoProceso,:nEstadoImpresa " ,bExists)
.head 5 -  Call SqlClearImmediate( )
.head 5 +  If not bExists
.head 6 -  Call SalMessageBox( "Factura no Existe" , "Error", MB_Ok )
.head 5 +  Else
.head 6 +  Select Case nEstadoProceso
.head 7 +  Case 2
.head 8 -  Call SalMessageBox( "La Factura esta Anulada, no puede cerrarse", "Error", MB_Ok )
.head 8 -  Break
.head 7 +  Case 0
.head 8 -  Call SalMessageBox( "La Factura no se puede Anular, esta en PROCESO", "Error", MB_Ok )
.head 8 -  Break
.head 7 +  Case 1
.head 8 -  Call SqlExists( "select  A.TIPO  from PACIENTES  A where
A.COD_PACIENTE  =:dfPaciente and A.CORREL_PACIENTE=:dfPacienteCorrel
 into :nTipo " ,bExists)
.head 8 -  Call SqlClearImmediate( )
.head 8 +  Select Case nTipo
.head 9 +  Case 1
.head 10 +  If SalMessageBox( "Esta seguro de Anular la Factura ?", "Advertencia", MB_YesNo )=IDYES
.head 11 -  Call SqlPrepareAndExecute( hSql1, " update facturasA
                 set ESTADO_PROCESO=2,
                  ESTADO_PAGO=0,
                  MONTO_PAGADO=0,
                  MONTO_DEBE=0
                   where
                  COD_FACTURA=:dfFactura " )
.head 11 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 11 -  Call SalMessageBox ("La Factura ha sido ANULADA","MENSAJE",MB_Ok)
.head 11 -  Break
.head 9 +  Case 0
.head 10 +  If SalMessageBox( "Esta seguro de Anular la Factura ?", "Advertencia", MB_YesNo )=IDYES
.head 11 -  Call SqlPrepareAndExecute( hSql1, " update facturasA
                 set ESTADO_PROCESO=2,
                  ESTADO_PAGO=0,
                  MONTO_PAGADO=0,
                  MONTO_DEBE=0
                   where
                  COD_FACTURA=:dfFactura " )
.head 11 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 11 -  Call SqlPrepareAndExecute(hSql1, " update pacientes
set disponible=disponible+:dfTotal
where cod_paciente=:dfPaciente  ")
.head 11 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 11 -  Call SalMessageBox ("La Factura ha sido ANULADA","MENSAJE",MB_Ok)
.head 11 -  Break
.head 9 +  Case 2
.head 10 +  If SalMessageBox( "Esta seguro de Anular la Factura ?", "Advertencia", MB_YesNo )=IDYES
.head 11 -  Call SqlPrepareAndExecute( hSql1, " update facturasA
                 set ESTADO_PROCESO=2,
                  ESTADO_PAGO=0,
                  MONTO_PAGADO=0,
                  MONTO_DEBE=0
                   where
                  COD_FACTURA=:dfFactura " )
.head 11 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 11 -  Call SqlPrepareAndExecute(hSql1, " update empresas
set monto_debe =monto_debe -:dfTotal
where cod_empresa =:dfcodEmpresa  ")
.head 11 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 11 -  Call SalMessageBox ("La Factura ha sido ANULADA","MENSAJE",MB_Ok)
.head 10 -  Break
.head 3 +  Function: LimpiarFactura
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Set dfTotal=NUMBER_Null
.head 5 -  Set dfDescuento=NUMBER_Null
.head 5 -  Set dfMontoFactura=NUMBER_Null
.head 5 -  Set dfHonorarios=NUMBER_Null
.head 5 -  Set mlDescripcion= ''
.head 5 -  Set dfESTADO_PROCESO_STRING =''
.head 5 -  Set dfFechaCierre =DATETIME_Null
.head 5 -  Set dfFechaRegistro =DATETIME_Null
.head 5 -  Set dfEstadoProceso=NUMBER_Null
.head 5 -  Set dfFactura=NUMBER_Null
.head 5 -  Set dfPaciente=''
.head 5 -  Set dfPacienteCorrel=''
.head 5 -  Set dfNombre=''
.head 3 +  Function: tblConstructQuery
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sConsulta
.head 4 +  Actions
.head 5 -  Set sConsulta="Select
			O.CODIGO,
			O.COD_PACIENTE,
        			O.CORREL_PACIENTE,
        			(CASE
                            			WHEN O.COD_PACIENTE = 'TEMPCOD' THEN O.NOMBRE_TMP
                            			ELSE P.PRIMER_NOM +  ' ' + P.PRIMER_APE
                        		 END ) AS NOMBRE,        			
			O.FECHA,
			O.CANTIDAD,
        			O.TOTAL,
			S.NOMBRE AS SERVICIO,
			O.COD_CATEGORIA,
			O.CODIGO_SERVICIO,
			M.NOMBRE AS MEDICO_DESTINO
		
		from
			ORDENES_SERVICIO 	O,			
        			PACIENTES           		P,
            			MEDICOS           		M,
			SERVICIOS		S
		where			
        			O.COD_PACIENTE 	= P.COD_PACIENTE   	AND
            			O.CORREL_PACIENTE 	= P.CORREL_PACIENTE 	AND
            			O.CODIGO_MEDICO     	= M.COD_MEDICO 		AND
			O.CODIGO_SERVICIO 	= S.COD_SERVICIO 	AND 
			O.COD_CATEGORIA	= S.COD_CATEGORIA  	AND 
			O.COD_PACIENTE 	= :dfPaciente 		AND 
			O.CORREL_PACIENTE 	= :dfPacienteCorrel
		order	
			by	FECHA"

.head 5 -  Return sConsulta
.head 3 +  Function: AplicarPlantilla
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nSig
.head 5 -  String: sCodCategPlantilla
.head 5 -  String: sCodServicioPlantilla
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  !
.head 5 -  Call SqlPrepareAndExecute( hSql1, "
			SELECT 
				COD_SERVICIO,
				COD_CATEGORIA
			FROM
				PLANTILLAS_INVENTARIO
			WHERE
				DESC_PLANTILLA = :cmbPlantilla
			INTO 
				:sCodServicioPlantilla,
				:sCodCategPlantilla")
.head 5 -  Call SqlFetchNext( hSql1, nSig )
.head 5 +  While nSig!=FETCH_EOF
.head 6 -  !
.head 6 -  Call SalSendMsg(pbAgregarServicio, SAM_Click, 0, 0)
.head 6 -  Set tbl1.colServicio=sCodServicioPlantilla
.head 6 -  Set tbl1.colCategoria=sCodCategPlantilla
.head 6 -  Call SalSendMsg(tbl1.colCategoria, SAM_Validate,0,0)
.head 6 -  Call SalSendMsg(tbl1.colServicio, SAM_Validate,0,0)
.head 6 -  !
.head 6 -  Call SqlFetchNext( hSql1, nSig )
.head 5 -  !
.head 5 -  Call SalWaitCursor(FALSE)
.head 3 +  Function: EliminarBlancos
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nFilaT
.head 4 +  Actions
.head 5 -  Set nFilaT=-1
.head 5 +  While SalTblFindNextRow(tbl1,nFilaT,ROW_New | ROW_Edited,0)
.head 6 -  Call SalTblSetContext(tbl1,nFilaT)
.head 6 +  If not SalTblQueryRowFlags( tbl1, nFilaT, ROW_MarkDeleted )
.head 7 -  !
.head 7 +  If SalIsNull( tbl1.colCantidad)
.head 8 -  Call SalTblSetFocusRow( tbl1, nFilaT)
.head 8 -  Call SalSendMsg(pbBorrarServicio, SAM_Click, 0, 0)
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: sRegresa
.head 3 -  String: FECHA_REGISTRO
.head 3 -  Number: wEstado
.head 3 -  Number: nRegresa
.head 3 -  String: sRegresaPac
.head 3 -  String: sRegresaCor
.head 3 -  String: FECHA_INGRESO
.head 3 -  String: FECHA_EGRESO
.head 3 -  String: nCosto
.head 3 -  String: nCosto1
.head 3 -  String: nCosto2
.head 3 -  String: nCosto3
.head 3 -  Boolean: NUEVO
.head 3 -  Boolean: bExistsFact
.head 3 -  String: sSQL
.head 3 -  Date/Time: dtCurrentDate
.head 3 -  Number: nCreadoPor
.head 3 -  Number: nModificadoPor
.head 3 -  Date/Time: dtHoy
.head 3 -  !
.head 3 -  String: sRegresaCateg
.head 3 -  String: sRegresaServ
.head 3 -  String: sPlantilla
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  Call DeshabilitarTodo(  )
.head 4 -  Call SalDisableWindow(pbGrabar)
.head 4 -  Set NUEVO=FALSE
.head 4 -  Call SalCenterWindow( hWndForm )
.head 3 +  On SAM_Destroy
.head 4 -  !
.head 4 +  If NUEVO
.head 5 -  !
.head 5 -  Set sSQL = "select
		COD_FACTURA
	from
		FACTURASA
	where
		COD_FACTURA=:dfFactura"
.head 5 -  Call SqlExists (sSQL, bExistsFact)
.head 5 -  Call SqlClearImmediate()
.head 5 +  If not bExistsFact
.head 6 -  !
.head 6 -  Set sSQL = 'DELETE FROM
		 IDENTITYS
	WHERE
		cod_tabla = 24 AND
		MAXIMO = :dfFactura'
.head 6 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  !
.head 3 +  On MU_BORRAR
.head 4 -  ! Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 4 -  ! Call VerSiPuedeBorrar()
.head 4 -  ! Call SqlPrepareAndExecute(hSql1,"Begin Tran")
.head 4 -  ! Call SqlPrepareAndExecute(hSql1,"
	delete from	DET_FACTURAA
	where	COD_FACTURA =:dfFactura")
.head 4 -  ! Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  ! Call SqlPrepareAndExecute(hSql1,"
	delete from	DET_HONORARIOSA
	where	COD_FACTURA =:dfFactura")
.head 4 -  ! Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  ! Call SqlPrepareAndExecute(hSql1,"delete from
		FACTURASA
	where	COD_FACTURA=:dfFactura")
.head 4 -  ! Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 4 -  ! Call LimpiarFactura()
.head 4 -  ! Call SalMessageBox( "Factura ha sido Eliminada", "Advertencia", MB_Ok )
.head 4 -  ! Call SalEnableWindow(pbGrabar)
.head 4 -  Call SalMessageBox( "Esta opcion ha sido deshabilitada.", "Advertencia", MB_Ok )
.head 3 +  On MU_GRABAR
.head 4 -  Call Actualizar_Montos()
.head 4 -  !
.head 4 -  Set dtCurrentDate=SalDateCurrent()
.head 4 -  !
.head 4 -  Call SqlExists("select	COD_FACTURA  from FACTURASA
where	COD_FACTURA=:dfFactura",bExists)
.head 4 -  Call SqlClearImmediate( )
.head 4 -  !
.head 4 +  If not bExists
.head 5 -  Call SqlPrepareAndExecute(hSql1,"Begin Tran")
.head 5 +  If SqlPrepareAndExecute(hSql1,"
insert INTO FACTURASA (
COD_FACTURA,
COD_PACIENTE,
CORREL_PACIENTE,
DESCRIPCION,
FECHA_REGISTRO,
ESTADO_PROCESO,
ESTADO_IMPRESA,
MONTO_DEBE,
ESTADO_PAGO,
MONTO_PAGADO,
MONTO_FACTURA,
MONTO_HONORARIOS,
DESCUENTO,
TOTAL,
FECHA_INGRESO,
FECHA_EGRESO,
TIPO,
CAMA,
CREADO_POR,
CODIGO_CIUDAD_GEO)
values(
:dfFactura,
:dfPaciente,
:dfPacienteCorrel,
:mlDescripcion,
:FECHA_REGISTRO,
0,
0,
0,
0,
0,
:dfMontoFactura,
:dfHonorarios,
:dfDescuento,
:dfTotal,
:FECHA_INGRESO,
:FECHA_EGRESO,
:cmbTipo,
:cmbHabitacion.nCodigo,
:nCodUser,
:nCodCiudad
)")
.head 6 -  Call SqlPrepare(hSql1,"insert
DET_FACTURAA (
CORREL ,
COD_SERVICIO,
COD_FACTURA,
COSTO,
FECHA,
CANTIDAD,
DESCRIPCION,
SUBTOTAL,
COD_CATEGORIA,
USUARIO_C)
values(:tbl1.colUnico,
:tbl1.colServicio,
:dfFactura,
:tbl1.colCosto,
:tbl1.colFecha,
:tbl1.colCantidad,
:tbl1.colcmbServi,
:tbl1.colSubTotal,
:tbl1.colCategoria,
:nCodUser)")
.head 6 -  Call SalTblDoInserts(tbl1,hSql1,TRUE)
.head 6 -  Call SqlPrepare(hSql1,"insert
DET_HONORARIOSA (
CORREL ,
COD_FACTURA,
COD_MEDICO,
COSTO,
FECHA,
DESCRIPCION,
ESTADO_PAGO)
values(:tbl2.colUnicoHon,
:dfFactura,
:tbl2.colCodDoctor,
:tbl2.colCosto,
:tbl2.colFechaString,
:tbl2.colDescripcion,
:tbl2.colPagar)")
.head 6 -  Call SalTblDoInserts(tbl2,hSql1,TRUE)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 6 -  Call SalDisableWindow(pbGrabar)
.head 6 -  Set NUEVO=FALSE
.head 4 +  Else
.head 5 +  If NUEVO=TRUE
.head 6 -  Set dfFactura=Identity(24)
.head 6 -  Call SalMessageBox( 'El numero de Factura ya Existe por lo que Esta Factura se Grabara con el siguiente NUMERO : '||SalNumberToStrX( dfFactura, 0 ) ,
'Advertencia', MB_Ok )
.head 5 -  Call SqlPrepareAndExecute(hSql1,"Begin tran")
.head 5 -  Call SqlPrepare(hSql1,"insert
DET_FACTURAA (
CORREL ,
COD_SERVICIO,
COD_FACTURA,
COSTO,
FECHA,
CANTIDAD,
DESCRIPCION,
SUBTOTAL,COD_CATEGORIA,
USUARIO_C)
values(:tbl1.colUnico,
:tbl1.colServicio,
:dfFactura,
:tbl1.colCosto,
:tbl1.colFecha,
:tbl1.colCantidad,
:tbl1.colcmbServi,
:tbl1.colSubTotal,
:tbl1.colCategoria,
:nCodUser)")
.head 5 -  Call SalTblDoInserts(tbl1,hSql1,TRUE)
.head 5 -  Set dtHoy=SalDateCurrent( )
.head 5 -  Call SqlPrepare(hSql1,"update
DET_FACTURAA
set
COD_SERVICIO=:tbl1.colServicio,
COD_FACTURA=:dfFactura,
COSTO=:tbl1.colCosto,
FECHA=:tbl1.colFecha,
CANTIDAD=:tbl1.colCantidad,
DESCRIPCION=:tbl1.colcmbServi,
SUBTOTAL=:tbl1.colSubTotal ,COD_CATEGORIA=:tbl1.colCategoria,
USUARIO_M=:nCodUser,
FECHA_MODI=:dtHoy
where correl = :tbl1.colUnico")
.head 5 -  Call SalTblDoUpdates(tbl1,hSql1,TRUE)
.head 5 -  Call SqlPrepare(hSql1,"insert
DET_HONORARIOSA (
CORREL ,
COD_FACTURA,
COD_MEDICO,
COSTO,
FECHA,
DESCRIPCION,
ESTADO_PAGO)
values(:tbl2.colUnicoHon,
:dfFactura,
:tbl2.colCodDoctor,
:tbl2.colCosto,
:tbl2.colFechaString,
:tbl2.colDescripcion,
:tbl2.colPagar)")
.head 5 -  Call SalTblDoInserts(tbl2,hSql1,TRUE)
.head 5 -  Call SqlPrepare(hSql1,"delete from
		DET_FACTURAA
	where	CORREL=:tbl1.colUnico")
.head 5 -  Call SalTblDoDeletes(tbl1,hSql1,ROW_MarkDeleted)
.head 5 -  Call SqlPrepare(hSql1,"delete from
		DET_HONORARIOSA
	where	CORREL=:tbl2.colUnicoHon")
.head 5 -  Call SalTblDoDeletes(tbl2,hSql1,ROW_MarkDeleted)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"
update  FACTURASA
set COD_PACIENTE=:dfPaciente,
CORREL_PACIENTE=:dfPacienteCorrel,
DESCRIPCION=:mlDescripcion,
MONTO_FACTURA=:dfMontoFactura,
MONTO_HONORARIOS=:dfHonorarios,
DESCUENTO=:dfDescuento,
FECHA_INGRESO=:FECHA_INGRESO,
FECHA_EGRESO=:FECHA_EGRESO,
TOTAL=:dfTotal,
TIPO=:cmbTipo,
cama=:cmbHabitacion.nCodigo,
MODIFICADO_POR =:nCodUser,
FECHA_MODIFICACION=:dtCurrentDate
 where
COD_FACTURA=:dfFactura " )
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 5 -  Call SalDisableWindow(pbGrabar)
.head 5 -  Set NUEVO=FALSE
.head 3 +  On MU_ACTUALIZAR
.head 4 -  Call SalClearField( tbl1 )
.head 4 -  Call SalClearField( tbl2 )
.head 4 -  Call SalClearField (dfCreadoPor)
.head 4 -  Call SalClearField (dfModificadoPor)
.head 4 -  Call Limpiar()
.head 4 -  Call SalWaitCursor(TRUE)
.head 4 -  Call SqlPrepareAndExecute(hSql1,"
select
	F.COD_PACIENTE,
	F.CORREL_PACIENTE,
	F.DESCRIPCION,
	F.FECHA_REGISTRO,
	F.ESTADO_PROCESO,
	F.ESTADO_IMPRESA,
	F.ESTADO_PAGO,
	F.MONTO_FACTURA,
	F.MONTO_HONORARIOS,
	F.DESCUENTO,
	F.FECHA_CIERRE,
	F.TOTAL,
	F.FECHA_INGRESO,
	F.FECHA_EGRESO,
	F.TIPO,
	F.CAMA,
	F.CODIGO_CIUDAD_GEO,
        	C.NOMBRE,
	ISNULL(F.CREADO_POR,0),
	ISNULL(F.MODIFICADO_POR,0)
from	
	FACTURASA	F,
	CIUDADES_GEO    C	
where	
	F.COD_FACTURA 	            = :dfFactura AND
	F.CODIGO_CIUDAD_GEO *= C.CODIGO
into
	:dfPaciente,
	:dfPacienteCorrel,
	:mlDescripcion,
	:dfFechaRegistro,
	:dfEstadoProceso,
	:dfEstadoImpresa,
	:dfEstadoPago,
	:dfMontoFactura,
	:dfHonorarios,
	:dfDescuento,
	:dfFechaCierre,
	:dfTotal,
	:dfFechaIngreso,
	:dfFechaEgreso,
	:cmbTipo,
	:cmbHabitacion.nCodigo,
	:cmbCuidades.nCodigo,
	:cmbCuidades,
	:nCreadoPor,
	:nModificadoPor		
")
.head 4 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 4 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  !
.head 4 -  ! Call cmbHabitacion.Actualizar()
.head 4 -  !
.head 4 +  Select Case dfEstadoProceso
.head 5 +  Case 0
.head 6 -  Set dfESTADO_PROCESO_STRING='EN PROCESO'
.head 6 -  Break
.head 5 +  Case 1
.head 6 -  Set dfESTADO_PROCESO_STRING='CERRADA'
.head 6 -  Break
.head 5 +  Case 2
.head 6 -  Set dfESTADO_PROCESO_STRING='ANULADA'
.head 6 -  Break
.head 4 -  !
.head 4 -  Set sSQL = "SELECT
		U.NOMBRE
	FROM
		USUARIOS U
	WHERE		
		U.COD_USU = :nCreadoPor
	INTO
		:dfCreadoPor"
.head 4 -  Call SqlImmediate ( sSQL )
.head 4 -  Call SqlClearImmediate ()
.head 4 -  !
.head 4 -  Set sSQL = "SELECT
		U.NOMBRE
	FROM
		USUARIOS U
	WHERE		
		U.COD_USU = :nModificadoPor
	INTO
		:dfModificadoPor"
.head 4 -  Call SqlImmediate ( sSQL )
.head 4 -  Call SqlClearImmediate ()
.head 4 -  !
.head 4 -  Call SalTblPopulate(tbl1,hSql1,"
select	A.CORREL ,
                C.COD_CATEGORIA,
                C.NOMBRE,
                A.COD_SERVICIO,
                B.NOMBRE,
                A.COSTO,
                A.CANTIDAD,
                convert(varchar(10) ,A.FECHA,103),
	A.SUBTOTAL,
                A.FECHA
               
from	 DET_FACTURAA A, SERVICIOS B, CATEG_SERVICIOS C


where	A.COD_FACTURA=:dfFactura  and
A.COD_SERVICIO=B.COD_SERVICIO AND
B.COD_CATEGORIA=C.COD_CATEGORIA AND A.COD_CATEGORIA=B.COD_CATEGORIA
order by a.fecha ",TBL_FillAll)
.head 4 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  !
.head 4 -  Call SalTblPopulate(tbl2,hSql1,"
select	A.CORREL ,
                A.COD_MEDICO,
                B.NOMBRE,
                A.DESCRIPCION,
                A.COSTO,
                 convert(varchar(10) ,A.FECHA,103),
	A.ESTADO_PAGO,
                A.FECHA
               
from	 DET_HONORARIOSA A, MEDICOS  B


where	A.COD_FACTURA=:dfFactura  and
A.COD_MEDICO=B.COD_MEDICO order by a.fecha  ",TBL_FillAll)
.head 4 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  Call DeshabilitarTodo(  )
.head 4 -  Call ActualizarPaciente(  )
.head 4 -  Call SalEnableWindow(tbl1)
.head 4 -  Call SalEnableWindow(tbl2)
.head 4 -  Call SalEnableWindow(tblOrdenes)
.head 4 -  Call SalEnableWindow(dfPaciente)
.head 4 -  Call SalEnableWindow(dfPacienteCorrel)
.head 4 -  Call SalEnableWindow(mlDescripcion)
.head 4 -  Call SalEnableWindow(dfDescuento)
.head 4 -  Call SalWaitCursor(FALSE)
.head 4 -  Call SalEnableWindow(pbBorrar)
.head 4 -  Call SalEnableWindow(pbAgregar)
.head 4 -  Call SalEnableWindow(pbGrabar)
.head 4 -  Call SalEnableWindow(pbAgregarServicio)
.head 4 -  Call SalEnableWindow(pbBuscarServicio)
.head 4 -  Call SalEnableWindow(pbAgregarHon)
.head 4 -  Call SalEnableWindow(pbBorrarServicio)
.head 4 -  Call SalEnableWindow(pbBorrarHon)
.head 4 -  Call SalEnableWindow(pbAplicarPlantilla)
.head 4 -  Call SalEnableWindow(cmbPlantilla)
.head 4 -  Call SalWaitCursor( TRUE )
.head 4 -  Set sSQL = tblConstructQuery()
.head 4 -  Call SalTblPopulate( tblOrdenes, hSql1, sSQL, TBL_FillAll)
.head 4 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  Set dfTotaltbl=ContarFilas( tblOrdenes )
.head 4 -  Set dfSumatoria = SalTblColumnSum( tblOrdenes, 6, 0, 0 )
.head 4 -  Call SalWaitCursor( FALSE )
.head 1 +  Form Window: frmPac
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Pacientes Privados
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: -0.038"
.head 4 -  Top:    0.271"
.head 4 -  Width:  13.583"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 5.643"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.702"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Charcoal
.head 3 +  Contents
.head 4 +  Pushbutton: pbAgregar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbMas
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.383"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.65"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.55"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filenew.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set pbAgregar.nOpcionh=1
.head 7 -  Set pbAgregar.hWndCampo=dfCodPaciente
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 +  If bEsNuevo
.head 8 -  !
.head 8 -  Set sSQL = "Select
		COD_PACIENTE
	from
		PACIENTES
	where
		COD_PACIENTE =:dfCodPaciente"
.head 8 -  Call SqlExists (sSQL, bExistsPac)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If SalMessageBox("Ha seleccionado dar ingreso a un nuevo paciente. Desea guardar los cambios antes de continuar?","Atencion",MB_YesNo)=IDYES
.head 9 -  !
.head 9 -  Call SalSendMsg (pbGrabar, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  !
.head 9 +  If not bExistsPac
.head 10 -  !
.head 10 -  Set sSQL = 'DELETE FROM
		 IDENTITYS
	WHERE
		cod_tabla = 498 AND
		MAXIMO = :nCodigo'
.head 10 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 10 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 10 -  !
.head 10 -  Call SalSendClassMessage( SAM_Click, 0, 0 )
.head 10 -  Call SalDisableWindow(dfCorrel)
.head 10 -  ! Call SalEnableWindow(pbGrabar)
.head 10 -  Set dfFechaIngreso=FechaHoy(2)
.head 10 -  Set rbMasculino=TRUE
.head 10 -  Set rbSoltero=TRUE
.head 10 -  Set rbActivo=TRUE
.head 10 -  Set dfCorrel='0'
.head 10 -  Set ESTADO_PAC = 1
.head 10 -  Call SalPicClear( pic1 )
.head 10 -  Set nCodigo=Identity(498)
.head 10 -  Set dfCodPaciente='PRI' || SalNumberToStrX(nCodigo, 0 )
.head 10 -  Set dfIdentidad=SalNumberToStrX(nCodigo, 0 )
.head 10 -  Set lsFoto=''
.head 10 -  Set bEsNuevo=TRUE
.head 7 +  Else
.head 8 -  !
.head 8 -  Call SalSendClassMessage( SAM_Click, 0, 0 )
.head 8 -  Call SalDisableWindow(dfCorrel)
.head 8 -  ! Call SalEnableWindow(pbGrabar)
.head 8 -  Set dfFechaIngreso=FechaHoy(2)
.head 8 -  Set rbMasculino=TRUE
.head 8 -  Set rbSoltero=TRUE
.head 8 -  Set rbActivo=TRUE
.head 8 -  Set dfCorrel='0'
.head 8 -  Set ESTADO_PAC = 1
.head 8 -  Call SalPicClear( pic1 )
.head 8 -  Set nCodigo=Identity(498)
.head 8 -  Set dfCodPaciente='PRI' || SalNumberToStrX(nCodigo, 0 )
.head 8 -  Set dfIdentidad=SalNumberToStrX(nCodigo, 0 )
.head 8 -  Set lsFoto=''
.head 8 -  Set bEsNuevo=TRUE
.head 7 -  !
.head 4 +  Pushbutton: pbBorrar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbMenos
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.083"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.65"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.548"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\editdelete.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set pbBorrar.nOpcionh=1
.head 7 -  Set pbBorrar.sTitulo=' El Paciente'
.head 4 +  Pushbutton: pbGrabar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbGrabar
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.783"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.65"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.548"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filesave.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbBusqueda
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbBusqueda
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 2.483"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.65"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.548"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 +  If bEsNuevo
.head 8 -  !
.head 8 -  Set sSQL = "Select
		COD_PACIENTE
	from
		PACIENTES
	where
		COD_PACIENTE =:dfCodPaciente"
.head 8 -  Call SqlExists (sSQL, bExistsPac)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If SalMessageBox("Ha seleccionado dar ingreso a un nuevo paciente. Desea guardar los cambios antes de continuar?","Atencion",MB_YesNo)=IDYES
.head 9 -  !
.head 9 -  Call SalSendMsg (pbGrabar, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  !
.head 9 +  If not bExistsPac
.head 10 -  !
.head 10 -  Set sSQL = 'DELETE FROM
		 IDENTITYS
	WHERE
		cod_tabla = 498 AND
		MAXIMO = :nCodigo'
.head 10 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 10 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 10 -  !
.head 10 -  Set bEsNuevo =FALSE
.head 10 -  Set sRegresaPac=''
.head 10 -  Set sRegresaCor=''
.head 10 -  Call SalModalDialog( dlgConsultaPacientesO, hWndForm,sRegresaPac,sRegresaCor, 1, 0, 1 )
.head 10 +  If sRegresaPac!=''
.head 11 -  Set dfCodPaciente =sRegresaPac
.head 11 -  Set dfCorrel =sRegresaCor
.head 11 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 7 +  Else
.head 8 -  !
.head 8 -  Set bEsNuevo =FALSE
.head 8 -  Set sRegresaPac=''
.head 8 -  Set sRegresaCor=''
.head 8 -  Call SalModalDialog( dlgConsultaPacientesO, hWndForm,sRegresaPac,sRegresaCor, 1, 0, 1 )
.head 8 +  If sRegresaPac!=''
.head 9 -  Set dfCodPaciente =sRegresaPac
.head 9 -  Set dfCorrel =sRegresaCor
.head 9 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 4 +  Pushbutton: pbSalir
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 10.483"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.65"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.548"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 +  If bEsNuevo
.head 8 -  !
.head 8 -  Set sSQL = "Select
		COD_PACIENTE
	from
		PACIENTES
	where
		COD_PACIENTE =:dfCodPaciente"
.head 8 -  Call SqlExists (sSQL, bExistsPac)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If SalMessageBox("Ha seleccionado dar ingreso a un nuevo paciente. Desea guardar los cambios antes de continuar?","Atencion",MB_YesNo)=IDYES
.head 9 -  !
.head 9 -  Call SalSendMsg (pbGrabar, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  !
.head 9 +  If not bExistsPac
.head 10 -  !
.head 10 -  Set sSQL = 'DELETE FROM
		 IDENTITYS
	WHERE
		cod_tabla = 498 AND
		MAXIMO = :nCodigo'
.head 10 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 10 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 10 -  !
.head 10 -  Call SalSendClassMessage ( SAM_Click, 0, 0)
.head 7 +  Else
.head 8 -  !
.head 8 -  Call SalSendClassMessage ( SAM_Click, 0, 0)
.head 4 +  Pushbutton: pbHistorial
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 3.183"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.65"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.548"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\ICONS\Graphup.ico
.head 5 -  Picture Transparent Color: None
.head 5 -  Image Style: Single
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 +  If bEsNuevo
.head 8 -  !
.head 8 -  Set sSQL = "Select
		COD_PACIENTE
	from
		PACIENTES
	where
		COD_PACIENTE =:dfCodPaciente"
.head 8 -  Call SqlExists (sSQL, bExistsPac)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If SalMessageBox("Ha seleccionado dar ingreso a un nuevo paciente. Desea guardar los cambios antes de continuar?","Atencion",MB_YesNo)=IDYES
.head 9 -  !
.head 9 -  Call SalSendMsg (pbGrabar, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  !
.head 9 +  If not bExistsPac
.head 10 -  !
.head 10 -  Set sSQL = 'DELETE FROM
		 IDENTITYS
	WHERE
		cod_tabla = 498 AND
		MAXIMO = :nCodigo'
.head 10 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 10 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 10 -  !
.head 10 +  If dfCodPaciente!=''
.head 11 -  Call SqlExists("Select	COD_PACIENTE
from   PACIENTES
where	COD_PACIENTE =:dfCodPaciente and CORREL_PACIENTE=:dfCorrel ",bExists)
.head 11 -  Call SqlClearImmediate( )
.head 11 +  If bExists
.head 12 -  Call SalModalDialog( dlgHistorial, hWndForm,dfCodPaciente,dfCorrel )
.head 7 +  Else
.head 8 -  !
.head 8 +  If dfCodPaciente!=''
.head 9 -  Call SqlExists("Select	COD_PACIENTE
from   PACIENTES
where	COD_PACIENTE =:dfCodPaciente and CORREL_PACIENTE=:dfCorrel ",bExists)
.head 9 -  Call SqlClearImmediate( )
.head 9 +  If bExists
.head 10 -  Call SalModalDialog( dlgHistorial, hWndForm,dfCodPaciente,dfCorrel )
.head 4 +  Pushbutton: pb9
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 8.783"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.65"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.548"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\Medical Invoice Flat.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 +  If SalMessageBox( "Esta seguro de generar nueva Factura ?", "Advertencia", MB_YesNo )=IDYES
.head 8 -  !
.head 8 -  Set sSQL = "Select
		COD_PACIENTE
	from
		PACIENTES
	where
		COD_PACIENTE =:dfCodPaciente"
.head 8 -  Call SqlExists (sSQL, bExistsPac)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If not bExistsPac
.head 9 -  !
.head 9 -  Call SalMessageBox ("Código de paciente no existe!", "Error", MB_Ok )
.head 9 -  Return FALSE
.head 8 -  !
.head 8 -  Call SalCreateWindow( frmFact, hWndForm, 2, dfCodPaciente, dfCorrel)
.head 4 +  Pushbutton: pbAutorizacionPago
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 9.483"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.65"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.548"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\document.bmp
.head 5 -  Picture Transparent Color: None
.head 5 -  Image Style: Single
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 +  If SalMessageBox( "Esta seguro de generar nueva Autorizacion de Pago ?", "Advertencia", MB_YesNo )=IDYES
.head 8 -  !
.head 8 -  Set sSQL = "Select
		COD_PACIENTE
	from
		PACIENTES
	where
		COD_PACIENTE =:dfCodPaciente"
.head 8 -  Call SqlExists (sSQL, bExistsPac)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If not bExistsPac
.head 9 -  !
.head 9 -  Call SalMessageBox ("Código de paciente no existe!", "Error", MB_Ok )
.head 9 -  Return FALSE
.head 8 -  !
.head 8 -  Call SalCreateWindow( frmAutorizacionPago, hWndForm, 2, dfCodPaciente, dfCorrel)
.head 2 +  Contents
.head 3 -  Background Text: Codigo
.head 4 -  Resource Id: 25665
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    0.262"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.313"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCodPaciente
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.483"
.head 6 -  Top:    0.238"
.head 6 -  Width:  2.3"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Call SqlExists("Select	TIPO
from	PACIENTES
where	COD_PACIENTE =:dfCodPaciente and CORREL_PACIENTE=:dfCorrel  into :nTipo  ",bExists)
.head 6 -  Call SqlClearImmediate( )
.head 6 +  If bExists
.head 7 +  If nTipo!=1
.head 8 -  Call SalMessageBox("El Paciente Existe pero no es Privado", "Advertencia",MB_Ok)
.head 8 -  Set dfCodPaciente=''
.head 7 +  Else
.head 8 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 3 +  Data Field: dfCorrel
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.783"
.head 6 -  Top:    0.238"
.head 6 -  Width:  0.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Fecha Ing.
.head 4 -  Resource Id: 25667
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.983"
.head 5 -  Top:    0.262"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaIngreso
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.983"
.head 6 -  Top:    0.238"
.head 6 -  Width:  2.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Primer Nombre
.head 4 -  Resource Id: 25668
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.512"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.313"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfPrimerNom
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.483"
.head 6 -  Top:    0.488"
.head 6 -  Width:  2.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Segundo Nombre
.head 4 -  Resource Id: 25669
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.283"
.head 5 -  Top:    0.512"
.head 5 -  Width:  1.567"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfSegundoNom
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.983"
.head 6 -  Top:    0.512"
.head 6 -  Width:  2.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Primer Apellido
.head 4 -  Resource Id: 25670
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.762"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfPrimerApe
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.483"
.head 6 -  Top:    0.738"
.head 6 -  Width:  2.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Segundo Apellido
.head 4 -  Resource Id: 25671
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.383"
.head 5 -  Top:    0.762"
.head 5 -  Width:  1.467"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfSegundoApe
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.983"
.head 6 -  Top:    0.762"
.head 6 -  Width:  2.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Identidad
.head 4 -  Resource Id: 13734
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.55"
.head 5 -  Top:    1.012"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfIdentidad
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.483"
.head 6 -  Top:    0.988"
.head 6 -  Width:  2.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  ! cmbBaseCodigo: cmbEmpresa
.winattr class Combo Box:
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.683"
.head 5 -  Top:    0.988"
.head 5 -  Width:  2.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: Default
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.end
.head 4 -  List Initialization 
.head 4 +  Message Actions 
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Fecha Nacimiento
.head 4 -  Resource Id: 17205
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.35"
.head 5 -  Top:    1.012"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaNac
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.983"
.head 6 -  Top:    0.988"
.head 6 -  Width:  2.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Empresa
.head 4 -  Resource Id: 13733
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.35"
.head 5 -  Top:    1.31"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbEmpresa
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigoFiltrado
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.483"
.head 5 -  Top:    1.262"
.head 5 -  Width:  2.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 6 -  Set cmbEmpresa.sNombreFiltro='ESTADO'
.head 6 -  Set cmbEmpresa.nValorFiltro=1
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: E-Mail
.head 4 -  Resource Id: 13736
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.183"
.head 5 -  Top:    1.345"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCorreo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.983"
.head 6 -  Top:    1.321"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Group Box: Sexo
.head 4 -  Resource Id: 25672
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    1.738"
.head 5 -  Width:  1.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.75"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Radio Button: rbMasculino
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Masculino
.head 4 -  Window Location and Size
.head 5 -  Left: 0.983"
.head 5 -  Top:    1.905"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbFemenino
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Femenino
.head 4 -  Window Location and Size
.head 5 -  Left: 0.983"
.head 5 -  Top:    2.155"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 -  Group Box: Estado Civil
.head 4 -  Resource Id: 17203
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.983"
.head 5 -  Top:    1.738"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Radio Button: rbSoltero
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Soltero(a)
.head 4 -  Window Location and Size
.head 5 -  Left: 3.283"
.head 5 -  Top:    1.905"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbCasado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Casado(a)
.head 4 -  Window Location and Size
.head 5 -  Left: 3.283"
.head 5 -  Top:    2.155"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbDivorciado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Divorciado(a)
.head 4 -  Window Location and Size
.head 5 -  Left: 3.283"
.head 5 -  Top:    2.655"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbUnion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Unión Libre
.head 4 -  Window Location and Size
.head 5 -  Left: 3.283"
.head 5 -  Top:    2.405"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 -  Background Text: Domicilio
.head 4 -  Resource Id: 17201
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.683"
.head 5 -  Top:    1.929"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTelefonoCasa
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.583"
.head 6 -  Top:    1.905"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Tel. Trabajo
.head 4 -  Resource Id: 25677
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.583"
.head 5 -  Top:    2.179"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTelefonoTrabajo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.583"
.head 6 -  Top:    2.155"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Celular
.head 4 -  Resource Id: 25678
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.883"
.head 5 -  Top:    2.429"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCelular
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.583"
.head 6 -  Top:    2.405"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Fax
.head 4 -  Resource Id: 25679
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.083"
.head 5 -  Top:    2.679"
.head 5 -  Width:  0.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFax
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.583"
.head 6 -  Top:    2.655"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Dirección
.head 4 -  Resource Id: 13735
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    2.845"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Multiline Field: mlDireccion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: mlBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 254
.head 5 -  String Type: String
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Border? Class Default
.head 5 -  Word Wrap? Yes
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Window Location and Size
.head 6 -  Left: 1.083"
.head 6 -  Top:    3.071"
.head 6 -  Width:  7.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.75"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 -  Group Box: Estado del Paciente
.head 4 -  Resource Id: 25683
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.683"
.head 5 -  Top:    2.988"
.head 5 -  Width:  2.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.583"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Radio Button: rbActivo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Activo
.head 4 -  Window Location and Size
.head 5 -  Left: 9.783"
.head 5 -  Top:    3.238"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbInactivo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Inactivo
.head 4 -  Window Location and Size
.head 5 -  Left: 11.183"
.head 5 -  Top:    3.238"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Picture: pic1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.383"
.head 5 -  Top:    0.071"
.head 5 -  Width:  3.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  File Name:
.head 4 -  Storage: External
.head 4 -  Picture Transparent Color: None
.head 4 -  Fit: Size to Fit
.head 4 -  Scaling
.head 5 -  Width:  100
.head 5 -  Height:  100
.head 4 -  Corners: Square
.head 4 -  Border Style: Solid
.head 4 -  Border Thickness: 1
.head 4 -  Tile To Parent? No
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbFoto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Buscar Foto
.head 4 -  Window Location and Size
.head 5 -  Left: 9.783"
.head 5 -  Top:    2.321"
.head 5 -  Width:  2.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: None
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set strFilters[0]='Archivos JPG'
.head 6 -  Set strFilters[1]='*.jpg'
.head 6 -  Set nIndex=1
.head 6 -  Call SalDlgOpenFile( hWndNULL, 'Busqueda de Foto', strFilters, 2, nIndex, strFile, strPath )
.head 6 -  Call SalPicSetFile( pic1, strPath )
.head 6 -  Set nTam= SalPicGetString( pic1,PIC_FormatObject , lsFoto )
.head 3 +  Pushbutton: pb7
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Limpiar Foto
.head 4 -  Window Location and Size
.head 5 -  Left: 9.783"
.head 5 -  Top:    2.571"
.head 5 -  Width:  2.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: None
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalPicClear( pic1 )
.head 6 -  Set lsFoto=STRING_Null
.head 3 -  Group Box: Teléfonos
.head 4 -  Resource Id: 19042
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.583"
.head 5 -  Top:    1.738"
.head 5 -  Width:  3.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 2 +  Functions
.head 3 +  Function: ActualizarPac
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Call SalDateToStr( dfFechaIngreso, FECHA_INGRESO )
.head 5 -  Call SalStrLeft (FECHA_INGRESO, 10, FECHA_INGRESO )
.head 5 -  Call SalDateToStr( dfFechaNac, FECHA_NAC )
.head 5 -  Call SalStrLeft (FECHA_NAC, 10, FECHA_NAC )
.head 5 +  If rbMasculino=TRUE
.head 6 -  Set SEXO='M'
.head 5 +  Else
.head 6 -  Set SEXO='F'
.head 5 +  If rbActivo=TRUE
.head 6 -  Set ESTADO_PAC=0
.head 5 +  Else
.head 6 -  Set ESTADO_PAC=1
.head 5 +  If rbSoltero=TRUE
.head 6 -  Set ESTADO_CIVIL=0
.head 5 +  If rbCasado=TRUE
.head 6 -  Set ESTADO_CIVIL=1
.head 5 +  If rbDivorciado=TRUE
.head 6 -  Set ESTADO_CIVIL=2
.head 5 +  If rbUnion=TRUE
.head 6 -  Set ESTADO_CIVIL=3
.head 3 +  Function: ActualizarPant
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 +  If SEXO='M'
.head 6 -  Set rbMasculino=TRUE
.head 5 +  Else
.head 6 -  Set rbFemenino=TRUE
.head 5 +  Select Case ESTADO_CIVIL
.head 6 +  Case 0
.head 7 -  Set rbSoltero =TRUE
.head 7 -  Break
.head 6 +  Case 1
.head 7 -  Set rbCasado =TRUE
.head 7 -  Break
.head 6 +  Case 2
.head 7 -  Set rbDivorciado =TRUE
.head 7 -  Break
.head 6 +  Case 3
.head 7 -  Set rbUnion =TRUE
.head 7 -  Break
.head 5 +  If ESTADO_PAC=0
.head 6 -  Set rbActivo=TRUE
.head 5 +  Else
.head 6 -  Set rbInactivo=TRUE
.head 5 -  !
.head 5 -  !
.head 5 -  ! Cargar la empresa 
.head 5 -  ! ----
.head 5 +  If nCodEmpresa != 0
.head 6 -  !
.head 6 -  Set sSQL = "select
		COD_EMPRESA,
		NOMBRE
	from
		EMPRESAS A
	where
		COD_EMPRESA=:nCodEmpresa
	into
		:cmbEmpresa.nCodigo,
		:cmbEmpresa"
.head 6 -  Call SqlImmediate( sSQL)
.head 6 -  Call SqlClearImmediate( )
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: FECHA_INGRESO
.head 3 -  String: FECHA_NAC
.head 3 -  String: SEXO
.head 3 -  Number: ESTADO_CIVIL
.head 3 -  Number: ESTADO_PAC
.head 3 -  String: sRegresaPac
.head 3 -  String: sRegresaCor
.head 3 -  Number: nTipo
.head 3 -  String: strFilters [0:1]
.head 3 -  String: strPath
.head 3 -  String: strFile
.head 3 -  Long String: lsFoto
.head 3 -  Number: nIndex
.head 3 -  Number: nTam
.head 3 -  Number: nUltimoPaciente
.head 3 -  Boolean: bEsNuevo
.head 3 -  Number: nCodigo
.head 3 -  Number: nCodEmpresa
.head 3 -  String: sSQL
.head 3 -  Boolean: bExistsPac
.head 3 -  Date/Time: dtCurrentDate
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  Call DeshabilitarTodo(  )
.head 4 -  Set bEsNuevo=FALSE
.head 4 -  Call SalCenterWindow( hWndForm )
.head 4 -  ! Call SalDisableWindow(pbGrabar)
.head 3 +  On SAM_Destroy
.head 4 -  !
.head 4 +  If bEsNuevo
.head 5 -  !
.head 5 -  Set sSQL = "Select
		COD_PACIENTE
	from
		PACIENTES
	where
		COD_PACIENTE =:dfCodPaciente"
.head 5 -  Call SqlExists (sSQL, bExistsPac)
.head 5 -  Call SqlClearImmediate()
.head 5 +  If not bExistsPac
.head 6 -  !
.head 6 -  Set sSQL = 'DELETE FROM
		 IDENTITYS
	WHERE
		cod_tabla = 498 AND
		MAXIMO = :nCodigo'
.head 6 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  !
.head 3 +  On MU_GRABAR
.head 4 -  !
.head 4 -  !
.head 4 +  If SalIsNull(cmbEmpresa)
.head 5 -  Set nCodEmpresa = 0
.head 4 +  Else
.head 5 -  !
.head 5 -  Set nCodEmpresa = cmbEmpresa.nCodigo
.head 4 -  !
.head 4 -  Call SqlExists("Select	COD_PACIENTE
from   PACIENTES
where	COD_PACIENTE =:dfCodPaciente and CORREL_PACIENTE=:dfCorrel ",bExists)
.head 4 -  Call SqlClearImmediate( )
.head 4 -  !
.head 4 -  Call ActualizarPac()
.head 4 -  !
.head 4 -  Set dtCurrentDate=SalDateCurrent()
.head 4 -  !
.head 4 +  If bExists
.head 5 -  !
.head 5 -  ! ---------Verificar que el numero de PACIENTE no haya sido tomada por otro usuario (Asegurar la concurrencia)
.head 5 +  If bEsNuevo=TRUE
.head 6 -  Set nCodigo=Identity(498)
.head 6 -  Set dfCodPaciente='PRI' || SalNumberToStrX(nCodigo, 0 )
.head 6 -  Set dfIdentidad=SalNumberToStrX(nCodigo, 0 )
.head 6 -  Call SalMessageBox( 'El Codigo de paciente ya existe. Se le reasiganara al Codigo: '|| dfCodPaciente, 'Advertencia', MB_Ok )
.head 5 -  !
.head 5 -  Call SqlPrepareAndExecute(hSql1,"Begin Tran")
.head 5 +  If lsFoto=STRING_Null
.head 6 -  Call SqlPrepareAndExecute(hSql1,"
update	PACIENTES set FOTO=NULL
where	COD_PACIENTE=:dfCodPaciente and CORREL_PACIENTE=:dfCorrel")
.head 6 -  ! Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 +  Else
.head 6 -  Call SqlPrepareAndExecute(hSql1,"
update	PACIENTES set FOTO=:lsFoto
where	COD_PACIENTE=:dfCodPaciente and CORREL_PACIENTE=:dfCorrel")
.head 6 -  ! Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  Call SqlPrepareAndExecute(hSql1,"update	PACIENTES  set
	PRIMER_NOM=:dfPrimerNom,
	SEGUNDO_NOM=:dfSegundoNom,
	PRIMER_APE=:dfPrimerApe,
	SEGUNDO_APE=:dfSegundoApe,
	IDENTIDAD=:dfIdentidad,
	FECHA_NAC=:FECHA_NAC,
	COD_EMPRESA=:nCodEmpresa,
	SEXO=:SEXO,
	ESTADO_CIVIL=:ESTADO_CIVIL ,
	DIRECCION=:mlDireccion ,
	TELEFONO_CASA=:dfTelefonoCasa ,
	TELEFONO_TRAB=:dfTelefonoTrabajo ,
	CELULAR=:dfCelular,
	BEEPER=:dfFax ,
	ESTADO_PAC=:ESTADO_PAC ,
	MODIFICADO_POR =:nCodUser,
	FECHA_MODIFICACION=:dtCurrentDate,
	CORREO =:dfCorreo
where
	COD_PACIENTE=:dfCodPaciente and
	CORREL_PACIENTE=:dfCorrel ")
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 5 -  Set bEsNuevo=FALSE
.head 4 +  Else
.head 5 -  !
.head 5 +  If lsFoto!=STRING_Null
.head 6 -  Call SqlPrepareAndExecute(hSql1,"Begin Tran")
.head 6 -  Call SqlPrepareAndExecute(hSql1,"
insert 	PACIENTES (
	COD_PACIENTE ,
	CORREL_PACIENTE ,
	COD_EMPRESA ,
	TIPO ,
	PRIMER_NOM ,
	SEGUNDO_NOM ,
	PRIMER_APE ,
	SEGUNDO_APE ,
	IDENTIDAD ,
	FECHA_NAC,
	SEXO ,
	ESTADO_CIVIL ,
	DIRECCION ,
	TELEFONO_CASA ,
	TELEFONO_TRAB ,
	CELULAR,
	BEEPER ,
	ESTADO_PAC ,
	FECHA_INGRESO ,
	TIPO_S ,
	CORREO,	
	CREADO_POR,
	CODIGO_CIUDAD_GEO,
	FOTO )
values(
               :dfCodPaciente,
	:dfCorrel,
	:nCodEmpresa,
	1,
	:dfPrimerNom,
	:dfSegundoNom,
	:dfPrimerApe,
	:dfSegundoApe,
	:dfIdentidad,
	:FECHA_NAC,
	:SEXO,
	:ESTADO_CIVIL,
	:mlDireccion,
	:dfTelefonoCasa,
	:dfTelefonoTrabajo,
	:dfCelular,
	:dfFax,
	:ESTADO_PAC,
	:FECHA_INGRESO,
	'PRIVADO',
	:dfCorreo,
	:nCodUser,
	:nCodCiudad,
	:lsFoto
)")
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 5 +  Else
.head 6 -  Call SqlPrepareAndExecute(hSql1,"Begin Tran")
.head 6 -  Call SqlPrepareAndExecute(hSql1,"
insert 	PACIENTES (
	COD_PACIENTE ,
	CORREL_PACIENTE ,
	COD_EMPRESA ,
	TIPO ,
	PRIMER_NOM ,
	SEGUNDO_NOM ,
	PRIMER_APE ,
	SEGUNDO_APE ,
	IDENTIDAD ,
	FECHA_NAC,
	SEXO ,
	ESTADO_CIVIL ,
	DIRECCION ,
	TELEFONO_CASA ,
	TELEFONO_TRAB ,
	CELULAR,
	BEEPER ,
	ESTADO_PAC ,
	FECHA_INGRESO ,
	TIPO_S ,
	CREADO_POR,
	CODIGO_CIUDAD_GEO,
	CORREO	
	 )
values(
               :dfCodPaciente,
	:dfCorrel,
	:nCodEmpresa,
	1,
	:dfPrimerNom,
	:dfSegundoNom,
	:dfPrimerApe,
	:dfSegundoApe,
	:dfIdentidad,
	:FECHA_NAC,
	:SEXO,
	:ESTADO_CIVIL,
	:mlDireccion,
	:dfTelefonoCasa,
	:dfTelefonoTrabajo,
	:dfCelular,
	:dfFax,
	:ESTADO_PAC,
	:FECHA_INGRESO,
	'PRIVADO',
	:nCodUser,
	:nCodCiudad,
	:dfCorreo
	
)")
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 4 -  !
.head 4 -  Set bEsNuevo=FALSE
.head 3 +  On MU_ACTUALIZAR
.head 4 -  Call HabilitarTodo(  )
.head 4 -  Call SqlPrepareAndExecute(hSql1,"
select
	PRIMER_NOM,
	SEGUNDO_NOM,
	PRIMER_APE,
	SEGUNDO_APE, 
	IDENTIDAD,
	FECHA_NAC,
	COD_EMPRESA,
                FECHA_INGRESO,
	DIRECCION,
                SEXO,
	ESTADO_CIVIL,
	ESTADO_PAC,
	TELEFONO_CASA,
                TELEFONO_TRAB,
	CELULAR,
	BEEPER,
	CORREO       
from	
	PACIENTES
where	
	COD_PACIENTE = :dfCodPaciente and 
	CORREL_PACIENTE='0'
into
	:dfPrimerNom,
	:dfSegundoNom,
	:dfPrimerApe,
	:dfSegundoApe,
	:dfIdentidad,
	:dfFechaNac,
	:nCodEmpresa,
	:dfFechaIngreso,
	:mlDireccion,
	:SEXO,
	:ESTADO_CIVIL,
	:ESTADO_PAC,
	:dfTelefonoCasa,
	:dfTelefonoTrabajo,
	:dfCelular,
	:dfFax,
	:dfCorreo")
.head 4 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 4 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  Call ActualizarPant()
.head 4 +  If lsFoto!=STRING_Null
.head 5 -  Call SalPicSetString( pic1,PIC_FormatObject , lsFoto )
.head 4 +  Else
.head 5 -  Call SalPicClear( pic1 )
.head 4 -  Call SalDisableWindow(dfFechaIngreso)
.head 4 -  Call SalDisableWindow(dfCorrel)
.head 3 +  On MU_BORRAR
.head 4 -  Call SqlPrepareAndExecute(hSql1,"
	delete from	Pacientes
	where	COD_PACIENTE =:dfCodPaciente and  CORREL_PACIENTE=:dfCorrel ")



.head 4 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  Call SalMessageBox( "Paciente ha sido Borrado", "Advertencia", MB_Ok )
.head 4 -  ! Call SalEnableWindow(pbGrabar)
.head 1 +  Form Window: _frmPacAseg
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Pacientes Asegurados
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Maximized
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: 0.175"
.head 4 -  Top:    0.01"
.head 4 -  Width:  12.65"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 7.083"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 +  Menu
.head 3 +  Popup Menu: Opciones
.head 4 -  Resource Id: 26010
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 4 +  Menu Item: Nuevo Paciente
.head 5 -  Resource Id: 26011
.head 5 -  Keyboard Accelerator: Ctrl+N
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbAgregar, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Guardar Paciente
.head 5 -  Resource Id: 26012
.head 5 -  Keyboard Accelerator: Ctrl+S
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbGrabar, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.631"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Black
.head 3 +  Contents
.head 4 +  Pushbutton: pbAgregar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbMas
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.383"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: 3D Face Color
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set pbAgregar.nOpcionh=1
.head 7 -  Set pbAgregar.hWndCampo=rbNoDependiente
.head 6 +  On SAM_Click
.head 7 -  Call DeshabilitarTodo()
.head 7 -  Call Limpiar()
.head 7 -  Call SalEnableWindow(rbNoDependiente)
.head 7 -  Call SalEnableWindow(rbDependiente)
.head 7 -  Call SalEnableWindow(cmbEmpresa1)
.head 7 -  Call SalEnableWindow(pbFoto)
.head 7 -  Call SalEnableWindow(pbLimpiar)
.head 7 -  ! Call SalEnableWindow(rbDependiente)
.head 7 -  Set rbNoDependiente=FALSE
.head 7 -  Set rbDependiente=FALSE
.head 7 -  Set rbComodin=TRUE
.head 7 -  Set lsFoto=STRING_Null
.head 7 -  Call SalPicClear(pic1)
.head 4 +  Pushbutton: pbBorrar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbMenos
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.183"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: 3D Face Color
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set pbBorrar.nOpcionh=1
.head 7 -  Set pbBorrar.sTitulo=' El Paciente'
.head 4 +  Pushbutton: pbGrabar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbGrabar
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.983"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: 3D Face Color
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbBusqueda
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbBusqueda
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 2.783"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: 3D Face Color
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Set sRegresaPac=''
.head 7 -  Set sRegresaCor=''
.head 7 -  Call SalModalDialog( dlgConsultaPacientesO, hWndForm,sRegresaPac,sRegresaCor, 2, 0, 1 )
.head 7 +  If sRegresaPac!=''
.head 8 +  If rbNoDependiente=TRUE or rbComodin=TRUE
.head 9 -  Set dfCodPaciente =sRegresaPac
.head 9 -  Set dfCorrel =sRegresaCor
.head 9 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 8 +  Else
.head 9 -  Set dfCodPaciente =sRegresaPac
.head 9 -  Call SqlExists("Select
		A.ESTADO_PAC ,
                 	A.FEC_ICONTRATO,
		A.FEC_FCONTRATO,
                	A. MONTO_ASEG,
		A.DISPONIBLE,
                 	A.COD_EMPRESA,
		A.CODIGO_DEPTO,
		D.NOMBRE,
		TIPO
from
		PACIENTES 		A,
		EMPRESAS 		B,
		DEPTOS_MAQUILA 	D
where
		COD_PACIENTE = :dfCodPaciente and
		CORREL_PACIENTE='0' and
                	A.COD_EMPRESA=B.COD_EMPRESA  and
		A.CODIGO_DEPTO *= D.CODIGO
into
		:ESTADO_PAC,
		:dfFechaIContrato,
		:dfFechaFContrato ,
		:dfMontoAseg,
		:dfDisponible ,
		:cmbEmpresa.nCodigo,
		:cmbDepto.nCodigo,
		:cmbDepto,
		:nTipo  ",bExists)
.head 9 -  Call SqlClearImmediate( )
.head 9 -  ! Call HabilitarHeader(  )
.head 9 -  Call cmbEmpresa.Actualizar()
.head 9 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 9 -  Call SalDisableWindow(rbActivo)
.head 9 -  Call SalDisableWindow(rbInactivo)
.head 9 -  Call SalEnableWindow(dfCorrel)
.head 9 -  Call SalEnableWindow(dfFechaIngreso)
.head 4 +  Pushbutton: pbSalir
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 11.183"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbHistorial
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 3.883"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\ICONS\Graphup.ico
.head 5 -  Picture Transparent Color: None
.head 5 -  Image Style: Single
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 +  If dfCodPaciente!=''
.head 8 -  Call SqlExists("Select	COD_PACIENTE
from   PACIENTES
where	COD_PACIENTE =:dfCodPaciente and CORREL_PACIENTE=:dfCorrel ",bExists)
.head 8 -  Call SqlClearImmediate( )
.head 8 +  If bExists
.head 9 -  Call SalModalDialog( dlgHistorial, hWndForm,dfCodPaciente,dfCorrel )
.head 2 +  Contents
.head 3 -  Background Text: Codigo Paciente
.head 4 -  Resource Id: 25684
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.679"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCodPaciente
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.683"
.head 6 -  Top:    0.655"
.head 6 -  Width:  1.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If rbNoDependiente=TRUE
.head 7 -  Call SqlExists("Select	TIPO
from	PACIENTES
where	COD_PACIENTE =:dfCodPaciente and CORREL_PACIENTE=:dfCorrel  into :nTipo  ",bExists)
.head 7 -  Call SqlClearImmediate( )
.head 7 +  If bExists
.head 8 +  If nTipo!=0
.head 9 -  Call SalMessageBox("El Paciente Existe pero no es Asegurado", "Advertencia",MB_Ok)
.head 9 -  Set dfCodPaciente=''
.head 8 +  Else
.head 9 +  If rbNoDependiente=TRUE
.head 10 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 6 +  Else
.head 7 -  Call SqlExists("Select
		A.ESTADO_PAC ,
                 	A.FEC_ICONTRATO,
		A.FEC_FCONTRATO,
                	A. MONTO_ASEG,
		A.DISPONIBLE,
                 	B.COD_EMPRESA,
		A.CODIGO_DEPTO,
		D.NOMBRE,
		TIPO
from
		PACIENTES 		A,
		EMPRESAS 		B,
		DEPTOS_MAQUILA 	D
where
		COD_PACIENTE = :dfCodPaciente and
		CORREL_PACIENTE='0' and
                	A.COD_EMPRESA=B.COD_EMPRESA  and
		A.CODIGO_DEPTO *= D.CODIGO
into
		:ESTADO_PAC,
		:dfFechaIContrato,
		:dfFechaFContrato ,
		:dfMontoAseg,
		:dfDisponible ,
		:cmbEmpresa.nCodigo,
		:cmbDepto.nCodigo,
		:cmbDepto,
		:nTipo  ",bExists)
.head 7 -  Call SqlClearImmediate( )
.head 7 +  If bExists
.head 8 -  Call cmbEmpresa.Actualizar()
.head 8 +  If nTipo!=0
.head 9 -  Call SalMessageBox("El Paciente Existe pero no es Asegurado", "Advertencia",MB_Ok)
.head 9 -  Set dfCodPaciente=''
.head 9 -  Set dfFechaIContrato=DATETIME_Null
.head 9 -  Set dfFechaFContrato=DATETIME_Null
.head 9 -  Set dfMontoAseg=NUMBER_Null
.head 8 +  Else
.head 9 -  Call ActualizarPac()
.head 9 +  If ESTADO_PAC=0
.head 10 -  Set rbActivo=TRUE
.head 9 +  Else
.head 10 -  Set rbInactivo=TRUE
.head 7 +  Else
.head 8 -  Call SalMessageBox( 'Tiene que exixstir el Aseg. para Introducir un Dependiente', 'Advertencia', MB_Ok )
.head 8 -  Set dfCodPaciente=''
.head 3 +  Data Field: dfCorrel
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.983"
.head 6 -  Top:    0.655"
.head 6 -  Width:  0.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If rbDependiente=TRUE
.head 7 +  If dfCorrel!='0'
.head 8 -  Call SqlExists("Select	TIPO
from	PACIENTES
where	COD_PACIENTE =:dfCodPaciente and CORREL_PACIENTE=:dfCorrel  into :nTipo  ",bExists)
.head 8 -  Call SqlClearImmediate( )
.head 8 +  If bExists
.head 9 +  If nTipo!=0
.head 10 -  Call SalMessageBox("El Paciente Existe pero no es Asegurado", "Advertencia",MB_Ok)
.head 10 -  Set dfCodPaciente=''
.head 9 +  Else
.head 10 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 10 -  Call SalDisableWindow(rbActivo)
.head 10 -  Call SalDisableWindow(rbInactivo)
.head 7 +  Else
.head 8 -  Call SalMessageBox( 'Un Dependiente no puede tener correlativo 0', 'Advertencia', MB_Ok )
.head 8 -  Set dfCorrel=STRING_Null
.head 3 -  Background Text: Identidad
.head 4 -  Resource Id: 25685
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.683"
.head 5 -  Top:    0.679"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfIdentidad
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.483"
.head 6 -  Top:    0.655"
.head 6 -  Width:  2.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Fecha Ing.
.head 4 -  Resource Id: 25686
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.883"
.head 5 -  Top:    0.679"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaIngreso
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.983"
.head 6 -  Top:    0.655"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Primer Nombre
.head 4 -  Resource Id: 25687
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    1.012"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfPrimerNom
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.683"
.head 6 -  Top:    0.988"
.head 6 -  Width:  2.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Segundo Nombre
.head 4 -  Resource Id: 25688
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.583"
.head 5 -  Top:    1.012"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfSegundoNom
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.183"
.head 6 -  Top:    0.988"
.head 6 -  Width:  2.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Primer Apellido
.head 4 -  Resource Id: 25689
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    1.345"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfPrimerApe
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.683"
.head 6 -  Top:    1.321"
.head 6 -  Width:  2.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Segundo Apellido
.head 4 -  Resource Id: 25690
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.583"
.head 5 -  Top:    1.345"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfSegundoApe
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.183"
.head 6 -  Top:    1.321"
.head 6 -  Width:  2.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Group Box: Sexo
.head 4 -  Resource Id: 25691
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    1.655"
.head 5 -  Width:  4.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Radio Button: rbMasculino
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Masculino
.head 4 -  Window Location and Size
.head 5 -  Left: 0.583"
.head 5 -  Top:    1.821"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbFemenino
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Femenino
.head 4 -  Window Location and Size
.head 5 -  Left: 2.383"
.head 5 -  Top:    1.821"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 -  Background Text: Fecha Nacimiento
.head 4 -  Resource Id: 25692
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.583"
.head 5 -  Top:    1.762"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaNac
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.183"
.head 6 -  Top:    1.738"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Dirección
.head 4 -  Resource Id: 25693
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    2.845"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text:
.head 4 -  Resource Id: 25694
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    2.179"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Radio Button: rbSoltero
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Soltero(a)
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    2.405"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbCasado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Casado(a)
.head 4 -  Window Location and Size
.head 5 -  Left: 2.383"
.head 5 -  Top:    2.405"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbDivorciado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Divorciado(a)
.head 4 -  Window Location and Size
.head 5 -  Left: 4.083"
.head 5 -  Top:    2.405"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbUnion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Unión Libre
.head 4 -  Window Location and Size
.head 5 -  Left: 5.983"
.head 5 -  Top:    2.405"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Multiline Field: mlDireccion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: mlBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 100
.head 5 -  String Type: String
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Border? Class Default
.head 5 -  Word Wrap? Yes
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Window Location and Size
.head 6 -  Left: 0.183"
.head 6 -  Top:    2.988"
.head 6 -  Width:  8.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.583"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 -  Group Box: Estado Civil
.head 4 -  Resource Id: 25695
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    2.238"
.head 5 -  Width:  8.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Estado del Paciente
.head 4 -  Resource Id: 25696
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.883"
.head 5 -  Top:    4.321"
.head 5 -  Width:  1.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.833"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Radio Button: rbActivo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Activo
.head 4 -  Window Location and Size
.head 5 -  Left: 10.283"
.head 5 -  Top:    4.488"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbInactivo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Inactivo
.head 4 -  Window Location and Size
.head 5 -  Left: 10.283"
.head 5 -  Top:    4.738"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Picture: pic1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.883"
.head 5 -  Top:    0.988"
.head 5 -  Width:  4.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.583"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  File Name:
.head 4 -  Storage: External
.head 4 -  Picture Transparent Color: None
.head 4 -  Fit: Size to Fit
.head 4 -  Scaling
.head 5 -  Width:  100
.head 5 -  Height:  100
.head 4 -  Corners: Square
.head 4 -  Border Style: Solid
.head 4 -  Border Thickness: 1
.head 4 -  Tile To Parent? No
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 -  Group Box: Tipo de Asegurado
.head 4 -  Resource Id: 25697
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    0.071"
.head 5 -  Width:  6.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Radio Button: rbNoDependiente
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: No dependiente
.head 4 -  Window Location and Size
.head 5 -  Left: 1.683"
.head 5 -  Top:    0.238"
.head 5 -  Width:  1.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call HabilitarHeader(  )
.head 6 -  Call SalDisableWindow(rbNoDependiente)
.head 6 -  Call SalDisableWindow(rbDependiente)
.head 6 -  Call SalDisableWindow(rbComodin)
.head 6 -  Set dfCorrel='0'
.head 6 -  Call SalDisableWindow(dfCorrel)
.head 6 -  Call SalEnableWindow(cmbEmpresa)
.head 6 -  Call SalEnableWindow(cmbDepto)
.head 6 -  Call SalEnableWindow(dfFechaIContrato)
.head 6 -  Call SalEnableWindow(dfFechaFContrato)
.head 6 -  Call SalEnableWindow(dfMontoAseg)
.head 6 -  Call SalEnableWindow(pbGrabar)
.head 6 +  If (cmbEmpresa1.nCodigo=46)
.head 7 -  Set sCodPaciente = 'PIHSS' || SalNumberToStrX(Identity(701),0)
.head 7 -  Set dfCodPaciente = sCodPaciente
.head 6 +  Else
.head 7 -  Set dfCodPaciente = dfultimoNumero
.head 3 +  Radio Button: rbDependiente
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Dependiente del Aseg.
.head 4 -  Window Location and Size
.head 5 -  Left: 3.783"
.head 5 -  Top:    0.238"
.head 5 -  Width:  2.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call HabilitarHeader(  )
.head 6 -  Call SalDisableWindow(rbNoDependiente)
.head 6 -  Call SalDisableWindow(rbDependiente)
.head 6 -  Call SalDisableWindow(rbComodin)
.head 6 -  Call SalDisableWindow(rbActivo)
.head 6 -  Call SalDisableWindow(rbInactivo)
.head 6 -  Set dfCorrel=STRING_Null
.head 6 -  Call SalEnableWindow(pbGrabar)
.head 3 +  Radio Button: rbComodin
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Dependiente del Aseg.
.head 4 -  Window Location and Size
.head 5 -  Left: 4.283"
.head 5 -  Top:    0.238"
.head 5 -  Width:  2.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 -  On SAM_Click
.head 3 -  Group Box: Datos propios del Aseg.
.head 4 -  Resource Id: 25698
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    3.655"
.head 5 -  Width:  8.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.75"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Maquila
.head 4 -  Resource Id: 25699
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.383"
.head 5 -  Top:    3.929"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  ! cmbBaseCodigo: cmbEmpresa
.winattr class Combo Box:
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.45"
.head 5 -  Top:    3.905"
.head 5 -  Width:  5.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.202"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.end
.head 4 -  List Initialization 
.head 4 +  Message Actions 
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 3 +  Combo Box: cmbEmpresa
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigoFiltrado
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.483"
.head 5 -  Top:    3.905"
.head 5 -  Width:  2.5"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.512"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 6 -  Set cmbEmpresa.sNombreFiltro='ESTADO'
.head 6 -  Set cmbEmpresa.nValorFiltro=1
.head 3 -  Background Text: Fecha Inicio Contrato
.head 4 -  Resource Id: 25700
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    4.595"
.head 5 -  Width:  1.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaIContrato
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.483"
.head 6 -  Top:    4.571"
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Center
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Fecha Fin Contrato
.head 4 -  Resource Id: 25701
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.583"
.head 5 -  Top:    4.679"
.head 5 -  Width:  1.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaFContrato
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.283"
.head 6 -  Top:    4.655"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Center
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: 99/99/9999
.head 4 -  Message Actions
.head 3 -  Background Text: Monto Asegurado
.head 4 -  Resource Id: 25702
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    5.012"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfMontoAseg
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.483"
.head 6 -  Top:    4.988"
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If dfDisponible=NUMBER_Null
.head 7 -  Set dfDisponible=dfMontoAseg
.head 3 -  Background Text: Monto Disponible
.head 4 -  Resource Id: 25703
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.683"
.head 5 -  Top:    5.012"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfDisponible
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.283"
.head 6 -  Top:    4.988"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  ! cmbBaseCodigo: cmbEmpresa1
.winattr class Combo Box:
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.75"
.head 5 -  Top:    0.179"
.head 5 -  Width:  3.033"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.655"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.end
.head 4 -  List Initialization 
.head 4 +  Message Actions 
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa1.nCaso=1
.head 6 -  Set cmbEmpresa1.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa1.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa1.sCodigo='COD_EMPRESA'
.head 5 +  On SAM_Click
.head 6 -  Call SalSendClassMessage( SAM_Click, 0, 0 )
.head 6 -  Call SqlPrepareAndExecute( hSql1, "select  max(cod_paciente) from pacientes where cod_empresa=:cmbEmpresa1.nCodigo
    into :dfultimoNumero " )
.head 6 -  Call SqlFetchNext( hSql1, nSiguiente )
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Combo Box: cmbEmpresa1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigoFiltrado
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.783"
.head 5 -  Top:    0.155"
.head 5 -  Width:  2.5"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.512"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 6 -  Set cmbEmpresa.sNombreFiltro='ESTADO'
.head 6 -  Set cmbEmpresa.nValorFiltro=1
.head 5 +  On SAM_Click
.head 6 -  Call SalSendClassMessage( SAM_Click, 0, 0 )
.head 6 -  Call SqlPrepareAndExecute( hSql1, "select  max(cod_paciente) from pacientes where cod_empresa=:cmbEmpresa1.nCodigo
    into :dfultimoNumero " )
.head 6 -  Call SqlFetchNext( hSql1, nSiguiente )
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Data Field: dfultimoNumero
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.183"
.head 6 -  Top:    0.155"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Pushbutton: pbFoto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Buscar Foto
.head 4 -  Window Location and Size
.head 5 -  Left: 9.55"
.head 5 -  Top:    3.595"
.head 5 -  Width:  2.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: None
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set strFilters[0]='Archivos JPG'
.head 6 -  Set strFilters[1]='*.jpg'
.head 6 -  Set nIndex=1
.head 6 -  Call SalDlgOpenFile( hWndNULL, 'Busqueda de Foto', strFilters, 2, nIndex, strFile, strPath )
.head 6 -  Call SalPicSetFile( pic1, strPath )
.head 6 -  Set nTam= SalPicGetString( pic1,PIC_FormatObject , lsFoto )
.head 3 +  Pushbutton: pbLimpiar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Limpiar Foto
.head 4 -  Window Location and Size
.head 5 -  Left: 9.55"
.head 5 -  Top:    3.845"
.head 5 -  Width:  2.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: None
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalPicClear( pic1 )
.head 6 -  Set lsFoto=STRING_Null
.head 3 +  Combo Box: cmbDepto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.45"
.head 5 -  Top:    4.25"
.head 5 -  Width:  5.733"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbDepto.nCaso=1
.head 6 -  Set cmbDepto.sTabla='DEPTOS_MAQUILA'
.head 6 -  Set cmbDepto.sNombre='NOMBRE'
.head 6 -  Set cmbDepto.sCodigo='CODIGO'
.head 3 -  Background Text: Depto
.head 4 -  Resource Id: 25704
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.15"
.head 5 -  Top:    4.274"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 2 +  Functions
.head 3 +  Function: ActualizarPac
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Call SalDateToStr( dfFechaIngreso, FECHA_INGRESO )
.head 5 -  Call SalStrLeft (FECHA_INGRESO, 10, FECHA_INGRESO )
.head 5 -  Call SalDateToStr( dfFechaNac, FECHA_NAC )
.head 5 -  Call SalStrLeft (FECHA_NAC, 10, FECHA_NAC )
.head 5 +  If rbMasculino=TRUE
.head 6 -  Set SEXO='M'
.head 5 +  Else
.head 6 -  Set SEXO='F'
.head 5 +  If rbActivo=TRUE
.head 6 -  Set ESTADO_PAC=0
.head 5 +  Else
.head 6 -  Set ESTADO_PAC=1
.head 5 +  If rbSoltero=TRUE
.head 6 -  Set ESTADO_CIVIL=0
.head 5 +  If rbCasado=TRUE
.head 6 -  Set ESTADO_CIVIL=1
.head 5 +  If rbDivorciado=TRUE
.head 6 -  Set ESTADO_CIVIL=2
.head 5 +  If rbUnion=TRUE
.head 6 -  Set ESTADO_CIVIL=3
.head 5 -  Call SalDateToStr( dfFechaIContrato, FECHA_I )
.head 5 -  Call SalStrLeft ( FECHA_I, 10,  FECHA_I )
.head 5 -  Call SalDateToStr( dfFechaFContrato, FECHA_F )
.head 5 -  Call SalStrLeft ( FECHA_F, 10,  FECHA_F )
.head 3 +  Function: ActualizarPant
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nCentroControlEmpresa
.head 5 -  Number: nCentroControlServidor
.head 4 +  Actions
.head 5 +  If SEXO='M'
.head 6 -  Set rbMasculino=TRUE
.head 5 +  Else
.head 6 -  Set rbFemenino=TRUE
.head 5 +  Select Case ESTADO_CIVIL
.head 6 +  Case 0
.head 7 -  Set rbSoltero =TRUE
.head 7 -  Break
.head 6 +  Case 1
.head 7 -  Set rbCasado =TRUE
.head 7 -  Break
.head 6 +  Case 2
.head 7 -  Set rbDivorciado =TRUE
.head 7 -  Break
.head 6 +  Case 3
.head 7 -  Set rbUnion =TRUE
.head 7 -  Break
.head 5 +  If ESTADO_PAC=0
.head 6 -  Set rbActivo=TRUE
.head 5 +  Else
.head 6 -  Set rbInactivo=TRUE
.head 5 -  ! Call SqlPrepareAndExecute(hSql1,'select centro_control from valores_iniciales where codigo=1 into :nCentroControlServidor')
.head 5 -  ! Call SqlFetchNext(hSql1,nSiguiente)
.head 5 -  ! Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  ! Call SqlPrepareAndExecute(hSql1,'select centro_control from empresas where cod_empresa=:cmbEmpresa.nCodigo into :nCentroControlEmpresa')
.head 5 -  ! Call SqlFetchNext(hSql1,nSiguiente)
.head 5 -  ! Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 +  ! If (nCentroControlServidor = nCentroControlEmpresa)
.head 6 -  Call SalEnableWindow(rbActivo)
.head 6 -  Call SalEnableWindow(rbInactivo)
.head 6 -  ! Call SalMessageBox('Atencion','Son iguales',MB_Ok)
.head 5 +  ! Else
.head 6 -  Call SalEnableWindow(rbActivo)
.head 6 -  Call SalEnableWindow(rbInactivo)
.head 6 -  ! Call SalMessageBox('Son diferentes' || SalNumberToStrX(nCentroControlEmpresa,0) || ' - ' || SalNumberToStrX(nCentroControlServidor,0),'Atencion',MB_Ok)
.head 3 +  Function: HabilitarHeader
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Call SalEnableWindow(dfCodPaciente)
.head 5 -  Call SalEnableWindow(dfCorrel)
.head 5 -  Call SalEnableWindow(dfIdentidad)
.head 5 -  Call SalEnableWindow(dfFechaIngreso)
.head 5 -  Call SalEnableWindow(dfPrimerNom)
.head 5 -  Call SalEnableWindow(dfSegundoNom)
.head 5 -  Call SalEnableWindow(dfPrimerApe)
.head 5 -  Call SalEnableWindow(dfSegundoApe)
.head 5 -  Call SalEnableWindow(rbMasculino)
.head 5 -  Call SalEnableWindow(rbFemenino)
.head 5 -  Call SalEnableWindow(dfFechaNac)
.head 5 -  Call SalEnableWindow(rbSoltero)
.head 5 -  Call SalEnableWindow(rbCasado)
.head 5 -  Call SalEnableWindow(rbDivorciado)
.head 5 -  Call SalEnableWindow(rbUnion)
.head 5 -  Call SalEnableWindow(mlDireccion)
.head 5 -  Call SalEnableWindow(rbActivo)
.head 5 -  Call SalEnableWindow(rbInactivo)
.head 3 +  Function: ActualizarDepen
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 +  If not SqlPrepareAndExecute(hSql1,"
update
	PACIENTES
set
	ESTADO_PAC=:ESTADO_PAC ,
                FEC_ICONTRATO=:FECHA_I,
                FEC_FCONTRATO=:FECHA_F ,
                MONTO_ASEG=:dfMontoAseg,
                COD_EMPRESA=:cmbEmpresa.nCodigo,
	CODIGO_DEPTO=:cmbDepto.nCodigo,
                DISPONIBLE=:dfDisponible
where
	COD_PACIENTE=:dfCodPaciente and
	CORREL_PACIENTE<> :dfCorrel ")
.head 6 -  Return FALSE
.head 5 +  Else
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  Return TRUE
.head 3 +  Function: CargarDatos
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Call SqlPrepareAndExecute(hSql1,"
select
	A.ESTADO_PAC ,
                A.FEC_ICONTRATO,
	A.FEC_FCONTRATO,
                A. MONTO_ASEG,
	A.DISPONIBLE,
                B.NOMBRE,
	D.NOMBRE,
	A.CODIGO_DEPTO
from
	PACIENTES 		A,
	EMPRESAS 		B,
	DEPTOS_MAQUILA 	D
where
	COD_PACIENTE = :dfCodPaciente and
	CORREL_PACIENTE='0' and
                A.COD_EMPRESA=B.COD_EMPRESA and
	A.CODIGO_DEPTO *= D.CODIGO
into
	:ESTADO_PAC,
	:dfFechaIContrato,
	:dfFechaFContrato ,
	:dfMontoAseg,
	:dfDisponible ,
	:cmbEmpresa,
	:cmbDepto,
	:cmbDepto.nCodigo")
.head 5 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 +  If ESTADO_PAC=0
.head 6 -  Set rbActivo=TRUE
.head 5 +  Else
.head 6 -  Set rbInactivo=TRUE
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: FECHA_INGRESO
.head 3 -  String: FECHA_NAC
.head 3 -  String: SEXO
.head 3 -  Number: ESTADO_CIVIL
.head 3 -  Number: ESTADO_PAC
.head 3 -  String: sRegresaPac
.head 3 -  String: sRegresaCor
.head 3 -  Number: nTipo
.head 3 -  String: FECHA_I
.head 3 -  String: FECHA_F
.head 3 -  String: strFilters [0:1]
.head 3 -  String: strPath
.head 3 -  String: strFile
.head 3 -  Long String: lsFoto
.head 3 -  Number: nIndex
.head 3 -  Number: nTam
.head 3 -  String: sCodPaciente
.head 3 -  Date/Time: dtFechaHoy
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  Call DeshabilitarTodo(  )
.head 4 -  Call SalDisableWindow(pbGrabar)
.head 4 -  Set rbComodin=TRUE
.head 3 +  On MU_GRABAR
.head 4 -  Call SqlExists("Select	COD_PACIENTE
from   PACIENTES
where	COD_PACIENTE =:dfCodPaciente and CORREL_PACIENTE=:dfCorrel ",bExists)
.head 4 -  Call SqlClearImmediate( )
.head 4 -  !
.head 4 -  Call ActualizarPac()
.head 4 -  !
.head 4 -  Set dtFechaHoy=SalDateCurrent()
.head 4 -  !
.head 4 +  If bExists
.head 5 -  Call SqlPrepareAndExecute(hSql1,"Begin Tran")
.head 5 +  If lsFoto=STRING_Null
.head 6 -  Call SqlPrepareAndExecute(hSql1,"
update	PACIENTES set FOTO=NULL
where	COD_PACIENTE=:dfCodPaciente and CORREL_PACIENTE=:dfCorrel")
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 +  Else
.head 6 -  Call SqlPrepareAndExecute(hSql1,"
update	PACIENTES set FOTO=:lsFoto
where	COD_PACIENTE=:dfCodPaciente and CORREL_PACIENTE=:dfCorrel")
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  Call SqlPrepareAndExecute(hSql1,"
update
	PACIENTES
set
	PRIMER_NOM=:dfPrimerNom,
	SEGUNDO_NOM=:dfSegundoNom,
	PRIMER_APE=:dfPrimerApe,
	SEGUNDO_APE=:dfSegundoApe,
	IDENTIDAD=:dfIdentidad,
	FECHA_NAC=:FECHA_NAC,
	SEXO=:SEXO,
	ESTADO_CIVIL=:ESTADO_CIVIL ,
	DIRECCION=:mlDireccion ,
	ESTADO_PAC=:ESTADO_PAC ,
                FEC_ICONTRATO=:FECHA_I,
                FEC_FCONTRATO=:FECHA_F ,
                MONTO_ASEG=:dfMontoAseg,
                COD_EMPRESA=:cmbEmpresa.nCodigo,
	CODIGO_DEPTO=:cmbDepto.nCodigo,
	FECHA_INACTIVO=:dtFechaHoy,
	MODIFICADO_POR =:nCodUser,
	FECHA_MODIFICACION=:dtFechaHoy
where
	COD_PACIENTE=:dfCodPaciente and
	CORREL_PACIENTE=:dfCorrel ")
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 5 -  Call ActualizarDepen()
.head 4 +  Else
.head 5 -  Call SqlPrepareAndExecute(hSql1,"Begin Tran")
.head 5 +  If lsFoto!=STRING_Null
.head 6 -  Call SqlPrepareAndExecute(hSql1,"
insert 	PACIENTES (
	COD_PACIENTE ,
	CORREL_PACIENTE ,
	TIPO ,
	PRIMER_NOM ,
	SEGUNDO_NOM ,
	PRIMER_APE ,
	SEGUNDO_APE ,
	IDENTIDAD ,
	FECHA_NAC,
	SEXO ,
	ESTADO_CIVIL ,
	DIRECCION ,
	ESTADO_PAC ,
	FECHA_INGRESO ,
	TIPO_S ,
                FEC_ICONTRATO,
                FEC_FCONTRATO ,
                MONTO_ASEG,
                COD_EMPRESA,
	CODIGO_DEPTO,
                DISPONIBLE,
	CREADO_POR,
	CODIGO_CIUDAD_GEO,
	FOTO

	 )
values(
               :dfCodPaciente,
	:dfCorrel,
	0,
	:dfPrimerNom,
	:dfSegundoNom,
	:dfPrimerApe,
	:dfSegundoApe,
	:dfIdentidad,
	:FECHA_NAC,
	:SEXO,
	:ESTADO_CIVIL,
	:mlDireccion,
	:ESTADO_PAC,
	:FECHA_INGRESO,
	'ASEGURADO',
                :FECHA_I,
                :FECHA_F ,
                :dfMontoAseg,
                :cmbEmpresa.nCodigo,
	:cmbDepto.nCodigo,
                :dfDisponible,
	:nCodUser,
	:nCodCiudad,
	:lsFoto


               )")
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 5 +  Else
.head 6 -  Call SqlPrepareAndExecute(hSql1,"
insert 	PACIENTES (
	COD_PACIENTE ,
	CORREL_PACIENTE ,
	TIPO ,
	PRIMER_NOM ,
	SEGUNDO_NOM ,
	PRIMER_APE ,
	SEGUNDO_APE ,
	IDENTIDAD ,
	FECHA_NAC,
	SEXO ,
	ESTADO_CIVIL ,
	DIRECCION ,
	ESTADO_PAC ,
	FECHA_INGRESO ,
	TIPO_S ,
                FEC_ICONTRATO,
                FEC_FCONTRATO ,
                MONTO_ASEG,
                COD_EMPRESA,
	CODIGO_DEPTO,
	CREADO_POR,
	CODIGO_CIUDAD_GEO,
                DISPONIBLE
	 )
values(
               :dfCodPaciente,
	:dfCorrel,
	0,
	:dfPrimerNom,
	:dfSegundoNom,
	:dfPrimerApe,
	:dfSegundoApe,
	:dfIdentidad,
	:FECHA_NAC,
	:SEXO,
	:ESTADO_CIVIL,
	:mlDireccion,
	:ESTADO_PAC,
	:FECHA_INGRESO,
	'ASEGURADO',
                :FECHA_I,
                :FECHA_F ,
                :dfMontoAseg,
                :cmbEmpresa.nCodigo,
	:cmbDepto.nCodigo,
	:nCodUser,
	:nCodCiudad,
                :dfDisponible
	


               )")
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 3 +  On MU_ACTUALIZAR
.head 4 -  Call DeshabilitarTodo(  )
.head 4 -  Call SqlPrepareAndExecute(hSql1,"
select
	A.PRIMER_NOM,
	A.SEGUNDO_NOM,
	A.PRIMER_APE,
	A.SEGUNDO_APE,
	A.IDENTIDAD,
	A.FECHA_NAC,
                 A.FECHA_INGRESO,
	A.DIRECCION,
                 A.SEXO,
	A.ESTADO_CIVIL,
	A.ESTADO_PAC ,
                 A.FEC_ICONTRATO,
	A.FEC_FCONTRATO,
                A. MONTO_ASEG,
	A.DISPONIBLE,
                 B.COD_EMPRESA,
	A.CODIGO_DEPTO,
	D.NOMBRE,
	A.FOTO
from
	PACIENTES 		A,
	EMPRESAS 		B,
	DEPTOS_MAQUILA 	D
where
	COD_PACIENTE = :dfCodPaciente and
	CORREL_PACIENTE=:dfCorrel and
                A.COD_EMPRESA=B.COD_EMPRESA and
	A.CODIGO_DEPTO *= D.CODIGO
into
	:dfPrimerNom,
	:dfSegundoNom,
	:dfPrimerApe,
	:dfSegundoApe,
	:dfIdentidad,
	:dfFechaNac,
	:dfFechaIngreso,
	:mlDireccion,
	:SEXO,
	:ESTADO_CIVIL,
	:ESTADO_PAC,
	:dfFechaIContrato,
	 :dfFechaFContrato ,
	 :dfMontoAseg,
	 :dfDisponible ,
	:cmbEmpresa.nCodigo,
	:cmbDepto.nCodigo,
	:cmbDepto,
	:lsFoto")
.head 4 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 4 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  Call cmbEmpresa.Actualizar()
.head 4 -  Call HabilitarHeader(  )
.head 4 -  Call ActualizarPant()
.head 4 +  If lsFoto!=STRING_Null
.head 5 -  Call SalPicSetString( pic1,PIC_FormatObject , lsFoto )
.head 4 +  Else
.head 5 -  Call SalPicClear( pic1 )
.head 4 -  Call SalDisableWindow(dfFechaIngreso)
.head 4 -  Call SalDisableWindow(dfCodPaciente)
.head 4 -  Call SalDisableWindow(dfCorrel)
.head 4 -  Call SalEnableWindow(pbGrabar)
.head 4 -  Call SalEnableWindow(pbFoto)
.head 4 -  Call SalEnableWindow(pbLimpiar)
.head 4 +  If dfCorrel='0'
.head 5 -  Set rbNoDependiente=TRUE
.head 5 -  Call SalEnableWindow(dfFechaIContrato)
.head 5 -  Call SalEnableWindow(dfFechaFContrato)
.head 5 -  Call SalEnableWindow(dfMontoAseg)
.head 5 -  Call SalEnableWindow(cmbEmpresa)
.head 5 -  Call SalEnableWindow(cmbDepto)
.head 5 -  ! Call SalDisableWindow(rbActivo)
.head 5 -  ! Call SalDisableWindow(rbInactivo)
.head 4 +  Else
.head 5 -  Set rbDependiente=TRUE
.head 3 +  On MU_BORRAR
.head 4 -  Call SqlPrepareAndExecute(hSql1,"Begin Tran")
.head 4 -  Call SqlPrepareAndExecute(hSql1,"
	delete from	Pacientes
	where	COD_PACIENTE =:dfCodPaciente and  CORREL_PACIENTE=:dfCorrel ")
.head 4 -  Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 4 -  Call SalMessageBox( "Paciente ha sido Borrado", "Advertencia", MB_Ok )
.head 4 -  Call SalEnableWindow(pbGrabar)
.head 4 -  Set rbComodin=TRUE
.head 1 +  Form Window: frmPrincipal
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Sistema de Información Hospital Betesda
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Etched
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Maximized
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: 0.55"
.head 4 -  Top:    0.458"
.head 4 -  Width:  14.1"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 8.833"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: White
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 +  Menu
.head 3 +  Popup Menu: &Mantenimientos
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 4 -  Resource Id: 11595
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 4 +  Menu Item: Pacientes Asegurados
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 11596
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when: bArraySeg[4]
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalCreateWindow(frmPacAseg, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Pacientes Privados
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 11597
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when: bArraySeg[5]
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalCreateWindow(frmPac, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Categoria de Servicios
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 11598
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when: bArraySeg[6]
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalCreateWindow(frmCatServic, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Servicios
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 11599
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when: bArraySeg[7]
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalCreateWindow(frmServicios, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Plantillas de Servicios
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 35816
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when: bArraySeg[25]
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalCreateWindow(frmPlantillasServicios, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Especialidades Medicas
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 11600
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when: bArraySeg[8]
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalCreateWindow(frmEspecialidad, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Medicos
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 11601
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when: bArraySeg[9]
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalCreateWindow(frmMedicos, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name:
.head 4 +  ! Menu Item: Categoria de Diagnosticos
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text: 
.head 5 +  Menu Settings 
.head 6 -  Enabled when: bArraySeg[6]
.head 6 -  Checked when: 
.head 5 +  Menu Actions 
.head 6 -  ! Call SalCreateWindow(frmCatServic, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name: 
.head 4 +  ! Menu Item: Diagnosticos
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text: 
.head 5 +  Menu Settings 
.head 6 -  Enabled when: bArraySeg[7]
.head 6 -  Checked when: 
.head 5 +  Menu Actions 
.head 6 -  ! Call SalCreateWindow(frmServicios, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name: 
.head 3 +  Popup Menu: &Procesos
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 4 -  Resource Id: 35252
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 4 +  Menu Item: Facturas Privadas
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 35253
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when: bArraySeg[1]
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalCreateWindow(frmFact, hWndForm, 1, sTempMenu, sTempMenu2)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Facturas Aseguradas
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 35254
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when: bArraySeg[2]
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalCreateWindow(frmFactA, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Pagos a Facturas
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 35255
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when: bArraySeg[3]
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalCreateWindow(frmFactPend, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Notas de Credito
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 35256
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when: bArraySeg[3]
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalCreateWindow(frmNotaCredito, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Recibos
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 35257
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when: bArraySeg[3]
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalCreateWindow( frmRecibosCancFactura, hWndForm, 1, nTempMenu, sTempMenu)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Ordenes de Servicio
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.data CLASSPROPSSIZE
0000: 1600
.enddata
.head 5 -  Resource Id: 35258
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when: bArraySeg[17]
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalCreateWindow(frmOrdenesServicio, hWndForm)
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.data CLASSPROPSSIZE
0000: 1600
.enddata
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Programación de Cirugias
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.data CLASSPROPSSIZE
0000: 1600
.enddata
.head 5 -  Resource Id: 35259
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when: bArraySeg[18]
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalCreateWindow(frmCirugias, hWndForm)
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.data CLASSPROPSSIZE
0000: 1600
.enddata
.head 5 -  Menu Item Name:
.head 3 +  Popup Menu: &Consultas Generales
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 4 -  Resource Id: 35270
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 4 +  Menu Item: Consulta de Servicios
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 35271
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalModalDialog( dlgConsultaServicios, hWndForm, 1, sTempMenu, sTempMenu2 )
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Consulta de Medicos
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 35272
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalModalDialog( dlgConsultaMedicos, hWndForm, nTempMenu,  0)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Consulta de Pacientes
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 35273
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalModalDialog( dlgConsultaPacientesO, hWndForm, sTempMenu, sTempMenu2, 3, 0, 0)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Consulta de Empleados
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 35274
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalModalDialog( dlgConsultaEmpleados, hWndForm, nTempMenu, 0)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name:
.head 3 +  Popup Menu: &Reportes Administrativos
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 4 -  Resource Id: 35244
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 4 +  Popup Menu: Planilla
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 58535
.head 5 -  Enabled when: bArraySeg[15]
.head 5 -  Status Text:
.head 5 -  Menu Item Name:
.head 5 +  Menu Item: Marcaciones de Reloj
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Resource Id: 58547
.head 6 -  Keyboard Accelerator: (none)
.head 6 -  Status Text:
.head 6 +  Menu Settings
.head 7 -  Enabled when:
.head 7 -  Checked when:
.head 6 +  Menu Actions
.head 7 -  !
.head 7 -  Call SalModalDialog( dlgReporteMarcas, hWndForm)
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.data CLASSPROPSSIZE
0000: 1600
.enddata
.head 7 -  ! Set strRepTitle = "Entradas/Salidas de Empleados"
.head 7 -  ! Set strReportName = strRepPath||"\\Marcas.rpt"
.head 7 -  ! Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 6 -  Menu Item Name:
.head 5 +  Menu Item: Resumen de Salarios
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Resource Id: 58546
.head 6 -  Keyboard Accelerator: (none)
.head 6 -  Status Text:
.head 6 +  Menu Settings
.head 7 -  Enabled when:
.head 7 -  Checked when:
.head 6 +  Menu Actions
.head 7 -  Call SalCreateWindow(frmSueldos, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Menu Item Name:
.head 5 +  Menu Item: Detalle de Ingresos y Deducciones de Planilla
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Resource Id: 58545
.head 6 -  Keyboard Accelerator: (none)
.head 6 -  Status Text:
.head 6 +  Menu Settings
.head 7 -  Enabled when:
.head 7 -  Checked when:
.head 6 +  Menu Actions
.head 7 -  Call SalModalDialog(dlgConsultaPlanilla, hWndForm, nregreso)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Menu Item Name:
.head 4 +  Popup Menu: Contabilidad
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 58544
.head 5 -  Enabled when: bArraySeg[15]
.head 5 -  Status Text:
.head 5 -  Menu Item Name:
.head 5 +  Menu Item: Balance de Saldos
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Resource Id: 58543
.head 6 -  Keyboard Accelerator: (none)
.head 6 -  Status Text:
.head 6 +  Menu Settings
.head 7 -  Enabled when:
.head 7 -  Checked when:
.head 6 +  Menu Actions
.head 7 -  Call SalCreateWindow(frmReporteGastos, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Menu Item Name:
.head 5 +  Menu Item: Informe de Presupuesto
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Resource Id: 58542
.head 6 -  Keyboard Accelerator: (none)
.head 6 -  Status Text:
.head 6 +  Menu Settings
.head 7 -  Enabled when:
.head 7 -  Checked when:
.head 6 +  Menu Actions
.head 7 -  Call SalCreateWindow(frmReportePresupuesto, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Menu Item Name:
.head 4 +  Popup Menu: Facturacion
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 58541
.head 5 -  Enabled when: bArraySeg[15]
.head 5 -  Status Text:
.head 5 -  Menu Item Name:
.head 5 +  Popup Menu: Reporte de Costos de Facturacion
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Resource Id: 58540
.head 6 -  Enabled when:
.head 6 -  Status Text:
.head 6 -  Menu Item Name:
.head 6 +  Menu Item: Asegurados
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 7 -  Resource Id: 58539
.head 7 -  Keyboard Accelerator: (none)
.head 7 -  Status Text:
.head 7 +  Menu Settings
.head 8 -  Enabled when:
.head 8 -  Checked when:
.head 7 +  Menu Actions
.head 8 -  Call SalModalDialog( dlgReporteCostos, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 7 -  Menu Item Name:
.head 6 +  Menu Item: Privados
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 7 -  Resource Id: 58538
.head 7 -  Keyboard Accelerator: (none)
.head 7 -  Status Text:
.head 7 +  Menu Settings
.head 8 -  Enabled when:
.head 8 -  Checked when:
.head 7 +  Menu Actions
.head 8 -  Call SalModalDialog( dlgReporteCostosPrivados, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 7 -  Menu Item Name:
.head 6 +  ! Menu Item: Reporte de Costos de Facturacion
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 7 -  Keyboard Accelerator: (none)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 7 -  Status Text: 
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 7 +  Menu Settings 
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 8 -  Enabled when: bArraySeg[15]
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 8 -  Checked when: 
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 7 +  Menu Actions 
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 8 -  Call SalModalDialog( dlgReporteCostos, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 7 -  Menu Item Name: 
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 +  Menu Item: Reporte de Montos Sobrepasados
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Resource Id: 58537
.head 6 -  Keyboard Accelerator: (none)
.head 6 -  Status Text:
.head 6 +  Menu Settings
.head 7 -  Enabled when:
.head 7 -  Checked when:
.head 6 +  Menu Actions
.head 7 -  Call SalModalDialog( dlgReporteSobrepasanMonto, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Menu Item Name:
.head 4 +  Menu Item: Reporte de Servicios
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 58536
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when: bArraySeg[16]
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalModalDialog( dlgReporteServicios, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name:
.head 3 +  Windows Menu: &Opciones del Sistema
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 4 -  Resource Id: 11617
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 4 +  Menu Item: Consultas
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 11618
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when: bArraySeg[10]
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalCreateWindow(frmConsultas, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Bodegas
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 11619
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text: Opción para registran las bodegas
.head 5 +  Menu Settings
.head 6 -  Enabled when: bArraySeg[11]
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalCreateWindow( frmBodegas, hWndForm )
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Escala de precios
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 11620
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text: En esta opción se registran las escalas de precios
.head 5 +  Menu Settings
.head 6 -  Enabled when: bArraySeg[12]
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalCreateWindow( frmEscala, hWndForm )
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name:
.head 4 -  Menu Separator
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 4 +  Menu Item: Derechos
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 11621
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when: bArraySeg[13]
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalCreateWindow(frmDerechos, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Usuarios
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 11622
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when: bArraySeg[14]
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalCreateWindow(frmUsuarios, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Cambio Contraseña
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 11623
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalCreateWindow(frmCambioContrasena, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Salir
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 11624
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text: Salir del sistema
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalQuit()
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name:
.head 3 +  Windows Menu: &Utilerias
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 4 -  Resource Id: 11625
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 4 +  Menu Item: Calculadora
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 11626
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalLoadApp('C:\\Windows\\system32\\calc.exe',' ')
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name:
.head 4 +  Popup Menu: Microsoft Office
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 11627
.head 5 -  Enabled when:
.head 5 -  Status Text:
.head 5 -  Menu Item Name:
.head 5 +  Menu Item: MS Word
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Resource Id: 11628
.head 6 -  Keyboard Accelerator: (none)
.head 6 -  Status Text:
.head 6 +  Menu Settings
.head 7 -  Enabled when:
.head 7 -  Checked when:
.head 6 +  Menu Actions
.head 7 -  Call SalLoadApp('winword.exe', ' ')
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Menu Item Name:
.head 5 +  Menu Item: MS Excel
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Resource Id: 11629
.head 6 -  Keyboard Accelerator: (none)
.head 6 -  Status Text:
.head 6 +  Menu Settings
.head 7 -  Enabled when:
.head 7 -  Checked when:
.head 6 +  Menu Actions
.head 7 -  Call SalLoadApp('C:\\Program Files\\Microsoft Office\\Office\\excel.exe', ' ')
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Menu Item Name:
.head 5 +  Menu Item: MS Power Point
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Resource Id: 11630
.head 6 -  Keyboard Accelerator: (none)
.head 6 -  Status Text:
.head 6 +  Menu Settings
.head 7 -  Enabled when:
.head 7 -  Checked when:
.head 6 +  Menu Actions
.head 7 -  Call SalLoadApp('C:\\Program Files\\Microsoft Office\\Office\\Powerpnt.exe', ' ')
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Menu Item Name:
.head 3 +  Windows Menu: &Ayuda
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 4 -  Resource Id: 11631
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 +  Menu Item Name:
.head 5 -  ! Menu Actions
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 4 +  Menu Item: Acerda de...
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 11632
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalMessageBox( "Modificado <05/01/2004>", "Acerca de...",0 )
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Left
.head 4 -  Visible? Yes
.head 4 -  Size: 1.9"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Charcoal
.head 3 +  Contents
.head 4 +  Pushbutton: pbPacientes
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Pacientes
.head 5 -  Window Location and Size
.head 6 -  Left: 0.183"
.head 6 -  Top:    0.155"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.917"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\48x48\Doctor Directory 3.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: White
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Call SalCreateWindow( frmPrincipalPacientes, hWndForm )
.head 4 +  Pushbutton: pbSistema
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Sistema
.head 5 -  Window Location and Size
.head 6 -  Left: 0.183"
.head 6 -  Top:    2.905"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.917"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\48x48\monitor.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: 3D Highlight Color
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Call SalCreateWindow( frmPrincipalSistema, hWndForm )
.head 7 -  ! Call SalMessageBox( 'Opcion Deshabilitada por los momentos' ,'Mensaje', MB_Ok )
.head 4 +  Pushbutton: pbLaboratorio
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Inventario
.head 5 -  Window Location and Size
.head 6 -  Left: 0.183"
.head 6 -  Top:    1.988"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.917"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\48x48\Medical Bag 4.bmp
.head 5 -  Picture Transparent Color: White
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: 3D Highlight Color
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Call SalCreateWindow( frmPrincipalCompras, hWndForm )
.head 4 +  Pushbutton: pbFacturacion
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Facturacion
.head 5 -  Window Location and Size
.head 6 -  Left: 0.183"
.head 6 -  Top:    1.071"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.917"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\48x48\Medical Invoice Flat.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: 3D Highlight Color
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Call SalCreateWindow( frmPrincipalFacturas, hWndForm )
.head 4 -  Background Text: Derechos Reservados 1999.
.head 5 -  Resource Id: 25753
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 10.083"
.head 6 -  Top:    6.012"
.head 6 -  Width:  3.1"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.229"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: White
.head 5 -  Background Color: Black
.head 4 +  Pushbutton: pb4
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Salir
.head 5 -  Window Location and Size
.head 6 -  Left: 0.183"
.head 6 -  Top:    3.821"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.917"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: 3D Highlight Color
.head 5 -  Message Actions
.head 2 +  Contents
.head 3 +  Picture: picBetesdaLogo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.483"
.head 5 -  Top:    0.869"
.head 5 -  Width:  9.933"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 4.869"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Editable? No
.head 4 -  File Name: C:\Centura\BITMAPS\LOGO_FINAL_BETESDA.bmp
.head 4 -  Storage: External
.head 4 -  Picture Transparent Color: White
.head 4 -  Fit: Size for Best Fit
.head 4 -  Scaling
.head 5 -  Width:  100
.head 5 -  Height:  100
.head 4 -  Corners: Square
.head 4 -  Border Style: No Border
.head 4 -  Border Thickness: 1
.head 4 -  Tile To Parent? No
.head 4 -  Border Color: Teal
.head 4 -  Background Color: System Window Color
.head 4 -  Message Actions
.head 3 +  Data Field: dfUsuario
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.283"
.head 6 -  Top:    0.405"
.head 6 -  Width:  4.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.512"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? No
.head 5 -  Border? No
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Arial Unicode MS
.head 5 -  Font Size: 14
.head 5 -  Font Enhancement: Underline
.head 5 -  Text Color: Dark Green
.head 5 -  Background Color: White
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: dfLeyenda
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.483"
.head 6 -  Top:    5.845"
.head 6 -  Width:  10.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.31"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? No
.head 5 -  Border? No
.head 5 -  Justify: Right
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Monotype Corsiva
.head 5 -  Font Size: 14
.head 5 -  Font Enhancement: Italic
.head 5 -  Text Color: Dark Green
.head 5 -  Background Color: White
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  Background Text: Modulo de Facturación
.head 4 -  Resource Id: 57549
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.483"
.head 5 -  Top:    0.071"
.head 5 -  Width:  10.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.512"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Arial Unicode MS
.head 4 -  Font Size: 20
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Dark Green
.head 4 -  Background Color: White
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  Number: nregreso
.head 3 -  Number: n_factura
.head 3 -  Number: n_monto
.head 3 -  Number: nLargo
.head 3 -  Number: nAncho
.head 3 -  Number: nX
.head 3 -  Number: nY
.head 3 -  String: sNombreUsuarioUpper
.head 3 -  Long String: lsLogo
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  ! Call SqlPrepareAndExecute( hSql1, "SELECT LOGO2 FROM SYS_EMPRESA INTO :lsLogo" )
.head 4 -  ! Call SqlFetchNext(hSql1,nSiguiente)
.head 4 +  ! If lsLogo != STRING_Null
.head 5 -  Call SalPicSetString( picBetesdaLogo,PIC_FormatBitmap, lsLogo )
.head 4 +  ! Else
.head 5 -  Call SalPicClear( picBetesdaLogo )
.head 4 -  ! Call SalPicSetFile(picBetesdaLogo, "C:\\Centura\\BITMAPS\\LOGO_FINAL_BETESDA.bmp")
.head 4 -  Call SalCenterWindow( picBetesdaLogo )
.head 4 -  Call SalGetWindowLoc( picBetesdaLogo, nX, nY)
.head 4 -  Call SalSetWindowLoc( dfUsuario, nX, nY - 0.5)
.head 4 -  Call SalStrUpper(sNombreUsuario, sNombreUsuarioUpper)
.head 4 -  Set dfUsuario = "BIENVENIDO: " || sNombreUsuarioUpper  || "!"
.head 4 -  Call SalShowWindow( dfUsuario )
.head 4 -  !
.head 4 -  Set dfLeyenda="By Leitz Digital"
.head 4 -  Call SalGetWindowSize (picBetesdaLogo, nAncho, nLargo)
.head 4 -  Call SalSetWindowLoc( dfLeyenda, nX , nY + nLargo + 0.05)
.head 4 -  Call SalShowWindow( dfLeyenda)
.head 4 -  !
.head 4 -  Call SalShowWindow (picBetesdaLogo)
.head 4 -  !
.head 4 -  Call SalStatusSetText ( hWndForm, 'Conectado la Base de Datos ==> ' || SqlDatabase || '...' )
.head 4 -  Call SqlSetResultSet( hSql1, TRUE )
.head 4 -  Call SqlSetResultSet( hSql2, TRUE )
.head 4 -  Call SqlSetResultSet( hSql3, TRUE )
.head 4 -  Call SqlSetResultSet( hSql4, TRUE )
.head 4 -  Call SqlSetResultSet( hSql5, TRUE )
.head 1 +  Form Window: frmPrincipalFacturas
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Procesos
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: 0.55"
.head 4 -  Top:    0.458"
.head 4 -  Width:  7.583"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 3.714"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: White
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 +  Menu
.head 3 +  ! Windows Menu: &Consultas
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 4 -  Enabled when: bArraySeg[10]
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 3 +  Windows Menu: &Opciones
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.data CLASSPROPSSIZE
0000: 1600
.enddata
.head 4 -  Resource Id: 25756
.head 4 -  Enabled when: bArraySeg[15]
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 4 +  Menu Item: Modificar Recibos
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 25757
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalCreateWindow( frmModificarRecibos, hWndForm )
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Consulta Avanzada de Recibos
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 5465
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalModalDialog( dlgConsultaRecibosAvanzada, hWndForm )
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Reabrir Facturas
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 5466
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalModalDialog( dlgReabrirFacturas, hWndForm )
.head 5 -  Menu Item Name:
.head 3 +  Windows Menu: &Reportes
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 4 -  Resource Id: 25760
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 4 +  Popup Menu: Pacientes Asegurados
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 25761
.head 5 -  Enabled when: bArraySeg[10]
.head 5 -  Status Text:
.head 5 -  Menu Item Name:
.head 5 +  Menu Item: Reporte de Servicios Prestados a los Pacientes de Maquilas
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Resource Id: 25762
.head 6 -  Keyboard Accelerator: (none)
.head 6 -  Status Text:
.head 6 +  Menu Settings
.head 7 -  Enabled when:
.head 7 -  Checked when:
.head 6 +  Menu Actions
.head 7 -  Call SalModalDialog(dlgReportesAseg, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Menu Item Name:
.head 4 +  Popup Menu: Pacientes Privados
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 25763
.head 5 -  Enabled when: bArraySeg[10]
.head 5 -  Status Text:
.head 5 -  Menu Item Name:
.head 5 +  Menu Item: Facturado por Area de Servicio
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Resource Id: 25764
.head 6 -  Keyboard Accelerator: (none)
.head 6 -  Status Text:
.head 6 +  Menu Settings
.head 7 -  Enabled when:
.head 7 -  Checked when:
.head 6 +  Menu Actions
.head 7 -  Call SalModalDialog(dlgRptFactPrivCategServicios, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Menu Item Name:
.head 5 +  Menu Item: Ingresos de Caja por Tipo de Pago
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Resource Id: 11626
.head 6 -  Keyboard Accelerator: (none)
.head 6 -  Status Text:
.head 6 +  Menu Settings
.head 7 -  Enabled when:
.head 7 -  Checked when:
.head 6 +  Menu Actions
.head 7 -  Call SalModalDialog(dlgRptCajaIngresosXTipo, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Menu Item Name:
.head 5 +  Menu Item: Cuentas por Cobrar
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Resource Id: 11628
.head 6 -  Keyboard Accelerator: (none)
.head 6 -  Status Text:
.head 6 +  Menu Settings
.head 7 -  Enabled when:
.head 7 -  Checked when:
.head 6 +  Menu Actions
.head 7 -  Call SalModalDialog(dlgReportesCxC, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Menu Item Name:
.head 5 +  ! Menu Item: Cuentas por Cobrar Solo Clinica
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Keyboard Accelerator: (none)
.head 6 -  Status Text: 
.head 6 +  Menu Settings 
.head 7 -  Enabled when: 
.head 7 -  Checked when: 
.head 6 +  Menu Actions 
.head 7 -  Call SalModalDialog(dlgReportesCxCSoloClinica, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Menu Item Name: 
.head 5 +  Menu Item: Estado de Cuenta de Doctores
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Resource Id: 25765
.head 6 -  Keyboard Accelerator: (none)
.head 6 -  Status Text:
.head 6 +  Menu Settings
.head 7 -  Enabled when:
.head 7 -  Checked when:
.head 6 +  Menu Actions
.head 7 -  Call SalModalDialog(dlgEstadoDoctores, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Menu Item Name:
.head 5 +  Menu Item: Materiales facturados
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Resource Id: 25766
.head 6 -  Keyboard Accelerator: (none)
.head 6 -  Status Text:
.head 6 +  Menu Settings
.head 7 -  Enabled when:
.head 7 -  Checked when:
.head 6 +  Menu Actions
.head 7 -  Call SalModalDialog(dlgImprimirMateriales, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 6 -  Menu Item Name:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.619"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Charcoal
.head 3 +  Contents
.head 4 +  Pushbutton: pbSalir
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 5.917"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.667"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 2 +  Contents
.head 3 +  Pushbutton: pbFacturas
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Factura Privados
.head 4 -  Window Location and Size
.head 5 -  Left: 2.583"
.head 5 -  Top:    0.071"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.869"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\48x48\Insurance.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: 3D Highlight Color
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If bArraySeg[1]
.head 7 -  Call SalCreateWindow( frmFact, hWndForm, 1, sTempMenu, sTempMenu2)
.head 3 +  Pushbutton: pbPagos
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Estado de Cuenta
.head 4 -  Window Location and Size
.head 5 -  Left: 2.583"
.head 5 -  Top:    0.988"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.869"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\48x48\Medical Bills.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: 3D Highlight Color
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If bArraySeg[3]
.head 7 -  Call SalCreateWindow( frmFactPend, hWndForm )
.head 3 +  Pushbutton: pbFacturasAseg
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Factura Asegurados
.head 4 -  Window Location and Size
.head 5 -  Left: 0.583"
.head 5 -  Top:    0.071"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.869"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\48x48\Insurance 2.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: 3D Highlight Color
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If bArraySeg[2]
.head 7 -  Call SalCreateWindow( frmFactA, hWndForm )
.head 3 +  Pushbutton: pbRecibosH
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Recibos
.head 4 -  Window Location and Size
.head 5 -  Left: 0.583"
.head 5 -  Top:    0.988"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.869"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\48x48\CardHolder 2.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: 3D Highlight Color
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If bArraySeg[3]
.head 7 -  Call SalCreateWindow( frmRecibosCancFactura, hWndForm, 1, nTempMenu, sTempMenu)
.head 3 +  Pushbutton: pbNotaCredito
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Nota Crédito
.head 4 -  Window Location and Size
.head 5 -  Left: 4.583"
.head 5 -  Top:    0.988"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.869"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\48x48\Qualifications Flat.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: 3D Highlight Color
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If bArraySeg[3]
.head 7 -  Call SalCreateWindow( frmNotaCredito, hWndForm )
.head 3 +  Pushbutton: pbAutorizacionPago
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Autorización
.head 4 -  Window Location and Size
.head 5 -  Left: 4.583"
.head 5 -  Top:    0.071"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.869"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\48x48\document.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: 3D Highlight Color
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If bArraySeg[1]
.head 7 -  Call SalCreateWindow( frmAutorizacionPago, hWndForm, 1, STRING_Null, STRING_Null  )
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 -  Window Variables
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 +  ! If bArraySeg[1]
.head 5 -  Call SalEnableWindow(pbFacturas)
.head 5 -  Call SalEnableWindow (pbAutorizacionPago)
.head 4 +  ! If bArraySeg[2]
.head 5 -  Call SalEnableWindow(pbFacturasAseg)
.head 4 +  ! If bArraySeg[3]
.head 5 -  Call SalEnableWindow(pbPagos)
.head 5 -  Call SalEnableWindow(pbNotaCredito)
.head 5 -  Call SalEnableWindow(pbRecibosH)
.head 4 +  ! If bArraySeg[4]
.head 5 -  Call SalEnableWindow(pbPacientesAseg)
.head 4 +  ! If bArraySeg[5]
.head 5 -  Call SalEnableWindow(pbPacientes)
.head 4 +  ! If bArraySeg[17]
.head 5 -  !
.head 5 -  Call SalEnableWindow(pbOrdenServicio)
.head 4 +  ! If bArraySeg[18]
.head 5 -  !
.head 5 -  Call SalEnableWindow(pbCirugias)
.head 4 -  Call SalCenterWindow( hWndForm )
.head 1 +  Dialog Box: dlgConsultaMedicos
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Medicos SPS
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  11.433"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 6.024"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  Data Field: dfNombre
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: String
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.083"
.head 6 -  Top:    0.595"
.head 6 -  Width:  4.667"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_AnyEdit
.head 6 -  !
.head 6 -  Call SalSendMsg(pbBuscar, SAM_Click, 0, 0)
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatChildTable
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.583"
.head 6 -  Top:    1.571"
.head 6 -  Width:  9.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 3.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colCodigor
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Codigo
.head 6 -  Visible? Yes
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.967"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colNombrer
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Nombre
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  4.017"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colEspecialidad
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Especialidad
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.15"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDireccion
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsLong
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Direccion
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 +  Window Variables
.head 5 -  Number: nFilita
.head 4 +  Message Actions
.head 5 +  On SAM_DoubleClick
.head 6 -  !
.head 6 +  If nFlag = 1
.head 7 -  !
.head 7 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.colCodigor)
.head 7 -  Call SalTblSetContext(tbl1,nFilita)
.head 7 -  Set nRegresa=tbl1.colCodigor
.head 7 -  Call SalEndDialog(dlgConsultaMedicos, 0)
.head 3 +  Pushbutton: pbSeleccionar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.483"
.head 5 -  Top:    0.321"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Keyboard Accelerator: Enter
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call SalSendMsg( tbl1, SAM_DoubleClick, 0, 0 )
.head 3 -  Group Box: Criterios de Busqueda:
.head 4 -  Resource Id: 50123
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.583"
.head 5 -  Top:    0.321"
.head 5 -  Width:  9.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.0"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Nombre:
.head 4 -  Resource Id: 50124
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.217"
.head 5 -  Top:    0.595"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Especialidad:
.head 4 -  Resource Id: 50125
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.917"
.head 5 -  Top:    0.905"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbEspecialidad
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.117"
.head 5 -  Top:    0.905"
.head 5 -  Width:  4.567"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEspecialidad.nCaso = 1
.head 6 -  Set cmbEspecialidad.sTabla = 'ESPECIALIDAD'
.head 6 -  Set cmbEspecialidad.sNombre='NOMBRE'
.head 6 -  Set cmbEspecialidad.sCodigo='COD_ESPECIALIDAD'
.head 3 -  Frame
.head 4 -  Resource Id: 50126
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    0.155"
.head 5 -  Width:  10.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 5.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Raised-Shadow
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 50127
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    1.488"
.head 5 -  Width:  9.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.667"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 +  Pushbutton: pbBuscar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.95"
.head 5 -  Top:    0.595"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F3
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalWaitCursor( TRUE )
.head 6 -  Call SalTblPopulate( tbl1, hSql1, ArmarQuery(), TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  Call SalWaitCursor( FALSE )
.head 6 -  ! Call SalTblClearSelection( tbl1 )
.head 6 -  ! Call SalTblSetRowFlags( tbl1, VisTblFindString( tbl1, 0,tbl1.colNombrer,dfNombre), ROW_Selected, TRUE )
.head 2 +  Functions
.head 3 +  Function: ArmarQuery
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sConsulta
.head 4 +  Actions
.head 5 -  Set sConsulta="select
				A.cod_medico ,
				A.nombre,
				B.Nombre,
				A.DIRECCION
			from
				medicos A,
				Especialidad B
			where
				B.Cod_Especialidad = A.Cod_Especialidad"
.head 5 +  If not SalIsNull(dfNombre)
.head 6 -  Set sConsulta=sConsulta||"	AND	A.nombre   like '%" || dlgConsultaMedicos.dfNombre ||"%'"
.head 5 +  If not SalIsNull(cmbEspecialidad)
.head 6 -  Set sConsulta=sConsulta||"	AND	A.Cod_Especialidad = :dlgConsultaMedicos.cmbEspecialidad.nCodigo"
.head 5 -  Set sConsulta=sConsulta||"	order by
				A.NOMBRE"
.head 5 -  Return sConsulta
.head 2 +  Window Parameters
.head 3 -  Receive Number: nRegresa
.head 3 -  Number: nFlag
.head 2 -  Window Variables
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalBringWindowToTop(dlgConsultaMedicos)
.head 4 -  Call SalSetFocus(dfNombre)
.head 4 -  Call SalWaitCursor(TRUE)
.head 4 -  Call SalTblPopulate(tbl1,hSql1,"select
				A.cod_medico ,
				A.nombre,
				B.Nombre,
				A.DIRECCION
			from
				medicos A,
				Especialidad B
			where
				B.Cod_Especialidad = A.Cod_Especialidad
			order by
				A.NOMBRE"
,TBL_FillAll)
.head 4 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  Call SalWaitCursor(FALSE)
.head 1 +  Dialog Box: dlgConsultaCtrlReactivos
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Consulta de Control de Reactivos
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  11.033"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 6.19"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Frame
.head 4 -  Resource Id: 50128
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.155"
.head 5 -  Width:  10.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 5.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Raised-Shadow
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Nombre
.head 4 -  Resource Id: 50129
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    2.024"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Lote #
.head 4 -  Resource Id: 17258
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    2.298"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Obs:
.head 4 -  Resource Id: 17259
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.383"
.head 5 -  Top:    0.988"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Total Lotes:
.head 4 -  Resource Id: 50132
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.15"
.head 5 -  Top:    5.369"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Criterios de Busqueda
.head 4 -  Resource Id: 50133
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    0.238"
.head 5 -  Width:  9.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCodigo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.183"
.head 6 -  Top:    0.679"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Codigo
.head 4 -  Resource Id: 50135
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.883"
.head 5 -  Top:    1.726"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCodReactivo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.583"
.head 6 -  Top:    1.679"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.31"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_KillFocus
.head 6 -  !
.head 6 +  If not SalIsNull (dfCodReactivo)
.head 7 -  !
.head 7 -  Set sSQL = "SELECT 
    		Descripcion
	FROM    		
    		Examenes
	WHERE
    		Cod_Examen = :dfCodReactivo
	INTO 
		:cmbReactivo" 
.head 7 -  Call SqlExists(sSQL , bExistsCodReactivo)
.head 7 -  Call SqlClearImmediate()
.head 7 +  If not bExistsCodReactivo
.head 8 -  Call SalMessageBox("No existe el reactivo!","ERROR",MB_Ok)
.head 8 -  Set dfCodReactivo=NUMBER_Null
.head 8 -  Set cmbReactivo=''
.head 3 -  Background Text: Codigo/Control
.head 4 -  Resource Id: 50136
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    0.726"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Datos del Reactivo
.head 4 -  Resource Id: 50140
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    1.405"
.head 5 -  Width:  4.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 50141
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    2.821"
.head 5 -  Width:  10.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.417"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 -  Group Box: Datos de Emision
.head 4 -  Resource Id: 50142
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    0.488"
.head 5 -  Width:  4.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.833"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.783"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.983"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Combo Box: cmbReactivo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatComboBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.583"
.head 5 -  Top:    1.988"
.head 5 -  Width:  3.2"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.893"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_DropDown
.head 6 -  !
.head 6 -  Set sReactivo = cmbReactivo
.head 6 -  Set sSQL = "
			SELECT
				Descripcion
			FROM
				Examenes
			WHERE
				Descripcion <> ''			
			ORDER BY
				Descripcion"
.head 6 -  ! Call SalListClear(cmbMedicosOS)
.head 6 -  Call SalListPopulate(cmbReactivo, hSqlLab, sSQL)
.head 6 -  !
.head 6 -  Call SalListSelectString( hWndItem, -1,sReactivo)
.head 5 +  On SAM_Validate
.head 6 -  !
.head 6 -  !
.head 6 -  Set sSQL = "
	SELECT 
    		Cod_Examen
	FROM
    		Examenes
	WHERE
    		 Descripcion = :cmbReactivo
	INTO 
		:dfCodReactivo
	"
.head 6 -  Call SqlImmediate(sSQL)
.head 6 -  Call SqlClearImmediate( )
.head 3 +  Pushbutton: pb3
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.867"
.head 5 -  Top:    0.976"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F3
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalWaitCursor( TRUE )
.head 6 -  Set sSQL = ConstructQuery()
.head 6 -  ! Call SalMessageBox(sSQL,'Sql',MB_Ok)
.head 6 -  Call SalTblPopulate( tblControl, hSqlLab, sSQL, TBL_FillAll)
.head 6 -  Set dfTotal=ContarFilas( tblControl )
.head 6 -  Call SalWaitCursor( FALSE )
.head 3 +  Child Table: tblControl
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatChildTable
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.583"
.head 6 -  Top:    2.905"
.head 6 -  Width:  10.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 2.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 100000
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colCodigo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: CodControl
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Left
.head 6 -  Width:  0.983"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCodReactivo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: CodReactivo
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Left
.head 6 -  Width:  1.15"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colNombreReactivo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Nombre Reactivo
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colLote
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Lote
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  1.783"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFechaInicio
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha Inicio
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Date/Time
.head 6 -  Justify: Left
.head 6 -  Width:  Default
.head 6 -  Width Editable? Yes
.head 6 -  Format: yyyy/MM/dd
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFechaFinal
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha Final
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Date/Time
.head 6 -  Justify: Left
.head 6 -  Width:  Default
.head 6 -  Width Editable? Yes
.head 6 -  Format: yyyy/MM/dd
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 +  Window Variables
.head 5 -  Number: nFila
.head 4 +  Message Actions
.head 5 +  On SAM_DoubleClick
.head 6 -  !
.head 6 +  If nFlag = 1
.head 7 -  !
.head 7 -  Call SalTblQueryFocus(tblControl,nFila,tblControl.colCodigo)
.head 7 -  Call SalTblSetContext(tblControl,nFila)
.head 7 -  Set nRegresa=tblControl.colCodigo
.head 7 -  Call SalEndDialog(dlgConsultaCtrlReactivos,TRUE)
.head 3 +  Data Field: dfTotal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.75"
.head 6 -  Top:    5.345"
.head 6 -  Width:  1.233"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: #0
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Frame
.head 4 -  Resource Id: 50149
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.783"
.head 5 -  Top:    0.905"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: 3D Shadow Color
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbCopiar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Copiar
.head 4 -  Window Location and Size
.head 5 -  Left: 9.883"
.head 5 -  Top:    1.643"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.679"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F5
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\editpaste.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call SalTblCopyRows(tblControl,0,0)
.head 6 -  Call SalMessageBox('Datos copiados','Atencion',MB_Ok)
.head 6 -  ! Set nLanguage = MTE_LNG_ENGLISH
.head 6 -  ! Set sStartCell = "Cod_Paciente"
.head 6 -  ! Set nExcelFlags = MTE_EXCEL_RUNNING_INSTANCE | MTE_EXCEL_NEW_INSTANCE | MTE_EXCEL_NEW_WORKSHEET
.head 6 -  ! Set nExportFlags = MTE_COL_HEADERS | MTE_COLORS | MTE_FONTS | MTE_GRID | MTE_SPLIT_ROWS | MTE_SHOW_STATUS
.head 6 -  ! Set nRowFlagsOn = 0
.head 6 -  ! Set nRowFlagsOff = ROW_Hidden
.head 6 -  ! Set nColFlagsOn = COL_Visible
.head 6 -  ! Set nColFlagsOff = 0
.head 6 -  ! Call MTblExportToExcel(tbl1, nLanguage, sStartCell, nExcelFlags, nExportFlags, nRowFlagsOn, nRowFlagsOff, nColFlagsOn, nColFlagsOff )
.head 3 +  Data Field: dfLote
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: String
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.583"
.head 6 -  Top:    2.238"
.head 6 -  Width:  3.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfObservaciones
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.183"
.head 6 -  Top:    0.988"
.head 6 -  Width:  2.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Group Box: Fecha Inicio
.head 4 -  Resource Id: 10306
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.95"
.head 5 -  Top:    0.429"
.head 5 -  Width:  4.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.0"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Check Box: cbFechaIDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Desde
.head 4 -  Window Location and Size
.head 5 -  Left: 5.083"
.head 5 -  Top:    0.679"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cbFechaIHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Hasta
.head 4 -  Window Location and Size
.head 5 -  Left: 5.083"
.head 5 -  Top:    1.036"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Custom Control: ccFechaIDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 6.05"
.head 6 -  Top:    0.679"
.head 6 -  Width:  3.433"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Custom Control: ccFechaIHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 6.05"
.head 6 -  Top:    1.036"
.head 6 -  Width:  3.433"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 -  Group Box: Fecha Final
.head 4 -  Resource Id: 10307
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.95"
.head 5 -  Top:    1.536"
.head 5 -  Width:  4.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.0"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Check Box: cbFechaFDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Desde
.head 4 -  Window Location and Size
.head 5 -  Left: 5.083"
.head 5 -  Top:    1.786"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cbFechaFHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Hasta
.head 4 -  Window Location and Size
.head 5 -  Left: 5.083"
.head 5 -  Top:    2.143"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Custom Control: ccFechaFDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 6.05"
.head 6 -  Top:    1.786"
.head 6 -  Width:  3.433"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Custom Control: ccFechaFHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 6.05"
.head 6 -  Top:    2.143"
.head 6 -  Width:  3.433"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Data Field: dfFechaIDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.183"
.head 6 -  Top:    2.571"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFechaFDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.05"
.head 6 -  Top:    2.571"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFechaIHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.917"
.head 6 -  Top:    2.571"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFechaFHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.783"
.head 6 -  Top:    2.571"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 2 +  Functions
.head 3 +  Function: ConstructQuery
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sConsulta
.head 5 -  Number: nCod_Examen
.head 4 +  Actions
.head 5 -  Set dfFechaIDesde = ccFechaIDesde.GetSystemTime()
.head 5 -  Set dfFechaIHasta = ccFechaIHasta.GetSystemTime()
.head 5 -  Set dfFechaFDesde = ccFechaFDesde.GetSystemTime()
.head 5 -  Set dfFechaFHasta = ccFechaFHasta.GetSystemTime()
.head 5 -  !
.head 5 -  Set sConsulta="SELECT
			C.Codigo,			
			C.Cod_Examen,
			E.Descripcion,			
			C.Lote,
			C.FechaInicio,
			C.FechaFinal
			
	FROM
        			Control_Reactivos 	AS	C,
			Examenes	AS 	E	
	WHERE        			
        			E.Cod_Examen 	= C.Cod_Examen  "

.head 5 +  If not SalIsNull(dfCodigo)
.head 6 -  Set sConsulta = sConsulta || " AND C.Codigo = :dfCodigo"
.head 5 +  If not SalIsNull(cmbReactivo)
.head 6 -  ! -------Obtener el codigo de reactivo
.head 6 -  !
.head 6 -  Set sConsulta = sConsulta || " AND E.Descripcion = :cmbReactivo"
.head 5 +  If not SalIsNull(dfObservaciones)
.head 6 -  Set sConsulta = sConsulta || " AND C.Observaciones  like '%" || dfObservaciones || "%' "
.head 5 +  If not SalIsNull(dfLote)
.head 6 -  Set sConsulta = sConsulta || " AND C.Lote  like '%" || dfLote || "%' "
.head 5 +  If SalIsButtonChecked(cbFechaIDesde)
.head 6 -  !
.head 6 -  Set sConsulta=sConsulta || "	AND	C.FechaInicio >= :dfFechaIDesde "

.head 5 +  If SalIsButtonChecked(cbFechaIHasta)
.head 6 -  !
.head 6 -  Set sConsulta=sConsulta || "	AND C.FechaInicio<=  :dfFechaIHasta "
.head 5 +  If SalIsButtonChecked(cbFechaFDesde)
.head 6 -  !
.head 6 -  Set sConsulta=sConsulta || "	AND	C.FechaFinal >= :dfFechaFDesde "

.head 5 +  If SalIsButtonChecked(cbFechaFHasta)
.head 6 -  !
.head 6 -  Set sConsulta=sConsulta || "	AND C.FechaFinal<=  :dfFechaFHasta "
.head 5 -  Set sConsulta=sConsulta||"	order	by	E.Descripcion"
.head 5 -  !
.head 5 -  Return sConsulta
.head 3 +  Function: ResetControls
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Window Handle: hWndChild
.head 5 -  Number: nHwndChild
.head 5 -  Number: nType
.head 4 +  Actions
.head 5 -  Set hWndChild = SalGetFirstChild( hWndForm, TYPE_Any )
.head 5 +  While hWndChild != hWndNULL
.head 6 -  Set nHwndChild = SalWindowHandleToNumber( hWndChild )
.head 6 -  Set nType = SalGetType( hWndChild )
.head 6 +  If nType = TYPE_ChildTable
.head 7 -  Call SalTblReset( hWndChild )
.head 6 +  Else If nType = TYPE_DataField or nType = TYPE_MultilineText or nType = TYPE_CheckBox or nType = TYPE_ComboBox
.head 7 -  Call SalClearField( hWndChild )
.head 6 -  Set hWndChild = SalGetNextChild( hWndChild, TYPE_Any )
.head 5 -  !
.head 5 -  !
.head 3 +  ! Function: ConstructParams
.head 4 -  Description: 
.head 4 -  Returns 
.head 4 -  Parameters 
.head 4 -  Static Variables 
.head 4 -  Local variables 
.head 4 +  Actions 
.head 5 -  !
.head 5 +  If not SalIsNull(dfOrden)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CODIGO = :dfOrden"
.head 6 -  Set params[0] = SalNumberToStrX(dfOrden,0)
.head 5 +  Else 
.head 6 -  Set params[0] = STRING_Null
.head 5 +  If not SalIsNull(cmbUsuariosOS)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.AUTORIZADO_POR = :cmbUsuariosOS.nCodigo"
.head 6 -  Set params[1] = SalNumberToStrX(cmbUsuariosOS.nCodigo,0)
.head 5 +  Else 
.head 6 -  Set params[1] = STRING_Null
.head 5 +  If not SalIsNull(cmbCiudades)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_CIUDAD_GEO = :cmbCiudades.nCodigo"
.head 6 -  Set params[2] = SalNumberToStrX(cmbCiudades.nCodigo,0)
.head 5 +  Else 
.head 6 -  Set params[2] = STRING_Null
.head 5 +  If not SalIsNull(cmbEspecialidad)
.head 6 -  !
.head 6 -  ! Set sConsulta = sConsulta || " AND M.COD_ESPECIALIDAD = :cmbEspecialidad.nCodigo"
.head 6 -  Set params[3] = SalNumberToStrX(cmbEspecialidad.nCodigo,0)
.head 5 +  Else 
.head 6 -  Set params[3] = STRING_Null
.head 5 +  If not SalIsNull(cmbMedicosOS)
.head 6 -  ! -------Obtener el codigo medico
.head 6 -  Set sSQL = "select
		COD_MEDICO
    	from
		MEDICOS
	where
		NOMBRE = :cmbMedicosOS
  	into
		:nMedico"
.head 6 -  Call SqlImmediate(  sSQL)
.head 6 -  Call SqlClearImmediate( )
.head 6 -  !
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_MEDICO = :nMedico"
.head 6 -  Set params[4] = SalNumberToStrX(nMedico,0)
.head 5 +  Else 
.head 6 -  Set params[4] = STRING_Null
.head 5 +  If not SalIsNull(cmbCategServiciosOS)
.head 6 -  !
.head 6 -  ! Set sConsulta = sConsulta || " AND O.COD_CATEGORIA = :cmbCategServiciosOS.sCodigos"
.head 6 -  Set params[5] = cmbCategServiciosOS.sCodigos
.head 5 +  Else 
.head 6 -  Set params[5] = STRING_Null
.head 5 +  If not SalIsNull(cmbServicios)
.head 6 -  !
.head 6 -  ! -------Obtener el codigo del servicio
.head 6 -  Set sSQL = "select
		COD_SERVICIO
    	from
		SERVICIOS
	where
		COD_CATEGORIA = :cmbCategServiciosOS.sCodigos AND
		EN_USO = 1 AND
		NOMBRE = :cmbServicios 
  	into
		:sServicio"
.head 6 -  Call SqlImmediate(  sSQL)
.head 6 -  Call SqlClearImmediate( )
.head 6 -  !
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_SERVICIO = :sServicio"
.head 6 -  Set params[6] = sServicio
.head 5 +  Else 
.head 6 -  Set params[6] = STRING_Null
.head 5 +  If not SalIsNull(dfPaciente)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.COD_PACIENTE = :dfPaciente"
.head 6 -  Set params[7] = dfPaciente
.head 5 +  Else 
.head 6 -  Set params[7] = STRING_Null
.head 5 +  If not SalIsNull(dfPacienteCorrel)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CORREL_PACIENTE = :dfPacienteCorrel"
.head 6 -  Set params[8] = dfPacienteCorrel
.head 5 +  Else 
.head 6 -  Set params[8] = STRING_Null
.head 5 +  If not SalIsNull(dfNombre)
.head 6 -  ! Set sConsulta=sConsulta || "	AND	P.PRIMER_NOM   like '%" || dfNombre || "%' "
.head 6 -  Set params[9] = dfNombre
.head 5 +  Else 
.head 6 -  Set params[9] = STRING_Null
.head 5 +  If not SalIsNull(dfApellido)
.head 6 -  ! Set sConsulta=sConsulta || "	AND	P.PRIMER_APE   like '%" || dfApellido || "%' "
.head 6 -  Set params[10] = dfApellido
.head 5 +  Else 
.head 6 -  Set params[10] = STRING_Null
.head 5 +  If not SalIsNull(cmbEmpresa)
.head 6 -  ! Set sConsulta=sConsulta || "	AND	P.COD_EMPRESA = :cmbEmpresa.nCodigo "
.head 6 -  Set params[11] = SalNumberToStrX(cmbEmpresa.nCodigo,0)
.head 5 +  Else 
.head 6 -  Set params[11] = STRING_Null
.head 5 +  If not SalIsNull(cmbDepto)
.head 6 -  ! Set sConsulta=sConsulta || "	AND	P.CODIGO_DEPTO = :cmbDepto.nCodigo "
.head 6 -  Set params[12] = SalNumberToStrX(cmbDepto.nCodigo ,0)
.head 5 +  Else 
.head 6 -  Set params[12] = STRING_Null
.head 5 +  If SalIsButtonChecked(cbFechaDesde)
.head 6 -  !
.head 6 -  Set dfFechaDesde = ccFechaDesde.GetSystemTime()
.head 6 -  ! Set sConsulta=sConsulta || "	AND	O.FECHA >= :dfFechaDesde "

.head 6 -  Set params[13] = SalFmtFormatDateTime ( dfFechaDesde, 'dd/MM/yyyy' )
.head 5 +  Else 
.head 6 -  Set params[13] = STRING_Null
.head 5 +  If SalIsButtonChecked(cbFechaHasta)
.head 6 -  !
.head 6 -  Set dfFechaHasta = ccFechaHasta.GetSystemTime()
.head 6 -  ! Set sConsulta=sConsulta || "	AND O.FECHA <=  :dfFechaHasta "
.head 6 -  Set params[14] = SalFmtFormatDateTime ( dfFechaHasta, 'dd/MM/yyyy' )
.head 5 +  Else 
.head 6 -  Set params[14] = STRING_Null
.head 2 +  Window Parameters
.head 3 -  Receive Number: nRegresa
.head 3 -  Number: nFlag
.head 3 -  Sql Handle: hSqlLab
.head 2 +  Window Variables
.head 3 -  String: sSQL
.head 3 -  Number: nMedico
.head 3 -  String: sMedico
.head 3 -  String: sServicio
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 3 -  String: sReactivo
.head 3 -  Boolean: bExistsCodReactivo
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalBringWindowToTop(dlgConsultaCtrlReactivos)
.head 1 +  Dialog Box: dlgConsultaPacientesO
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Consulta de Pacientes
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  12.8"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 7.548"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.488"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.583"
.head 6 -  Top:    2.321"
.head 6 -  Width:  11.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 2.917"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 8
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: Cod_Paciente
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Codigo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.167"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Correl_Paciente
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Corr.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.483"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Primer_Nom
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: 1er. Nombre
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.633"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Segundo_Nom
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: 2do. Nombre
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.583"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Primer_Ape
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: 1er. Apellido
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.533"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Segundo_Ape
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: 2do. Apellido
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.567"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFecha_Ingreso
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha Ingreso
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.467"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Tipo_S
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Tipo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.417"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDireccion
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Puesto
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Monto_Asegurado
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto Aseg.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.467"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Identidad
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Identidad
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.583"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDisp
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Disponible
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Left
.head 6 -  Width:  1.767"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colEstado
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Estado
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCarnetE
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Carnet E
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Left
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Check Box
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value: 1
.head 8 -  Uncheck Value: 0
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCarnetF
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Carnet F
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Left
.head 6 -  Width:  0.933"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Check Box
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value: 1
.head 8 -  Uncheck Value: 0
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colUnicoBeneficiario
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Unico B
.head 6 -  Visible? Yes
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Left
.head 6 -  Width:  0.85"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Check Box
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value: 1
.head 8 -  Uncheck Value: 0
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFechaNac
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha Nac
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.25"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colObs
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Observacion
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colEmpresa
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Observacion
.head 6 -  Visible? No
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 +  Window Variables
.head 5 -  Number: nFilita
.head 4 +  Message Actions
.head 5 +  On SAM_DoubleClick
.head 6 -  !
.head 6 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.Cod_Paciente)
.head 6 -  Call SalTblSetContext(tbl1,nFilita)
.head 6 -  !
.head 6 +  If tbl1.colEstado = 'INACTIVO' 
.head 7 -  !
.head 7 -  Call SalMessageBox ("El paciente esta INACTIVO", "ERROR", MB_IconStop)
.head 7 +  If nFlagBusquedaRestrictiva = 1
.head 8 -  !
.head 8 -  Return FALSE
.head 6 +  Else If tbl1.colEstado = 'ACTIVO' and tbl1.colObs = 'SIN COBERTURA'
.head 7 -  !
.head 7 -  Call SalMessageBox ("El paciente ha perdido la cobertura", "ERROR", MB_IconStop)
.head 7 +  If nFlagBusquedaRestrictiva = 1
.head 8 -  !
.head 8 -  Return FALSE
.head 6 +  Else If tbl1.colEstado = 'ACTIVO' and tbl1.colObs = 'EN PERIODO DE PRUEBA'
.head 7 -  !
.head 7 -  Call SalMessageBox ("El paciente esta en periodo de prueba", "ERROR", MB_IconStop)
.head 7 +  If nFlagBusquedaRestrictiva = 1
.head 8 -  !
.head 8 -  Return FALSE
.head 6 +  Else If tbl1.colEstado = 'ACTIVO' and tbl1.colObs = 'REQUIERE EXAMEN MEDICO'
.head 7 -  !
.head 7 -  Call SalMessageBox ("El paciente requiere examen medico por ser mayor de 45 años", "ERROR", MB_IconStop)
.head 7 +  ! If nFlagBusquedaRestrictiva = 1
.head 8 -  !
.head 8 -  Return FALSE
.head 6 -  !
.head 6 -  ! --Busqueda con devolucion
.head 6 +  If nFlagBusquedaConDev = 1
.head 7 -  !
.head 7 -  Set sRegresa=tbl1.Cod_Paciente
.head 7 -  Set sRegresa1=tbl1.Correl_Paciente
.head 7 -  Call SalEndDialog(dlgConsultaPacientesO,TRUE)
.head 7 -  !
.head 5 +  On SAM_Create
.head 6 -  !
.head 6 -  Call MTblSubClass( hWndForm )
.head 6 -  Call MTblEnableMWheelScroll( hWndForm, TRUE )
.head 3 -  Group Box: Criterios de Busqueda
.head 4 -  Resource Id: 54013
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    0.405"
.head 5 -  Width:  8.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.75"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfOculto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.083"
.head 6 -  Top:    4.905"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Posicionese sobre el Paciente en Particular y presione doble click para cargarlo
.head 4 -  Resource Id: 54014
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.583"
.head 5 -  Top:    5.595"
.head 5 -  Width:  8.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Total Global
.head 4 -  Resource Id: 54015
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.55"
.head 5 -  Top:    5.512"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTotal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.883"
.head 6 -  Top:    5.488"
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: #0
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Total ND
.head 4 -  Resource Id: 40714
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.55"
.head 5 -  Top:    5.81"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfIndefinidos
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.883"
.head 6 -  Top:    5.738"
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: #0
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Total Inactivos
.head 4 -  Resource Id: 40716
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.317"
.head 5 -  Top:    5.81"
.head 5 -  Width:  1.267"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfInactivos
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.583"
.head 6 -  Top:    5.738"
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: #0
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Total Activos
.head 4 -  Resource Id: 40715
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.317"
.head 5 -  Top:    5.476"
.head 5 -  Width:  1.267"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfActivos
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.583"
.head 6 -  Top:    5.405"
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: #0
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Primer Nombre
.head 4 -  Resource Id: 54016
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.583"
.head 5 -  Top:    0.679"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfNombre
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.183"
.head 6 -  Top:    0.655"
.head 6 -  Width:  2.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Primer Apellido
.head 4 -  Resource Id: 54017
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.883"
.head 5 -  Top:    0.679"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfApellido
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.383"
.head 6 -  Top:    0.655"
.head 6 -  Width:  2.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: No. Identidad
.head 4 -  Resource Id: 54018
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.983"
.head 5 -  Top:    1.179"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfIdentidad
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.183"
.head 6 -  Top:    1.155"
.head 6 -  Width:  2.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  ! cmbBaseCodigoFiltrado: cmbEmpresa
.winattr class Combo Box:
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigoFiltrado
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.183"
.head 5 -  Top:    1.655"
.head 5 -  Width:  2.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.655"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.end
.head 4 -  List Initialization 
.head 4 +  Message Actions 
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 6 -  Set cmbEmpresa.sNombreFiltro='ESTADO'
.head 6 -  Set cmbEmpresa.nValorFiltro=1
.head 3 +  Combo Box: cmbEmpresa
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigoFiltrado
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.183"
.head 5 -  Top:    1.655"
.head 5 -  Width:  2.5"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.655"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 6 -  Set cmbEmpresa.sNombreFiltro='ESTADO'
.head 6 -  Set cmbEmpresa.nValorFiltro=1
.head 3 -  Background Text: Empresa/Maquila
.head 4 -  Resource Id: 54019
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    1.679"
.head 5 -  Width:  1.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Check Box: cb1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Beneficiario Directo
.head 4 -  Window Location and Size
.head 5 -  Left: 4.983"
.head 5 -  Top:    1.155"
.head 5 -  Width:  1.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 -  Background Text: Segundo Nombre
.head 4 -  Resource Id: 54020
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    0.905"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfSegNombre
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.183"
.head 6 -  Top:    0.905"
.head 6 -  Width:  2.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Segundo Apellido
.head 4 -  Resource Id: 54021
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.883"
.head 5 -  Top:    0.905"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Puesto (Dir)
.head 4 -  Resource Id: 54022
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    1.393"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfSegApellido
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.383"
.head 6 -  Top:    0.905"
.head 6 -  Width:  2.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfPuesto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.183"
.head 6 -  Top:    1.405"
.head 6 -  Width:  2.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Frame
.head 4 -  Resource Id: 54023
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.155"
.head 5 -  Width:  12.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 6.917"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Raised-Shadow
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 54024
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    2.238"
.head 5 -  Width:  11.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.083"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 +  Pushbutton: pb3
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Buscar F3
.head 4 -  Window Location and Size
.head 5 -  Left: 9.4"
.head 5 -  Top:    0.55"
.head 5 -  Width:  0.95"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.7"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F3
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalWaitCursor( TRUE )
.head 6 -  Call SalTblPopulate( tbl1, hSql1, ArmarQuery(), TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  Set nTotalActivos = NUMBER_Null
.head 6 -  Set nTotalInactivos = NUMBER_Null
.head 6 -  Set nTotalIndefinidos = NUMBER_Null
.head 6 -  Set dfTotal =  ColorearFilas(tbl1,nTotalActivos, nTotalInactivos,nTotalIndefinidos  )
.head 6 -  Set dfActivos = nTotalActivos
.head 6 -  Set dfInactivos = nTotalInactivos
.head 6 -  Set dfIndefinidos = nTotalIndefinidos
.head 6 -  Call SalSetFocus (tbl1)
.head 6 -  Call SalWaitCursor( FALSE )
.head 3 -  Group Box: Tipo de Paciente
.head 4 -  Resource Id: 54025
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.983"
.head 5 -  Top:    1.571"
.head 5 -  Width:  3.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbCopiar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Copiar
.head 4 -  Window Location and Size
.head 5 -  Left: 9.4"
.head 5 -  Top:    1.286"
.head 5 -  Width:  0.95"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.7"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F5
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\editpaste.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call SalTblCopyRows(tbl1,0,0)
.head 6 -  Call SalMessageBox('Datos copiados','Atencion',MB_Ok)
.head 6 -  ! Set nLanguage = MTE_LNG_ENGLISH
.head 6 -  ! Set sStartCell = "Cod_Paciente"
.head 6 -  ! Set nExcelFlags = MTE_EXCEL_RUNNING_INSTANCE | MTE_EXCEL_NEW_INSTANCE | MTE_EXCEL_NEW_WORKSHEET
.head 6 -  ! Set nExportFlags = MTE_COL_HEADERS | MTE_COLORS | MTE_FONTS | MTE_GRID | MTE_SPLIT_ROWS | MTE_SHOW_STATUS
.head 6 -  ! Set nRowFlagsOn = 0
.head 6 -  ! Set nRowFlagsOff = ROW_Hidden
.head 6 -  ! Set nColFlagsOn = COL_Visible
.head 6 -  ! Set nColFlagsOff = 0
.head 6 -  ! Call MTblExportToExcel(tbl1, nLanguage, sStartCell, nExcelFlags, nExportFlags, nRowFlagsOn, nRowFlagsOff, nColFlagsOn, nColFlagsOff )
.head 3 +  Radio Button: rbAmbos
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Ambos
.head 4 -  Window Location and Size
.head 5 -  Left: 7.583"
.head 5 -  Top:    1.738"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbPrivado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Privado
.head 4 -  Window Location and Size
.head 5 -  Left: 5.183"
.head 5 -  Top:    1.738"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbAsegurado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Asegurado
.head 4 -  Window Location and Size
.head 5 -  Left: 6.183"
.head 5 -  Top:    1.738"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 -  Frame
.head 4 -  Resource Id: 54026
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.283"
.head 5 -  Top:    0.488"
.head 5 -  Width:  2.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.583"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbImprimir
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Imprimir
.head 4 -  Window Location and Size
.head 5 -  Left: 10.417"
.head 5 -  Top:    1.286"
.head 5 -  Width:  0.95"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.7"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If not SalIsNull(cmbEmpresa)
.head 7 -  ! Set sConsulta=sConsulta || "	AND	P.COD_EMPRESA = :cmbEmpresa.nCodigo "
.head 7 -  Set params[0] = '1'
.head 7 -  Set params[1] = SalNumberToStrX(cmbEmpresa.nCodigo,0)
.head 6 +  Else
.head 7 -  Set params[0] = '0'
.head 6 +  If SalIsButtonChecked(cbCarnetE)
.head 7 -  !
.head 7 -  Set params[2] = '1'
.head 6 +  Else
.head 7 -  Set params[2] = '0'
.head 6 +  If SalIsButtonChecked(cbCarnetF)
.head 7 -  !
.head 7 -  Set params[3] = '1'
.head 6 +  Else
.head 7 -  Set params[3] = '0'
.head 6 +  If SalIsButtonChecked(cbEstado)
.head 7 -  !
.head 7 -  Set params[4] = '1'
.head 6 +  Else
.head 7 -  Set params[4] = '0'
.head 6 +  If SalIsButtonChecked(cb1)
.head 7 -  !
.head 7 -  Set params[5] = '1'
.head 6 +  Else
.head 7 -  Set params[5] = '0'
.head 6 -  !
.head 6 -  Set strRepTitle = " Listado de Pacientes por Empresa"
.head 6 -  !
.head 6 -  Set strReportName = strRepPath||"\\PacientesxEmpresa.rpt"
.head 6 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 3 -  Background Text: ***Doble Click sobre el paciente que desea seleccionar.
.head 4 -  Resource Id: 54027
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.583"
.head 5 -  Top:    5.345"
.head 5 -  Width:  5.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbLimpiar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Limpiar
.head 4 -  Window Location and Size
.head 5 -  Left: 10.4"
.head 5 -  Top:    0.548"
.head 5 -  Width:  0.95"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.7"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\eraser.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call Limpiar()
.head 3 +  Check Box: cbCarnetE
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Carnet Empleado
.head 4 -  Window Location and Size
.head 5 -  Left: 7.083"
.head 5 -  Top:    1.155"
.head 5 -  Width:  1.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cbCarnetF
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Carnet Familiar
.head 4 -  Window Location and Size
.head 5 -  Left: 7.083"
.head 5 -  Top:    1.321"
.head 5 -  Width:  1.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cbEstado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Solo Activos
.head 4 -  Window Location and Size
.head 5 -  Left: 4.983"
.head 5 -  Top:    1.321"
.head 5 -  Width:  1.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 -  Group Box: Observacion
.head 4 -  Resource Id: 40450
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.583"
.head 5 -  Top:    5.571"
.head 5 -  Width:  5.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.417"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 40454
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.85"
.head 5 -  Top:    5.738"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: No Border
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Yellow
.head 3 -  Frame
.head 4 -  Resource Id: 40453
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.85"
.head 5 -  Top:    6.012"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: No Border
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Red
.head 3 -  Frame
.head 4 -  Resource Id: 43641
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.85"
.head 5 -  Top:    6.31"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: No Border
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Blue
.head 3 -  Frame
.head 4 -  Resource Id: 62892
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.85"
.head 5 -  Top:    6.643"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: No Border
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Green
.head 3 -  Background Text: Paciente sin Cobertura
.head 4 -  Resource Id: 40452
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.417"
.head 5 -  Top:    5.845"
.head 5 -  Width:  3.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Paciente Inactivo
.head 4 -  Resource Id: 40451
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.417"
.head 5 -  Top:    6.119"
.head 5 -  Width:  3.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Paciente en Periodo de Prueba
.head 4 -  Resource Id: 43642
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.417"
.head 5 -  Top:    6.393"
.head 5 -  Width:  3.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Paciente Requiere Examen Medico
.head 4 -  Resource Id: 62893
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.417"
.head 5 -  Top:    6.667"
.head 5 -  Width:  3.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 2 +  Functions
.head 3 +  Function: ArmarQuery
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sConsulta
.head 4 +  Actions
.head 5 -  Set sConsulta="Select
		A.COD_PACIENTE,
		A.CORREL_PACIENTE,
		A.PRIMER_NOM,
		A.SEGUNDO_NOM,
		A.PRIMER_APE,
		A.SEGUNDO_APE,
		A.FECHA_INGRESO,
		A.TIPO_S,
		A.DIRECCION,
		A.MONTO_ASEG,
		A.IDENTIDAD,
		A.DISPONIBLE,
		(case 
                		when A.ESTADO_PAC = 0 then 'ACTIVO'
                		when A.ESTADO_PAC = 1 then 'INACTIVO'
			else
				''                		
        		end) AS ESTADO,
		A.CARNETIZADO_E,
		A.CARNETIZADO_F,		
		ISNULL(A.UNICO_BENEFICIARIO,0),
		A.FECHA_NAC,
		'',
		A.COD_EMPRESA
		 
	from
		PACIENTES A
	where	A.COD_PACIENTE<>'' "
.head 5 +  If dfNombre !=''
.head 6 -  Set sConsulta = sConsulta||"	AND
			A.PRIMER_NOM   like '%"||dlgConsultaPacientesO.dfNombre||"%'"
.head 5 +  If dfApellido !=''
.head 6 -  Set sConsulta=sConsulta||"	AND
			A.PRIMER_APE   like '%"||dlgConsultaPacientesO.dfApellido||"%'"
.head 5 +  If dfSegNombre !=''
.head 6 -  Set sConsulta=sConsulta||"	AND
			A.SEGUNDO_NOM   like '%"||dlgConsultaPacientesO.dfSegNombre||"%'"
.head 5 +  If dfSegApellido !=''
.head 6 -  Set sConsulta=sConsulta||"	AND
			A.SEGUNDO_APE   like '%"||dlgConsultaPacientesO.dfSegApellido||"%'"
.head 5 +  If dfPuesto !=''
.head 6 -  Set sConsulta=sConsulta||"	AND
			A.DIRECCION  like '"||dlgConsultaPacientesO.dfPuesto||"%'"
.head 5 +  If cb1=TRUE
.head 6 -  Set sConsulta=sConsulta||"	AND
			A.CORREL_PACIENTE='0'"
.head 5 +  If cbEstado=TRUE
.head 6 -  Set sConsulta=sConsulta||"	AND
			A.ESTADO_PAC=0"
.head 5 +  If cbCarnetE=TRUE
.head 6 -  Set sConsulta=sConsulta||"	AND
			A.CARNETIZADO_E=1"
.head 5 +  If cbCarnetF=TRUE
.head 6 -  Set sConsulta=sConsulta||"	AND
			A.CARNETIZADO_F=1"
.head 5 +  If dfIdentidad !=''
.head 6 -  Set sConsulta=sConsulta||"	AND
			A.IDENTIDAD   like '%"||dlgConsultaPacientesO.dfIdentidad||"%'"
.head 5 +  If cmbEmpresa !=''
.head 6 -  Set sConsulta=sConsulta||"	AND
			A.COD_EMPRESA = :dlgConsultaPacientesO.cmbEmpresa.nCodigo"
.head 5 +  If rbPrivado
.head 6 -  Set sConsulta=sConsulta||"	AND
			A.TIPO=1"
.head 5 +  If rbAsegurado
.head 6 -  Set sConsulta=sConsulta||"	AND
			A.TIPO=0"
.head 5 -  Else
.head 5 -  Set sConsulta=sConsulta||"	order	by
				A.PRIMER_NOM, A.SEGUNDO_NOM"
.head 5 -  Set sConsulta2=sConsulta
.head 5 -  Return sConsulta
.head 3 +  Function: ColorearFilas
.head 4 -  Description: Verifica si existe al menos 1 fila en una CHILD TABLE
.head 4 +  Returns
.head 5 -  Number:
.head 4 +  Parameters
.head 5 -  Window Handle: hWndTabla
.head 5 -  Receive Number: nCountActivos
.head 5 -  Receive Number: nCountInactivos
.head 5 -  Receive Number: nCountIndefinidos
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Window Handle: hWndHijo
.head 5 -  Number: nFila
.head 5 -  Number: nEdadIng
.head 5 -  Number: nEdadActual
.head 5 -  Date/Time: dtFechaHoy
.head 5 -  Number: nTiempoLab
.head 5 -  String: strFechaHoy
.head 5 -  String: strFechaIngreso
.head 4 +  Actions
.head 5 -  Call SalTblSetContext(hWndTabla,0)
.head 5 -  Set nFila=-1
.head 5 -  Set nCountActivos = 0
.head 5 -  Set nCountInactivos = 0
.head 5 -  Set nCountIndefinidos = 0
.head 5 -  Set dtFechaHoy=SalDateCurrent()
.head 5 +  While SalTblFindNextRow(hWndTabla,nFila,0,0)
.head 6 -  Call SalTblSetContext(hWndTabla,nFila)
.head 6 +  If tbl1.Tipo_S = 'ASEGURADO'
.head 7 -  !
.head 7 +  If tbl1.colEstado = "INACTIVO"
.head 8 -  Call MTblSetRowBackColor( tbl1, nFila, COLOR_Red, MTSC_REDRAW )
.head 8 -  Set nCountInactivos = nCountInactivos + 1
.head 7 +  Else If tbl1.colEstado = "ACTIVO"
.head 8 -  Set nCountActivos = nCountActivos +  1
.head 8 -  !
.head 8 -  Set nEdadIng = (tbl1.colFecha_Ingreso - tbl1.colFechaNac )/365
.head 8 -  Set nEdadActual = (dtFechaHoy - tbl1.colFechaNac )/365
.head 8 -  ! If nEdadIng < 60 and nEdadActual >= 60 
.head 8 +  If tbl1.Correl_Paciente !="0"    !Estas restrincciones solo aplican a beneficiarios no a empleados
.head 9 +  If tbl1.colEmpresa!=17
.head 10 +  If nEdadActual >= 60
.head 11 -  !
.head 11 -  Call MTblSetRowBackColor( tbl1, nFila, COLOR_Yellow, MTSC_REDRAW )
.head 11 -  Set tbl1.colObs = 'SIN COBERTURA'
.head 11 -  !
.head 10 +  Else If nEdadActual >= 45
.head 11 -  !
.head 11 +  ! If SalMessageBox( "El beneficiario es mayor de 45 años. Confirma examen medico?", "Advertencia", MB_YesNo )=IDNO
.head 12 -  !
.head 12 -  Call SalMessageBox ("No se ha afiliado el beneficiario.", "ERROR", MB_IconStop)
.head 12 -  Return FALSE
.head 11 -  Call MTblSetRowBackColor( tbl1, nFila, COLOR_Green, MTSC_REDRAW )
.head 11 -  Set tbl1.colObs = 'REQUIERE EXAMEN MEDICO'
.head 10 -  ! If nEdadActual >= 11and nEdadIng  < 11  
.head 10 +  Else If nEdadActual >= 12 and  tbl1.colEmpresa=36
.head 11 -  !
.head 11 +  If tbl1.Correl_Paciente !="E" 
.head 12 +  If tbl1.colUnicoBeneficiario = 0
.head 13 -  !
.head 13 -  Call MTblSetRowBackColor( tbl1, nFila, COLOR_Yellow, MTSC_REDRAW )
.head 13 -  Set tbl1.colObs = 'SIN COBERTURA'
.head 10 +  Else If nEdadActual >= 11 and  tbl1.colEmpresa!=36
.head 11 -  !
.head 11 +  If tbl1.Correl_Paciente !="E" 
.head 12 +  If tbl1.colUnicoBeneficiario = 0
.head 13 -  !
.head 13 -  Call MTblSetRowBackColor( tbl1, nFila, COLOR_Yellow, MTSC_REDRAW )
.head 13 -  Set tbl1.colObs = 'SIN COBERTURA'
.head 8 -  !
.head 8 -  !
.head 8 -  Set strFechaHoy = SalFmtFormatDateTime ( dtFechaHoy, 'MM/dd/yyyy' )				
.head 8 -  Set strFechaIngreso= SalFmtFormatDateTime ( tbl1.colFecha_Ingreso , 'MM/dd/yyyy' )				
.head 8 -  Call SqlImmediate( "SELECT DATEDIFF(month,Convert(datetime,'"||strFechaIngreso||"'),Convert(datetime,'"||strFechaHoy||"')) into :nTiempoLab")
.head 8 -  Call SqlClearImmediate(  )
.head 8 +  If nTiempoLab < 2 
.head 9 -  !
.head 9 +  If tbl1.Correl_Paciente="0"
.head 10 -  !
.head 10 -  Set tbl1.colObs = 'EN PERIODO DE PRUEBA'
.head 10 -  Call MTblSetRowBackColor( tbl1, nFila, COLOR_Blue, MTSC_REDRAW )
.head 7 +  Else
.head 8 -  Set nCountIndefinidos = nCountIndefinidos + 1
.head 5 -  Call SalTblSetContext(hWndTabla,0)
.head 5 -  Return nFila+1
.head 2 +  Window Parameters
.head 3 -  Receive String: sRegresa
.head 3 -  Receive String: sRegresa1
.head 3 -  Number: nFlagTipoPac
.head 3 -  Number: nFlagBusquedaRestrictiva
.head 3 -  Number: nFlagBusquedaConDev
.head 2 +  Window Variables
.head 3 -  String: sConsulta2
.head 3 -  Number: nTotalActivos
.head 3 -  Number: nTotalInactivos
.head 3 -  Number: nTotalIndefinidos
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 3 -  ! Number: i
.head 3 -  ! Number: nLanguage 
.head 3 -  ! String: sStartCell 
.head 3 -  ! Number: nExcelFlags 
.head 3 -  ! Number: nExportFlags  
.head 3 -  ! Number: nRowFlagsOn 
.head 3 -  ! Number: nRowFlagsOff 
.head 3 -  ! Number: nColFlagsOn 
.head 3 -  ! Number: nColFlagsOff 
.head 2 +  Message Actions
.head 3 +  ! On SAM_CreateComplete
.head 4 +  If nCaso=2 or nCaso=3 or nCaso=4
.head 5 -  Call SalShowWindowAndLabel( dfOculto )
.head 5 -  Call SalHideWindow(pb6 )
.head 4 +  Else
.head 5 +  If nCaso=1
.head 6 -  Call SalHideWindowAndLabel( dfOculto )
.head 6 -  Call SalShowWindow(pb6 )
.head 4 -  Call SalHideWindow(dfOculto)
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalBringWindowToTop(dlgConsultaPacientesO)
.head 4 -  !
.head 4 +  If nFlagTipoPac = 1
.head 5 -  !
.head 5 -  Set rbPrivado = TRUE
.head 4 +  Else If nFlagTipoPac = 2
.head 5 -  !
.head 5 -  Set rbAsegurado = TRUE
.head 4 +  Else
.head 5 -  !
.head 5 -  Set rbAmbos = TRUE
.head 1 +  Dialog Box: dlgConsultaEmpleados
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Empleados
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  11.333"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 6.452"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Frame
.head 4 -  Resource Id: 49208
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    0.155"
.head 5 -  Width:  10.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 5.667"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Raised-Shadow
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 49209
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.65"
.head 5 -  Top:    1.762"
.head 5 -  Width:  9.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.893"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 -  Group Box: Criterios de Busqueda
.head 4 -  Resource Id: 49210
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    0.321"
.head 5 -  Width:  8.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Nombre
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 49211
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.983"
.head 5 -  Top:    0.619"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfNombre
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.783"
.head 6 -  Top:    0.619"
.head 6 -  Width:  2.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Yes
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Apellido
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 49212
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.583"
.head 5 -  Top:    0.619"
.head 5 -  Width:  0.667"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfApellido
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.25"
.head 6 -  Top:    0.619"
.head 6 -  Width:  2.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Yes
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Depto.
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 49213
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.983"
.head 5 -  Top:    0.893"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbDepto
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.783"
.head 5 -  Top:    0.869"
.head 5 -  Width:  6.167"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.202"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbDepto.nCaso=1
.head 6 -  Set cmbDepto.sTabla='DEPTOS'
.head 6 -  Set cmbDepto.sNombre='NOMBRE'
.head 6 -  Set cmbDepto.sCodigo='COD_DEPTO'
.head 3 +  Combo Box: cmbPuesto
.data CLASSPROPSSIZE
0000: 1900
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6530000000 00
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.783"
.head 5 -  Top:    1.143"
.head 5 -  Width:  6.2"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.202"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbPuesto.nCaso=1
.head 6 -  Set cmbPuesto.sTabla='PUESTOS'
.head 6 -  Set cmbPuesto.sNombre='NOMBRE'
.head 6 -  Set cmbPuesto.sCodigo='COD_PUESTO'
.head 3 -  Background Text: Puesto
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 49214
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.983"
.head 5 -  Top:    1.167"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pb3
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Busqueda
.head 4 -  Window Location and Size
.head 5 -  Left: 8.117"
.head 5 -  Top:    0.679"
.head 5 -  Width:  0.95"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.7"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F3
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalWaitCursor( TRUE )
.head 6 -  Call SalTblPopulate( tbl1, hSql1, ArmarQuery(), TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  Call SalSetFocus (tbl1)
.head 6 -  Call SalWaitCursor( FALSE )
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatChildTable
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.783"
.head 6 -  Top:    1.905"
.head 6 -  Width:  9.3"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 3.583"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: Class Default
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colCodigo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Codigo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colPrimerNom
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: 1er. Nombre
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.733"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colSegundoNombre
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: 2do. Nombre
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.75"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colPrimerApellido
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: 1er. Apellido
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.717"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colSegundoApellido
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: 2do. Apellido
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.733"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDepto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Depto
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colPuesto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Puesto
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 +  Message Actions
.head 5 +  On SAM_DoubleClick
.head 6 -  !
.head 6 +  If nFlagBusqueda = 1
.head 7 -  !
.head 7 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.colCodigo)
.head 7 -  Call SalTblSetContext(tbl1,nFilita)
.head 7 +  ! If tbl1.colEstado = 'INACTIVO'
.head 8 -  !
.head 8 -  Call SalMessageBox ("El paciente esta INACTIVO", "ERROR", MB_IconStop)
.head 8 -  Return FALSE
.head 7 -  Set nRegresa=tbl1.colCodigo
.head 7 -  Call SalEndDialog(dlgConsultaEmpleados,TRUE)
.head 5 +  On SAM_Create
.head 6 -  !
.head 6 -  Call MTblSubClass( hWndForm )
.head 6 -  Call MTblEnableMWheelScroll( hWndForm, TRUE )
.head 2 +  Functions
.head 3 +  Function: ArmarQuery
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sConsulta
.head 4 +  Actions
.head 5 -  Set sConsulta="SELECT
    		E.COD_EMPLEADO,    
    		E.PRIMER_NOM,
    		E.SEGUNDO_NOM,
    		E.PRIMER_APE,
    		E.SEGUNDO_APE,
    		D.NOMBRE AS DEPARTAMENTO,
    		P.NOMBRE AS PUESTO
	FROM
    		EMPLEADOS E,
    		DEPTOS    D,
    		PUESTOS   P
	WHERE
		E.ESTADO <> 1 AND
    		E.COD_DEPTO  =   D.COD_DEPTO AND     
    		E.COD_PUESTO =   P.COD_PUESTO"
.head 5 +  If not SalIsNull(dfNombre)
.head 6 -  Set sConsulta = sConsulta||"	AND
			E.PRIMER_NOM   like '%"||dfNombre||"%'"
.head 5 +  If not SalIsNull (dfApellido )
.head 6 -  Set sConsulta=sConsulta||"	AND
			E.PRIMER_APE   like '%"||dfApellido||"%'"
.head 5 +  If not SalIsNull (cmbDepto)
.head 6 -  Set sConsulta=sConsulta||"	AND
			E.COD_DEPTO = :cmbDepto.nCodigo"
.head 5 +  If not SalIsNull (cmbPuesto)
.head 6 -  Set sConsulta=sConsulta||"	AND
			E.COD_PUESTO = :cmbPuesto.nCodigo"
.head 5 -  Set sConsulta=sConsulta||"	order	by
				E.PRIMER_NOM, E.SEGUNDO_NOM"
.head 5 -  Return sConsulta
.head 2 +  Window Parameters
.head 3 -  Receive Number: nRegresa
.head 3 -  Number: nFlagBusqueda
.head 2 +  Window Variables
.head 3 -  Number: nFilita
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalBringWindowToTop(dlgConsultaEmpleados)
.head 1 +  Dialog Box: dlgReporteServicios
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Consulta de Servicios
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: 0.05"
.head 4 -  Top:    -0.01"
.head 4 -  Width:  10.283"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 2.143"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  Pushbutton: pb2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbSalir
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.283"
.head 5 -  Top:    0.905"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Descripción
.head 4 -  Resource Id: 55367
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.55"
.head 5 -  Top:    0.595"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfDescripcion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.75"
.head 6 -  Top:    0.595"
.head 6 -  Width:  5.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_AnyEdit
.head 6 -  !
.head 3 -  Background Text: Presentación
.head 4 -  Resource Id: 55368
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.45"
.head 5 -  Top:    1.179"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbPresentacion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.75"
.head 5 -  Top:    1.179"
.head 5 -  Width:  3.633"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbPresentacion.nCaso=1
.head 6 -  Set cmbPresentacion.sTabla='TIPOS_PRESEN'
.head 6 -  Set cmbPresentacion.sNombre='NOMBRE'
.head 6 -  Set cmbPresentacion.sCodigo='COD_PRESEN'
.head 3 -  Background Text: Grupo
.head 4 -  Resource Id: 55369
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.65"
.head 5 -  Top:    1.119"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbGrupo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.85"
.head 5 -  Top:    1.095"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbGrupo.nCaso=1
.head 6 -  Set cmbGrupo.sTabla='GRUPOS'
.head 6 -  Set cmbGrupo.sNombre='NOMBRE'
.head 6 -  Set cmbGrupo.sCodigo='COD_GRUPO'
.head 3 +  Data Field: dfOculto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.083"
.head 6 -  Top:    4.905"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Posicionese sobre el Servicio en Particular y presione doble click para cargarlo
.head 4 -  Resource Id: 55370
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.183"
.head 5 -  Top:    5.095"
.head 5 -  Width:  8.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Total
.head 4 -  Resource Id: 55371
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.283"
.head 5 -  Top:    4.845"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTotal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.083"
.head 6 -  Top:    4.821"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: #0
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbPrint
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbImprimir
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.283"
.head 5 -  Top:    0.405"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  ! On SAM_Click
.head 6 -  Call SalCreateWindow( frmImprimir, hWndForm,
"Listado de Servicios",
strRepPath || "\\SERVICIOS.QRP",
":s1,:s2,:s3,:n1,:s4",
"A.COD_SERVICIO,A.NOMBRE,C.NOMBRE,A.COSTO,B.NOMBRE",
sConsulta2||"	
into
:s1,:s2,:s3,:n1,:s4"," ")
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If not SalIsNull(dfDescripcion)
.head 7 -  ! Set sConsulta = sConsulta || " AND O.CODIGO = :dfOrden"
.head 7 -  Set params[0] = '1'
.head 7 -  Set params[1] = dfDescripcion
.head 6 +  Else
.head 7 -  Set params[0] = '0'
.head 6 +  If not SalIsNull(cmbPresentacion)
.head 7 -  ! Set sConsulta = sConsulta || " AND O.AUTORIZADO_POR = :cmbUsuariosOS.nCodigo"
.head 7 -  Set params[2] = '1'
.head 7 -  Set params[3] = SalNumberToStrX(cmbPresentacion.nCodigo,0)
.head 6 +  Else
.head 7 -  Set params[2] = '0'
.head 6 +  If not SalIsNull(cmbCateg)
.head 7 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_CIUDAD_GEO = :cmbCiudades.nCodigo"
.head 7 -  Set params[4] = '1'
.head 7 -  Set params[5] = cmbCateg.sCodigos
.head 6 +  Else
.head 7 -  Set params[4] = '0'
.head 7 -  Set params[5] = cmbCateg.sCodigos
.head 6 -  Set strRepTitle = " Reporte de Servicios"
.head 6 -  Set strReportName = strRepPath||"\\Servicios.rpt"
.head 6 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 3 -  Background Text: Categoria
.head 4 -  Resource Id: 55372
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.517"
.head 5 -  Top:    0.869"
.head 5 -  Width:  1.133"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbCateg
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.75"
.head 5 -  Top:    0.869"
.head 5 -  Width:  5.433"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbCateg.nCaso=2
.head 6 -  Set cmbCateg.sTabla='CATEG_SERVICIOS'
.head 6 -  Set cmbCateg.sNombre='NOMBRE'
.head 6 -  Set cmbCateg.sCodigo='COD_CATEGORIA'
.head 3 -  Frame
.head 4 -  Resource Id: 55373
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    0.071"
.head 5 -  Width:  10.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.583"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Raised-Shadow
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Criterios de Busqueda
.head 4 -  Resource Id: 55374
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    0.321"
.head 5 -  Width:  7.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 55375
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.083"
.head 5 -  Top:    0.321"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: sConsulta2
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 2 +  Message Actions
.head 3 +  ! On SAM_CreateComplete
.head 4 +  If nCaso=2
.head 5 -  Call SalShowWindowAndLabel( dfOculto )
.head 5 -  Call SalHideWindow(pb6 )
.head 4 +  Else 
.head 5 +  If nCaso=1
.head 6 -  Call SalHideWindowAndLabel( dfOculto )
.head 6 -  Call SalShowWindow(pb6 )
.head 4 -  Call SalHideWindow(dfOculto)
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalBringWindowToTop(dlgReporteServicios)
.head 4 -  Call SalSetFocus(dfDescripcion)
.head 4 -  !
.head 4 +  If bArraySeg[15]
.head 5 -  !
.head 5 -  Call SalEnableWindow(pbPrint)
.head 4 +  Else
.head 5 -  !
.head 5 -  Call SalDisableWindow(pbPrint)
.head 1 +  Dialog Box: dlgDayState
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Day States
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  5.086"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 4.542"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  List Box: lbMonth1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cRadioListBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.143"
.head 5 -  Top:    0.083"
.head 5 -  Width:  1.443"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 3.521"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Multiple selection? Yes
.head 4 -  Sorted? No
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Horizontal Scroll? No
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set nIndex = nBeginDay1
.head 6 +  While nIndex <= nEndDay1
.head 7 -  Call cRadioListBox.Add(SalNumberToStrX( nIndex, 0 ), FALSE )
.head 7 -  Set nIndex = nIndex + 1
.head 3 +  List Box: lbMonth2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cRadioListBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.757"
.head 5 -  Top:    0.083"
.head 5 -  Width:  1.443"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 3.521"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Multiple selection? Yes
.head 4 -  Sorted? No
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Horizontal Scroll? No
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set nIndex = 1
.head 6 +  While nIndex <= nEndDay2
.head 7 -  Call cRadioListBox.Add(SalNumberToStrX( nIndex, 0 ), FALSE )
.head 7 -  Set nIndex = nIndex + 1
.head 3 +  List Box: lbMonth3
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cRadioListBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.371"
.head 5 -  Top:    0.083"
.head 5 -  Width:  1.443"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 3.521"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Multiple selection? Yes
.head 4 -  Sorted? No
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Horizontal Scroll? No
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set nIndex = 1
.head 6 +  While nIndex <= nEndDay3
.head 7 -  Call cRadioListBox.Add(SalNumberToStrX( nIndex, 0 ), FALSE )
.head 7 -  Set nIndex = nIndex + 1
.head 3 -  !
.head 3 +  Pushbutton: pbOk
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Ok
.head 4 -  Window Location and Size
.head 5 -  Left: 1.0"
.head 5 -  Top:    3.792"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.292"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: None
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set nIndex = 0
.head 6 -  Set nNbValue = SalListQueryCount (lbMonth1)
.head 6 +  While nIndex <= nNbValue
.head 7 +  If SalListQueryState (  lbMonth1, nIndex )
.head 8 -  Set frmCirugias.nDayState[0, SalStrToNumber( SalListQueryTextX( lbMonth1, nIndex ) )] = 1
.head 7 +  Else
.head 8 -  Set frmCirugias.nDayState[0, SalStrToNumber( SalListQueryTextX( lbMonth1, nIndex ) )] = 0
.head 7 -  Set nIndex = nIndex + 1
.head 6 -  Set nIndex = 0
.head 6 -  Set nNbValue = SalListQueryCount (lbMonth2)
.head 6 +  While nIndex <= nNbValue
.head 7 +  If SalListQueryState (  lbMonth2, nIndex )
.head 8 -  Set frmCirugias.nDayState[1, SalStrToNumber( SalListQueryTextX( lbMonth2, nIndex ) )] = 1
.head 7 +  Else
.head 8 -  Set frmCirugias.nDayState[1, SalStrToNumber( SalListQueryTextX( lbMonth2, nIndex ) )] = 0
.head 7 -  Set nIndex = nIndex + 1
.head 6 -  Set nIndex = 0
.head 6 -  Set nNbValue = SalListQueryCount (lbMonth3)
.head 6 +  While nIndex <= nNbValue
.head 7 +  If SalListQueryState (  lbMonth3, nIndex )
.head 8 -  Set frmCirugias.nDayState[2, SalStrToNumber( SalListQueryTextX( lbMonth3, nIndex ) )] = 1
.head 7 +  Else
.head 8 -  Set frmCirugias.nDayState[2, SalStrToNumber( SalListQueryTextX( lbMonth3, nIndex ) )] = 0
.head 7 -  Set nIndex = nIndex + 1
.head 6 -  Call SalEndDialog( hWndForm, TRUE )
.head 3 +  Pushbutton: pbCancel
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Cancel
.head 4 -  Window Location and Size
.head 5 -  Left: 2.8"
.head 5 -  Top:    3.792"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.292"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: None
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalEndDialog( hWndForm, FALSE )
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  Number: nIndex
.head 3 -  Number: nTemp1
.head 3 -  Number: nNbValue
.head 3 -  Date/Time: dBegin
.head 3 -  Date/Time: dEnd
.head 3 -  Number: nBeginDay1
.head 3 -  Number: nEndDay1
.head 3 -  Number: nEndDay2
.head 3 -  Number: nEndDay3
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  Call SalBringWindowToTop( hWndForm )
.head 4 -  Call frmCirugias.ccMes.GetMonthRange(GMR_DAYSTATE,dBegin, dEnd)
.head 4 -  Set nBeginDay1 = SalDateDay( dBegin )
.head 4 -  Set nEndDay1 = SalDateDay(SalDateMonthBegin(SalDateConstruct(  SalDateYear( dBegin ),  SalDateMonth( dBegin ) + 1, 1, 0, 0, 0 )) - 1)
.head 4 -  Set nEndDay2 = SalDateDay(SalDateMonthBegin(SalDateConstruct(  SalDateYear( dEnd ),  SalDateMonth( dEnd ), SalDateDay( dEnd ), 0, 0, 0 )) - 1)
.head 4 -  Set nEndDay3 = SalDateDay( dEnd )
.head 1 +  Dialog Box: dlgMonthCalStyles
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Calendar Styles
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  3.0"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 1.906"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  List Box: lbStyles
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.2"
.head 5 -  Top:    0.167"
.head 5 -  Width:  2.486"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.896"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Multiple selection? Yes
.head 4 -  Sorted? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Horizontal Scroll? No
.head 4 +  List Initialization
.head 5 -  Text: MCS_DAYSTATE
.head 5 -  Text: MCS_MULTISELECT
.head 5 -  Text: MCS_WEEKNUMBERS
.head 5 -  Text: MCS_NOTODAYCIRCLE
.head 5 -  Text: MCS_NOTODAY
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set nCalendarStyle = GetWindowLongA( frmCirugias.ccMes. hWndCalendar, GWL_STYLE )
.head 6 -  Set nIndex = 0
.head 6 +  While nIndex <= SalListQueryCount( hWndItem ) - 1
.head 7 +  If nCalendarStyle & StringToNumber(  SalListQueryTextX( hWndItem, nIndex ) )
.head 8 -  Call SalListSetMultiSelect( hWndItem, nIndex, TRUE )
.head 7 -  Set nIndex = nIndex + 1
.head 3 -  !
.head 3 +  Pushbutton: pbOk
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Ok
.head 4 -  Window Location and Size
.head 5 -  Left: 0.229"
.head 5 -  Top:    1.177"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.292"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: None
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  ! -  Styles MCS_DAYSTATE et MCS_MULTISELECT nécessitent la re-création du Calendrier
.head 6 +  If SalListQueryState( lbStyles, 0 ) or  SalListQueryState( lbStyles, 1 )  or
GetWindowLongA( frmCirugias.ccMes.hWndCalendar, GWL_STYLE ) & MCS_DAYSTATE or
GetWindowLongA( frmCirugias.ccMes.hWndCalendar, GWL_STYLE ) & MCS_MULTISELECT
.head 7 -  Set nCalendarStyleOrigin = GetWindowLongA( frmCirugias.ccMes.hWndCalendar, GWL_STYLE )
.head 7 -  Set nCalendarStyle = nCalendarStyleOrigin
.head 7 -  Set nIndex = 0
.head 7 +  While nIndex <= SalListQueryCount( lbStyles ) - 1
.head 8 +  If SalListQueryState( lbStyles, nIndex )
.head 9 -  Set nSelectedStyle = StringToNumber(  SalListQueryTextX( lbStyles, nIndex ) )
.head 9 +  If not ( nCalendarStyle & nSelectedStyle)
.head 10 -  Set nCalendarStyle = nCalendarStyle + nSelectedStyle
.head 8 +  Else
.head 9 -  Set nSelectedStyle = StringToNumber(  SalListQueryTextX( lbStyles, nIndex ) )
.head 9 +  If nCalendarStyleOrigin & nSelectedStyle
.head 10 -  Set nCalendarStyle = nCalendarStyle - nSelectedStyle
.head 8 -  Set nIndex = nIndex + 1
.head 7 -  Call SalDestroyWindow( frmCirugias.ccMes.hWndCalendar )
.head 7 -  Call frmCirugias.ccMes.CreateCalendar(nCalendarStyle)
.head 6 +  Else
.head 7 -  Set nIndex = 0
.head 7 +  While nIndex <= SalListQueryCount( lbStyles ) - 1
.head 8 -  Set nCalendarStyle = GetWindowLongA( frmCirugias.ccMes.hWndCalendar, GWL_STYLE )
.head 8 +  If SalListQueryState( lbStyles, nIndex )
.head 9 -  Set nSelectedStyle = StringToNumber(  SalListQueryTextX( lbStyles, nIndex ) )
.head 9 +  If not ( nCalendarStyle & nSelectedStyle)
.head 10 -  Call SetWindowLongA( frmCirugias.ccMes.hWndCalendar, GWL_STYLE, nCalendarStyle + nSelectedStyle )
.head 8 +  Else
.head 9 -  Set nSelectedStyle = StringToNumber(  SalListQueryTextX( lbStyles, nIndex ) )
.head 9 +  If nCalendarStyle & nSelectedStyle
.head 10 -  Call SetWindowLongA( frmCirugias.ccMes.hWndCalendar, GWL_STYLE, nCalendarStyle - nSelectedStyle )
.head 8 -  Set nIndex = nIndex + 1
.head 6 -  Call SalEndDialog( hWndForm, TRUE )
.head 3 +  Pushbutton: pbCancel
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Cancel
.head 4 -  Window Location and Size
.head 5 -  Left: 1.486"
.head 5 -  Top:    1.177"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.292"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: None
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalEndDialog( hWndForm, FALSE )
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  Number: nIndex
.head 3 -  Number: nCalendarStyle
.head 3 -  Number: nCalendarStyleOrigin
.head 3 -  Number: nSelectedStyle
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  Call SalBringWindowToTop( hWndForm )
.head 1 +  Form Window: frmPacAseg
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Pacientes Asegurados
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Maximized
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: 0.175"
.head 4 -  Top:    0.01"
.head 4 -  Width:  13.317"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 7.738"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 +  Menu
.head 3 +  Popup Menu: Opciones
.head 4 -  Resource Id: 27700
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 4 +  Menu Item: Nuevo Paciente
.head 5 -  Resource Id: 27701
.head 5 -  Keyboard Accelerator: Ctrl+N
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbAgregar, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Guardar Paciente
.head 5 -  Resource Id: 27702
.head 5 -  Keyboard Accelerator: Ctrl+S
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbGrabar, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Asignar No Dependiente
.head 5 -  Resource Id: 36774
.head 5 -  Keyboard Accelerator: F1
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Set rbNoDependiente = TRUE
.head 6 -  Call SalSendMsg(rbNoDependiente, SAM_Click, 0, 0)
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Asignar Dependiente
.head 5 -  Resource Id: 36775
.head 5 -  Keyboard Accelerator: F2
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Set rbDependiente = TRUE
.head 6 -  Call SalSendMsg(rbDependiente, SAM_Click, 0, 0)
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Buscar Paciente
.head 5 -  Resource Id: 6516
.head 5 -  Keyboard Accelerator: F3
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Set rbDependiente = TRUE
.head 6 -  Call SalSendMsg(pbBusqueda, SAM_Click, 0, 0)
.head 5 -  Menu Item Name:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.69"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Charcoal
.head 3 +  Contents
.head 4 +  Pushbutton: pbAgregar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbMas
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Ctrl + N
.head 5 -  Window Location and Size
.head 6 -  Left: 0.383"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.667"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: 3D Face Color
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set pbAgregar.nOpcionh=1
.head 7 -  Set pbAgregar.hWndCampo=rbNoDependiente
.head 6 +  On SAM_Click
.head 7 -  Call DeshabilitarTodo()
.head 7 -  Call Limpiar()
.head 7 -  Call SalEnableWindow(rbNoDependiente)
.head 7 -  Call SalEnableWindow(rbDependiente)
.head 7 -  Call SalEnableWindow(cmbEmpresa1)
.head 7 -  Call SalEnableWindow(pbFoto)
.head 7 -  Call SalEnableWindow(pbLimpiar)
.head 7 -  ! Call SalEnableWindow(rbDependiente)
.head 7 -  Set rbDependiente=FALSE
.head 7 -  Set rbComodin=TRUE
.head 7 -  Set rbNoDependiente=FALSE
.head 7 -  Set lsFoto=STRING_Null
.head 7 -  Call SalPicClear(pic1)
.head 4 +  Pushbutton: pbBorrar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbMenos
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.183"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.667"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: 3D Face Color
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set pbBorrar.nOpcionh=1
.head 7 -  Set pbBorrar.sTitulo=' El Paciente'
.head 4 +  Pushbutton: pbGrabar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbGrabar
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Ctrl + S
.head 5 -  Window Location and Size
.head 6 -  Left: 1.983"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.667"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: 3D Face Color
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbBusqueda
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbBusqueda
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: F3
.head 5 -  Window Location and Size
.head 6 -  Left: 2.783"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.667"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: 3D Face Color
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Set sRegresaPac=''
.head 7 -  Set sRegresaCor=''
.head 7 -  Call SalModalDialog( dlgConsultaPacientesO, hWndForm,sRegresaPac,sRegresaCor, 2, 0, 1 )
.head 7 +  If sRegresaPac!=''
.head 8 +  If rbNoDependiente=TRUE or rbComodin=TRUE
.head 9 -  Set dfCodPaciente =sRegresaPac
.head 9 -  Set dfCorrel =sRegresaCor
.head 9 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 8 +  Else
.head 9 -  Set dfCodPaciente =sRegresaPac
.head 9 -  Call SqlExists("Select
		A.ESTADO_PAC ,
                 	A.FEC_ICONTRATO,
		A.FEC_FCONTRATO,
                	A.MONTO_ASEG,
		A.DISPONIBLE,
                 	A.COD_EMPRESA,
		A.CODIGO_DEPTO,
		D.NOMBRE,
		A.CARNETIZADO_E,
		A.CARNETIZADO_F,
		TIPO
from
		PACIENTES 		A,
		EMPRESAS 		B,
		DEPTOS_MAQUILA 	D
where
		COD_PACIENTE = :dfCodPaciente and
		CORREL_PACIENTE='0' and
                	A.COD_EMPRESA=B.COD_EMPRESA  and
		A.CODIGO_DEPTO = D.CODIGO
into
		:ESTADO_PAC,
		:dfFechaIContrato,
		:dfFechaFContrato ,
		:dfMontoAseg,
		:dfDisponible ,
		:cmbEmpresa.nCodigo,
		:cmbDepto.nCodigo,
		:cmbDepto,
		:cbCarnetEmpleado,
		:cbCarnetFamiliar,
		:nTipo  ",bExists)
.head 9 -  Call SqlClearImmediate( )
.head 9 -  ! Call HabilitarHeader(  )
.head 9 -  Call cmbEmpresa.Actualizar()
.head 9 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 9 -  Call SalDisableWindow(rbActivo)
.head 9 -  Call SalDisableWindow(rbInactivo)
.head 9 -  Call SalDisableWindow(pbEstado)
.head 9 -  Call SalEnableWindow(dfCorrel)
.head 9 -  Call SalEnableWindow(dfFechaIngreso)
.head 4 +  Pushbutton: pbSalir
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 11.183"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.667"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbHistorial
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 4.783"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.667"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\ICONS\Graphup.ico
.head 5 -  Picture Transparent Color: None
.head 5 -  Image Style: Single
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 +  If dfCodPaciente!=''
.head 8 -  Call SqlExists("Select	COD_PACIENTE
from   PACIENTES
where	COD_PACIENTE =:dfCodPaciente and CORREL_PACIENTE=:dfCorrel ",bExists)
.head 8 -  Call SqlClearImmediate( )
.head 8 +  If bExists
.head 9 -  Call SalModalDialog( dlgHistorial, hWndForm,dfCodPaciente,dfCorrel )
.head 4 -  Background Text: Creado por:
.head 5 -  Resource Id: 65525
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 5.983"
.head 6 -  Top:    0.167"
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: System Window Color
.head 5 -  Background Color: Default
.head 4 -  Background Text: Modificado por:
.head 5 -  Resource Id: 65526
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 5.783"
.head 6 -  Top:    0.44"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: System Window Color
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfCreadoPor
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 7.383"
.head 7 -  Top:    0.071"
.head 7 -  Width:  2.1"
.head 7 -  Width Editable? Yes
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Yes
.head 6 -  Visible? Yes
.head 6 -  Border? Yes
.head 6 -  Justify: Left
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Font Name: Default
.head 6 -  Font Size: Default
.head 6 -  Font Enhancement: Bold
.head 6 -  Text Color: White
.head 6 -  Background Color: White
.head 6 -  Input Mask: Unformatted
.head 5 -  Message Actions
.head 4 +  Data Field: dfModificadoPor
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 7.383"
.head 7 -  Top:    0.405"
.head 7 -  Width:  2.1"
.head 7 -  Width Editable? Yes
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Yes
.head 6 -  Visible? Yes
.head 6 -  Border? Yes
.head 6 -  Justify: Left
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Font Name: Default
.head 6 -  Font Size: Default
.head 6 -  Font Enhancement: Bold
.head 6 -  Text Color: White
.head 6 -  Background Color: White
.head 6 -  Input Mask: Unformatted
.head 5 -  Message Actions
.head 2 +  Contents
.head 3 -  Group Box: Tipo de Asegurado
.head 4 -  Resource Id: 36773
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    0.071"
.head 5 -  Width:  6.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.583"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Radio Button: rbNoDependiente
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: No dependiente (F1)
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    0.321"
.head 5 -  Width:  2.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call HabilitarHeader(  )
.head 6 -  Call SalDisableWindow(rbNoDependiente)
.head 6 -  Call SalDisableWindow(rbDependiente)
.head 6 -  Call SalDisableWindow(rbComodin)
.head 6 -  Call SalDisableWindow(cbUnicoBeneficiario)
.head 6 -  Set dfCorrel='0'
.head 6 -  Call SalDisableWindow(dfCorrel)
.head 6 -  Call SalEnableWindow(cmbEmpresa)
.head 6 -  Call SalEnableWindow(cmbDepto)
.head 6 -  Call SalEnableWindow(dfFechaIContrato)
.head 6 -  Call SalEnableWindow(dfFechaFContrato)
.head 6 -  Call SalEnableWindow(dfMontoAseg)
.head 6 -  Call SalEnableWindow(pbGrabar)
.head 6 +  If (cmbEmpresa1.nCodigo=46)
.head 7 -  Set sCodPaciente = 'PIHSS' || SalNumberToStrX(Identity(701),0)
.head 7 -  Set dfCodPaciente = sCodPaciente
.head 6 +  Else
.head 7 -  Set dfCodPaciente = dfultimoNumero
.head 3 +  Radio Button: rbDependiente
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Dependiente del Aseg. (F2) 
.head 4 -  Window Location and Size
.head 5 -  Left: 3.483"
.head 5 -  Top:    0.321"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call HabilitarHeader(  )
.head 6 -  Call SalDisableWindow(rbNoDependiente)
.head 6 -  Call SalDisableWindow(rbDependiente)
.head 6 -  Call SalDisableWindow(rbComodin)
.head 6 -  Call SalDisableWindow(rbActivo)
.head 6 -  Call SalDisableWindow(rbInactivo)
.head 6 -  Call SalDisableWindow(pbEstado)
.head 6 -  Set dfCorrel=STRING_Null
.head 6 -  Set dfFechaIngreso = SalDateCurrent()
.head 6 -  Call SalEnableWindow(pbGrabar)
.head 3 +  Radio Button: rbComodin
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Dependiente del Aseg.
.head 4 -  Window Location and Size
.head 5 -  Left: 4.283"
.head 5 -  Top:    0.238"
.head 5 -  Width:  2.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 -  On SAM_Click
.head 3 -  Background Text: Codigo Paciente
.head 4 -  Resource Id: 36770
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.762"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCodPaciente
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.683"
.head 6 -  Top:    0.738"
.head 6 -  Width:  1.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If rbNoDependiente=TRUE
.head 7 -  Call SqlExists("Select	TIPO
from	PACIENTES
where	COD_PACIENTE =:dfCodPaciente and CORREL_PACIENTE=:dfCorrel  into :nTipo  ",bExists)
.head 7 -  Call SqlClearImmediate( )
.head 7 +  If bExists
.head 8 +  If nTipo!=0
.head 9 -  Call SalMessageBox("El Paciente Existe pero no es Asegurado", "Advertencia",MB_Ok)
.head 9 -  Set dfCodPaciente=''
.head 8 +  Else
.head 9 +  If rbNoDependiente=TRUE
.head 10 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 6 +  Else
.head 7 -  Call SqlExists("Select
		A.ESTADO_PAC ,
                 	A.FEC_ICONTRATO,
		A.FEC_FCONTRATO,
                	A.MONTO_ASEG,
		A.DISPONIBLE,
                 	B.COD_EMPRESA,
		A.CODIGO_DEPTO,
		D.NOMBRE,
		TIPO
from
		PACIENTES 		A,
		EMPRESAS 		B,
		DEPTOS_MAQUILA 	D
where
		COD_PACIENTE = :dfCodPaciente and
		CORREL_PACIENTE='0' and
                	A.COD_EMPRESA=B.COD_EMPRESA  and
		A.CODIGO_DEPTO = D.CODIGO
into
		:ESTADO_PAC,
		:dfFechaIContrato,
		:dfFechaFContrato ,
		:dfMontoAseg,
		:dfDisponible ,
		:cmbEmpresa.nCodigo,
		:cmbDepto.nCodigo,
		:cmbDepto,
		:nTipo  ",bExists)
.head 7 -  Call SqlClearImmediate( )
.head 7 +  If bExists
.head 8 -  Call cmbEmpresa.Actualizar()
.head 8 +  If nTipo!=0
.head 9 -  Call SalMessageBox("El Paciente Existe pero no es Asegurado", "Advertencia",MB_Ok)
.head 9 -  Set dfCodPaciente=''
.head 9 -  Set dfFechaIContrato=DATETIME_Null
.head 9 -  Set dfFechaFContrato=DATETIME_Null
.head 9 -  Set dfMontoAseg=NUMBER_Null
.head 8 +  Else
.head 9 -  Call ActualizarPac()
.head 9 +  If ESTADO_PAC=0
.head 10 -  Set rbActivo=TRUE
.head 9 +  Else
.head 10 -  Set rbInactivo=TRUE
.head 7 +  Else
.head 8 -  Call SalMessageBox( 'Tiene que exixstir el Aseg. para Introducir un Dependiente', 'Advertencia', MB_Ok )
.head 8 -  Set dfCodPaciente=''
.head 3 +  Data Field: dfCorrel
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.983"
.head 6 -  Top:    0.738"
.head 6 -  Width:  0.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If rbDependiente=TRUE
.head 7 +  If dfCorrel!='0'
.head 8 -  Call SqlExists("Select	TIPO
from	PACIENTES
where	COD_PACIENTE =:dfCodPaciente and CORREL_PACIENTE=:dfCorrel  into :nTipo  ",bExists)
.head 8 -  Call SqlClearImmediate( )
.head 8 +  If bExists
.head 9 +  If nTipo!=0
.head 10 -  Call SalMessageBox("El Paciente Existe pero no es Asegurado", "Advertencia",MB_Ok)
.head 10 -  Set dfCodPaciente=''
.head 9 +  Else
.head 10 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 10 -  Call SalDisableWindow(rbActivo)
.head 10 -  Call SalDisableWindow(rbInactivo)
.head 10 -  Call SalDisableWindow(pbEstado)
.head 7 +  Else
.head 8 -  Call SalMessageBox( 'Un Dependiente no puede tener correlativo 0', 'Advertencia', MB_Ok )
.head 8 -  Set dfCorrel=STRING_Null
.head 3 -  Background Text: Identidad
.head 4 -  Resource Id: 48923
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.683"
.head 5 -  Top:    0.762"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfIdentidad
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.483"
.head 6 -  Top:    0.738"
.head 6 -  Width:  2.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Fecha Ing.
.head 4 -  Resource Id: 48924
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.883"
.head 5 -  Top:    0.762"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaIngreso
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.983"
.head 6 -  Top:    0.738"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Primer Nombre
.head 4 -  Resource Id: 48925
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    1.095"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfPrimerNom
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.683"
.head 6 -  Top:    1.071"
.head 6 -  Width:  2.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Segundo Nombre
.head 4 -  Resource Id: 48926
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.583"
.head 5 -  Top:    1.095"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfSegundoNom
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.183"
.head 6 -  Top:    1.071"
.head 6 -  Width:  2.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Primer Apellido
.head 4 -  Resource Id: 48927
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    1.429"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfPrimerApe
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.683"
.head 6 -  Top:    1.405"
.head 6 -  Width:  2.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Segundo Apellido
.head 4 -  Resource Id: 48928
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.583"
.head 5 -  Top:    1.429"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfSegundoApe
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.183"
.head 6 -  Top:    1.405"
.head 6 -  Width:  2.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Group Box: Sexo
.head 4 -  Resource Id: 48929
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    1.738"
.head 5 -  Width:  4.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Radio Button: rbMasculino
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Masculino
.head 4 -  Window Location and Size
.head 5 -  Left: 0.583"
.head 5 -  Top:    1.905"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbFemenino
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Femenino
.head 4 -  Window Location and Size
.head 5 -  Left: 2.383"
.head 5 -  Top:    1.905"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 -  Background Text: Fecha Nacimiento
.head 4 -  Resource Id: 48930
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.583"
.head 5 -  Top:    1.845"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaNac
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.183"
.head 6 -  Top:    1.821"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Dirección
.head 4 -  Resource Id: 48931
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    2.929"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text:
.head 4 -  Resource Id: 48932
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    2.262"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Estado Civil
.head 4 -  Resource Id: 36772
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    2.321"
.head 5 -  Width:  8.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Radio Button: rbSoltero
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Soltero(a)
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    2.488"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbCasado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Casado(a)
.head 4 -  Window Location and Size
.head 5 -  Left: 2.383"
.head 5 -  Top:    2.488"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbDivorciado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Divorciado(a)
.head 4 -  Window Location and Size
.head 5 -  Left: 4.083"
.head 5 -  Top:    2.488"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbUnion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Unión Libre
.head 4 -  Window Location and Size
.head 5 -  Left: 5.983"
.head 5 -  Top:    2.488"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Multiline Field: mlDireccion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: mlBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 100
.head 5 -  String Type: String
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Border? Class Default
.head 5 -  Word Wrap? Yes
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Window Location and Size
.head 6 -  Left: 0.183"
.head 6 -  Top:    3.071"
.head 6 -  Width:  8.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.583"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 -  Group Box: Datos propios del Aseg.
.head 4 -  Resource Id: 48936
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    3.738"
.head 5 -  Width:  8.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.083"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Maquila
.head 4 -  Resource Id: 48937
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.383"
.head 5 -  Top:    4.012"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  ! cmbBaseCodigo: cmbEmpresa
.winattr class Combo Box:
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.45"
.head 5 -  Top:    3.988"
.head 5 -  Width:  5.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.048"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.end
.head 4 -  List Initialization 
.head 4 +  Message Actions 
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 3 +  Combo Box: cmbDepto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.45"
.head 5 -  Top:    4.333"
.head 5 -  Width:  5.733"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.048"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbDepto.nCaso=1
.head 6 -  Set cmbDepto.sTabla='DEPTOS_MAQUILA'
.head 6 -  Set cmbDepto.sNombre='NOMBRE'
.head 6 -  Set cmbDepto.sCodigo='CODIGO'
.head 3 -  Background Text: Fecha Inicio Contrato
.head 4 -  Resource Id: 48938
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    4.679"
.head 5 -  Width:  1.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaIContrato
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.483"
.head 6 -  Top:    4.655"
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Center
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Fecha Fin Contrato
.head 4 -  Resource Id: 48939
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.583"
.head 5 -  Top:    4.762"
.head 5 -  Width:  1.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaFContrato
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.283"
.head 6 -  Top:    4.738"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Center
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: 99/99/9999
.head 4 -  Message Actions
.head 3 -  Background Text: Monto Asegurado
.head 4 -  Resource Id: 48940
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    5.095"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfMontoAseg
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.483"
.head 6 -  Top:    5.071"
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If dfDisponible=NUMBER_Null
.head 7 -  Set dfDisponible=dfMontoAseg
.head 3 -  Background Text: Monto Disponible
.head 4 -  Resource Id: 48941
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.683"
.head 5 -  Top:    5.095"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfDisponible
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.283"
.head 6 -  Top:    5.071"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Group Box: Estado del Paciente
.head 4 -  Resource Id: 36771
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.883"
.head 5 -  Top:    4.405"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.083"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Radio Button: rbActivo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Activo
.head 4 -  Window Location and Size
.head 5 -  Left: 8.983"
.head 5 -  Top:    4.655"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbInactivo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Inactivo
.head 4 -  Window Location and Size
.head 5 -  Left: 10.183"
.head 5 -  Top:    4.655"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Picture: pic1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.883"
.head 5 -  Top:    1.071"
.head 5 -  Width:  4.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.583"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  File Name:
.head 4 -  Storage: External
.head 4 -  Picture Transparent Color: None
.head 4 -  Fit: Size to Fit
.head 4 -  Scaling
.head 5 -  Width:  100
.head 5 -  Height:  100
.head 4 -  Corners: Square
.head 4 -  Border Style: Solid
.head 4 -  Border Thickness: 1
.head 4 -  Tile To Parent? No
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  ! cmbBaseCodigo: cmbEmpresa1
.winattr class Combo Box:
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.583"
.head 5 -  Top:    0.095"
.head 5 -  Width:  3.033"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.357"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.end
.head 4 -  List Initialization 
.head 4 +  Message Actions 
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa1.nCaso=1
.head 6 -  Set cmbEmpresa1.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa1.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa1.sCodigo='COD_EMPRESA'
.head 5 +  On SAM_Click
.head 6 -  Call SalSendClassMessage( SAM_Click, 0, 0 )
.head 6 -  Call SqlPrepareAndExecute( hSql1, "select  max(cod_paciente) from pacientes where cod_empresa=:cmbEmpresa1.nCodigo
    into :dfultimoNumero " )
.head 6 -  Call SqlFetchNext( hSql1, nSiguiente )
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Combo Box: cmbEmpresa1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigoFiltrado
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.783"
.head 5 -  Top:    0.071"
.head 5 -  Width:  2.5"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.512"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 6 -  Set cmbEmpresa.sNombreFiltro='ESTADO'
.head 6 -  Set cmbEmpresa.nValorFiltro=1
.head 5 +  On SAM_Click
.head 6 -  Call SalSendClassMessage( SAM_Click, 0, 0 )
.head 6 -  Call SqlPrepareAndExecute( hSql1, "select  max(cod_paciente) from pacientes where cod_empresa=:cmbEmpresa1.nCodigo
    into :dfultimoNumero " )
.head 6 -  Call SqlFetchNext( hSql1, nSiguiente )
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Combo Box: cmbEmpresa
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigoFiltrado
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.45"
.head 5 -  Top:    4.012"
.head 5 -  Width:  5.633"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.357"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 6 -  Set cmbEmpresa.sNombreFiltro='ESTADO'
.head 6 -  Set cmbEmpresa.nValorFiltro=1
.head 5 +  On SAM_Click
.head 6 -  Call SalSendClassMessage( SAM_Click, 0, 0 )
.head 6 -  Call SqlPrepareAndExecute( hSql1, "select  max(cod_paciente) from pacientes where cod_empresa=:cmbEmpresa1.nCodigo
    into :dfultimoNumero " )
.head 6 -  Call SqlFetchNext( hSql1, nSiguiente )
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Data Field: dfultimoNumero
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 9.683"
.head 6 -  Top:    0.071"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Pushbutton: pbFoto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Buscar Foto
.head 4 -  Window Location and Size
.head 5 -  Left: 9.55"
.head 5 -  Top:    3.679"
.head 5 -  Width:  2.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: None
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set strFilters[0]='Archivos JPG'
.head 6 -  Set strFilters[1]='*.jpg'
.head 6 -  Set nIndex=1
.head 6 -  Call SalDlgOpenFile( hWndNULL, 'Busqueda de Foto', strFilters, 2, nIndex, strFile, strPath )
.head 6 -  Call SalPicSetFile( pic1, strPath )
.head 6 -  Set nTam= SalPicGetString( pic1,PIC_FormatObject , lsFoto )
.head 3 +  Pushbutton: pbLimpiar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Limpiar Foto
.head 4 -  Window Location and Size
.head 5 -  Left: 9.55"
.head 5 -  Top:    3.929"
.head 5 -  Width:  2.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: None
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalPicClear( pic1 )
.head 6 -  Set lsFoto=STRING_Null
.head 3 -  Background Text: Depto
.head 4 -  Resource Id: 48942
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.15"
.head 5 -  Top:    4.357"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Check Box: cbCarnetEmpleado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Carnet de Empleado
.head 4 -  Window Location and Size
.head 5 -  Left: 2.483"
.head 5 -  Top:    5.429"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cbCarnetFamiliar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Carnet Familiar
.head 4 -  Window Location and Size
.head 5 -  Left: 4.75"
.head 5 -  Top:    5.429"
.head 5 -  Width:  1.533"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cbUnicoBeneficiario
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Unico Beneficiario
.head 4 -  Window Location and Size
.head 5 -  Left: 9.683"
.head 5 -  Top:    0.738"
.head 5 -  Width:  1.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.333"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If cbUnicoBeneficiario
.head 7 -  !
.head 7 -  Call SqlImmediate("SELECT
			COUNT(*)
	FROM
			PACIENTES
	WHERE
			COD_PACIENTE = :dfCodPaciente AND
			CORREL_PACIENTE != '0'	AND
			CORREL_PACIENTE != :dfCorrel	
	INTO
			:nBeneficiarios")
.head 7 -  Call SqlClearImmediate()
.head 7 +  If nBeneficiarios > 0
.head 8 -  !
.head 8 -  Call SalMessageBox ("Existen 1 o mas beneficiarios del empleado. No se puede marcar el actual como unico benefeciario", "ERROR", MB_IconStop)
.head 8 -  Set cbUnicoBeneficiario = FALSE
.head 3 +  Pushbutton: pbEstado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Cambiar
.head 4 -  Window Location and Size
.head 5 -  Left: 11.55"
.head 5 -  Top:    4.488"
.head 5 -  Width:  0.833"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.667"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F1
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\paciente.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Single
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If not bArraySeg[19]
.head 7 -  !
.head 7 -  Call SalMessageBox("No tiene suficientes permisos para efectuar esta acción!","ERROR",MB_Ok)
.head 7 -  Return FALSE
.head 6 -  !
.head 6 +  If SalMessageBox( "Esta seguro de cambiar el estado?", "Advertencia", MB_YesNo )=IDYES
.head 7 -  !
.head 7 -  Call SalWaitCursor(TRUE)
.head 7 -  Call UpdateStatus()
.head 7 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 7 -  Call SalWaitCursor(FALSE)
.head 3 -  Background Text: Fecha de Inactivación
.head 4 -  Resource Id: 39062
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.883"
.head 5 -  Top:    4.929"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaInactivo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 9.383"
.head 6 -  Top:    5.155"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Yes
.head 5 -  Justify: Center
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Red
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 2 +  Functions
.head 3 +  Function: ActualizarPac
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Call SalDateToStr( dfFechaIngreso, FECHA_INGRESO )
.head 5 -  Call SalStrLeft (FECHA_INGRESO, 10, FECHA_INGRESO )
.head 5 -  Call SalDateToStr( dfFechaNac, FECHA_NAC )
.head 5 -  Call SalStrLeft (FECHA_NAC, 10, FECHA_NAC )
.head 5 +  If rbMasculino=TRUE
.head 6 -  Set SEXO='M'
.head 5 +  Else
.head 6 -  Set SEXO='F'
.head 5 +  If rbActivo=TRUE
.head 6 -  Set ESTADO_PAC=0
.head 5 +  Else
.head 6 -  Set ESTADO_PAC=1
.head 5 +  If rbSoltero=TRUE
.head 6 -  Set ESTADO_CIVIL=0
.head 5 +  If rbCasado=TRUE
.head 6 -  Set ESTADO_CIVIL=1
.head 5 +  If rbDivorciado=TRUE
.head 6 -  Set ESTADO_CIVIL=2
.head 5 +  If rbUnion=TRUE
.head 6 -  Set ESTADO_CIVIL=3
.head 5 -  Call SalDateToStr( dfFechaIContrato, FECHA_I )
.head 5 -  Call SalStrLeft ( FECHA_I, 10,  FECHA_I )
.head 5 -  Call SalDateToStr( dfFechaFContrato, FECHA_F )
.head 5 -  Call SalStrLeft ( FECHA_F, 10,  FECHA_F )
.head 3 +  Function: ActualizarPant
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nCentroControlEmpresa
.head 5 -  Number: nCentroControlServidor
.head 4 +  Actions
.head 5 +  If SEXO='M'
.head 6 -  Set rbMasculino=TRUE
.head 5 +  Else
.head 6 -  Set rbFemenino=TRUE
.head 5 +  Select Case ESTADO_CIVIL
.head 6 +  Case 0
.head 7 -  Set rbSoltero =TRUE
.head 7 -  Break
.head 6 +  Case 1
.head 7 -  Set rbCasado =TRUE
.head 7 -  Break
.head 6 +  Case 2
.head 7 -  Set rbDivorciado =TRUE
.head 7 -  Break
.head 6 +  Case 3
.head 7 -  Set rbUnion =TRUE
.head 7 -  Break
.head 5 +  If ESTADO_PAC=0
.head 6 -  Set rbActivo=TRUE
.head 5 +  Else
.head 6 -  Set rbInactivo=TRUE
.head 5 -  ! Call SqlPrepareAndExecute(hSql1,'select centro_control from valores_iniciales where codigo=1 into :nCentroControlServidor')
.head 5 -  ! Call SqlFetchNext(hSql1,nSiguiente)
.head 5 -  ! Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  ! Call SqlPrepareAndExecute(hSql1,'select centro_control from empresas where cod_empresa=:cmbEmpresa.nCodigo into :nCentroControlEmpresa')
.head 5 -  ! Call SqlFetchNext(hSql1,nSiguiente)
.head 5 -  ! Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 +  ! If (nCentroControlServidor = nCentroControlEmpresa)
.head 6 -  Call SalEnableWindow(rbActivo)
.head 6 -  Call SalEnableWindow(rbInactivo)
.head 6 -  ! Call SalMessageBox('Atencion','Son iguales',MB_Ok)
.head 5 +  ! Else
.head 6 -  Call SalEnableWindow(rbActivo)
.head 6 -  Call SalEnableWindow(rbInactivo)
.head 6 -  ! Call SalMessageBox('Son diferentes' || SalNumberToStrX(nCentroControlEmpresa,0) || ' - ' || SalNumberToStrX(nCentroControlServidor,0),'Atencion',MB_Ok)
.head 3 +  Function: HabilitarHeader
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Call SalEnableWindow(dfCodPaciente)
.head 5 -  Call SalEnableWindow(dfCorrel)
.head 5 -  Call SalEnableWindow(dfIdentidad)
.head 5 -  Call SalEnableWindow(dfFechaIngreso)
.head 5 -  Call SalEnableWindow(dfPrimerNom)
.head 5 -  Call SalEnableWindow(dfSegundoNom)
.head 5 -  Call SalEnableWindow(dfPrimerApe)
.head 5 -  Call SalEnableWindow(dfSegundoApe)
.head 5 -  Call SalEnableWindow(rbMasculino)
.head 5 -  Call SalEnableWindow(rbFemenino)
.head 5 -  Call SalEnableWindow(dfFechaNac)
.head 5 -  Call SalEnableWindow(rbSoltero)
.head 5 -  Call SalEnableWindow(rbCasado)
.head 5 -  Call SalEnableWindow(rbDivorciado)
.head 5 -  Call SalEnableWindow(rbUnion)
.head 5 -  Call SalEnableWindow(mlDireccion)
.head 5 -  ! Call SalEnableWindow(rbActivo)
.head 5 -  ! Call SalEnableWindow(rbInactivo)
.head 5 -  Call SalEnableWindow(pbEstado)
.head 5 -  Call SalEnableWindow(cbUnicoBeneficiario)
.head 3 +  Function: ActualizarDepen
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 +  If not SqlPrepareAndExecute(hSql1,"
update
	PACIENTES
set	
                FEC_ICONTRATO	=:FECHA_I,
                FEC_FCONTRATO	=:FECHA_F ,
                MONTO_ASEG	=:dfMontoAseg,
                COD_EMPRESA	=:cmbEmpresa.nCodigo,
	CODIGO_DEPTO	=:cmbDepto.nCodigo,
                DISPONIBLE	=:dfDisponible,
	CARNETIZADO_E 	= :cbCarnetEmpleado,
	CARNETIZADO_F 	= :cbCarnetFamiliar
where
	COD_PACIENTE=:dfCodPaciente and
	CORREL_PACIENTE<> '0' ")
.head 6 -  Return FALSE
.head 5 +  Else
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  Return TRUE
.head 3 +  Function: CargarDatos
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Call SqlPrepareAndExecute(hSql1,"
select
	A.ESTADO_PAC ,
                A.FEC_ICONTRATO,
	A.FEC_FCONTRATO,
                A.MONTO_ASEG,
	A.DISPONIBLE,
                B.NOMBRE,
	D.NOMBRE,
	A.CODIGO_DEPTO
from
	PACIENTES 		A,
	EMPRESAS 		B,
	DEPTOS_MAQUILA 	D
where
	COD_PACIENTE = :dfCodPaciente and
	CORREL_PACIENTE='0' and
                A.COD_EMPRESA=B.COD_EMPRESA and
	A.CODIGO_DEPTO = D.CODIGO
into
	:ESTADO_PAC,
	:dfFechaIContrato,
	:dfFechaFContrato ,
	:dfMontoAseg,
	:dfDisponible ,
	:cmbEmpresa,
	:cmbDepto,
	:cmbDepto.nCodigo")
.head 5 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 +  If ESTADO_PAC=0
.head 6 -  Set rbActivo=TRUE
.head 5 +  Else
.head 6 -  Set rbInactivo=TRUE
.head 3 +  Function: UpdateStatus
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nStatusActual
.head 5 -  Number: nStatusNuevo
.head 5 -  Number: bExistsPaciente
.head 4 +  Actions
.head 5 -  Call SqlExists("
	SELECT
		ESTADO_PAC
	FROM
		PACIENTES
	WHERE
		COD_PACIENTE 		=:dfCodPaciente AND 
		CORREL_PACIENTE	=:dfCorrel 
	INTO
		:nStatusActual
", bExistsPaciente)
.head 5 -  Call SqlClearImmediate()
.head 5 -  !
.head 5 +  If bExistsPaciente
.head 6 -  !
.head 6 +  If nStatusActual = 1
.head 7 -  !
.head 7 -  Set nStatusNuevo = 0
.head 7 -  Set dtFechaHoy=DATETIME_Null
.head 6 +  Else
.head 7 -  Set nStatusNuevo = 1
.head 7 -  Set dtFechaHoy=SalDateCurrent()
.head 6 -  !
.head 6 -  ! -----------Actualizar el empleado y sus beneficiarios
.head 6 -  !
.head 6 -  Call SqlImmediate("UPDATE
			PACIENTES	
		SET
			ESTADO_PAC 	= :nStatusNuevo,
			FECHA_INACTIVO = :dtFechaHoy
		WHERE
			COD_PACIENTE 		=:dfCodPaciente 
		")
.head 6 -  Call SqlClearImmediate()
.head 6 -  !
.head 5 +  Else
.head 6 -  !
.head 6 -  Call SalMessageBox("Paciente no existe!","ERROR",MB_Ok)
.head 5 -  !
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: FECHA_INGRESO
.head 3 -  String: FECHA_NAC
.head 3 -  String: SEXO
.head 3 -  Number: ESTADO_CIVIL
.head 3 -  Number: ESTADO_PAC
.head 3 -  String: sRegresaPac
.head 3 -  String: sRegresaCor
.head 3 -  Number: nTipo
.head 3 -  String: FECHA_I
.head 3 -  String: FECHA_F
.head 3 -  String: strFilters [0:1]
.head 3 -  String: strPath
.head 3 -  String: strFile
.head 3 -  Long String: lsFoto
.head 3 -  Number: nIndex
.head 3 -  Number: nTam
.head 3 -  String: sCodPaciente
.head 3 -  Date/Time: dtFechaHoy
.head 3 -  Number: nYears
.head 3 -  Number: nBeneficiarios
.head 3 -  Boolean: bExisteUnicoBeneficiario
.head 3 -  Number: nCreado
.head 3 -  Number: nModi
.head 3 -  String: sSQL
.head 3 -  String: sCreado
.head 3 -  String: sModi
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  Call DeshabilitarTodo(  )
.head 4 -  Call SalDisableWindow(pbGrabar)
.head 4 -  Call SalDisableWindow(pbBorrar)
.head 4 +  If nCodUser=1  or nCodUser=38
.head 5 -  Call SalEnableWindow( pbBorrar )
.head 4 -  Set rbComodin=TRUE
.head 4 -  Call SalCenterWindow( hWndForm )
.head 3 +  On MU_GRABAR
.head 4 -  !
.head 4 -  Set dtFechaHoy=SalDateCurrent()
.head 4 -  !
.head 4 -  ! ---Validaciones para los beneficiarios
.head 4 +  If rbDependiente
.head 5 -  !
.head 5 -  Call SqlExists("Select	
		CORREL_PACIENTE
	from   
		PACIENTES
	where	
		COD_PACIENTE 		=:dfCodPaciente and 
		CORREL_PACIENTE	!=:dfCorrel and
		UNICO_BENEFICIARIO	=1 ",bExisteUnicoBeneficiario)
.head 5 -  Call SqlClearImmediate( )
.head 5 +  If bExisteUnicoBeneficiario
.head 6 -  !
.head 6 -  Call SalMessageBox ("Existe un beneficiario del empleado determinado como UNICO", "ERROR", MB_IconStop)
.head 6 -  Return FALSE
.head 6 -  !
.head 5 -  !
.head 5 -  Set nYears = (dtFechaHoy - dfFechaNac )/365
.head 5 +  If nYears>= 60
.head 6 -  !
.head 6 -  Call SalMessageBox ("El beneficiario es mayor de 60 años. No sera afiliado.", "ERROR", MB_IconStop)
.head 6 -  Return FALSE
.head 6 -  !
.head 5 +  Else If nYears >= 45
.head 6 -  !
.head 6 +  If SalMessageBox( "El beneficiario es mayor de 45 años. Confirma examen medico?", "Advertencia", MB_YesNo )=IDNO
.head 7 -  !
.head 7 -  Call SalMessageBox ("No se ha afiliado el beneficiario.", "ERROR", MB_IconStop)
.head 7 -  Return FALSE
.head 5 +  Else If nYears >= 11 and dfCorrel != 'E'
.head 6 -  !
.head 6 +  If not cbUnicoBeneficiario
.head 7 -  !
.head 7 -  Call SalMessageBox ("El beneficiario es mayor de 11 años. No sera afiliado al menos que sea UNICO beneficiario.", "ERROR", MB_IconStop)
.head 7 -  Return FALSE
.head 5 -  !
.head 4 -  !
.head 4 -  Call SqlExists("Select	
		COD_PACIENTE
	from   
		PACIENTES
	where	
		COD_PACIENTE 		=:dfCodPaciente and 
		CORREL_PACIENTE	=:dfCorrel ",bExists)
.head 4 -  Call SqlClearImmediate( )
.head 4 -  !
.head 4 -  Call ActualizarPac()
.head 4 -  !
.head 4 -  !
.head 4 +  If bExists
.head 5 -  Call SqlPrepareAndExecute(hSql1,"Begin Tran")
.head 5 +  If lsFoto=STRING_Null
.head 6 -  Call SqlPrepareAndExecute(hSql1,"
update	PACIENTES set FOTO=NULL
where	COD_PACIENTE=:dfCodPaciente and CORREL_PACIENTE=:dfCorrel")
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 +  Else
.head 6 -  Call SqlPrepareAndExecute(hSql1,"
update	PACIENTES set FOTO=:lsFoto
where	COD_PACIENTE=:dfCodPaciente and CORREL_PACIENTE=:dfCorrel")
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  Call SqlPrepareAndExecute(hSql1,"
update
	PACIENTES
set
	PRIMER_NOM=:dfPrimerNom,
	SEGUNDO_NOM=:dfSegundoNom,
	PRIMER_APE=:dfPrimerApe,
	SEGUNDO_APE=:dfSegundoApe,
	IDENTIDAD=:dfIdentidad,
	FECHA_NAC=:FECHA_NAC,
	SEXO=:SEXO,
	ESTADO_CIVIL=:ESTADO_CIVIL ,
	DIRECCION=:mlDireccion ,
                FEC_ICONTRATO=:FECHA_I,
                FEC_FCONTRATO=:FECHA_F ,
                MONTO_ASEG=:dfMontoAseg,
                COD_EMPRESA=:cmbEmpresa.nCodigo,
	CODIGO_DEPTO=:cmbDepto.nCodigo,
	MODIFICADO_POR =:nCodUser,
	FECHA_MODIFICACION=:dtFechaHoy,
	CARNETIZADO_E = :cbCarnetEmpleado,
	CARNETIZADO_F = :cbCarnetFamiliar,
	UNICO_BENEFICIARIO = :cbUnicoBeneficiario
where
	COD_PACIENTE=:dfCodPaciente and
	CORREL_PACIENTE=:dfCorrel ")
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 5 -  !
.head 5 -  Call ActualizarDepen()
.head 4 +  Else
.head 5 -  ! Call SqlPrepareAndExecute(hSql1,"Begin Tran")
.head 5 +  If lsFoto!=STRING_Null
.head 6 -  Call SqlPrepareAndExecute(hSql1,"
insert INTO
PACIENTES (
	COD_PACIENTE ,
	CORREL_PACIENTE ,
	TIPO ,
	PRIMER_NOM ,
	SEGUNDO_NOM ,
	PRIMER_APE ,
	SEGUNDO_APE ,
	IDENTIDAD ,
	FECHA_NAC,
	SEXO ,
	ESTADO_CIVIL ,
	DIRECCION ,	
	FECHA_INGRESO ,
	TIPO_S ,
                FEC_ICONTRATO,
                FEC_FCONTRATO ,
                MONTO_ASEG,
                COD_EMPRESA,
	CODIGO_DEPTO,
                DISPONIBLE,
	CREADO_POR,
	CODIGO_CIUDAD_GEO,
	CARNETIZADO_E,
	CARNETIZADO_F,
	UNICO_BENEFICIARIO,
	FOTO

	 )
values(
               :dfCodPaciente,
	:dfCorrel,
	0,
	:dfPrimerNom,
	:dfSegundoNom,
	:dfPrimerApe,
	:dfSegundoApe,
	:dfIdentidad,
	:FECHA_NAC,
	:SEXO,
	:ESTADO_CIVIL,
	:mlDireccion,
	:FECHA_INGRESO,
	'ASEGURADO',
                :FECHA_I,
                :FECHA_F ,
                :dfMontoAseg,
                :cmbEmpresa.nCodigo,
	:cmbDepto.nCodigo,
                :dfDisponible,
	:nCodUser,
	:nCodCiudad,
	:cbCarnetEmpleado,
	:cbCarnetFamiliar,
	:cbUnicoBeneficiario,
	:lsFoto
               )")
.head 6 -  ! Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 5 +  Else
.head 6 -  Call SqlPrepareAndExecute(hSql1,"
insert INTO
PACIENTES (
	COD_PACIENTE ,
	CORREL_PACIENTE ,
	TIPO ,
	PRIMER_NOM ,
	SEGUNDO_NOM ,
	PRIMER_APE ,
	SEGUNDO_APE ,
	IDENTIDAD ,
	FECHA_NAC,
	SEXO ,
	ESTADO_CIVIL ,
	DIRECCION ,
	FECHA_INGRESO ,
	TIPO_S ,
                FEC_ICONTRATO,
                FEC_FCONTRATO ,
                MONTO_ASEG,
                COD_EMPRESA,
	CODIGO_DEPTO,
	CREADO_POR,
	CODIGO_CIUDAD_GEO,
                DISPONIBLE,
	CARNETIZADO_E,
	CARNETIZADO_F,
	UNICO_BENEFICIARIO
	 )
values(
               :dfCodPaciente,
	:dfCorrel,
	0,
	:dfPrimerNom,
	:dfSegundoNom,
	:dfPrimerApe,
	:dfSegundoApe,
	:dfIdentidad,
	:FECHA_NAC,
	:SEXO,
	:ESTADO_CIVIL,
	:mlDireccion,
	:FECHA_INGRESO,
	'ASEGURADO',
                :FECHA_I,
                :FECHA_F ,
                :dfMontoAseg,
                :cmbEmpresa.nCodigo,
	:cmbDepto.nCodigo,
	:nCodUser,
	:nCodCiudad,
                :dfDisponible,
	:cbCarnetEmpleado,
	:cbCarnetFamiliar,
	:cbUnicoBeneficiario


               )")
.head 6 -  ! Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 3 +  On MU_ACTUALIZAR
.head 4 -  Call DeshabilitarTodo(  )
.head 4 -  Call SqlPrepareAndExecute(hSql1,"
select
	A.PRIMER_NOM,
	A.SEGUNDO_NOM,
	A.PRIMER_APE,
	A.SEGUNDO_APE,
	A.IDENTIDAD,
	A.FECHA_NAC,
                 A.FECHA_INGRESO,
	A.DIRECCION,
                 A.SEXO,
	A.ESTADO_CIVIL,
	A.ESTADO_PAC ,
                 A.FEC_ICONTRATO,
	A.FEC_FCONTRATO,
                A.MONTO_ASEG,
	A.DISPONIBLE,
                 B.COD_EMPRESA,
	A.CODIGO_DEPTO,
	D.NOMBRE,
	A.CARNETIZADO_E,
	A.CARNETIZADO_F,
	A.UNICO_BENEFICIARIO,
	A.FOTO,
	A.CREADO_POR,
	A.MODIFICADO_POR,
	A.FECHA_INACTIVO
from
	PACIENTES 		A,
	EMPRESAS 		B,
	DEPTOS_MAQUILA 	D
where
	COD_PACIENTE = :dfCodPaciente and
	CORREL_PACIENTE=:dfCorrel and
                A.COD_EMPRESA=B.COD_EMPRESA and
	A.CODIGO_DEPTO = D.CODIGO
into
	:dfPrimerNom,
	:dfSegundoNom,
	:dfPrimerApe,
	:dfSegundoApe,
	:dfIdentidad,
	:dfFechaNac,
	:dfFechaIngreso,
	:mlDireccion,
	:SEXO,
	:ESTADO_CIVIL,
	:ESTADO_PAC,
	:dfFechaIContrato,
	 :dfFechaFContrato ,
	 :dfMontoAseg,
	 :dfDisponible ,
	:cmbEmpresa.nCodigo,
	:cmbDepto.nCodigo,
	:cmbDepto,
	:cbCarnetEmpleado,
	:cbCarnetFamiliar,
	:cbUnicoBeneficiario,
	:lsFoto,
	:nCreado,
	:nModi,
	:dfFechaInactivo")
.head 4 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 4 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  Call cmbEmpresa.Actualizar()
.head 4 -  Call HabilitarHeader(  )
.head 4 -  Call ActualizarPant()
.head 4 +  If lsFoto!=STRING_Null
.head 5 -  Call SalPicSetString( pic1,PIC_FormatObject , lsFoto )
.head 4 +  Else
.head 5 -  Call SalPicClear( pic1 )
.head 4 -  Set sSQL = "SELECT
		U.NOMBRE
	FROM
		USUARIOS U
	WHERE		
		U.COD_USU = :nCreado
	INTO
		:sCreado"
.head 4 -  Call SqlImmediate ( sSQL )
.head 4 -  Call SqlClearImmediate ()
.head 4 -  Set sSQL = "SELECT
		U.NOMBRE
	FROM
		USUARIOS U
	WHERE		
		U.COD_USU = :nModi
	INTO
		:sModi"
.head 4 -  Call SqlImmediate ( sSQL )
.head 4 -  Call SqlClearImmediate ()
.head 4 -  Set dfCreadoPor = sCreado
.head 4 -  Set dfModificadoPor = sModi
.head 4 -  Call SalDisableWindow(dfFechaIngreso)
.head 4 -  Call SalDisableWindow(dfCodPaciente)
.head 4 -  Call SalDisableWindow(dfCorrel)
.head 4 -  Call SalEnableWindow(pbGrabar)
.head 4 -  Call SalEnableWindow(pbFoto)
.head 4 -  Call SalEnableWindow(pbLimpiar)
.head 4 +  If dfCorrel='0'
.head 5 -  Set rbNoDependiente=TRUE
.head 5 -  Call SalEnableWindow(dfFechaIContrato)
.head 5 -  Call SalEnableWindow(dfFechaFContrato)
.head 5 -  Call SalEnableWindow(dfMontoAseg)
.head 5 -  Call SalEnableWindow(cmbEmpresa)
.head 5 -  Call SalEnableWindow(cmbDepto)
.head 5 -  Call SalEnableWindow(cbCarnetFamiliar)
.head 5 -  Call SalEnableWindow(cbCarnetEmpleado)
.head 5 -  ! Call SalDisableWindow(rbActivo)
.head 5 -  ! Call SalDisableWindow(rbInactivo)
.head 5 -  Call SalEnableWindow(pbEstado)
.head 4 +  Else
.head 5 -  Set rbDependiente=TRUE
.head 5 -  Call SalDisableWindow(pbEstado)
.head 3 +  On MU_BORRAR
.head 4 -  ! Call SqlPrepareAndExecute(hSql1,"Begin Tran")
.head 4 -  Call SqlPrepareAndExecute(hSql1,"
	delete from	Pacientes
	where	COD_PACIENTE =:dfCodPaciente and  CORREL_PACIENTE=:dfCorrel ")
.head 4 -  ! Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 4 -  Call SalMessageBox( "Paciente ha sido Borrado", "Advertencia", MB_Ok )
.head 4 -  Call SalEnableWindow(pbGrabar)
.head 4 -  Set rbComodin=TRUE
.head 1 +  Form Window: frmControlCitas
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Control de Citas
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: 0.463"
.head 4 -  Top:    0.271"
.head 4 -  Width:  15.917"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 8.726"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 +  Menu
.head 3 +  Popup Menu: Opciones
.head 4 -  Resource Id: 17441
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 4 +  Menu Item: Nueva Cita
.head 5 -  Resource Id: 17442
.head 5 -  Keyboard Accelerator: Ctrl+N
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbNuevo, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Guardar Cita
.head 5 -  Resource Id: 17443
.head 5 -  Keyboard Accelerator: Ctrl+S
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbGuardar, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  Data Field: dfCod_Cita
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.883"
.head 6 -  Top:    1.071"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Custom Control: ccFechaFrom
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 6.983"
.head 6 -  Top:    1.06"
.head 6 -  Width:  3.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 -  Background Text: Fecha:
.head 4 -  Resource Id: 17436
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.283"
.head 5 -  Top:    1.095"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfPaciente
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.883"
.head 6 -  Top:    1.488"
.head 6 -  Width:  1.733"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_KillFocus
.head 6 -  !
.head 6 +  If dfPaciente = "TEMPCOD"
.head 7 -  !
.head 7 -  Set dfPacienteCorrel = '0'
.head 7 -  Call SalEnableWindow(dfNombre)
.head 7 -  Call SalSetFocus(dfNombre)
.head 6 +  Else
.head 7 -  !
.head 7 -  Call SalDisableWindow(dfNombre)
.head 3 +  Data Field: dfPacienteCorrel
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.783"
.head 6 -  Top:    1.488"
.head 6 -  Width:  1.833"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Call ActualizarPaciente()
.head 3 +  Data Field: dfNombre
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 8.883"
.head 6 -  Top:    1.488"
.head 6 -  Width:  4.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Data Field: dfCodMedico
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.883"
.head 6 -  Top:    2.071"
.head 6 -  Width:  1.133"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_KillFocus
.head 6 -  !
.head 6 -  Call ActualizarMedico()
.head 3 -  Background Text: Medico
.head 4 -  Resource Id: 17438
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.083"
.head 5 -  Top:    2.107"
.head 5 -  Width:  0.667"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfNombreMedico
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.083"
.head 6 -  Top:    2.071"
.head 6 -  Width:  2.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfEspecialidadMedico
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 9.283"
.head 6 -  Top:    2.071"
.head 6 -  Width:  4.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Paciente:
.head 4 -  Resource Id: 17439
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.917"
.head 5 -  Top:    1.56"
.head 5 -  Width:  0.767"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Nota:
.head 4 -  Resource Id: 17440
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.15"
.head 5 -  Top:    2.583"
.head 5 -  Width:  0.633"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Multiline Field: mlObservaciones
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatMultilineField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  String Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Border? Class Default
.head 5 -  Word Wrap? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Window Location and Size
.head 6 -  Left: 4.883"
.head 6 -  Top:    2.571"
.head 6 -  Width:  4.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 1.0"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Custom Control: ccMes
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cMonthCalendarDemo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.35"
.head 6 -  Top:    0.929"
.head 6 -  Width:  3.133"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 2.143"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 +  Message Actions
.head 5 +  ! On CAL_MonthChange
.head 6 -  Call MarcarMes()
.head 6 -  ! Call SalMessageBox( "PRUEBA", "MENSAJE", 0 )
.head 5 +  On CAL_Click
.head 6 -  Set nCont=nCont+1
.head 6 +  If nCont=2
.head 7 -  Call CitasdelDia()
.head 6 +  If nCont>2
.head 7 -  Set nCont=0
.head 6 -  Call ccMes.GetSelRange(dfDiaFrom, dfDiaTo)
.head 6 -  Call ccFechaFrom.SetSystemTime(0,dfDiaFrom) 
.head 3 +  Pushbutton: pbNuevo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.25"
.head 5 -  Top:    0.179"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filenew.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If bNuevaCita
.head 7 -  !
.head 7 -  Set sSQL = "   SELECT
			*
		FROM
			CITAS
		WHERE
			COD_CITA   =   :dfCod_Cita"
.head 7 -  Call SqlExists (sSQL, bExistsCita)
.head 7 -  Call SqlClearImmediate()
.head 7 +  If SalMessageBox("Ha seleccionado crear una nueva cita. Desea guardar los cambios antes de continuar?","Atencion",MB_YesNo)=IDYES
.head 8 -  !
.head 8 -  Call SalSendMsg (pbGuardar, SAM_Click, 0, 0)
.head 7 +  Else
.head 8 -  !
.head 8 +  If not bExistsCita
.head 9 -  !
.head 9 -  Set sSQL = 'DELETE FROM
		 IDENTITYS 
	WHERE 
		cod_tabla = 708 AND
		MAXIMO = :dfCod_Cita'
.head 9 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 9 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 9 -  !
.head 9 -  Call ResetControls()
.head 9 -  Call LoadDefaultValues()
.head 9 -  !
.head 6 +  Else
.head 7 -  !
.head 7 -  Call ResetControls()
.head 7 -  Call LoadDefaultValues()
.head 7 -  ! !
.head 3 +  Pushbutton: pbGuardar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.85"
.head 5 -  Top:    0.179"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filesave.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  !
.head 6 +  If SalIsNull(dfCod_Cita)
.head 7 -  !
.head 7 -  Call SalMessageBox( "Debe especificar el No de Cita", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 7 -  Return FALSE
.head 6 +  If SalIsNull(dfPaciente)
.head 7 -  !
.head 7 -  Call SalMessageBox( "Debe especificar el codigo del paciente", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 7 -  Call SalSetFocus(dfPaciente)
.head 7 -  Return FALSE
.head 6 +  Else
.head 7 -  !
.head 7 -  ! -----Cuando es codigo temporal siempre se debe especificar el nombre del paciente
.head 7 +  If dfPaciente = 'TEMPCOD'
.head 8 -  !
.head 8 +  If SalIsNull(dfNombre)
.head 9 -  !
.head 9 -  Call SalMessageBox( "Debe especificar el nombre del paciente temporal", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 9 -  Call SalSetFocus(dfNombre)
.head 9 -  Return FALSE
.head 6 +  If SalIsNull(dfPacienteCorrel)
.head 7 -  !
.head 7 -  Call SalMessageBox( "Debe especificar el correlativo del paciente", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 7 -  Call SalSetFocus(dfPacienteCorrel)
.head 7 -  Return FALSE
.head 6 +  If SalIsNull(dfCodMedico)
.head 7 -  !
.head 7 -  Call SalMessageBox( "Debe especificar el medico", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 7 -  Call SalSetFocus(dfCodMedico)
.head 7 -  Return FALSE
.head 6 -  !
.head 6 -  !
.head 6 -  ! --------------Verificar si la orden ya existe
.head 6 -  Set sSQL = "   SELECT
			*
		FROM
			CITAS
		WHERE
			COD_CITA   =   :dfCod_Cita"
.head 6 -  Call SqlExists (sSQL, bExistsCita)
.head 6 -  Call SqlClearImmediate()
.head 6 -  !
.head 6 -  ! --------Preparar los datos a guardar
.head 6 +  If not PrepareData()
.head 7 -  Return FALSE
.head 6 -  !
.head 6 -  ! ----------Ejecutar la actualizacion o insercion
.head 6 +  If bExistsCita
.head 7 -  !
.head 7 -  ! ---------Verificar que el numero de orden no haya sido tomada por otro usuario (Asegurar la concurrencia)
.head 7 +  If bNuevaCita=TRUE
.head 8 -  Set dfCod_Cita=Identity(708)
.head 8 -  Call SalMessageBox( 'El Numero de Cita ya existe. Se reasiganara al siguiente NUMERO : '||SalNumberToStrX( dfCod_Cita ,0 ) ,
'Advertencia', MB_Ok )
.head 7 -  !
.head 7 -  Call DoUpdate(  )
.head 6 +  Else
.head 7 -  !
.head 7 -  Call DoInsert(  )
.head 6 -  !
.head 6 -  Set bNuevaCita=FALSE
.head 6 -  !
.head 6 -  Call CargarDatosCita()
.head 6 -  Call CitasdelDia()
.head 6 -  Return TRUE
.head 3 -  Group Box: Registro de Citas
.head 4 -  Resource Id: 42985
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.683"
.head 5 -  Top:    0.821"
.head 5 -  Width:  11.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.833"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: No. Cita:
.head 4 -  Resource Id: 42987
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.083"
.head 5 -  Top:    1.095"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbBuscarPaciente
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 13.717"
.head 5 -  Top:    1.429"
.head 5 -  Width:  0.567"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.393"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F1
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\access.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Single
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set sRegresaPac=''
.head 6 -  Set sRegresaCor=''
.head 6 -  Call SalModalDialog( dlgConsultaPacientesO, hWndForm,sRegresaPac,sRegresaCor, 3, 1, 1 )
.head 6 +  If sRegresaPac!=''
.head 7 -  Set dfPaciente 		=sRegresaPac
.head 7 -  Set dfPacienteCorrel 	=sRegresaCor
.head 7 -  Call ActualizarPaciente()
.head 3 +  Pushbutton: pbBuscarDoctor
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 13.717"
.head 5 -  Top:    1.95"
.head 5 -  Width:  0.567"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.393"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F2
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\doctor.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Single
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set nRegresaMed=NUMBER_Null
.head 6 -  Call SalModalDialog( dlgConsultaMedicos, hWndForm,nRegresaMed, 1 )
.head 6 +  If nRegresaMed != NUMBER_Null
.head 7 -  Set dfCodMedico = nRegresaMed
.head 7 -  Call ActualizarMedico()
.head 3 +  Pushbutton: pbCerrarOrden
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.45"
.head 5 -  Top:    0.179"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\encrypted.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If not SalIsNull(dfCod_Cita)
.head 7 -  !
.head 7 -  Call CerrarCita(  )
.head 7 -  Call CargarDatosCita()
.head 7 -  Call CitasdelDia()
.head 3 -  Frame
.head 4 -  Resource Id: 16675
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.683"
.head 5 -  Top:    2.571"
.head 5 -  Width:  4.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.917"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: 3D Shadow Color
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfEstado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 11.483"
.head 6 -  Top:    3.155"
.head 6 -  Width:  2.033"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Center
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfModificadoPor
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 11.483"
.head 6 -  Top:    2.905"
.head 6 -  Width:  2.033"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Center
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfCreadoPor
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 11.483"
.head 6 -  Top:    2.655"
.head 6 -  Width:  2.033"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Center
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Creado por:
.head 4 -  Resource Id: 16674
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.183"
.head 5 -  Top:    2.702"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Modificado por:
.head 4 -  Resource Id: 16673
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.783"
.head 5 -  Top:    2.976"
.head 5 -  Width:  1.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Estado:
.head 4 -  Resource Id: 16672
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.583"
.head 5 -  Top:    3.167"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbEliminar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.05"
.head 5 -  Top:    0.179"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\editdelete.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If not SalIsNull(dfCod_Cita)
.head 7 -  !
.head 7 -  Call AnularCita(  )
.head 7 -  Call CargarDatosCita()
.head 7 -  Call CitasdelDia()
.head 3 +  Pushbutton: pbBuscarOrden
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.05"
.head 5 -  Top:    0.179"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F3
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If bNuevaCita
.head 7 -  !
.head 7 -  Set sSQL = "   SELECT
			*
		FROM
			CITAS
		WHERE
			COD_CITA   =   :dfCod_Cita"
.head 7 -  Call SqlExists (sSQL, bExistsCita)
.head 7 -  Call SqlClearImmediate()
.head 7 +  If SalMessageBox("Ha seleccionado crear una nueva cita. Desea guardar los cambios antes de salir?","Atencion",MB_YesNo)=IDYES
.head 8 -  !
.head 8 -  Call SalSendMsg (pbGuardar, SAM_Click, 0, 0)
.head 7 +  Else
.head 8 -  !
.head 8 +  If not bExistsCita
.head 9 -  !
.head 9 -  Set sSQL = 'DELETE FROM
		 IDENTITYS 
	WHERE 
		cod_tabla = 708 AND
		MAXIMO = :dfCod_Cita'
.head 9 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 9 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 9 -  !
.head 9 -  Set bNuevaCita =FALSE
.head 9 -  Call SalCreateWindow (dlgConsultaCitas, frmControlCitas)
.head 6 +  Else
.head 7 -  !
.head 7 -  Set bNuevaCita =FALSE
.head 7 -  Call SalCreateWindow (dlgConsultaCitas, frmControlCitas)
.head 3 -  Frame
.head 4 -  Resource Id: 16678
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    0.071"
.head 5 -  Width:  14.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.667"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: 3D Shadow Color
.head 4 -  Background Color: 3D Shadow Color
.head 3 -  Frame
.head 4 -  Resource Id: 16681
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    0.821"
.head 5 -  Width:  3.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.75"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Solid
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: 3D Shadow Color
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbDay
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Ver Citas del Dia
.head 4 -  Window Location and Size
.head 5 -  Left: 0.45"
.head 5 -  Top:    3.31"
.head 5 -  Width:  2.9"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call CitasdelDia()
.head 3 +  Pushbutton: pbMonth
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Marcar Citas del Mes
.head 4 -  Window Location and Size
.head 5 -  Left: 0.35"
.head 5 -  Top:    3.095"
.head 5 -  Width:  3.133"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call MarcarMes()
.head 3 -  Line
.head 4 -  Resource Id: 18007
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Coordinates
.head 5 -  Begin X:  3.983"
.head 5 -  Begin Y:  1.405"
.head 5 -  End X:  14.683"
.head 5 -  End Y:  1.405"
.head 4 -  Visible? Yes
.head 4 -  Line Style: Solid
.head 4 -  Line Thickness: 1
.head 4 -  Line Color: 3D Shadow Color
.head 3 +  Data Field: dfFecha_Programada
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.683"
.head 6 -  Top:    0.988"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Line
.head 4 -  Resource Id: 20867
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Coordinates
.head 5 -  Begin X:  3.95"
.head 5 -  Begin Y:  1.929"
.head 5 -  End X:  14.65"
.head 5 -  End Y:  1.929"
.head 4 -  Visible? Yes
.head 4 -  Line Style: Solid
.head 4 -  Line Thickness: 1
.head 4 -  Line Color: 3D Shadow Color
.head 3 +  Child Table: tblCitas
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatChildTable
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.45"
.head 6 -  Top:    4.071"
.head 6 -  Width:  13.433"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 3.583"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: 2
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colCita
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cita
.head 6 -  Visible? No
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Left
.head 6 -  Width:  1.083"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDia
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Dia
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  1.15"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFecha
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  1.367"
.head 6 -  Width Editable? Yes
.head 6 -  Format: dd/mm/yyyy
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: col10
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title:
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMedico
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Medico
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.017"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: col9
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title:
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCodigoPaciente
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod Paciente
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  Default
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colNombrePaciente
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Nombre Paciente
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  2.95"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colObs
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Observaciones
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.333"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Yes
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colEstado
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title:
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 +  Window Variables
.head 5 -  Number: nFila
.head 4 +  Message Actions
.head 5 +  On SAM_DoubleClick
.head 6 -  Call SalTblQueryFocus(tblCitas,nFila,tblCitas.colCita)
.head 6 -  Call SalTblSetContext(tblCitas,nFila)
.head 6 -  Set dfCod_Cita=tblCitas.colCita
.head 6 -  Call CargarDatosCita()
.head 5 +  On SAM_Create
.head 6 -  !
.head 6 -  Call MTblSubClass( hWndForm )
.head 6 -  Call MTblEnableMWheelScroll( hWndForm, TRUE )
.head 3 -  Frame
.head 4 -  Resource Id: 59777
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    3.738"
.head 5 -  Width:  13.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 4.083"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: 3D Shadow Color
.head 4 -  Background Color: 3D Shadow Color
.head 3 -  Background Text: CITAS DEL DIA
.head 4 -  Resource Id: 59778
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.583"
.head 5 -  Top:    3.89"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: System Window Color
.head 4 -  Background Color: 3D Shadow Color
.head 3 -  Background Text: AL
.head 4 -  Resource Id: 27641
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.95"
.head 5 -  Top:    3.89"
.head 5 -  Width:  0.533"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: System Window Color
.head 4 -  Background Color: 3D Shadow Color
.head 3 +  Data Field: dfDiaFrom
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.183"
.head 6 -  Top:    3.821"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Yes
.head 5 -  Justify: Center
.head 5 -  Format: dd-MMM-yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: System Window Color
.head 5 -  Background Color: 3D Shadow Color
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfDiaTo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.55"
.head 6 -  Top:    3.821"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Yes
.head 5 -  Justify: Center
.head 5 -  Format: dd-MMM-yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: System Window Color
.head 5 -  Background Color: 3D Shadow Color
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Line
.head 4 -  Resource Id: 20868
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Coordinates
.head 5 -  Begin X:  3.917"
.head 5 -  Begin Y:  2.452"
.head 5 -  End X:  14.617"
.head 5 -  End Y:  2.452"
.head 4 -  Visible? Yes
.head 4 -  Line Style: Solid
.head 4 -  Line Thickness: 1
.head 4 -  Line Color: 3D Shadow Color
.head 2 +  Functions
.head 3 +  Function: LoadDefaultValues
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set dfCod_Cita = Identity(708)
.head 5 -  Set bNuevaCita = TRUE
.head 5 -  Call ccFechaFrom.SetSystemTime(GDT_VALID, SalDateCurrent ( ))
.head 5 -  Call CitasdelDia()
.head 5 -  !
.head 5 -  Call SalDisableWindow ( dfNombre )
.head 5 -  Call SalSetFocus( dfCod_Cita )
.head 3 +  Function: ResetControls
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Window Handle: hWndChild
.head 5 -  Number: nHwndChild
.head 5 -  Number: nType
.head 4 +  Actions
.head 5 -  Set hWndChild = SalGetFirstChild( hWndForm, TYPE_Any )
.head 5 +  While hWndChild != hWndNULL
.head 6 -  Set nHwndChild = SalWindowHandleToNumber( hWndChild )
.head 6 -  Set nType = SalGetType( hWndChild )
.head 6 +  If nType = TYPE_ChildTable
.head 7 -  Call SalTblReset( hWndChild )
.head 6 +  Else If nType = TYPE_DataField or nType = TYPE_MultilineText or nType = TYPE_CheckBox or nType = TYPE_ComboBox
.head 7 -  Call SalClearField( hWndChild )
.head 6 -  Set hWndChild = SalGetNextChild( hWndChild, TYPE_Any )
.head 5 -  !
.head 5 -  !
.head 3 +  Function: ActualizarPaciente
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Boolean: bExistsPacient
.head 4 +  Actions
.head 5 -  !
.head 5 +  If SalIsNull(dfPaciente) or SalIsNull(dfPacienteCorrel)
.head 6 -  !
.head 6 -  Return FALSE
.head 5 -  Set sSQL = "select
		A.PRIMER_NOM + ' ' +A.SEGUNDO_NOM + ' ' + A.PRIMER_APE  + ' ' + A.SEGUNDO_APE  		
    	from
		PACIENTES A
	where
		A.COD_PACIENTE  	=:dfPaciente  and
		A.CORREL_PACIENTE	=:dfPacienteCorrel
  	into
		:dfNombre"
.head 5 -  Call SqlExists(  sSQL, bExistsPacient)
.head 5 -  Call SqlClearImmediate( )
.head 5 +  If not bExistsPacient
.head 6 -  Call SalMessageBox( "Codigo invalido" , "Error", MB_Ok )
.head 6 -  Set dfPaciente=''
.head 6 -  Set dfPacienteCorrel = ''
.head 6 -  Call SalSetFocus(dfPaciente)
.head 6 -  Return FALSE
.head 5 -  !
.head 5 -  Return TRUE
.head 3 +  Function: ActualizarMedico
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Boolean: bExistsMedico
.head 4 +  Actions
.head 5 -  !
.head 5 +  If not SalIsNull (dfCodMedico)
.head 6 -  !
.head 6 -  Set sSQL = "SELECT 
    		M.NOMBRE,    		
    		E.NOMBRE    
	FROM
    		MEDICOS M,
    		ESPECIALIDAD E
	WHERE
    		M.COD_MEDICO = :dfCodMedico AND
    		E.COD_ESPECIALIDAD = M.COD_ESPECIALIDAD
	INTO 		
		:dfNombreMedico , 
		:dfEspecialidadMedico" 
.head 6 -  Call SqlExists(sSQL , bExistsMedico)
.head 6 -  Call SqlClearImmediate()
.head 6 +  If not bExistsMedico
.head 7 -  Call SalMessageBox("Medico no existe","ERROR",MB_Ok)
.head 7 -  Set dfCodMedico=NUMBER_Null
.head 7 -  Set dfNombreMedico=STRING_Null
.head 7 -  Set dfEspecialidadMedico=STRING_Null
.head 7 -  Return FALSE
.head 5 -  Return TRUE
.head 3 +  Function: DoInsert
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set dtFechaFrom= ccFechaFrom.GetSystemTime()
.head 5 -  ! Set dtFechaTo= ccFechaTo.GetSystemTime()
.head 5 +  ! If dtFechaTo < dtFechaFrom
.head 6 -  Call SalMessageBox( "La Fecha Desde debe  ser Mayor que la Fecha Hasta", "Mensaje", 0 )
.head 5 +  ! Else
.head 6 +  While dtFechaFrom <= dtFechaTo
.head 7 -  !
.head 7 -  !
.head 7 -  !
.head 7 -  Set sFechaTo = SalFmtFormatDateTime ( dtFechaFrom,'MM/dd/yyyy')
.head 7 -  Call SqlImmediate( "select DATEADD(dd,1,Convert(datetime,'"||sFechaTo||"')) into :dtFechaFrom" )
.head 7 -  Call SqlClearImmediate( )
.head 7 -  ! Break
.head 5 -  Set sFechaTo = SalFmtFormatDateTime ( dtFechaFrom,'MM/dd/yyyy')
.head 5 -  Call SqlImmediate( "select Convert(datetime,'"||sFechaTo||"') into :dtFechaFrom" )
.head 5 -  Call SqlClearImmediate( )
.head 5 -  Set sSQL = "INSERT INTO
		CITAS
			(
    				COD_CITA,
				FECHA,
				CODIGO_MEDICO,				    				
    				OBSERVACIONES,
    				COD_PACIENTE,
    				CORREL_PACIENTE,
				NOMBRE_TMP,    				
				CREADO_POR
			)
		VALUES
			(
				:dfCod_Cita,
				:dtFechaFrom,
				:dfCodMedico,				
				:mlObservaciones,
				:dfPaciente,
				:dfPacienteCorrel,
				:dfNombre,				
				:nUser
									
			)"
.head 5 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 3 +  Function: DoUpdate
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Date/Time: dtHoy
.head 5 -  Date/Time: dtFechaFromUpdate
.head 5 -  Date/Time: dtFechaToUpdate
.head 4 +  Actions
.head 5 -  !
.head 5 -  !
.head 5 +  If nEstado = 0
.head 6 -  !
.head 6 -  Call SalWaitCursor(TRUE)
.head 6 -  Set dtHoy = SalDateCurrent()
.head 6 -  Set dtFechaFrom= ccFechaFrom.GetSystemTime()
.head 6 -  Set sFechaTo = SalFmtFormatDateTime ( dtFechaFrom,'MM/dd/yyyy')
.head 6 -  Call SqlImmediate( "select Convert(datetime,'"||sFechaTo||"') into :dtFechaFrom" )
.head 6 -  Call SqlClearImmediate( )
.head 6 -  !
.head 6 -  !
.head 6 -  Call SqlPrepareAndExecute(hSql1,"UPDATE
				CITAS
			 SET
				FECHA                    			=	:dtFechaFrom,						
				CODIGO_MEDICO			=	:dfCodMedico,
				COD_PACIENTE              		=	:dfPaciente,
    				CORREL_PACIENTE           		=	:dfPacienteCorrel,    		
				NOMBRE_TMP			=	:dfNombre,    				
    				OBSERVACIONES             		=	:mlObservaciones,
				MODIFICADO_POR		=	:nUser,
				FECHA_MODIFICACION		=	:dtHoy
			WHERE
				COD_CITA			= 	:dfCod_Cita
				" ) 
.head 6 -  !
.head 6 -  !
.head 6 -  Call SalWaitCursor(FALSE)
.head 6 -  !
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 +  Else
.head 6 -  !
.head 6 -  !
.head 6 -  Call SalMessageBox ("La cita esta cerrada. No puede actualizarla.","MENSAJE",MB_Ok)
.head 3 +  Function: PrepareData
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 +  If dfPaciente = "TEMPCOD"
.head 6 -  !
.head 6 -  Set dfPacienteCorrel = '0'
.head 5 -  !
.head 5 -  Set dfFecha_Programada= ccFechaFrom.GetSystemTime()
.head 5 -  !
.head 5 -  ! -------Obtener el codigo del usuario que ha creado/modificado la orden
.head 5 -  Set sSQL = "select
		COD_USU
    	from
		USUARIOS
	where
		NOMBRE = :sNombreUsuario
  	into
		:nUser"
.head 5 -  Call SqlImmediate(  sSQL)
.head 5 -  Call SqlClearImmediate( )
.head 5 -  !
.head 5 -  Return TRUE
.head 5 -  ! Break
.head 3 +  Function: CargarDatosCita
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  Set sSQL = "SELECT
			O.ESTADO,
        			O.FECHA,
        			O.COD_PACIENTE,
        			O.CORREL_PACIENTE,
        			(CASE
                            			WHEN O.COD_PACIENTE = 'TEMPCOD' THEN O.NOMBRE_TMP
                            			ELSE P.PRIMER_NOM + ' ' + P.SEGUNDO_NOM + ' ' + P.PRIMER_APE  + ' ' + P.SEGUNDO_APE
                        		 END ),        			        			
        			O.CODIGO_MEDICO,
        			M.NOMBRE,    
			I.NOMBRE,    			        			        			
        			O.OBSERVACIONES,
			O.CREADO_POR,
			O.MODIFICADO_POR 
	FROM
        			CITAS    			O,        			
        			PACIENTES           		P,        						
        			MEDICOS          		M,     
			ESPECIALIDAD    		I
	WHERE
        			O.COD_CITA				= :dfCod_Cita        				AND        			
        			O.COD_PACIENTE + O.CORREL_PACIENTE 	*= P.COD_PACIENTE + P.CORREL_PACIENTE 	AND        				
        			O.CODIGO_MEDICO 			*= M.COD_MEDICO 			AND
        			M.COD_ESPECIALIDAD 			*= I.COD_ESPECIALIDAD			
	INTO
			:nEstado,
			:dfFecha_Programada,
			:dfPaciente,
			:dfPacienteCorrel,
			:dfNombre,			
			:dfCodMedico,
			:dfNombreMedico, 
			:dfEspecialidadMedico,
			:mlObservaciones, 
			:nCreadoPor,
			:nModificadoPor
			"
.head 5 -  Call SqlImmediate ( sSQL )
.head 5 -  Call SqlClearImmediate ()
.head 5 -  !
.head 5 -  Set sSQL = "SELECT
		U.NOMBRE
	FROM
		USUARIOS U
	WHERE
		
		U.COD_USU = :nCreadoPor
	INTO
		:dfCreadoPor"
.head 5 -  Call SqlImmediate ( sSQL )
.head 5 -  Call SqlClearImmediate ()
.head 5 -  !
.head 5 -  Set sSQL = "SELECT
		U.NOMBRE
	FROM
		USUARIOS U
	WHERE
		U.COD_USU = :nModificadoPor
	INTO
		:dfModificadoPor"
.head 5 -  Call SqlImmediate ( sSQL )
.head 5 -  Call SqlClearImmediate ()
.head 5 -  !
.head 5 +  Select Case nEstado
.head 6 +  Case 0
.head 7 -  Set dfEstado='EN PROCESO'
.head 7 -  Break
.head 6 +  Case 1
.head 7 -  Set dfEstado='CERRADA'
.head 7 -  Break
.head 6 +  Case 2
.head 7 -  Set dfEstado='ANULADA'
.head 7 -  Break
.head 5 -  ! --------Setear valores
.head 5 -  Call ccFechaFrom.SetSystemTime(GDT_VALID, dfFecha_Programada)
.head 5 -  !
.head 5 -  !
.head 5 -  Call SalWaitCursor(FALSE)
.head 3 +  Function: CitasdelDia
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  !
.head 5 -  ! Set dfDiaSeleccionado = ccMes.GetCurDateSelected()
.head 5 -  Call ccMes.GetSelRange(dfDiaFrom, dfDiaTo)
.head 5 -  !
.head 5 +  If dfDiaFrom != SalStrToDate("") and dfDiaTo !=SalStrToDate("")
.head 6 -  Set sSQL="Select
			O.COD_CITA,
			(CASE WHEN DATENAME(dw,CONVERT(VARCHAR(12), O.FECHA,101)) = 'Monday'  THEN 'Lunes'
			 ELSE 
			     CASE WHEN DATENAME(dw,CONVERT(VARCHAR(12), O.FECHA,101)) = 'Tuesday'  THEN 'Martes'
			      ELSE  
			               CASE WHEN DATENAME(dw,CONVERT(VARCHAR(12), O.FECHA,101)) = 'Wednesday'  THEN 'Miercoles'
			                  ELSE
			                        CASE WHEN DATENAME(dw,CONVERT(VARCHAR(12), O.FECHA,101)) = 'Thursday'  THEN 'Jueves'
			                        ELSE 
			                            CASE WHEN DATENAME(dw,CONVERT(VARCHAR(12), O.FECHA,101)) = 'Friday'  THEN 'Viernes'
			                            ELSE 
			                                CASE WHEN DATENAME(dw,CONVERT(VARCHAR(12), O.FECHA,101)) = 'Saturday'  THEN 'Sabado'
			                                ELSE 'Domingo'
			                            END	
			                        END
			                    END
			                END
			             END
			           END) as Dia,        
			O.COD_PACIENTE + '- ' + O.CORREL_PACIENTE,	
			(CASE
                            			WHEN O.COD_PACIENTE = 'TEMPCOD' THEN O.NOMBRE_TMP
                            			ELSE P.PRIMER_NOM +  ' ' + P.PRIMER_APE
                        		 END ) AS NOMBRE,				     			
			CONVERT(VARCHAR(12), O.FECHA,103),
        			O.OBSERVACIONES,
			M.NOMBRE AS MEDICO,
			O.ESTADO		
		from
			CITAS 		O,			
        			PACIENTES            P,
			MEDICOS	M
		where			
        			O.COD_PACIENTE 	= P.COD_PACIENTE   	AND
            			O.CORREL_PACIENTE 	= P.CORREL_PACIENTE 	AND
			O.CODIGO_MEDICO     	= M.COD_MEDICO	AND
			O.FECHA 		>= :dfDiaFrom AND
			O.FECHA 		<= :dfDiaTo
		order by O.FECHA 
				
		into
			:tblCitas.colCita,
			:tblCitas.colDia,
			:tblCitas.colCodigoPaciente,
			:tblCitas.colNombrePaciente,
			:tblCitas.colFecha,
			:tblCitas.colObs,
			:tblCitas.colMedico,
			:tblCitas.colEstado"

.head 6 -  Call SalTblPopulate( tblCitas, hSql1, sSQL, TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  !
.head 6 -  Call ColorearFilas()
.head 3 +  Function: MarcarMes
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nIndex
.head 5 -  Number: nDay
.head 5 -  String: sFechaCita
.head 5 -  Date/Time: dFechaCita
.head 5 -  Date/Time: dBegin
.head 5 -  Date/Time: dEnd
.head 5 -  Number: nBeginDay1
.head 5 -  Number: nEndDay1
.head 5 -  Number: nEndDay2
.head 5 -  Number: nEndDay3
.head 5 -  Date/Time: dEndDay1
.head 5 -  Date/Time: dEndDay2
.head 5 -  Date/Time: dEndDay3
.head 5 -  Number: nDayState[*,32]
.head 4 +  Actions
.head 5 -  !
.head 5 -  !
.head 5 +  If not (GetWindowLongA( ccMes.hWndCalendar, GWL_STYLE ) & MCS_DAYSTATE)
.head 6 -  Call SalMessageBox( 'The DAYSTATE style must be set !', 'Information', MB_Ok | MB_IconExclamation )
.head 5 -  !
.head 5 -  Call ccMes.GetMonthRange(GMR_DAYSTATE,dBegin, dEnd)
.head 5 -  Set dEndDay1 = SalDateMonthBegin(SalDateConstruct(  SalDateYear( dBegin ),  SalDateMonth( dBegin ) + 1, 1, 0, 0, 0 )) - 1
.head 5 -  Set dEndDay2 = SalDateMonthBegin(SalDateConstruct(  SalDateYear( dEnd ),  SalDateMonth( dEnd ), SalDateDay( dEnd ), 0, 0, 0 )) - 1
.head 5 -  Set dEndDay3 = dEnd
.head 5 -  !
.head 5 -  Set nBeginDay1 = SalDateDay( dBegin )
.head 5 -  Set nEndDay1 = SalDateDay(SalDateMonthBegin(SalDateConstruct(  SalDateYear( dBegin ),  SalDateMonth( dBegin ) + 1, 1, 0, 0, 0 )) - 1)
.head 5 -  Set nEndDay2 = SalDateDay(SalDateMonthBegin(SalDateConstruct(  SalDateYear( dEnd ),  SalDateMonth( dEnd ), SalDateDay( dEnd ), 0, 0, 0 )) - 1)
.head 5 -  Set nEndDay3 = SalDateDay( dEnd )
.head 5 -  !
.head 5 -  ! Inicializar la matriz de estado en su primer fila (1 mes)
.head 5 -  Set nIndex = nBeginDay1
.head 5 +  While nIndex <= nEndDay1
.head 6 -  Set nDayState[0, nIndex] = 0
.head 6 -  Set nIndex = nIndex + 1
.head 5 -  !
.head 5 -  ! Inicializar la matriz de estado en su segunda fila (2 mes)
.head 5 -  Set nIndex = 1
.head 5 +  While nIndex <= nEndDay2
.head 6 -  Set nDayState[1, nIndex] = 0
.head 6 -  Set nIndex = nIndex + 1
.head 5 -  !
.head 5 -  ! Inicializar la matriz de estado en su tercer fila (3 mes)
.head 5 -  Set nIndex = 1
.head 5 +  While nIndex <= nEndDay3
.head 6 -  Set nDayState[2, nIndex] = 0
.head 6 -  Set nIndex = nIndex + 1
.head 5 -  !
.head 5 -  ! Encontrar las fechas a seleccionar
.head 5 -  Call SqlPrepareAndExecute( hSql1, "
					SELECT 
						DISTINCT FECHA
					FROM
						CITAS
					WHERE
						FECHA BETWEEN :dBegin AND :dEnd
					INTO
						:dFechaCita	
" )
.head 5 +  While SqlFetchNext( hSql1, nSiguiente)
.head 6 -  !
.head 6 +  If dFechaCita <= dEndDay1
.head 7 -  !
.head 7 -  Set nIndex = 0
.head 6 +  Else If dFechaCita <= dEndDay2
.head 7 -  !
.head 7 -  Set nIndex = 1
.head 6 +  Else
.head 7 -  !
.head 7 -  Set nIndex = 2
.head 6 -  !
.head 6 -  Set nDay = SalDateDay(dFechaCita)
.head 6 -  Set nDayState[nIndex, nDay] = 1
.head 6 -  !
.head 6 -  ! Set sFechaCita = SalFmtFormatDateTime ( dFechaCita, 'dd/MM/yyyy' )
.head 6 -  ! Call SalMessageBox( 'DAY' || sFechaCita, 'Information', MB_Ok | MB_IconExclamation )
.head 5 -  !
.head 5 -  Call ccMes.SetDayState(nDayState)
.head 5 -  ! Call ccMes.SetColor(nDayState,10)
.head 3 +  Function: AnularCita
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Boolean: bExisteCita
.head 5 -  Number: nEstadoCita
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set sSQL = "select
		A.ESTADO
    	from
		CITAS  A
	where
		A.COD_CITA  =:dfCod_Cita
  	into
		:nEstadoCita "
.head 5 -  Call SqlExists( sSQL,bExisteCita)
.head 5 -  Call SqlClearImmediate( )
.head 5 +  If not bExisteCita
.head 6 -  Call SalMessageBox( "La Cita no existe" , "Error", MB_Ok )
.head 5 +  Else
.head 6 +  Select Case nEstadoCita
.head 7 +  Case 0
.head 8 -  Call SalMessageBox( "La Cita no se puede Anular, esta en PROCESO", "Error", MB_Ok )
.head 8 -  Break
.head 8 -  !
.head 7 +  Case 1
.head 8 +  If SalMessageBox( "Esta seguro de anular la Cita?", "Advertencia", MB_YesNo )=IDYES
.head 9 -  !
.head 9 -  Set sSQL = "update
		CITAS
                 set
		ESTADO	=2
	where
		COD_CITA  = :dfCod_Cita"
.head 9 -  Call SqlPrepareAndExecute( hSql1,  sSQL)
.head 9 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 9 -  Call SalMessageBox ("La Cita ha sido ANULADA","MENSAJE",MB_Ok)
.head 8 -  Break
.head 8 -  !
.head 7 +  Case 2
.head 8 -  Call SalMessageBox( "La Cita ya fue anulada", "Error", MB_Ok )
.head 8 -  Break
.head 8 -  !
.head 3 +  Function: ColorearFilas
.head 4 -  Description: Verifica si existe al menos 1 fila en una CHILD TABLE
.head 4 +  Returns
.head 5 -  Number:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nFila
.head 4 +  Actions
.head 5 -  Call SalTblSetContext(tblCitas,0)
.head 5 -  Set nFila=-1
.head 5 +  While SalTblFindNextRow(tblCitas,nFila,0,0)
.head 6 -  Call SalTblSetContext(tblCitas,nFila)
.head 6 +  If tblCitas.colEstado = 1
.head 7 -  Call MTblSetRowBackColor( tblCitas, nFila, COLOR_Yellow, MTSC_REDRAW )
.head 6 +  Else If tblCitas.colEstado = 2
.head 7 -  !
.head 7 -  Call MTblSetRowBackColor( tblCitas, nFila, COLOR_Red, MTSC_REDRAW )
.head 5 -  Call SalTblSetContext(tblCitas,0)
.head 5 -  Return nFila+1
.head 3 +  Function: CerrarCita
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Boolean: bExisteCita
.head 5 -  Number: nEstadoCita
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set sSQL = "select
		A.ESTADO
    	from
		CITAS  A
	where
		A.COD_CITA  =:dfCod_Cita
  	into
		:nEstadoCita "
.head 5 -  Call SqlExists( sSQL,bExisteCita)
.head 5 -  Call SqlClearImmediate( )
.head 5 +  If not bExisteCita
.head 6 -  Call SalMessageBox( "La cita no existe" , "Error", MB_Ok )
.head 5 +  Else
.head 6 +  Select Case nEstadoCita
.head 7 +  Case 0
.head 8 -  !
.head 8 +  If SalMessageBox( "Esta seguro de Cerrar la Cita?", "Advertencia", MB_YesNo )=IDYES
.head 9 -  !
.head 9 -  Set sSQL = "update
		CITAS
                 set
		ESTADO	=1
	where
		COD_CITA  = :dfCod_Cita"
.head 9 -  Call SqlPrepareAndExecute( hSql1,  sSQL)
.head 9 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 9 -  Call SalMessageBox ("La Cita ha sido CERRADA","MENSAJE",MB_Ok)
.head 8 -  !
.head 8 -  Break
.head 7 +  Case 1
.head 8 -  Call SalMessageBox( "La Cita ya fue  cerrada ", "Error", MB_Ok )
.head 8 -  Break
.head 7 +  ! Case 2
.head 8 -  Call SalMessageBox( "La Factura esta Anulada, no puede cerrarse", "Error", MB_Ok )
.head 8 -  Break
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: sSQL
.head 3 -  Boolean: bExistsCita
.head 3 -  String: sRegresaPac
.head 3 -  String: sRegresaCor
.head 3 -  String: sFecha
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 3 -  Number: nRegresaMed
.head 3 -  Boolean: bNuevaCita
.head 3 -  Number: nEstado
.head 3 -  Number: nUser
.head 3 -  Number: nCreadoPor
.head 3 -  Number: nModificadoPor
.head 3 -  Date/Time: dtHora_Programada
.head 3 -  !
.head 3 -  Number: nCalendarStyle
.head 3 -  Number: nCalendarStyleOrigin
.head 3 -  Number: nSelectedStyle
.head 3 -  Number: nSelectedStyle2
.head 3 -  !
.head 3 -  Number: nPrueba
.head 3 -  String: sDateClick
.head 3 -  Number: nCont
.head 3 -  Date/Time: dtFechaFrom
.head 3 -  Date/Time: dtFechaTo
.head 3 -  String: sFechaTo
.head 3 -  Number: nCitaMultiple
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalCenterWindow(frmControlCitas)
.head 4 -  Set bNuevaCita=FALSE
.head 4 -  Set nCalendarStyleOrigin = GetWindowLongA( ccMes.hWndCalendar, GWL_STYLE )
.head 4 -  Set nCalendarStyle = nCalendarStyleOrigin
.head 4 -  Set nSelectedStyle = StringToNumber('MCS_DAYSTATE')
.head 4 -  Set nSelectedStyle2 = StringToNumber('MCS_MULTISELECT')
.head 4 +  If not ( nCalendarStyle & nSelectedStyle)
.head 5 -  Set nCalendarStyle = nCalendarStyle + nSelectedStyle + nSelectedStyle2
.head 4 -  Call SalDestroyWindow( ccMes.hWndCalendar )
.head 4 -  Call ccMes.CreateCalendar(nCalendarStyle)
.head 4 -  ! Call SalDestroyWindow( ccMes.hWndCalendar )
.head 4 -  ! Call ccMes.CreateCalendar(1350565891)
.head 4 -  !
.head 4 -  Call CitasdelDia()
.head 4 -  !
.head 4 -  Call MarcarMes()
.head 3 +  On SAM_Destroy
.head 4 -  !
.head 4 +  If bNuevaCita
.head 5 -  !
.head 5 -  Set sSQL = "   SELECT
			*
		FROM
			CITAS
		WHERE
			COD_CITA   =   :dfCod_Cita"
.head 5 -  Call SqlExists (sSQL, bExistsCita)
.head 5 -  Call SqlClearImmediate()
.head 5 +  If not bExistsCita
.head 6 -  !
.head 6 -  Set sSQL = 'DELETE FROM
		 IDENTITYS 
	WHERE 
		cod_tabla = 708 AND
		MAXIMO = :dfCod_Cita'
.head 6 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  !
.head 1 +  Dialog Box: dlgConsultaCitas
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Consulta Avanzada de Citas
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modeless
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  10.317"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 4.238"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Frame
.head 4 -  Resource Id: 17423
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.155"
.head 5 -  Width:  9.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Raised-Shadow
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: 3D Shadow Color
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbImprimir
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.667"
.head 5 -  Top:    2.631"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  ! On SAM_Click
.head 6 -  !
.head 6 +  If not SalIsNull(dfOrden)
.head 7 -  ! Set sConsulta = sConsulta || " AND O.CODIGO = :dfOrden"
.head 7 -  Set params[0] = '1'
.head 7 -  Set params[1] = SalNumberToStrX(dfOrden,0)
.head 6 +  Else 
.head 7 -  Set params[0] = '0'
.head 6 +  If not SalIsNull(cmbUsuariosOS)
.head 7 -  ! Set sConsulta = sConsulta || " AND O.AUTORIZADO_POR = :cmbUsuariosOS.nCodigo"
.head 7 -  Set params[2] = '1'
.head 7 -  Set params[3] = SalNumberToStrX(cmbUsuariosOS.nCodigo,0)
.head 6 +  Else 
.head 7 -  Set params[2] = '0'
.head 6 +  If not SalIsNull(cmbCiudades)
.head 7 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_CIUDAD_GEO = :cmbCiudades.nCodigo"
.head 7 -  Set params[4] = '1'
.head 7 -  Set params[5] = SalNumberToStrX(cmbCiudades.nCodigo,0)
.head 6 +  Else 
.head 7 -  Set params[4] = '0'
.head 6 +  If not SalIsNull(cmbEspecialidad)
.head 7 -  !
.head 7 -  ! Set sConsulta = sConsulta || " AND M.COD_ESPECIALIDAD = :cmbEspecialidad.nCodigo"
.head 7 -  Set params[6] = '1'
.head 7 -  Set params[7] = SalNumberToStrX(cmbEspecialidad.nCodigo,0)
.head 6 +  Else 
.head 7 -  Set params[6] = '0'
.head 6 +  If not SalIsNull(cmbMedicosOS)
.head 7 -  ! -------Obtener el codigo medico
.head 7 -  Set sSQL = "select
		COD_MEDICO
    	from
		MEDICOS
	where
		NOMBRE = :cmbMedicosOS
  	into
		:nMedico"
.head 7 -  Call SqlImmediate(  sSQL)
.head 7 -  Call SqlClearImmediate( )
.head 7 -  !
.head 7 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_MEDICO = :nMedico"
.head 7 -  Set params[8] = '1'
.head 7 -  Set params[9] = SalNumberToStrX(nMedico,0)
.head 6 +  Else 
.head 7 -  Set params[8] = '0'
.head 6 +  If not SalIsNull(cmbCategServiciosOS)
.head 7 -  !
.head 7 -  ! Set sConsulta = sConsulta || " AND O.COD_CATEGORIA = :cmbCategServiciosOS.sCodigos"
.head 7 -  Set params[10] = '1'
.head 7 -  Set params[11] = cmbCategServiciosOS.sCodigos
.head 6 +  Else 
.head 7 -  Set params[10] = '0'
.head 6 +  If not SalIsNull(cmbServicios)
.head 7 -  !
.head 7 -  ! -------Obtener el codigo del servicio
.head 7 -  Set sSQL = "select
		COD_SERVICIO
    	from
		SERVICIOS
	where
		COD_CATEGORIA = :cmbCategServiciosOS.sCodigos AND
		EN_USO = 1 AND
		NOMBRE = :cmbServicios 
  	into
		:sServicio"
.head 7 -  Call SqlImmediate(  sSQL)
.head 7 -  Call SqlClearImmediate( )
.head 7 -  !
.head 7 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_SERVICIO = :sServicio"
.head 7 -  Set params[12] = '1'
.head 7 -  Set params[13] = sServicio
.head 6 +  Else 
.head 7 -  Set params[12] = '0'
.head 6 +  If not SalIsNull(dfPaciente)
.head 7 -  ! Set sConsulta = sConsulta || " AND O.COD_PACIENTE = :dfPaciente"
.head 7 -  Set params[14] = '1'
.head 7 -  Set params[15] = dfPaciente
.head 6 +  Else 
.head 7 -  Set params[14] = '0'
.head 6 +  If not SalIsNull(dfPacienteCorrel)
.head 7 -  ! Set sConsulta = sConsulta || " AND O.CORREL_PACIENTE = :dfPacienteCorrel"
.head 7 -  Set params[16] = '1'
.head 7 -  Set params[17] = dfPacienteCorrel
.head 6 +  Else 
.head 7 -  Set params[16] = '0'
.head 6 +  If not SalIsNull(dfNombre)
.head 7 -  ! Set sConsulta=sConsulta || "	AND	P.PRIMER_NOM   like '%" || dfNombre || "%' "
.head 7 -  Set params[18] = '1'
.head 7 -  Set params[19] = dfNombre
.head 6 +  Else 
.head 7 -  Set params[18] = '0'
.head 6 +  If not SalIsNull(dfApellido)
.head 7 -  ! Set sConsulta=sConsulta || "	AND	P.PRIMER_APE   like '%" || dfApellido || "%' "
.head 7 -  Set params[20] = '1'
.head 7 -  Set params[21] = dfApellido
.head 6 +  Else 
.head 7 -  Set params[20] = '0'
.head 6 +  If not SalIsNull(cmbEmpresa)
.head 7 -  ! Set sConsulta=sConsulta || "	AND	P.COD_EMPRESA = :cmbEmpresa.nCodigo "
.head 7 -  Set params[22] = '1'
.head 7 -  Set params[23] = SalNumberToStrX(cmbEmpresa.nCodigo,0)
.head 6 +  Else 
.head 7 -  Set params[22] = '0'
.head 6 +  If SalIsButtonChecked(cbFechaDesde)
.head 7 -  !
.head 7 -  Set dfFechaDesde = ccFechaDesde.GetSystemTime()
.head 7 -  ! Set sConsulta=sConsulta || "	AND	O.FECHA >= :dfFechaDesde "

.head 7 -  Set params[24] = '1'
.head 7 -  Set params[25] = SalFmtFormatDateTime ( dfFechaDesde, 'dd/MM/yyyy' )
.head 6 +  Else 
.head 7 -  Set params[24] = '0'
.head 6 +  If SalIsButtonChecked(cbFechaHasta)
.head 7 -  !
.head 7 -  Set dfFechaHasta = ccFechaHasta.GetSystemTime()
.head 7 -  ! Set sConsulta=sConsulta || "	AND O.FECHA <=  :dfFechaHasta "
.head 7 -  Set params[26] = '1'
.head 7 -  Set params[27] = SalFmtFormatDateTime ( dfFechaHasta, 'dd/MM/yyyy' )
.head 6 +  Else 
.head 7 -  Set params[26] = '0'
.head 6 +  If not SalIsNull(cmbDepto)
.head 7 -  ! Set sConsulta=sConsulta || "	AND	P.CODIGO_DEPTO = :cmbDepto.nCodigo "
.head 7 -  Set params[28] = '1'
.head 7 -  Set params[29] = SalNumberToStrX(cmbDepto.nCodigo ,0)
.head 6 +  Else 
.head 7 -  Set params[28] = '0'
.head 7 -  Set params[29] = SalNumberToStrX(cmbDepto.nCodigo ,0)
.head 6 -  !
.head 6 -  Set strRepTitle = " Reporte Estadistico - Ordenes de Servicio"
.head 6 -  !
.head 6 +  If SqlDatabase = 'hBetesda'
.head 7 -  !
.head 7 -  Set strReportName = strRepPath||"\\OSEstadisticoS.rpt"
.head 6 +  Else 
.head 7 -  !
.head 7 -  Set strReportName = strRepPath||"\\OSEstadisticoC.rpt"
.head 6 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 3 -  Background Text: Medico/Destino
.head 4 -  Resource Id: 17424
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.583"
.head 5 -  Top:    1.024"
.head 5 -  Width:  1.367"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Especialidad
.head 4 -  Resource Id: 17425
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.85"
.head 5 -  Top:    0.798"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Criterios de Busqueda
.head 4 -  Resource Id: 17426
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    0.155"
.head 5 -  Width:  9.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Nombre
.head 4 -  Resource Id: 17427
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.883"
.head 5 -  Top:    1.119"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Codigo
.head 4 -  Resource Id: 17428
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.883"
.head 5 -  Top:    0.81"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfPaciente
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.783"
.head 6 -  Top:    0.762"
.head 6 -  Width:  1.867"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.31"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_KillFocus
.head 6 -  !
.head 6 +  If dfPaciente = "TEMPCOD"
.head 7 -  !
.head 7 -  Set dfPacienteCorrel = '0'
.head 3 +  Data Field: dfPacienteCorrel
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.65"
.head 6 -  Top:    0.762"
.head 6 -  Width:  0.533"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.31"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfNombre
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.783"
.head 6 -  Top:    1.071"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfApellido
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.783"
.head 6 -  Top:    1.345"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  ! cmbBaseCodigo: cmbEmpresa
.winattr class Combo Box:
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.783"
.head 5 -  Top:    1.619"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.048"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.end
.head 4 -  List Initialization 
.head 4 +  Message Actions 
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 3 +  Combo Box: cmbEmpresa
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigoFiltrado
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.783"
.head 5 -  Top:    1.655"
.head 5 -  Width:  2.5"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.512"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 6 -  Set cmbEmpresa.sNombreFiltro='ESTADO'
.head 6 -  Set cmbEmpresa.nValorFiltro=1
.head 3 -  Background Text: Apellido
.head 4 -  Resource Id: 17429
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    1.369"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Fecha
.head 4 -  Resource Id: 17430
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.483"
.head 5 -  Top:    1.488"
.head 5 -  Width:  5.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Datos Medicos
.head 4 -  Resource Id: 17431
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.483"
.head 5 -  Top:    0.488"
.head 5 -  Width:  5.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.917"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Datos de Emision
.head 4 -  Resource Id: 17432
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.483"
.head 5 -  Top:    2.738"
.head 5 -  Width:  4.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.583"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Empresa
.head 4 -  Resource Id: 17433
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    1.643"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.783"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Group Box: Datos del Paciente
.head 4 -  Resource Id: 17434
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.717"
.head 5 -  Top:    0.488"
.head 5 -  Width:  3.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.983"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Combo Box: cmbEspecialidad
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.05"
.head 5 -  Top:    0.702"
.head 5 -  Width:  3.333"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEspecialidad.nCaso = 1
.head 6 -  Set cmbEspecialidad.sTabla = 'ESPECIALIDAD'
.head 6 -  Set cmbEspecialidad.sNombre='NOMBRE'
.head 6 -  Set cmbEspecialidad.sCodigo='COD_ESPECIALIDAD'
.head 5 +  On SAM_Validate
.head 6 -  Set sSQL = "
			SELECT
				NOMBRE
			FROM
				MEDICOS
			WHERE
				COD_ESPECIALIDAD = :cmbEspecialidad.nCodigo
			ORDER BY
				NOMBRE"
.head 6 -  Call SalListClear(cmbMedicosOS)
.head 6 -  Call SalListPopulate(cmbMedicosOS, hSql1, sSQL)
.head 6 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 3 +  Combo Box: cmbMedicosOS
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatComboBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.05"
.head 5 -  Top:    0.988"
.head 5 -  Width:  3.333"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_DropDown
.head 6 -  !
.head 6 +  If not SalIsNull(cmbEspecialidad)
.head 7 -  !
.head 7 -  Set sMedico = cmbMedicosOS
.head 7 -  Set sSQL = "
			SELECT
				NOMBRE
			FROM
				MEDICOS
			WHERE
				COD_ESPECIALIDAD = :cmbEspecialidad.nCodigo
			ORDER BY
				NOMBRE"
.head 7 -  ! Call SalListClear(cmbMedicosOS)
.head 7 -  Call SalListPopulate(cmbMedicosOS, hSql1, sSQL)
.head 7 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 7 -  !
.head 7 -  Call SalListSelectString( hWndItem, -1,sMedico)
.head 3 +  Check Box: cbFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Desde
.head 4 -  Window Location and Size
.head 5 -  Left: 4.55"
.head 5 -  Top:    1.738"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cbFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Hasta
.head 4 -  Window Location and Size
.head 5 -  Left: 4.55"
.head 5 -  Top:    2.179"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Custom Control: ccFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 5.483"
.head 6 -  Top:    1.738"
.head 6 -  Width:  3.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Custom Control: ccFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 5.483"
.head 6 -  Top:    2.179"
.head 6 -  Width:  3.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb3
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.667"
.head 5 -  Top:    2.048"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F3
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalWaitCursor( TRUE )
.head 6 -  !
.head 6 -  Set sSQL = ConstructQuery()
.head 6 -  Call SalTblPopulate( frmControlCitas.tblCitas, hSql1, sSQL, TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  !
.head 6 -  Call frmControlCitas.ColorearFilas()
.head 6 -  !
.head 6 -  Call SalWaitCursor( FALSE )
.head 3 -  Background Text: Palabra Clave
.head 4 -  Resource Id: 17435
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.583"
.head 5 -  Top:    3.012"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfClave
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.783"
.head 6 -  Top:    2.988"
.head 6 -  Width:  3.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 2 +  Functions
.head 3 +  Function: ConstructQuery
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sConsulta
.head 4 +  Actions
.head 5 -  Set sConsulta="Select
			O.COD_CITA,
			(CASE WHEN DATENAME(dw,CONVERT(VARCHAR(12), O.FECHA,101)) = 'Monday'  THEN 'Lunes'
			 ELSE 
			     CASE WHEN DATENAME(dw,CONVERT(VARCHAR(12), O.FECHA,101)) = 'Tuesday'  THEN 'Martes'
			      ELSE  
			               CASE WHEN DATENAME(dw,CONVERT(VARCHAR(12), O.FECHA,101)) = 'Wednesday'  THEN 'Miercoles'
			                  ELSE
			                        CASE WHEN DATENAME(dw,CONVERT(VARCHAR(12), O.FECHA,101)) = 'Thursday'  THEN 'Jueves'
			                        ELSE 
			                            CASE WHEN DATENAME(dw,CONVERT(VARCHAR(12), O.FECHA,101)) = 'Friday'  THEN 'Viernes'
			                            ELSE 
			                                CASE WHEN DATENAME(dw,CONVERT(VARCHAR(12), O.FECHA,101)) = 'Saturday'  THEN 'Sabado'
			                                ELSE 'Domingo'
			                            END	
			                        END
			                    END
			                END
			             END
			           END) as Dia,        
			O.COD_PACIENTE + '- ' + O.CORREL_PACIENTE,        		
			(CASE
                            			WHEN O.COD_PACIENTE = 'TEMPCOD' THEN O.NOMBRE_TMP
                            			ELSE P.PRIMER_NOM +  ' ' + P.PRIMER_APE
                        		 END ) AS NOMBRE,				     			
			CONVERT(VARCHAR(12), O.FECHA,103),
        			O.OBSERVACIONES,
			M.NOMBRE AS MEDICO,
			O.ESTADO		
		from
			CITAS 		O,			
        			PACIENTES            P,
			MEDICOS	M
		where			
        			O.COD_PACIENTE 	= P.COD_PACIENTE   	AND
            			O.CORREL_PACIENTE 	= P.CORREL_PACIENTE 	AND
			O.CODIGO_MEDICO     	= M.COD_MEDICO						
		into
			:frmControlCitas.tblCitas.colCita,
			:frmControlCitas.tblCitas.colDia,
			:frmControlCitas.tblCitas.colCodigoPaciente,
			:frmControlCitas.tblCitas.colNombrePaciente,
			:frmControlCitas.tblCitas.colFecha,
			:frmControlCitas.tblCitas.colObs,
			:frmControlCitas.tblCitas.colMedico,
			:frmControlCitas.tblCitas.colEstado"

.head 5 +  ! If dfDescripcion!=''
.head 6 -  Set sConsulta=sConsulta||"	AND	A.DESCRIPCION  like '%"||dlgConsultaFacturas.dfDescripcion||"%'"
.head 5 +  If not SalIsNull(cmbEspecialidad)
.head 6 -  !
.head 6 -  Set sConsulta = sConsulta || " AND M.COD_ESPECIALIDAD = :cmbEspecialidad.nCodigo"
.head 5 +  If not SalIsNull(cmbMedicosOS)
.head 6 -  ! -------Obtener el codigo medico
.head 6 -  Set sSQL = "select
		COD_MEDICO
    	from
		MEDICOS
	where
		NOMBRE = :cmbMedicosOS
  	into
		:nMedico"
.head 6 -  Call SqlImmediate(  sSQL)
.head 6 -  Call SqlClearImmediate( )
.head 6 -  !
.head 6 -  Set sConsulta = sConsulta || " AND O.CODIGO_MEDICO = :nMedico"
.head 5 +  If not SalIsNull(dfPaciente)
.head 6 -  Set sConsulta = sConsulta || " AND O.COD_PACIENTE = :dfPaciente"
.head 5 +  If not SalIsNull(dfPacienteCorrel)
.head 6 -  Set sConsulta = sConsulta || " AND O.CORREL_PACIENTE = :dfPacienteCorrel"
.head 5 +  If not SalIsNull(dfNombre)
.head 6 -  Set sConsulta=sConsulta || "	AND	P.PRIMER_NOM   like '%" || dfNombre || "%' "
.head 5 +  If not SalIsNull(dfApellido)
.head 6 -  Set sConsulta=sConsulta || "	AND	P.PRIMER_APE   like '%" || dfApellido || "%' "
.head 5 +  If not SalIsNull(cmbEmpresa)
.head 6 -  Set sConsulta=sConsulta || "	AND	P.COD_EMPRESA = :cmbEmpresa.nCodigo "
.head 5 +  If SalIsButtonChecked(cbFechaDesde)
.head 6 -  !
.head 6 -  Set dfFechaDesde = ccFechaDesde.GetSystemTime()
.head 6 -  Set sConsulta=sConsulta || "	AND	O.FECHA >= :dfFechaDesde "

.head 5 +  If SalIsButtonChecked(cbFechaHasta)
.head 6 -  !
.head 6 -  Set dfFechaHasta = ccFechaHasta.GetSystemTime()
.head 6 -  Set sConsulta=sConsulta || "	AND O.FECHA <=  :dfFechaHasta "
.head 5 +  If not SalIsNull(dfClave)
.head 6 -  Set sConsulta = sConsulta || " AND O.OBSERVACIONES like '%" || dfClave || "%' "
.head 5 -  Set sConsulta=sConsulta||"	order	by	NOMBRE"
.head 5 -  Return sConsulta
.head 3 +  Function: ResetControls
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Window Handle: hWndChild
.head 5 -  Number: nHwndChild
.head 5 -  Number: nType
.head 4 +  Actions
.head 5 -  Set hWndChild = SalGetFirstChild( hWndForm, TYPE_Any )
.head 5 +  While hWndChild != hWndNULL
.head 6 -  Set nHwndChild = SalWindowHandleToNumber( hWndChild )
.head 6 -  Set nType = SalGetType( hWndChild )
.head 6 +  If nType = TYPE_ChildTable
.head 7 -  Call SalTblReset( hWndChild )
.head 6 +  Else If nType = TYPE_DataField or nType = TYPE_MultilineText or nType = TYPE_CheckBox or nType = TYPE_ComboBox
.head 7 -  Call SalClearField( hWndChild )
.head 6 -  Set hWndChild = SalGetNextChild( hWndChild, TYPE_Any )
.head 5 -  !
.head 5 -  !
.head 3 +  ! Function: ConstructParams
.head 4 -  Description: 
.head 4 -  Returns 
.head 4 -  Parameters 
.head 4 -  Static Variables 
.head 4 -  Local variables 
.head 4 +  Actions 
.head 5 -  !
.head 5 +  If not SalIsNull(dfOrden)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CODIGO = :dfOrden"
.head 6 -  Set params[0] = SalNumberToStrX(dfOrden,0)
.head 5 +  Else 
.head 6 -  Set params[0] = STRING_Null
.head 5 +  If not SalIsNull(cmbUsuariosOS)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.AUTORIZADO_POR = :cmbUsuariosOS.nCodigo"
.head 6 -  Set params[1] = SalNumberToStrX(cmbUsuariosOS.nCodigo,0)
.head 5 +  Else 
.head 6 -  Set params[1] = STRING_Null
.head 5 +  If not SalIsNull(cmbCiudades)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_CIUDAD_GEO = :cmbCiudades.nCodigo"
.head 6 -  Set params[2] = SalNumberToStrX(cmbCiudades.nCodigo,0)
.head 5 +  Else 
.head 6 -  Set params[2] = STRING_Null
.head 5 +  If not SalIsNull(cmbEspecialidad)
.head 6 -  !
.head 6 -  ! Set sConsulta = sConsulta || " AND M.COD_ESPECIALIDAD = :cmbEspecialidad.nCodigo"
.head 6 -  Set params[3] = SalNumberToStrX(cmbEspecialidad.nCodigo,0)
.head 5 +  Else 
.head 6 -  Set params[3] = STRING_Null
.head 5 +  If not SalIsNull(cmbMedicosOS)
.head 6 -  ! -------Obtener el codigo medico
.head 6 -  Set sSQL = "select
		COD_MEDICO
    	from
		MEDICOS
	where
		NOMBRE = :cmbMedicosOS
  	into
		:nMedico"
.head 6 -  Call SqlImmediate(  sSQL)
.head 6 -  Call SqlClearImmediate( )
.head 6 -  !
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_MEDICO = :nMedico"
.head 6 -  Set params[4] = SalNumberToStrX(nMedico,0)
.head 5 +  Else 
.head 6 -  Set params[4] = STRING_Null
.head 5 +  If not SalIsNull(cmbCategServiciosOS)
.head 6 -  !
.head 6 -  ! Set sConsulta = sConsulta || " AND O.COD_CATEGORIA = :cmbCategServiciosOS.sCodigos"
.head 6 -  Set params[5] = cmbCategServiciosOS.sCodigos
.head 5 +  Else 
.head 6 -  Set params[5] = STRING_Null
.head 5 +  If not SalIsNull(cmbServicios)
.head 6 -  !
.head 6 -  ! -------Obtener el codigo del servicio
.head 6 -  Set sSQL = "select
		COD_SERVICIO
    	from
		SERVICIOS
	where
		COD_CATEGORIA = :cmbCategServiciosOS.sCodigos AND
		EN_USO = 1 AND
		NOMBRE = :cmbServicios 
  	into
		:sServicio"
.head 6 -  Call SqlImmediate(  sSQL)
.head 6 -  Call SqlClearImmediate( )
.head 6 -  !
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_SERVICIO = :sServicio"
.head 6 -  Set params[6] = sServicio
.head 5 +  Else 
.head 6 -  Set params[6] = STRING_Null
.head 5 +  If not SalIsNull(dfPaciente)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.COD_PACIENTE = :dfPaciente"
.head 6 -  Set params[7] = dfPaciente
.head 5 +  Else 
.head 6 -  Set params[7] = STRING_Null
.head 5 +  If not SalIsNull(dfPacienteCorrel)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CORREL_PACIENTE = :dfPacienteCorrel"
.head 6 -  Set params[8] = dfPacienteCorrel
.head 5 +  Else 
.head 6 -  Set params[8] = STRING_Null
.head 5 +  If not SalIsNull(dfNombre)
.head 6 -  ! Set sConsulta=sConsulta || "	AND	P.PRIMER_NOM   like '%" || dfNombre || "%' "
.head 6 -  Set params[9] = dfNombre
.head 5 +  Else 
.head 6 -  Set params[9] = STRING_Null
.head 5 +  If not SalIsNull(dfApellido)
.head 6 -  ! Set sConsulta=sConsulta || "	AND	P.PRIMER_APE   like '%" || dfApellido || "%' "
.head 6 -  Set params[10] = dfApellido
.head 5 +  Else 
.head 6 -  Set params[10] = STRING_Null
.head 5 +  If not SalIsNull(cmbEmpresa)
.head 6 -  ! Set sConsulta=sConsulta || "	AND	P.COD_EMPRESA = :cmbEmpresa.nCodigo "
.head 6 -  Set params[11] = SalNumberToStrX(cmbEmpresa.nCodigo,0)
.head 5 +  Else 
.head 6 -  Set params[11] = STRING_Null
.head 5 +  If not SalIsNull(cmbDepto)
.head 6 -  ! Set sConsulta=sConsulta || "	AND	P.CODIGO_DEPTO = :cmbDepto.nCodigo "
.head 6 -  Set params[12] = SalNumberToStrX(cmbDepto.nCodigo ,0)
.head 5 +  Else 
.head 6 -  Set params[12] = STRING_Null
.head 5 +  If SalIsButtonChecked(cbFechaDesde)
.head 6 -  !
.head 6 -  Set dfFechaDesde = ccFechaDesde.GetSystemTime()
.head 6 -  ! Set sConsulta=sConsulta || "	AND	O.FECHA >= :dfFechaDesde "

.head 6 -  Set params[13] = SalFmtFormatDateTime ( dfFechaDesde, 'dd/MM/yyyy' )
.head 5 +  Else 
.head 6 -  Set params[13] = STRING_Null
.head 5 +  If SalIsButtonChecked(cbFechaHasta)
.head 6 -  !
.head 6 -  Set dfFechaHasta = ccFechaHasta.GetSystemTime()
.head 6 -  ! Set sConsulta=sConsulta || "	AND O.FECHA <=  :dfFechaHasta "
.head 6 -  Set params[14] = SalFmtFormatDateTime ( dfFechaHasta, 'dd/MM/yyyy' )
.head 5 +  Else 
.head 6 -  Set params[14] = STRING_Null
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  Number: nMedico
.head 3 -  String: sMedico
.head 3 -  String: sSQL
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalBringWindowToTop(dlgConsultaCitas)
.head 1 +  Dialog Box: dlgReporteLabEstadistica
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Estadistica de Laboratorio
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  4.867"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 1.964"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  Pushbutton: pbImprimir
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.917"
.head 5 -  Top:    0.56"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Set strRepTitle = "Estadistica de Examenes por Empresa"
.head 6 -  Set strReportName = strRepPath||"\\LabEstadisticaExams.rpt"
.head 6 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params)
.head 3 -  Frame
.head 4 -  Resource Id: 30148
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    0.321"
.head 5 -  Width:  3.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.0"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: 3D Shadow Color
.head 4 -  Background Color: Default
.head 2 +  Functions
.head 3 +  Function: ConnectCursorToLab
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 +  When SqlError
.head 6 -  Call ProcesarErrorMSQ()
.head 6 -  Return FALSE
.head 5 +  If SqlConnect( hSqlLab )
.head 6 -  Call SqlSetIsolationLevel( hSqlLab,'RL' )
.head 6 -  Call SqlSetParameter (hSqlLab, DBP_AUTOCOMMIT, 1, "")
.head 6 -  Call SqlSetResultSet( hSqlLab, FALSE )
.head 6 -  Return TRUE
.head 5 +  Else
.head 6 -  Call SalMessageBox("No se pudo realizar la conexion a LABORATORIO","ERROR",MB_Ok)
.head 6 -  Return FALSE
.head 3 +  Function: DisconnectFromLab
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Call SqlDisconnect (hSqlLab)
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 3 -  !
.head 3 -  Sql Handle: hSqlLab
.head 3 -  Boolean: bConected
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalBringWindowToTop( hWndForm )
.head 4 -  Set SQLInitialDB = strODBCLab
.head 4 -  Set SqlDatabase      = strODBCLab
.head 4 -  Set SqlUser 	= ""
.head 4 -  Set SqlPassword 	= ""
.head 4 -  !
.head 4 +  If ConnectCursorToLab()
.head 5 -  !
.head 5 -  Set bConected = TRUE
.head 3 +  On SAM_Destroy
.head 4 -  !
.head 4 +  If bConected
.head 5 -  !
.head 5 -  Call DisconnectFromLab()
.head 4 -  !
.head 4 -  Set SQLInitialDB = 'SYBASE'
.head 4 -  Set SqlDatabase      = sGlobalDB
.head 4 -  Set SqlUser 	= "sa"
.head 4 -  Set SqlPassword 	= "asaber"
.head 1 +  Form Window: frmLabControlReactivos
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Control de Reactivos
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  8.767"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 5.69"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: 3D Face Color
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Frame
.head 4 -  Resource Id: 9081
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.071"
.head 5 -  Width:  7.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.75"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Round
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: 3D Shadow Color
.head 4 -  Background Color: 3D Shadow Color
.head 3 -  Background Text: Reactivo:
.head 4 -  Resource Id: 59997
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    1.762"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCodReactivo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.083"
.head 6 -  Top:    1.738"
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_KillFocus
.head 6 -  !
.head 6 +  If not SalIsNull (dfCodReactivo)
.head 7 -  !
.head 7 -  Set sSQL = "SELECT 
    		Descripcion
	FROM    		
    		Examenes
	WHERE
    		Cod_Examen = :dfCodReactivo
	INTO 
		:cmbReactivo" 
.head 7 -  Call SqlExists(sSQL , bExistsCodReactivo)
.head 7 -  Call SqlClearImmediate()
.head 7 +  If not bExistsCodReactivo
.head 8 -  Call SalMessageBox("No existe el reactivo!","ERROR",MB_Ok)
.head 8 -  Set dfCodReactivo=NUMBER_Null
.head 8 -  Set cmbReactivo=''
.head 3 +  Combo Box: cmbReactivo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatComboBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.383"
.head 5 -  Top:    1.738"
.head 5 -  Width:  5.1"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_DropDown
.head 6 -  !
.head 6 -  Set sReactivo = cmbReactivo
.head 6 -  Set sSQL = "
			SELECT
				DISTINCT
					E.Descripcion
			FROM
				Pruebas_Reactivos	P,
				Examenes 	E
			WHERE
				P.Cod_Reactivo = E.Cod_Examen
			ORDER BY
				E.Descripcion"
.head 6 -  ! Call SalListClear(cmbMedicosOS)
.head 6 -  Call SalListPopulate(cmbReactivo, hSqlLab, sSQL)
.head 6 -  !
.head 6 -  Call SalListSelectString( hWndItem, -1,sReactivo)
.head 5 +  On SAM_Validate
.head 6 -  !
.head 6 -  !
.head 6 -  Set sSQL = "
	SELECT 
    		Cod_Examen
	FROM
    		Examenes
	WHERE
    		 Descripcion = :cmbReactivo
	INTO 
		:dfCodReactivo
	"
.head 6 -  Call SqlImmediate(sSQL)
.head 6 -  Call SqlClearImmediate( )
.head 3 -  Background Text: No. Lote:
.head 4 -  Resource Id: 59998
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    2.179"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfLote
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: String
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.083"
.head 6 -  Top:    2.155"
.head 6 -  Width:  2.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Capacidad /Pruebas:
.head 4 -  Resource Id: 59999
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.583"
.head 5 -  Top:    2.179"
.head 5 -  Width:  1.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCapacidad
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.383"
.head 6 -  Top:    2.155"
.head 6 -  Width:  2.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Group Box: Tiempo de Uso
.head 4 -  Resource Id: 60000
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.083"
.head 5 -  Top:    2.571"
.head 5 -  Width:  6.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.083"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Line
.head 4 -  Resource Id: 60001
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Coordinates
.head 5 -  Begin X:  0.183"
.head 5 -  Begin Y:  1.571"
.head 5 -  End X:  7.883"
.head 5 -  End Y:  1.571"
.head 4 -  Visible? Yes
.head 4 -  Line Style: Etched
.head 4 -  Line Thickness: 1
.head 4 -  Line Color: 3D Shadow Color
.head 3 -  Background Text: Fecha Inicio:
.head 4 -  Resource Id: 60002
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.383"
.head 5 -  Top:    2.929"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Fecha Final:
.head 4 -  Resource Id: 60003
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.383"
.head 5 -  Top:    3.262"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Custom Control: ccFechaInicio
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 2.65"
.head 6 -  Top:    2.869"
.head 6 -  Width:  4.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Custom Control: ccFechaFinal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 2.65"
.head 6 -  Top:    3.226"
.head 6 -  Width:  4.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 -  Background Text: Observaciones Adicionales:
.head 4 -  Resource Id: 59996
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    3.845"
.head 5 -  Width:  2.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Multiline Field: mlObservaciones
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  String Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Border? Yes
.head 5 -  Word Wrap? No
.head 5 -  Vertical Scroll? Yes
.head 5 -  Window Location and Size
.head 6 -  Left: 1.083"
.head 6 -  Top:    4.071"
.head 6 -  Width:  6.3"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.75"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfCodigo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.083"
.head 6 -  Top:    1.155"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Yes
.head 5 -  Border? Class Default
.head 5 -  Justify: Center
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Codigo:
.head 4 -  Resource Id: 9082
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    1.179"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Fecha Registro:
.head 4 -  Resource Id: 9083
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.283"
.head 5 -  Top:    1.179"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaRegistro
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.883"
.head 6 -  Top:    1.155"
.head 6 -  Width:  2.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Center
.head 5 -  Format: dd-MMM-yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbNuevo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.55"
.head 5 -  Top:    0.179"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filenew.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call Limpiar()
.head 6 -  Call LoadDefaultValues()
.head 3 +  Pushbutton: pbGuardar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.25"
.head 5 -  Top:    0.179"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filesave.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  !
.head 6 -  !
.head 6 +  If SalIsNull(dfCodigo)
.head 7 -  !
.head 7 -  Call SalMessageBox( "Debe especificar un nuevo Codigo de Control", "ERROR", MB_Ok|MB_IconExclamation )
.head 7 -  Return FALSE
.head 6 +  If SalIsNull(dfCodReactivo)
.head 7 -  !
.head 7 -  Call SalMessageBox( "Debe especificar el codigo del reactivo", "ERROR", MB_Ok|MB_IconExclamation )
.head 7 -  Call SalSetFocus(dfCodReactivo)
.head 7 -  Return FALSE
.head 6 +  If SalIsNull(cmbReactivo)
.head 7 -  !
.head 7 -  Call SalMessageBox( "Debe especificar el nombre del reactivo", "ERROR", MB_Ok|MB_IconExclamation )
.head 7 -  Call SalSetFocus(cmbReactivo)
.head 7 -  Return FALSE
.head 6 +  If SalIsNull(dfLote)
.head 7 -  !
.head 7 -  Call SalMessageBox( "Debe especificar el lote del reactivo", "ERROR", MB_Ok|MB_IconExclamation )
.head 7 -  Call SalSetFocus(dfLote)
.head 7 -  Return FALSE
.head 6 +  If SalIsNull(dfCapacidad)
.head 7 -  !
.head 7 -  Call SalMessageBox( "Debe especificar la capacidad del lote de reactivo", "ERROR", MB_Ok|MB_IconExclamation )
.head 7 -  Call SalSetFocus(dfCapacidad)
.head 7 -  Return FALSE
.head 6 -  !
.head 6 -  ! --------------Verificar si el codigo de control ya existe
.head 6 -  Set sSQL = "SELECT
		Codigo
	FROM
		Control_Reactivos
	WHERE
		Codigo   =   :dfCodigo"
.head 6 -  Call SqlExists (sSQL, bExistsCodControl)
.head 6 -  Call SqlClearImmediate()
.head 6 -  !
.head 6 -  ! ----------Ejecutar la actualizacion o insercion
.head 6 +  If bExistsCodControl
.head 7 -  !
.head 7 -  !
.head 7 -  Call DoUpdate(  )
.head 6 +  Else
.head 7 -  !
.head 7 -  Call DoInsert(  )
.head 6 -  !
.head 6 -  !
.head 6 -  Call LoadControlData()
.head 3 +  Data Field: dfFechaInicio
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.983"
.head 6 -  Top:    3.738"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFechaFinal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.983"
.head 6 -  Top:    3.738"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbBuscarOrden
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.95"
.head 5 -  Top:    0.179"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F3
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Set nRegresaControl= NUMBER_Null
.head 6 -  Call SalModalDialog( dlgConsultaCtrlReactivos, hWndForm,nRegresaControl, 1, hSqlLab)
.head 6 +  If nRegresaControl != NUMBER_Null
.head 7 -  !
.head 7 -  Set dfCodigo =nRegresaControl
.head 7 -  Call LoadControlData()
.head 2 +  Functions
.head 3 +  Function: ConnectCursorToLab
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 +  When SqlError
.head 6 -  Call ProcesarErrorMSQ()
.head 6 -  Return FALSE
.head 5 +  If SqlConnect( hSqlLab )
.head 6 -  Call SqlSetIsolationLevel( hSqlLab,'RL' )
.head 6 -  Call SqlSetParameter (hSqlLab, DBP_AUTOCOMMIT, 1, "")
.head 6 -  Call SqlSetResultSet( hSqlLab, FALSE )
.head 6 -  Return TRUE
.head 5 +  Else
.head 6 -  Call SalMessageBox("No se pudo realizar la conexion a LABORATORIO","ERROR",MB_Ok)
.head 6 -  Return FALSE
.head 3 +  Function: DisconnectFromLab
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Call SqlDisconnect (hSqlLab)
.head 3 +  Function: LoadDefaultValues
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nMaxCodigo
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set sSQL = "SELECT
        			MAX(Codigo)
		FROM
       			Control_Reactivos
		INTO
			:nMaxCodigo"
.head 5 -  Call SqlImmediate ( sSQL )
.head 5 -  Call SqlClearImmediate ()
.head 5 -  !
.head 5 +  If nMaxCodigo = NUMBER_Null
.head 6 -  !
.head 6 -  Set dfCodigo = 1
.head 5 +  Else
.head 6 -  !
.head 6 -  Set dfCodigo = nMaxCodigo + 1
.head 5 -  Set dfFechaRegistro = SalDateCurrent ( )
.head 5 -  Set dfCapacidad = 0
.head 5 -  Call SalSetFocus(dfCodReactivo)
.head 3 +  Function: DoInsert
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  Set dfFechaInicio = ccFechaInicio.GetSystemTime()
.head 5 -  Set dfFechaFinal = ccFechaFinal.GetSystemTime()
.head 5 -  Set sSQL = "INSERT INTO
		Control_Reactivos
			(
    				Codigo,
    				FechaRegistro,
    				Cod_Examen,
				Lote,
    				Capacidad,
    				FechaInicio,
    				FechaFinal,
    				Observaciones
			)
		VALUES
			(
				:dfCodigo,
				:dfFechaRegistro,
				:dfCodReactivo,
				:dfLote,
				:dfCapacidad,
				:dfFechaInicio,
				:dfFechaFinal,
				:mlObservaciones									
			)"
.head 5 -  Call SqlImmediate ( sSQL )
.head 5 -  Call SqlClearImmediate ()
.head 5 -  Call SalWaitCursor(FALSE)
.head 5 -  Call SalMessageBox ("Los datos han sido almacenados!","CONFIRMACION",MB_Ok)
.head 3 +  Function: DoUpdate
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Date/Time: dtHoy
.head 4 +  Actions
.head 5 -  !
.head 5 -  !
.head 5 -  Set dfFechaFinal = ccFechaFinal.GetSystemTime()
.head 5 -  !
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  Set dtHoy = SalDateCurrent()
.head 5 -  Set sSQL = 'UPDATE
		Control_Reactivos
	SET			
		FechaFinal		=	:dfFechaFinal,
		FechaUltimaModificacion	=	:dtHoy
	WHERE
		Codigo = :dfCodigo'
.head 5 -  Call SqlImmediate ( sSQL )
.head 5 -  Call SqlClearImmediate ()
.head 5 -  Call SalWaitCursor(FALSE)
.head 5 -  Call SalMessageBox ("La fecha final de uso ha sido actualizada!","CONFIRMACION",MB_Ok)
.head 3 +  Function: LoadControlData
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  Set sSQL = "SELECT
			C.FechaRegistro,	
			C.Cod_Examen,
			E.Descripcion,
			C.Lote,
			C.Capacidad,
			C.FechaInicio,
			C.FechaFinal,
			C.Observaciones
	FROM
        			Control_Reactivos 	AS	C,
			Examenes	AS 	E	
	WHERE
        			C.Codigo 		= :dfCodigo        AND
        			E.Cod_Examen 	= C.Cod_Examen  			
	INTO
			:dfFechaRegistro,
			:dfCodReactivo,			
			:cmbReactivo,
			:dfLote,
			:dfCapacidad,
			:dfFechaInicio,
			:dfFechaFinal,
			:mlObservaciones"
.head 5 -  Call SqlImmediate ( sSQL )
.head 5 -  Call SqlClearImmediate ()
.head 5 -  !
.head 5 -  ! --------Setear valores
.head 5 -  Call ccFechaInicio.SetSystemTime(GDT_VALID, dfFechaInicio)
.head 5 -  Call ccFechaFinal.SetSystemTime(GDT_VALID, dfFechaFinal)
.head 5 -  !
.head 5 -  !
.head 5 -  Call SalWaitCursor(FALSE)
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 3 -  String: sSQL
.head 3 -  String: sReactivo
.head 3 -  !
.head 3 -  Sql Handle: hSqlLab
.head 3 -  Boolean: bConected
.head 3 -  Boolean: bExistsCodReactivo
.head 3 -  Boolean: bExistsCodControl
.head 3 -  Number: nRegresaControl
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalCenterWindow( hWndForm )
.head 4 -  Set SQLInitialDB = strODBCLab
.head 4 -  Set SqlDatabase      = strODBCLab
.head 4 -  Set SqlUser 	= ""
.head 4 -  Set SqlPassword 	= ""
.head 4 -  !
.head 4 +  If ConnectCursorToLab()
.head 5 -  !
.head 5 -  Set bConected = TRUE
.head 3 +  On SAM_Destroy
.head 4 -  !
.head 4 +  If bConected
.head 5 -  !
.head 5 -  Call DisconnectFromLab()
.head 4 -  !
.head 4 -  Set SQLInitialDB = 'SYBASE'
.head 4 -  Set SqlDatabase      = sGlobalDB
.head 4 -  Set SqlUser 	= "sa"
.head 4 -  Set SqlPassword 	= "asaber"
.head 1 +  ! Dialog Box: dlgConsultaAdmisiones
.winattr
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Consulta de Admisiones
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  11.15"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 7.262"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.end
.head 2 -  Description: 
.head 2 +  Tool Bar 
.winattr
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 -  Contents 
.head 2 +  Contents 
.head 3 -  Frame 
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.155"
.head 5 -  Width:  10.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 6.583"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Raised-Shadow
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.end
.head 3 +  Combo Box: cmbTipoServicio
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatComboBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.583"
.head 5 -  Top:    0.738"
.head 5 -  Width:  3.767"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.893"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Default
.head 4 -  Sorted? Yes
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.end
.head 4 -  List Initialization 
.head 4 +  Message Actions 
.head 5 +  On SAM_Create
.head 6 -  Call SalListAdd( cmbTipoServicio, "CONSULTA EXTERNA" )
.head 6 -  Call SalListAdd( cmbTipoServicio, "HOSPITALIZACION" )
.head 6 -  Call SalListAdd( cmbTipoServicio, "AMBULATORIO" )
.head 3 +  Check Box: cbTitulares
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Solo Titulares?
.head 4 -  Window Location and Size
.head 5 -  Left: 1.783"
.head 5 -  Top:    2.679"
.head 5 -  Width:  1.833"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 4 -  Message Actions 
.head 3 +  Pushbutton: pbImprimir
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.75"
.head 5 -  Top:    0.97"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 4 +  Message Actions 
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If not SalIsNull(dfOrden)
.head 7 -  ! Set sConsulta = sConsulta || " AND O.CODIGO = :dfOrden"
.head 7 -  Set params[0] = '1'
.head 7 -  Set params[1] = SalNumberToStrX(dfOrden,0)
.head 6 +  Else 
.head 7 -  Set params[0] = '0'
.head 6 +  If not SalIsNull(cmbUsuariosOS)
.head 7 -  ! Set sConsulta = sConsulta || " AND O.AUTORIZADO_POR = :cmbUsuariosOS.nCodigo"
.head 7 -  Set params[2] = '1'
.head 7 -  Set params[3] = SalNumberToStrX(cmbUsuariosOS.nCodigo,0)
.head 6 +  Else 
.head 7 -  Set params[2] = '0'
.head 6 +  If not SalIsNull(cmbCiudades)
.head 7 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_CIUDAD_GEO = :cmbCiudades.nCodigo"
.head 7 -  Set params[4] = '1'
.head 7 -  Set params[5] = SalNumberToStrX(cmbCiudades.nCodigo,0)
.head 6 +  Else 
.head 7 -  Set params[4] = '0'
.head 6 +  If not SalIsNull(cmbEspecialidad)
.head 7 -  !
.head 7 -  ! Set sConsulta = sConsulta || " AND M.COD_ESPECIALIDAD = :cmbEspecialidad.nCodigo"
.head 7 -  Set params[6] = '1'
.head 7 -  Set params[7] = SalNumberToStrX(cmbEspecialidad.nCodigo,0)
.head 6 +  Else 
.head 7 -  Set params[6] = '0'
.head 6 +  If not SalIsNull(cmbMedicosOS)
.head 7 -  ! -------Obtener el codigo medico
.head 7 -  Set sSQL = "select
		COD_MEDICO
    	from
		MEDICOS
	where
		NOMBRE = :cmbMedicosOS
  	into
		:nMedico"
.head 7 -  Call SqlImmediate(  sSQL)
.head 7 -  Call SqlClearImmediate( )
.head 7 -  !
.head 7 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_MEDICO = :nMedico"
.head 7 -  Set params[8] = '1'
.head 7 -  Set params[9] = SalNumberToStrX(nMedico,0)
.head 6 +  Else 
.head 7 -  Set params[8] = '0'
.head 6 +  If not SalIsNull(cmbCategServiciosOS)
.head 7 -  !
.head 7 -  ! Set sConsulta = sConsulta || " AND O.COD_CATEGORIA = :cmbCategServiciosOS.sCodigos"
.head 7 -  Set params[10] = '1'
.head 7 -  Set params[11] = cmbCategServiciosOS.sCodigos
.head 6 +  Else 
.head 7 -  Set params[10] = '0'
.head 6 +  If not SalIsNull(cmbServicios)
.head 7 -  !
.head 7 -  ! -------Obtener el codigo del servicio
.head 7 -  Set sSQL = "select
		COD_SERVICIO
    	from
		SERVICIOS
	where
		COD_CATEGORIA = :cmbCategServiciosOS.sCodigos AND
		EN_USO = 1 AND
		NOMBRE = :cmbServicios 
  	into
		:sServicio"
.head 7 -  Call SqlImmediate(  sSQL)
.head 7 -  Call SqlClearImmediate( )
.head 7 -  !
.head 7 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_SERVICIO = :sServicio"
.head 7 -  Set params[12] = '1'
.head 7 -  Set params[13] = sServicio
.head 6 +  Else 
.head 7 -  Set params[12] = '0'
.head 6 +  If not SalIsNull(dfPaciente)
.head 7 -  ! Set sConsulta = sConsulta || " AND O.COD_PACIENTE = :dfPaciente"
.head 7 -  Set params[14] = '1'
.head 7 -  Set params[15] = dfPaciente
.head 6 +  Else 
.head 7 -  Set params[14] = '0'
.head 6 +  If not SalIsNull(dfPacienteCorrel)
.head 7 -  ! Set sConsulta = sConsulta || " AND O.CORREL_PACIENTE = :dfPacienteCorrel"
.head 7 -  Set params[16] = '1'
.head 7 -  Set params[17] = dfPacienteCorrel
.head 6 +  Else 
.head 7 -  Set params[16] = '0'
.head 6 +  If not SalIsNull(dfNombre)
.head 7 -  ! Set sConsulta=sConsulta || "	AND	P.PRIMER_NOM   like '%" || dfNombre || "%' "
.head 7 -  Set params[18] = '1'
.head 7 -  Set params[19] = dfNombre
.head 6 +  Else 
.head 7 -  Set params[18] = '0'
.head 6 +  If not SalIsNull(dfApellido)
.head 7 -  ! Set sConsulta=sConsulta || "	AND	P.PRIMER_APE   like '%" || dfApellido || "%' "
.head 7 -  Set params[20] = '1'
.head 7 -  Set params[21] = dfApellido
.head 6 +  Else 
.head 7 -  Set params[20] = '0'
.head 6 +  If not SalIsNull(cmbEmpresa)
.head 7 -  ! Set sConsulta=sConsulta || "	AND	P.COD_EMPRESA = :cmbEmpresa.nCodigo "
.head 7 -  Set params[22] = '1'
.head 7 -  Set params[23] = SalNumberToStrX(cmbEmpresa.nCodigo,0)
.head 6 +  Else 
.head 7 -  Set params[22] = '0'
.head 6 +  If SalIsButtonChecked(cbFechaDesde)
.head 7 -  !
.head 7 -  Set dfFechaDesde = ccFechaDesde.GetSystemTime()
.head 7 -  ! Set sConsulta=sConsulta || "	AND	O.FECHA >= :dfFechaDesde "

.head 7 -  Set params[24] = '1'
.head 7 -  Set params[25] = SalFmtFormatDateTime ( dfFechaDesde, 'dd/MM/yyyy' )
.head 6 +  Else 
.head 7 -  Set params[24] = '0'
.head 6 +  If SalIsButtonChecked(cbFechaHasta)
.head 7 -  !
.head 7 -  Set dfFechaHasta = ccFechaHasta.GetSystemTime()
.head 7 -  ! Set sConsulta=sConsulta || "	AND O.FECHA <=  :dfFechaHasta "
.head 7 -  Set params[26] = '1'
.head 7 -  Set params[27] = SalFmtFormatDateTime ( dfFechaHasta, 'dd/MM/yyyy' )
.head 6 +  Else 
.head 7 -  Set params[26] = '0'
.head 6 +  If not SalIsNull(cmbDepto)
.head 7 -  ! Set sConsulta=sConsulta || "	AND	P.CODIGO_DEPTO = :cmbDepto.nCodigo "
.head 7 -  Set params[28] = '1'
.head 7 -  Set params[29] = SalNumberToStrX(cmbDepto.nCodigo ,0)
.head 6 +  Else 
.head 7 -  Set params[28] = '0'
.head 7 -  Set params[29] = SalNumberToStrX(cmbDepto.nCodigo ,0)
.head 6 -  !
.head 6 -  Set strRepTitle = " Reporte Estadistico - Ordenes de Servicio"
.head 6 -  Set strReportName = strRepPath||"\\OSEstadisticoS.rpt"
.head 6 -  !
.head 6 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 3 -  Background Text: Sumatoria Ordenes:
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.183"
.head 5 -  Top:    6.476"
.head 5 -  Width:  1.733"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 -  Background Text: Total Ordenes:
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.65"
.head 5 -  Top:    6.452"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 -  Group Box: Criterios de Busqueda
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    0.238"
.head 5 -  Width:  9.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.833"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 +  Data Field: dfOrden
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.883"
.head 6 -  Top:    0.679"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Center
.head 5 -  Format: #0
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.end
.head 4 -  Message Actions 
.head 3 +  Combo Box: cmbCiudades
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.883"
.head 5 -  Top:    0.929"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.893"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.end
.head 4 -  List Initialization 
.head 4 +  Message Actions 
.head 5 +  On SAM_Create
.head 6 -  Set cmbCiudades.nCaso=1
.head 6 -  Set cmbCiudades.sTabla='CIUDADES_GEO'
.head 6 -  Set cmbCiudades.sNombre='NOMBRE'
.head 6 -  Set cmbCiudades.sCodigo='CODIGO'
.head 3 -  Background Text: Nombre
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.883"
.head 5 -  Top:    1.952"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 -  Background Text: Codigo
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.883"
.head 5 -  Top:    1.726"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 +  Data Field: dfPaciente
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.783"
.head 6 -  Top:    1.595"
.head 6 -  Width:  1.867"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.31"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.end
.head 4 +  Message Actions 
.head 5 +  On SAM_KillFocus
.head 6 -  !
.head 6 +  If dfPaciente = "TEMPCOD"
.head 7 -  !
.head 7 -  Set dfPacienteCorrel = '0'
.head 3 +  Data Field: dfPacienteCorrel
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.65"
.head 6 -  Top:    1.595"
.head 6 -  Width:  0.533"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.31"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.end
.head 4 -  Message Actions 
.head 3 +  Data Field: dfNombre
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.783"
.head 6 -  Top:    1.905"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.end
.head 4 -  Message Actions 
.head 3 -  Background Text: No. Orden
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    0.726"
.head 5 -  Width:  0.967"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 +  Data Field: dfApellido
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.783"
.head 6 -  Top:    2.179"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.end
.head 4 -  Message Actions 
.head 3 +  ! cmbBaseCodigo: cmbEmpresa
.head 4 -  List Initialization 
.head 4 +  Message Actions 
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 3 +  Combo Box: cmbEmpresa
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigoFiltrado
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.783"
.head 5 -  Top:    2.452"
.head 5 -  Width:  2.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.357"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.end
.head 4 -  List Initialization 
.head 4 +  Message Actions 
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 6 -  Set cmbEmpresa.sNombreFiltro='ESTADO'
.head 6 -  Set cmbEmpresa.nValorFiltro=1
.head 3 -  Background Text: Apellido
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    2.202"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 -  Background Text: Habitación
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.65"
.head 5 -  Top:    1.06"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 -  Group Box: Fecha
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.483"
.head 5 -  Top:    2.071"
.head 5 -  Width:  5.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.917"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 -  Group Box: Datos del Paciente
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    1.405"
.head 5 -  Width:  3.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.583"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 -  Group Box: Datos Medicos
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.483"
.head 5 -  Top:    0.488"
.head 5 -  Width:  5.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 -  Frame 
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    3.155"
.head 5 -  Width:  9.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.end
.head 3 -  Group Box: Datos de Emision
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    0.488"
.head 5 -  Width:  3.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.833"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 -  Background Text: Ciudad:
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.817"
.head 5 -  Top:    0.952"
.head 5 -  Width:  0.933"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 -  Background Text: Servicio:
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.583"
.head 5 -  Top:    0.726"
.head 5 -  Width:  0.933"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.179"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 -  Background Text: Empresa
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    2.476"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 +  Data Field: dfFechaDesde
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.783"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? No
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Black
.head 5 -  Background Color: 3D Highlight Color
.head 5 -  Input Mask: 99/99/9999
.end
.head 4 -  Message Actions 
.head 3 +  Data Field: dfFechaHasta
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.983"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? No
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Black
.head 5 -  Background Color: 3D Highlight Color
.head 5 -  Input Mask: 99/99/9999
.end
.head 4 -  Message Actions 
.head 3 +  Check Box: cbFechaDesde
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Desde
.head 4 -  Window Location and Size
.head 5 -  Left: 4.55"
.head 5 -  Top:    2.321"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 4 -  Message Actions 
.head 3 +  Check Box: cbFechaHasta
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Hasta
.head 4 -  Window Location and Size
.head 5 -  Left: 4.55"
.head 5 -  Top:    2.595"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 4 -  Message Actions 
.head 3 +  Custom Control: ccFechaDesde
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name: user32.dll
.head 5 -  MS Windows Class Name: SysDateTimePick32
.head 5 -  Style:  0x50000004
.head 5 -  ExStyle:  0x00000000
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 5.483"
.head 6 -  Top:    2.321"
.head 6 -  Width:  3.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? No
.head 5 -  Etched Border? No
.head 5 -  Hollow? No
.head 5 -  Vertical Scroll? No
.head 5 -  Horizontal Scroll? No
.head 5 -  Tab Stop? None
.head 5 -  Tile To Parent? No
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  DLL Settings
.end
.head 4 -  Message Actions 
.head 3 +  Custom Control: ccFechaHasta
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name: user32.dll
.head 5 -  MS Windows Class Name: SysDateTimePick32
.head 5 -  Style:  0x50000004
.head 5 -  ExStyle:  0x00000000
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 5.483"
.head 6 -  Top:    2.595"
.head 6 -  Width:  3.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? No
.head 5 -  Etched Border? No
.head 5 -  Hollow? No
.head 5 -  Vertical Scroll? No
.head 5 -  Horizontal Scroll? No
.head 5 -  Tab Stop? None
.head 5 -  Tile To Parent? No
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  DLL Settings
.end
.head 4 -  Message Actions 
.head 3 +  Pushbutton: pb3
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.767"
.head 5 -  Top:    1.56"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: F3
.head 4 -  Font Name: Arial
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: None
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 4 +  Message Actions 
.head 5 +  On SAM_Click
.head 6 -  Call SalWaitCursor( TRUE )
.head 6 -  Set sSQL = ConstructQuery()
.head 6 -  ! Call SalMessageBox(sSQL,'Sql',MB_Ok)
.head 6 -  Call SalTblPopulate( tblOrdenes, hSql1, sSQL, TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  Set dfTotal=ContarFilas( tblOrdenes )
.head 6 -  Set dfSumatoria = SalTblColumnSum( tblOrdenes, 6, 0, 0 )
.head 6 -  Call SalWaitCursor( FALSE )
.head 3 +  Child Table: tblOrdenes
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatChildTable
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.583"
.head 6 -  Top:    3.238"
.head 6 -  Width:  9.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 3.0"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Yes
.end
.head 4 +  Contents 
.head 5 +  Column: colOrden
.winattr
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: No. Admisión
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Left
.head 6 -  Width:  1.083"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.end
.head 6 -  List Values 
.head 6 -  Message Actions 
.head 5 +  Column: colCodigoPaciente
.winattr
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod Paciente
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  Default
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.end
.head 6 -  List Values 
.head 6 -  Message Actions 
.head 5 +  Column: colCorrelativoPaciente
.winattr
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cor
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.end
.head 6 -  List Values 
.head 6 -  Message Actions 
.head 5 +  Column: colNombrePaciente
.winattr
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Nombre Paciente
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.end
.head 6 -  List Values 
.head 6 -  Message Actions 
.head 5 +  Column: colFechaEmision
.winattr
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  Default
.head 6 -  Width Editable? Yes
.head 6 -  Format: dd/mm/yyyy
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.end
.head 6 -  List Values 
.head 6 -  Message Actions 
.head 5 +  Column: colMonto
.winattr
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Right
.head 6 -  Width:  1.317"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.end
.head 6 -  List Values 
.head 6 -  Message Actions 
.head 5 +  Column: colDestino
.winattr
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Medico/Destino
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.end
.head 6 -  List Values 
.head 6 -  Message Actions 
.head 4 -  Functions 
.head 4 +  Window Variables 
.head 5 -  Number: nFila
.head 4 +  Message Actions 
.head 5 +  On SAM_DoubleClick
.head 6 -  !
.head 6 +  If nFlag = 1
.head 7 -  !
.head 7 -  Call SalTblQueryFocus(tblOrdenes,nFila,tblOrdenes.colOrden)
.head 7 -  Call SalTblSetContext(tblOrdenes,nFila)
.head 7 -  Set nRegresa=tblOrdenes.colOrden
.head 7 -  Call SalEndDialog(dlgConsultaOrdenes,TRUE)
.head 5 +  On SAM_Create
.head 6 -  !
.head 6 -  Call MTblSubClass( hWndForm )
.head 6 -  Call MTblEnableMWheelScroll( hWndForm, TRUE )
.head 3 +  Data Field: dfTotal
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.25"
.head 6 -  Top:    6.429"
.head 6 -  Width:  0.788"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Center
.head 5 -  Format: #0
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.end
.head 4 -  Message Actions 
.head 3 +  Data Field: dfSumatoria
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.95"
.head 6 -  Top:    6.429"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Center
.head 5 -  Format: ###000
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.end
.head 4 -  Message Actions 
.head 3 -  Frame 
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.683"
.head 5 -  Top:    0.905"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.083"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.end
.head 3 +  Pushbutton: pbCopiar
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Copiar
.head 4 -  Window Location and Size
.head 5 -  Left: 9.783"
.head 5 -  Top:    2.226"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.679"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: F5
.head 4 -  Font Name: Arial
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: None
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\editpaste.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 4 +  Message Actions 
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call SalTblCopyRows(tblOrdenes,0,0)
.head 6 -  Call SalMessageBox('Datos copiados','Atencion',MB_Ok)
.head 6 -  ! Set nLanguage = MTE_LNG_ENGLISH
.head 6 -  ! Set sStartCell = "Cod_Paciente"
.head 6 -  ! Set nExcelFlags = MTE_EXCEL_RUNNING_INSTANCE | MTE_EXCEL_NEW_INSTANCE | MTE_EXCEL_NEW_WORKSHEET
.head 6 -  ! Set nExportFlags = MTE_COL_HEADERS | MTE_COLORS | MTE_FONTS | MTE_GRID | MTE_SPLIT_ROWS | MTE_SHOW_STATUS
.head 6 -  ! Set nRowFlagsOn = 0
.head 6 -  ! Set nRowFlagsOff = ROW_Hidden
.head 6 -  ! Set nColFlagsOn = COL_Visible
.head 6 -  ! Set nColFlagsOff = 0
.head 6 -  ! Call MTblExportToExcel(tbl1, nLanguage, sStartCell, nExcelFlags, nExportFlags, nRowFlagsOn, nRowFlagsOff, nColFlagsOn, nColFlagsOff )
.head 3 +  Combo Box: cmbHabitacion
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.583"
.head 5 -  Top:    0.988"
.head 5 -  Width:  3.767"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.048"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.end
.head 4 -  List Initialization 
.head 4 +  Message Actions 
.head 5 +  On SAM_Create
.head 6 -  Set cmbHabitacion.nCaso=1
.head 6 -  Set cmbHabitacion.sTabla='CAMAS'
.head 6 -  Set cmbHabitacion.sNombre='DESCRIPCION'
.head 6 -  Set cmbHabitacion.sCodigo='CODIGO'
.head 3 -  Background Text: Diagnóstico
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.583"
.head 5 -  Top:    1.631"
.head 5 -  Width:  0.933"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 -  Background Text: Categoría
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.583"
.head 5 -  Top:    1.405"
.head 5 -  Width:  0.933"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 +  Combo Box: cmb
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.583"
.head 5 -  Top:    1.405"
.head 5 -  Width:  3.767"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.893"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.end
.head 4 -  List Initialization 
.head 4 +  Message Actions 
.head 5 +  On SAM_Create
.head 6 -  Set cmbEspecialidad.nCaso = 1
.head 6 -  Set cmbEspecialidad.sTabla = 'ESPECIALIDAD'
.head 6 -  Set cmbEspecialidad.sNombre='NOMBRE'
.head 6 -  Set cmbEspecialidad.sCodigo='COD_ESPECIALIDAD'
.head 5 +  On SAM_Validate
.head 6 -  Set sSQL = "
			SELECT
				NOMBRE
			FROM
				MEDICOS
			WHERE
				COD_ESPECIALIDAD = :cmbEspecialidad.nCodigo
			ORDER BY
				NOMBRE"
.head 6 -  Call SalListClear(cmbMedicosOS)
.head 6 -  Call SalListPopulate(cmbMedicosOS, hSql1, sSQL)
.head 6 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 3 +  Combo Box: cmbMedicosOS
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatComboBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.583"
.head 5 -  Top:    1.655"
.head 5 -  Width:  3.767"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.048"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.end
.head 4 -  List Initialization 
.head 4 +  Message Actions 
.head 5 +  On SAM_DropDown
.head 6 -  !
.head 6 +  If not SalIsNull(cmbEspecialidad)
.head 7 -  !
.head 7 -  Set sMedico = cmbMedicosOS
.head 7 -  Set sSQL = "
			SELECT
				NOMBRE
			FROM
				MEDICOS
			WHERE
				COD_ESPECIALIDAD = :cmbEspecialidad.nCodigo
			ORDER BY
				NOMBRE"
.head 7 -  ! Call SalListClear(cmbMedicosOS)
.head 7 -  Call SalListPopulate(cmbMedicosOS, hSql1, sSQL)
.head 7 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 7 -  !
.head 7 -  Call SalListSelectString( hWndItem, -1,sMedico)
.head 2 +  Functions 
.head 3 +  Function: ConstructQuery
.head 4 -  Description: 
.head 4 +  Returns 
.head 5 -  String: 
.head 4 -  Parameters 
.head 4 -  Static Variables 
.head 4 +  Local variables 
.head 5 -  String: sConsulta
.head 4 +  Actions 
.head 5 -  Set sConsulta="Select
			O.CODIGO,
			O.COD_PACIENTE,
        			O.CORREL_PACIENTE,
        			(CASE
                            			WHEN O.COD_PACIENTE = 'TEMPCOD' THEN O.NOMBRE_TMP
                            			ELSE P.PRIMER_NOM +  ' ' + P.PRIMER_APE
                        		 END ) AS NOMBRE,        			
			CONVERT(VARCHAR(12), O.FECHA,103),
        			O.TOTAL,
			M.NOMBRE AS DESTINO
		
		from
			ORDENES_SERVICIO O,			
        			PACIENTES           P,
            			MEDICOS           M
		where			
        			O.COD_PACIENTE 	= P.COD_PACIENTE   AND
            			O.CORREL_PACIENTE 	= P.CORREL_PACIENTE AND
            			O.CODIGO_MEDICO     	= M.COD_MEDICO "

.head 5 +  ! If dfDescripcion!=''
.head 6 -  Set sConsulta=sConsulta||"	AND	A.DESCRIPCION  like '%"||dlgConsultaFacturas.dfDescripcion||"%'"
.head 5 +  If not SalIsNull(dfOrden)
.head 6 -  Set sConsulta = sConsulta || " AND O.CODIGO = :dfOrden"
.head 5 +  If not SalIsNull(cmbUsuariosOS)
.head 6 -  Set sConsulta = sConsulta || " AND O.AUTORIZADO_POR = :cmbUsuariosOS.nCodigo"
.head 5 +  If not SalIsNull(cmbCiudades)
.head 6 -  Set sConsulta = sConsulta || " AND O.CODIGO_CIUDAD_GEO = :cmbCiudades.nCodigo"
.head 5 +  If not SalIsNull(cmbEspecialidad)
.head 6 -  !
.head 6 -  Set sConsulta = sConsulta || " AND M.COD_ESPECIALIDAD = :cmbEspecialidad.nCodigo"
.head 5 +  If not SalIsNull(cmbMedicosOS)
.head 6 -  ! -------Obtener el codigo medico
.head 6 -  Set sSQL = "select
		COD_MEDICO
    	from
		MEDICOS
	where
		NOMBRE = :cmbMedicosOS
  	into
		:nMedico"
.head 6 -  Call SqlImmediate(  sSQL)
.head 6 -  Call SqlClearImmediate( )
.head 6 -  !
.head 6 -  Set sConsulta = sConsulta || " AND O.CODIGO_MEDICO = :nMedico"
.head 5 +  If not SalIsNull(cmbCategServiciosOS)
.head 6 -  !
.head 6 -  Set sConsulta = sConsulta || " AND O.COD_CATEGORIA = :cmbCategServiciosOS.sCodigos"
.head 5 +  If not SalIsNull(cmbServicios)
.head 6 -  !
.head 6 -  ! -------Obtener el codigo del servicio
.head 6 -  Set sSQL = "select
		COD_SERVICIO
    	from
		SERVICIOS
	where
		COD_CATEGORIA = :cmbCategServiciosOS.sCodigos AND
		EN_USO = 1 AND
		NOMBRE = :cmbServicios 
  	into
		:sServicio"
.head 6 -  Call SqlImmediate(  sSQL)
.head 6 -  Call SqlClearImmediate( )
.head 6 -  !
.head 6 -  Set sConsulta = sConsulta || " AND O.CODIGO_SERVICIO = :sServicio"
.head 5 +  If not SalIsNull(dfPaciente)
.head 6 -  Set sConsulta = sConsulta || " AND O.COD_PACIENTE = :dfPaciente"
.head 5 +  If not SalIsNull(dfPacienteCorrel)
.head 6 -  Set sConsulta = sConsulta || " AND O.CORREL_PACIENTE = :dfPacienteCorrel"
.head 5 +  If not SalIsNull(dfNombre)
.head 6 -  Set sConsulta=sConsulta || "	AND	P.PRIMER_NOM   like '%" || dfNombre || "%' "
.head 5 +  If not SalIsNull(dfApellido)
.head 6 -  Set sConsulta=sConsulta || "	AND	P.PRIMER_APE   like '%" || dfApellido || "%' "
.head 5 +  If not SalIsNull(cmbEmpresa)
.head 6 -  Set sConsulta=sConsulta || "	AND	P.COD_EMPRESA = :cmbEmpresa.nCodigo "
.head 5 +  If not SalIsNull(cmbDepto)
.head 6 -  Set sConsulta=sConsulta || "	AND	P.CODIGO_DEPTO = :cmbDepto.nCodigo "
.head 5 +  If SalIsButtonChecked(cbFechaDesde)
.head 6 -  !
.head 6 -  Set dfFechaDesde = ccFechaDesde.GetSystemTime()
.head 6 -  Set sConsulta=sConsulta || "	AND	O.FECHA >= :dfFechaDesde "

.head 5 +  If SalIsButtonChecked(cbFechaHasta)
.head 6 -  !
.head 6 -  Set dfFechaHasta = ccFechaHasta.GetSystemTime()
.head 6 -  Set sConsulta=sConsulta || "	AND O.FECHA <=  :dfFechaHasta "
.head 5 +  If cbTitulares=TRUE
.head 6 -  Set sConsulta=sConsulta||"	AND	P.CORREL_PACIENTE='0'"
.head 5 -  Set sConsulta=sConsulta||"	order	by	NOMBRE"
.head 5 -  Return sConsulta
.head 3 +  Function: ResetControls
.head 4 -  Description: 
.head 4 -  Returns 
.head 4 -  Parameters 
.head 4 -  Static Variables 
.head 4 +  Local variables 
.head 5 -  Window Handle: hWndChild
.head 5 -  Number: nHwndChild
.head 5 -  Number: nType
.head 4 +  Actions 
.head 5 -  Set hWndChild = SalGetFirstChild( hWndForm, TYPE_Any )
.head 5 +  While hWndChild != hWndNULL
.head 6 -  Set nHwndChild = SalWindowHandleToNumber( hWndChild )
.head 6 -  Set nType = SalGetType( hWndChild )
.head 6 +  If nType = TYPE_ChildTable
.head 7 -  Call SalTblReset( hWndChild )
.head 6 +  Else If nType = TYPE_DataField or nType = TYPE_MultilineText or nType = TYPE_CheckBox or nType = TYPE_ComboBox
.head 7 -  Call SalClearField( hWndChild )
.head 6 -  Set hWndChild = SalGetNextChild( hWndChild, TYPE_Any )
.head 5 -  !
.head 5 -  !
.head 3 +  Function: ConstructParams
.head 4 -  Description: 
.head 4 -  Returns 
.head 4 -  Parameters 
.head 4 -  Static Variables 
.head 4 -  Local variables 
.head 4 +  Actions 
.head 5 -  !
.head 5 +  If not SalIsNull(dfOrden)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CODIGO = :dfOrden"
.head 6 -  Set params[0] = SalNumberToStrX(dfOrden,0)
.head 5 +  Else 
.head 6 -  Set params[0] = STRING_Null
.head 5 +  If not SalIsNull(cmbUsuariosOS)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.AUTORIZADO_POR = :cmbUsuariosOS.nCodigo"
.head 6 -  Set params[1] = SalNumberToStrX(cmbUsuariosOS.nCodigo,0)
.head 5 +  Else 
.head 6 -  Set params[1] = STRING_Null
.head 5 +  If not SalIsNull(cmbCiudades)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_CIUDAD_GEO = :cmbCiudades.nCodigo"
.head 6 -  Set params[2] = SalNumberToStrX(cmbCiudades.nCodigo,0)
.head 5 +  Else 
.head 6 -  Set params[2] = STRING_Null
.head 5 +  If not SalIsNull(cmbEspecialidad)
.head 6 -  !
.head 6 -  ! Set sConsulta = sConsulta || " AND M.COD_ESPECIALIDAD = :cmbEspecialidad.nCodigo"
.head 6 -  Set params[3] = SalNumberToStrX(cmbEspecialidad.nCodigo,0)
.head 5 +  Else 
.head 6 -  Set params[3] = STRING_Null
.head 5 +  If not SalIsNull(cmbMedicosOS)
.head 6 -  ! -------Obtener el codigo medico
.head 6 -  Set sSQL = "select
		COD_MEDICO
    	from
		MEDICOS
	where
		NOMBRE = :cmbMedicosOS
  	into
		:nMedico"
.head 6 -  Call SqlImmediate(  sSQL)
.head 6 -  Call SqlClearImmediate( )
.head 6 -  !
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_MEDICO = :nMedico"
.head 6 -  Set params[4] = SalNumberToStrX(nMedico,0)
.head 5 +  Else 
.head 6 -  Set params[4] = STRING_Null
.head 5 +  If not SalIsNull(cmbCategServiciosOS)
.head 6 -  !
.head 6 -  ! Set sConsulta = sConsulta || " AND O.COD_CATEGORIA = :cmbCategServiciosOS.sCodigos"
.head 6 -  Set params[5] = cmbCategServiciosOS.sCodigos
.head 5 +  Else 
.head 6 -  Set params[5] = STRING_Null
.head 5 +  If not SalIsNull(cmbServicios)
.head 6 -  !
.head 6 -  ! -------Obtener el codigo del servicio
.head 6 -  Set sSQL = "select
		COD_SERVICIO
    	from
		SERVICIOS
	where
		COD_CATEGORIA = :cmbCategServiciosOS.sCodigos AND
		EN_USO = 1 AND
		NOMBRE = :cmbServicios 
  	into
		:sServicio"
.head 6 -  Call SqlImmediate(  sSQL)
.head 6 -  Call SqlClearImmediate( )
.head 6 -  !
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_SERVICIO = :sServicio"
.head 6 -  Set params[6] = sServicio
.head 5 +  Else 
.head 6 -  Set params[6] = STRING_Null
.head 5 +  If not SalIsNull(dfPaciente)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.COD_PACIENTE = :dfPaciente"
.head 6 -  Set params[7] = dfPaciente
.head 5 +  Else 
.head 6 -  Set params[7] = STRING_Null
.head 5 +  If not SalIsNull(dfPacienteCorrel)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CORREL_PACIENTE = :dfPacienteCorrel"
.head 6 -  Set params[8] = dfPacienteCorrel
.head 5 +  Else 
.head 6 -  Set params[8] = STRING_Null
.head 5 +  If not SalIsNull(dfNombre)
.head 6 -  ! Set sConsulta=sConsulta || "	AND	P.PRIMER_NOM   like '%" || dfNombre || "%' "
.head 6 -  Set params[9] = dfNombre
.head 5 +  Else 
.head 6 -  Set params[9] = STRING_Null
.head 5 +  If not SalIsNull(dfApellido)
.head 6 -  ! Set sConsulta=sConsulta || "	AND	P.PRIMER_APE   like '%" || dfApellido || "%' "
.head 6 -  Set params[10] = dfApellido
.head 5 +  Else 
.head 6 -  Set params[10] = STRING_Null
.head 5 +  If not SalIsNull(cmbEmpresa)
.head 6 -  ! Set sConsulta=sConsulta || "	AND	P.COD_EMPRESA = :cmbEmpresa.nCodigo "
.head 6 -  Set params[11] = SalNumberToStrX(cmbEmpresa.nCodigo,0)
.head 5 +  Else 
.head 6 -  Set params[11] = STRING_Null
.head 5 +  If not SalIsNull(cmbDepto)
.head 6 -  ! Set sConsulta=sConsulta || "	AND	P.CODIGO_DEPTO = :cmbDepto.nCodigo "
.head 6 -  Set params[12] = SalNumberToStrX(cmbDepto.nCodigo ,0)
.head 5 +  Else 
.head 6 -  Set params[12] = STRING_Null
.head 5 +  If SalIsButtonChecked(cbFechaDesde)
.head 6 -  !
.head 6 -  Set dfFechaDesde = ccFechaDesde.GetSystemTime()
.head 6 -  ! Set sConsulta=sConsulta || "	AND	O.FECHA >= :dfFechaDesde "

.head 6 -  Set params[13] = SalFmtFormatDateTime ( dfFechaDesde, 'dd/MM/yyyy' )
.head 5 +  Else 
.head 6 -  Set params[13] = STRING_Null
.head 5 +  If SalIsButtonChecked(cbFechaHasta)
.head 6 -  !
.head 6 -  Set dfFechaHasta = ccFechaHasta.GetSystemTime()
.head 6 -  ! Set sConsulta=sConsulta || "	AND O.FECHA <=  :dfFechaHasta "
.head 6 -  Set params[14] = SalFmtFormatDateTime ( dfFechaHasta, 'dd/MM/yyyy' )
.head 5 +  Else 
.head 6 -  Set params[14] = STRING_Null
.head 2 +  Window Parameters 
.head 3 -  Receive Number: nRegresa
.head 3 -  Number: nFlag
.head 2 +  Window Variables 
.head 3 -  String: sSQL
.head 3 -  Number: nMedico
.head 3 -  String: sMedico
.head 3 -  String: sServicio
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 2 +  Message Actions 
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalBringWindowToTop(dlgConsultaOrdenes)
.head 1 +  Dialog Box: dlgConsultaOrdenesPac
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Consulta de Ordenes de Servicio
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  12.3"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 4.512"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Frame
.head 4 -  Resource Id: 50936
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.155"
.head 5 -  Width:  11.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.917"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Raised-Shadow
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Sumatoria Ordenes:
.head 4 -  Resource Id: 50937
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.483"
.head 5 -  Top:    3.726"
.head 5 -  Width:  1.733"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Total Ordenes:
.head 4 -  Resource Id: 50938
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.95"
.head 5 -  Top:    3.702"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  ! cmbBaseCodigo: cmbEmpresa
.winattr class Combo Box:
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.783"
.head 5 -  Top:    2.619"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.094"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.end
.head 4 -  List Initialization 
.head 4 +  Message Actions 
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 3 -  Frame
.head 4 -  Resource Id: 50939
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    1.238"
.head 5 -  Width:  11.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.333"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 +  Data Field: dfFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.783"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.983"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Child Table: tblOrdenes
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatChildTable
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.383"
.head 6 -  Top:    1.321"
.head 6 -  Width:  11.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 2.167"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colOrden
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: No. Orden
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Left
.head 6 -  Width:  1.083"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCodigoPaciente
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod Paciente
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  Default
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCorrelativoPaciente
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cor
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colNombrePaciente
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Nombre Paciente
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFechaEmision
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  Default
.head 6 -  Width Editable? Yes
.head 6 -  Format: dd/mm/yyyy
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMonto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Right
.head 6 -  Width:  1.317"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDestino
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Medico/Destino
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 +  Window Variables
.head 5 -  Number: nFila
.head 4 +  Message Actions
.head 5 +  ! On SAM_DoubleClick
.head 6 -  !
.head 6 +  If nFlag = 1
.head 7 -  !
.head 7 -  Call SalTblQueryFocus(tblOrdenes,nFila,tblOrdenes.colOrden)
.head 7 -  Call SalTblSetContext(tblOrdenes,nFila)
.head 7 -  Set nRegresa=tblOrdenes.colOrden
.head 7 -  Call SalEndDialog(dlgConsultaOrdenes,TRUE)
.head 5 +  On SAM_Create
.head 6 -  !
.head 6 -  Call MTblSubClass( hWndForm )
.head 6 -  Call MTblEnableMWheelScroll( hWndForm, TRUE )
.head 3 +  Data Field: dfTotal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.55"
.head 6 -  Top:    3.679"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: #0
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfSumatoria
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.25"
.head 6 -  Top:    3.679"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Frame
.head 4 -  Resource Id: 50940
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    0.238"
.head 5 -  Width:  11.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.833"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbCopiar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Copiar
.head 4 -  Window Location and Size
.head 5 -  Left: 0.583"
.head 5 -  Top:    0.31"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.679"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F5
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\editpaste.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call SalTblCopyRows(tblOrdenes,0,0)
.head 6 -  Call SalMessageBox('Datos copiados','Atencion',MB_Ok)
.head 6 -  ! Set nLanguage = MTE_LNG_ENGLISH
.head 6 -  ! Set sStartCell = "Cod_Paciente"
.head 6 -  ! Set nExcelFlags = MTE_EXCEL_RUNNING_INSTANCE | MTE_EXCEL_NEW_INSTANCE | MTE_EXCEL_NEW_WORKSHEET
.head 6 -  ! Set nExportFlags = MTE_COL_HEADERS | MTE_COLORS | MTE_FONTS | MTE_GRID | MTE_SPLIT_ROWS | MTE_SHOW_STATUS
.head 6 -  ! Set nRowFlagsOn = 0
.head 6 -  ! Set nRowFlagsOff = ROW_Hidden
.head 6 -  ! Set nColFlagsOn = COL_Visible
.head 6 -  ! Set nColFlagsOff = 0
.head 6 -  ! Call MTblExportToExcel(tbl1, nLanguage, sStartCell, nExcelFlags, nExportFlags, nRowFlagsOn, nRowFlagsOff, nColFlagsOn, nColFlagsOff )
.head 2 +  Functions
.head 3 +  Function: tblConstructQuery
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sConsulta
.head 4 +  Actions
.head 5 -  Set sConsulta="Select
			O.CODIGO,
			O.COD_PACIENTE,
        			O.CORREL_PACIENTE,
        			(CASE
                            			WHEN O.COD_PACIENTE = 'TEMPCOD' THEN O.NOMBRE_TMP
                            			ELSE P.PRIMER_NOM +  ' ' + P.PRIMER_APE
                        		 END ) AS NOMBRE,        			
			CONVERT(VARCHAR(12), O.FECHA,103),
        			O.TOTAL,
			M.NOMBRE AS DESTINO
		
		from
			ORDENES_SERVICIO O,			
        			PACIENTES           P,
            			MEDICOS           M
		where			
        			O.COD_PACIENTE 	= P.COD_PACIENTE   AND
            			O.CORREL_PACIENTE 	= P.CORREL_PACIENTE AND
            			O.CODIGO_MEDICO     	= M.COD_MEDICO 
		AND O.COD_PACIENTE = :sCodPaciente
		AND O.CORREL_PACIENTE = :sCorrel
		order	by	FECHA"

.head 5 -  Return sConsulta
.head 3 +  Function: ResetControls
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Window Handle: hWndChild
.head 5 -  Number: nHwndChild
.head 5 -  Number: nType
.head 4 +  Actions
.head 5 -  Set hWndChild = SalGetFirstChild( hWndForm, TYPE_Any )
.head 5 +  While hWndChild != hWndNULL
.head 6 -  Set nHwndChild = SalWindowHandleToNumber( hWndChild )
.head 6 -  Set nType = SalGetType( hWndChild )
.head 6 +  If nType = TYPE_ChildTable
.head 7 -  Call SalTblReset( hWndChild )
.head 6 +  Else If nType = TYPE_DataField or nType = TYPE_MultilineText or nType = TYPE_CheckBox or nType = TYPE_ComboBox
.head 7 -  Call SalClearField( hWndChild )
.head 6 -  Set hWndChild = SalGetNextChild( hWndChild, TYPE_Any )
.head 5 -  !
.head 5 -  !
.head 3 +  ! Function: ConstructParams
.head 4 -  Description: 
.head 4 -  Returns 
.head 4 -  Parameters 
.head 4 -  Static Variables 
.head 4 -  Local variables 
.head 4 +  Actions 
.head 5 -  !
.head 5 +  If not SalIsNull(dfOrden)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CODIGO = :dfOrden"
.head 6 -  Set params[0] = SalNumberToStrX(dfOrden,0)
.head 5 +  Else 
.head 6 -  Set params[0] = STRING_Null
.head 5 +  If not SalIsNull(cmbUsuariosOS)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.AUTORIZADO_POR = :cmbUsuariosOS.nCodigo"
.head 6 -  Set params[1] = SalNumberToStrX(cmbUsuariosOS.nCodigo,0)
.head 5 +  Else 
.head 6 -  Set params[1] = STRING_Null
.head 5 +  If not SalIsNull(cmbCiudades)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_CIUDAD_GEO = :cmbCiudades.nCodigo"
.head 6 -  Set params[2] = SalNumberToStrX(cmbCiudades.nCodigo,0)
.head 5 +  Else 
.head 6 -  Set params[2] = STRING_Null
.head 5 +  If not SalIsNull(cmbEspecialidad)
.head 6 -  !
.head 6 -  ! Set sConsulta = sConsulta || " AND M.COD_ESPECIALIDAD = :cmbEspecialidad.nCodigo"
.head 6 -  Set params[3] = SalNumberToStrX(cmbEspecialidad.nCodigo,0)
.head 5 +  Else 
.head 6 -  Set params[3] = STRING_Null
.head 5 +  If not SalIsNull(cmbMedicosOS)
.head 6 -  ! -------Obtener el codigo medico
.head 6 -  Set sSQL = "select
		COD_MEDICO
    	from
		MEDICOS
	where
		NOMBRE = :cmbMedicosOS
  	into
		:nMedico"
.head 6 -  Call SqlImmediate(  sSQL)
.head 6 -  Call SqlClearImmediate( )
.head 6 -  !
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_MEDICO = :nMedico"
.head 6 -  Set params[4] = SalNumberToStrX(nMedico,0)
.head 5 +  Else 
.head 6 -  Set params[4] = STRING_Null
.head 5 +  If not SalIsNull(cmbCategServiciosOS)
.head 6 -  !
.head 6 -  ! Set sConsulta = sConsulta || " AND O.COD_CATEGORIA = :cmbCategServiciosOS.sCodigos"
.head 6 -  Set params[5] = cmbCategServiciosOS.sCodigos
.head 5 +  Else 
.head 6 -  Set params[5] = STRING_Null
.head 5 +  If not SalIsNull(cmbServicios)
.head 6 -  !
.head 6 -  ! -------Obtener el codigo del servicio
.head 6 -  Set sSQL = "select
		COD_SERVICIO
    	from
		SERVICIOS
	where
		COD_CATEGORIA = :cmbCategServiciosOS.sCodigos AND
		EN_USO = 1 AND
		NOMBRE = :cmbServicios 
  	into
		:sServicio"
.head 6 -  Call SqlImmediate(  sSQL)
.head 6 -  Call SqlClearImmediate( )
.head 6 -  !
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_SERVICIO = :sServicio"
.head 6 -  Set params[6] = sServicio
.head 5 +  Else 
.head 6 -  Set params[6] = STRING_Null
.head 5 +  If not SalIsNull(dfPaciente)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.COD_PACIENTE = :dfPaciente"
.head 6 -  Set params[7] = dfPaciente
.head 5 +  Else 
.head 6 -  Set params[7] = STRING_Null
.head 5 +  If not SalIsNull(dfPacienteCorrel)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CORREL_PACIENTE = :dfPacienteCorrel"
.head 6 -  Set params[8] = dfPacienteCorrel
.head 5 +  Else 
.head 6 -  Set params[8] = STRING_Null
.head 5 +  If not SalIsNull(dfNombre)
.head 6 -  ! Set sConsulta=sConsulta || "	AND	P.PRIMER_NOM   like '%" || dfNombre || "%' "
.head 6 -  Set params[9] = dfNombre
.head 5 +  Else 
.head 6 -  Set params[9] = STRING_Null
.head 5 +  If not SalIsNull(dfApellido)
.head 6 -  ! Set sConsulta=sConsulta || "	AND	P.PRIMER_APE   like '%" || dfApellido || "%' "
.head 6 -  Set params[10] = dfApellido
.head 5 +  Else 
.head 6 -  Set params[10] = STRING_Null
.head 5 +  If not SalIsNull(cmbEmpresa)
.head 6 -  ! Set sConsulta=sConsulta || "	AND	P.COD_EMPRESA = :cmbEmpresa.nCodigo "
.head 6 -  Set params[11] = SalNumberToStrX(cmbEmpresa.nCodigo,0)
.head 5 +  Else 
.head 6 -  Set params[11] = STRING_Null
.head 5 +  If not SalIsNull(cmbDepto)
.head 6 -  ! Set sConsulta=sConsulta || "	AND	P.CODIGO_DEPTO = :cmbDepto.nCodigo "
.head 6 -  Set params[12] = SalNumberToStrX(cmbDepto.nCodigo ,0)
.head 5 +  Else 
.head 6 -  Set params[12] = STRING_Null
.head 5 +  If SalIsButtonChecked(cbFechaDesde)
.head 6 -  !
.head 6 -  Set dfFechaDesde = ccFechaDesde.GetSystemTime()
.head 6 -  ! Set sConsulta=sConsulta || "	AND	O.FECHA >= :dfFechaDesde "

.head 6 -  Set params[13] = SalFmtFormatDateTime ( dfFechaDesde, 'dd/MM/yyyy' )
.head 5 +  Else 
.head 6 -  Set params[13] = STRING_Null
.head 5 +  If SalIsButtonChecked(cbFechaHasta)
.head 6 -  !
.head 6 -  Set dfFechaHasta = ccFechaHasta.GetSystemTime()
.head 6 -  ! Set sConsulta=sConsulta || "	AND O.FECHA <=  :dfFechaHasta "
.head 6 -  Set params[14] = SalFmtFormatDateTime ( dfFechaHasta, 'dd/MM/yyyy' )
.head 5 +  Else 
.head 6 -  Set params[14] = STRING_Null
.head 2 +  Window Parameters
.head 3 -  String: sCodPaciente
.head 3 -  String: sCorrel
.head 2 +  Window Variables
.head 3 -  String: sSQL
.head 3 -  Number: nMedico
.head 3 -  String: sMedico
.head 3 -  String: sServicio
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalBringWindowToTop(dlgConsultaOrdenesPac)
.head 4 -  !
.head 4 -  !
.head 4 -  Call SalWaitCursor( TRUE )
.head 4 -  Set sSQL = tblConstructQuery()
.head 4 -  Call SalTblPopulate( tblOrdenes, hSql1, sSQL, TBL_FillAll)
.head 4 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  Set dfTotal=ContarFilas( tblOrdenes )
.head 4 -  Set dfSumatoria = SalTblColumnSum( tblOrdenes, 6, 0, 0 )
.head 4 -  Call SalWaitCursor( FALSE )
.head 1 +  Dialog Box: dlgReporteLabCtrlReactivos
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Estadistica de Laboratorio
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  4.867"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 1.964"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  Pushbutton: pbImprimir
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.917"
.head 5 -  Top:    0.56"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Set strRepTitle = "Control de Reactivos por Fecha"
.head 6 -  Set strReportName = strRepPath||"\\ControlReactivos.rpt"
.head 6 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params)
.head 3 -  Frame
.head 4 -  Resource Id: 10308
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    0.321"
.head 5 -  Width:  3.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.0"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: 3D Shadow Color
.head 4 -  Background Color: Default
.head 2 +  Functions
.head 3 +  Function: ConnectCursorToLab
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 +  When SqlError
.head 6 -  Call ProcesarErrorMSQ()
.head 6 -  Return FALSE
.head 5 +  If SqlConnect( hSqlLab )
.head 6 -  Call SqlSetIsolationLevel( hSqlLab,'RL' )
.head 6 -  Call SqlSetParameter (hSqlLab, DBP_AUTOCOMMIT, 1, "")
.head 6 -  Call SqlSetResultSet( hSqlLab, FALSE )
.head 6 -  Return TRUE
.head 5 +  Else
.head 6 -  Call SalMessageBox("No se pudo realizar la conexion a LABORATORIO","ERROR",MB_Ok)
.head 6 -  Return FALSE
.head 3 +  Function: DisconnectFromLab
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Call SqlDisconnect (hSqlLab)
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 3 -  !
.head 3 -  Sql Handle: hSqlLab
.head 3 -  Boolean: bConected
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalBringWindowToTop( hWndForm )
.head 4 -  Set SQLInitialDB = strODBCLab
.head 4 -  Set SqlDatabase      = strODBCLab
.head 4 -  Set SqlUser 	= ""
.head 4 -  Set SqlPassword 	= ""
.head 4 -  !
.head 4 +  If ConnectCursorToLab()
.head 5 -  !
.head 5 -  Set bConected = TRUE
.head 3 +  On SAM_Destroy
.head 4 -  !
.head 4 +  If bConected
.head 5 -  !
.head 5 -  Call DisconnectFromLab()
.head 4 -  !
.head 4 -  Set SQLInitialDB = 'SYBASE'
.head 4 -  Set SqlDatabase      = sGlobalDB
.head 4 -  Set SqlUser 	= "sa"
.head 4 -  Set SqlPassword 	= "asaber"
.head 1 +  Form Window: frmLabPruebasReact
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Asignacion de Pruebas a Reactivos
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  8.433"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 4.762"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 +  Menu
.head 3 +  Popup Menu: Opciones
.head 4 -  Resource Id: 33511
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 4 +  Menu Item: &Agregar Prueba
.head 5 -  Resource Id: 33512
.head 5 -  Keyboard Accelerator: Ins
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbAdd, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: &Eliminar Prueba
.head 5 -  Resource Id: 33513
.head 5 -  Keyboard Accelerator: Del
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbRemove, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Group Box: Reactivo
.head 4 -  Resource Id: 33508
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    0.905"
.head 5 -  Width:  6.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.667"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Line
.head 4 -  Resource Id: 33509
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Coordinates
.head 5 -  Begin X:  0.183"
.head 5 -  Begin Y:  0.738"
.head 5 -  End X:  7.583"
.head 5 -  End Y:  0.738"
.head 4 -  Visible? Yes
.head 4 -  Line Style: Etched
.head 4 -  Line Thickness: 1
.head 4 -  Line Color: 3D Shadow Color
.head 3 +  Data Field: dfCodReactivo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.85"
.head 6 -  Top:    1.179"
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_KillFocus
.head 6 -  !
.head 6 +  If not SalIsNull (dfCodReactivo)
.head 7 -  !
.head 7 -  Set sSQL = "SELECT 
    		Descripcion
	FROM    		
    		Examenes
	WHERE
    		Cod_Examen = :dfCodReactivo
	INTO 
		:cmbReactivo" 
.head 7 -  Call SqlExists(sSQL , bExistsCodReactivo)
.head 7 -  Call SqlClearImmediate()
.head 7 +  If not bExistsCodReactivo
.head 8 -  Call SalMessageBox("No existe el reactivo!","ERROR",MB_Ok)
.head 8 -  Set dfCodReactivo=NUMBER_Null
.head 8 -  Set cmbReactivo=''
.head 7 -  !
.head 7 -  Call LoadData()
.head 3 +  Combo Box: cmbReactivo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatComboBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.15"
.head 5 -  Top:    1.179"
.head 5 -  Width:  5.1"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.048"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_DropDown
.head 6 -  !
.head 6 -  Set sReactivo = cmbReactivo
.head 6 -  Set sSQL = "
			SELECT
				Descripcion
			FROM
				Examenes
			WHERE
				Descripcion <> ''			
			ORDER BY
				Descripcion"
.head 6 -  ! Call SalListClear(cmbMedicosOS)
.head 6 -  Call SalListPopulate(cmbReactivo, hSqlLab, sSQL)
.head 6 -  !
.head 6 -  Call SalListSelectString( hWndItem, -1,sReactivo)
.head 5 +  On SAM_KillFocus
.head 6 -  !
.head 6 -  !
.head 6 -  Set sSQL = "
	SELECT 
    		Cod_Examen
	FROM
    		Examenes
	WHERE
    		 Descripcion = :cmbReactivo
	INTO 
		:dfCodReactivo
	"
.head 6 -  Call SqlImmediate(sSQL)
.head 6 -  Call SqlClearImmediate( )
.head 6 -  !
.head 6 -  Call LoadData()
.head 3 -  Group Box: Pruebas Asociadas
.head 4 -  Resource Id: 33510
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    1.821"
.head 5 -  Width:  6.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.667"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatChildTable
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.983"
.head 6 -  Top:    2.071"
.head 6 -  Width:  6.3"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 1.333"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: Class Default
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colCodPrueba
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: CodPrueba
.head 6 -  Visible? No
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Left
.head 6 -  Width:  1.2"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_KillFocus
.head 8 -  !
.head 8 +  If not SalIsNull (colCodPrueba)
.head 9 -  !
.head 9 -  Set sSQL = "SELECT 
    		Descripcion
	FROM    		
    		Examenes
	WHERE
    		Cod_Examen = :colCodPrueba
	INTO 
		:colPrueba" 
.head 9 -  Call SqlExists(sSQL , bExistsPrueba)
.head 9 -  Call SqlClearImmediate()
.head 9 +  If not bExistsPrueba
.head 10 -  Call SalMessageBox("No existe la prueba!","ERROR",MB_Ok)
.head 10 -  Set colCodPrueba=NUMBER_Null
.head 10 -  Set colPrueba=''
.head 5 +  Column: colPrueba
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Nombre de la Prueba
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  5.533"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Drop Down List
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? Yes
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_DropDown
.head 8 -  !
.head 8 -  Set sPrueba = colPrueba
.head 8 -  Set sSQL = "
			SELECT
				Descripcion
			FROM
				Examenes
			WHERE
				Descripcion <> ''			
			ORDER BY
				Descripcion"
.head 8 -  ! Call SalListClear(cmbMedicosOS)
.head 8 -  Call SalListPopulate(colPrueba, hSqlLab, sSQL)
.head 8 -  !
.head 8 -  Call SalListSelectString( hWndItem, -1,sPrueba)
.head 7 +  On SAM_Validate
.head 8 -  !
.head 8 -  !
.head 8 -  Set sSQL = "
	SELECT 
    		Cod_Examen
	FROM
    		Examenes
	WHERE
    		 Descripcion = :colPrueba
	INTO 
		:colCodPrueba
	"
.head 8 -  Call SqlImmediate(sSQL)
.head 8 -  Call SqlClearImmediate( )
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbAdd
.data CLASSPROPSSIZE
0000: 1900
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000800 74616250726F6300 00
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.3"
.head 5 -  Top:    2.036"
.head 5 -  Width:  0.45"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.35"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\edit_add15.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalSetFocus(tbl1)
.head 6 -  Call SalTblSetFocusCell( tbl1, SalTblInsertRow( tbl1, TBL_MaxRow ), tbl1.colPrueba, 0, 1 )
.head 6 -  !
.head 3 +  Pushbutton: pbRemove
.data CLASSPROPSSIZE
0000: 1B00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000800 74616250726F6300 000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.3"
.head 5 -  Top:    2.405"
.head 5 -  Width:  0.45"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.345"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\edit_remove15.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  ! On SAM_Click
.head 6 -  !
.head 6 -  Call SalTblQueryFocus(  tbl1,nRow, tbl1.colPrueba)
.head 6 +  If SalTblQueryRowFlags( tbl1,nRow,ROW_MarkDeleted)
.head 7 -  Call SalTblSetRowFlags( tbl1,nRow, ROW_MarkDeleted,FALSE)
.head 6 +  Else 
.head 7 +  If SalTblQueryRowFlags( tbl1,nRow,ROW_New)
.head 8 -  Call SalTblDeleteRow( tbl1, nRow, TBL_Adjust )
.head 7 +  Else 
.head 8 -  Call SalTblSetRowFlags( tbl1,nRow, ROW_MarkDeleted,TRUE)
.head 6 -  Call SalTblSetFocusCell( tbl1, nRow, tbl1.colPrueba, 0, 1 )
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call SalTblQueryFocus(  tbl1,nRow, tbl1.colPrueba)
.head 6 -  Call SalTblDeleteRow( tbl1, nRow, TBL_Adjust )
.head 3 +  Pushbutton: pbGuardar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.317"
.head 5 -  Top:    0.036"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filesave.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If SalIsNull(dfCodReactivo)
.head 7 -  !
.head 7 -  Call SalMessageBox( "Debe especificar el codigo del reactivo", "ERROR", MB_Ok|MB_IconExclamation )
.head 7 -  Call SalSetFocus(dfCodReactivo)
.head 7 -  Return FALSE
.head 6 +  If SalIsNull(cmbReactivo)
.head 7 -  !
.head 7 -  Call SalMessageBox( "Debe especificar el nombre del reactivo", "ERROR", MB_Ok|MB_IconExclamation )
.head 7 -  Call SalSetFocus(cmbReactivo)
.head 7 -  Return FALSE
.head 6 -  !
.head 6 -  ! --------------Verificar si el codigo de control ya existe
.head 6 -  Call SalWaitCursor(TRUE)
.head 6 -  !
.head 6 -  ! ----------Ejecutar la actualizacion de datos solamente si se han modificado las pruebas del reactivo
.head 6 +  If SalTblAnyRows (tbl1, ROW_New|ROW_MarkDeleted|ROW_Edited, 0)
.head 7 -  !
.head 7 -  Call SalTblSetFlagsAnyRows( tbl1, ROW_New, TRUE, ROW_UnusedFlag1, 0 )
.head 7 -  !
.head 7 -  Call DoDelete(  )
.head 7 -  Call DoInsert(  )
.head 7 -  !
.head 7 -  Call LoadData()
.head 7 -  !
.head 7 -  Call SalMessageBox ("Los datos han sido almacenados!","CONFIRMACION",MB_Ok)
.head 6 -  !
.head 6 -  Call SalWaitCursor(FALSE)
.head 3 +  Pushbutton: pbBuscarOrden
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.017"
.head 5 -  Top:    0.036"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F3
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If SalIsNull(dfCodReactivo)
.head 7 -  !
.head 7 -  Call SalMessageBox( "Debe especificar el codigo del reactivo", "ERROR", MB_Ok|MB_IconExclamation )
.head 7 -  Call SalSetFocus(dfCodReactivo)
.head 7 -  Return FALSE
.head 6 +  If SalIsNull(cmbReactivo)
.head 7 -  !
.head 7 -  Call SalMessageBox( "Debe especificar el nombre del reactivo", "ERROR", MB_Ok|MB_IconExclamation )
.head 7 -  Call SalSetFocus(cmbReactivo)
.head 7 -  Return FALSE
.head 6 -  !
.head 6 -  Call SalWaitCursor(TRUE)
.head 6 -  !
.head 6 -  Call LoadData()
.head 6 -  !
.head 6 -  !
.head 6 -  Call SalWaitCursor(FALSE)
.head 2 +  Functions
.head 3 +  Function: ConnectCursorToLab
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 +  When SqlError
.head 6 -  Call ProcesarErrorMSQ()
.head 6 -  Return FALSE
.head 5 +  If SqlConnect( hSqlLab )
.head 6 -  Call SqlSetIsolationLevel( hSqlLab,'RL' )
.head 6 -  Call SqlSetParameter (hSqlLab, DBP_AUTOCOMMIT, 1, "")
.head 6 -  Call SqlSetResultSet( hSqlLab, FALSE )
.head 6 -  Return TRUE
.head 5 +  Else
.head 6 -  Call SalMessageBox("No se pudo realizar la conexion a LABORATORIO","ERROR",MB_Ok)
.head 6 -  Return FALSE
.head 3 +  Function: DisconnectFromLab
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Call SqlDisconnect (hSqlLab)
.head 3 +  Function: LoadData
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set sSQL = "
	select	
		A.Cod_Examen,
                	B.Descripcion
	from	 
		Pruebas_Reactivos 	A, 
		Examenes 		B
	where	
		A.Cod_Reactivo		=	:dfCodReactivo	AND 
		A.Cod_Examen		=	B.Cod_Examen		
	order by 
		B.Descripcion"
.head 5 -  Call SalTblPopulate(tbl1, hSqlLab, sSQL ,TBL_FillAll)
.head 5 -  Call SalTblSetFlagsAnyRows( tbl1, ROW_UnusedFlag1, TRUE, 0, 0 )
.head 3 +  Function: DoInsert
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SqlPrepare(hSqlLab,"insert  into
			Pruebas_Reactivos 
				(
					Cod_Reactivo,
					Cod_Examen
				)
		values
				(
					
					:dfCodReactivo,					
					:tbl1.colCodPrueba
				)")
.head 5 -  Call SalTblDoInserts(tbl1,hSqlLab,TRUE)
.head 5 -  !
.head 3 +  Function: DoDelete
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set sSQL = "
	DELETE    		
	FROM
    		Pruebas_Reactivos
	WHERE
    		 Cod_Reactivo = :dfCodReactivo"
.head 5 -  Call SqlImmediate(sSQL)
.head 5 -  Call SqlClearImmediate( )
.head 5 -  !
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 3 -  String: sSQL
.head 3 -  String: sReactivo
.head 3 -  String: sPrueba
.head 3 -  !
.head 3 -  Sql Handle: hSqlLab
.head 3 -  Boolean: bConected
.head 3 -  Boolean: bExistsCodReactivo
.head 3 -  Boolean: bExistsPrueba
.head 3 -  Boolean: bExistsControl
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalCenterWindow( hWndForm )
.head 4 -  Set SQLInitialDB = strODBCLab
.head 4 -  Set SqlDatabase      = strODBCLab
.head 4 -  Set SqlUser 	= ""
.head 4 -  Set SqlPassword 	= ""
.head 4 -  !
.head 4 +  If ConnectCursorToLab()
.head 5 -  !
.head 5 -  Set bConected = TRUE
.head 3 +  On SAM_Destroy
.head 4 -  !
.head 4 +  If bConected
.head 5 -  !
.head 5 -  Call DisconnectFromLab()
.head 4 -  !
.head 4 -  Set SQLInitialDB = 'SYBASE'
.head 4 -  Set SqlDatabase      = sGlobalDB
.head 4 -  Set SqlUser 	= "sa"
.head 4 -  Set SqlPassword 	= "asaber"
.head 1 +  Dialog Box: dlgReporteCostos
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Reporte de Costos de Facturación Asegurados
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  6.633"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 5.464"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  ! cmbBaseCodigo: cmbEmpresa
.winattr class Combo Box:
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.55"
.head 5 -  Top:    0.726"
.head 5 -  Width:  3.933"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.893"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.end
.head 4 -  List Initialization 
.head 4 +  Message Actions 
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 3 +  Combo Box: cmbEmpresa
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigoFiltrado
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.583"
.head 5 -  Top:    1.821"
.head 5 -  Width:  3.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.202"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 6 -  Set cmbEmpresa.sNombreFiltro='ESTADO'
.head 6 -  Set cmbEmpresa.nValorFiltro=1
.head 3 -  Background Text: Empresa
.head 4 -  Resource Id: 670
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.55"
.head 5 -  Top:    1.833"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: # Factura
.head 4 -  Resource Id: 40557
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.517"
.head 5 -  Top:    1.524"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Tipo de Atención
.head 4 -  Resource Id: 40558
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.517"
.head 5 -  Top:    2.274"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.381"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Check Box: cbFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Desde
.head 4 -  Window Location and Size
.head 5 -  Left: 0.717"
.head 5 -  Top:    3.845"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cbFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Hasta
.head 4 -  Window Location and Size
.head 5 -  Left: 0.717"
.head 5 -  Top:    4.286"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Custom Control: ccFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.65"
.head 6 -  Top:    3.845"
.head 6 -  Width:  3.933"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Custom Control: ccFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.65"
.head 6 -  Top:    4.286"
.head 6 -  Width:  3.933"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbImprimir
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.117"
.head 5 -  Top:    0.321"
.head 5 -  Width:  0.65"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.55"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  ! ----------Setear parametros generales de los reportes
.head 6 -  !
.head 6 +  If not SalIsNull(cmbEmpresa)
.head 7 -  ! Set sConsulta=sConsulta || "	AND	P.COD_EMPRESA = :cmbEmpresa.nCodigo "
.head 7 -  Set params[0] = '1'
.head 7 -  Set params[1] = SalNumberToStrX(cmbEmpresa.nCodigo,0)
.head 6 +  Else
.head 7 -  Set params[0] = '0'
.head 6 +  If SalIsButtonChecked(cbFechaDesde)
.head 7 -  !
.head 7 -  Set dfFechaDesde = ccFechaDesde.GetSystemTime()
.head 7 -  ! Set sConsulta=sConsulta || "	AND	O.FECHA >= :dfFechaDesde "

.head 7 -  Set params[2] = '1'
.head 7 -  Set params[3] = SalFmtFormatDateTime ( dfFechaDesde, 'dd/MM/yyyy' )
.head 6 +  Else
.head 7 -  Set params[2] = '0'
.head 6 +  If SalIsButtonChecked(cbFechaHasta)
.head 7 -  !
.head 7 -  Set dfFechaHasta = ccFechaHasta.GetSystemTime()
.head 7 -  ! Set sConsulta=sConsulta || "	AND O.FECHA <=  :dfFechaHasta "
.head 7 -  Set params[4] = '1'
.head 7 -  Set params[5] = SalFmtFormatDateTime ( dfFechaHasta, 'dd/MM/yyyy' )
.head 6 +  Else
.head 7 -  Set params[4] = '0'
.head 6 +  If not SalIsNull(dfFactura)
.head 7 -  ! Set sConsulta=sConsulta || "	AND	P.COD_EMPRESA = :cmbEmpresa.nCodigo "
.head 7 -  Set params[6] = '1'
.head 7 -  Set params[7] = dfFactura
.head 6 +  Else
.head 7 -  Set params[6] = '0'
.head 6 +  If not SalIsNull(cmbTipo)
.head 7 -  ! Set sConsulta=sConsulta || "	AND	P.COD_EMPRESA = :cmbEmpresa.nCodigo "
.head 7 -  Set params[8] = '1'
.head 7 -  Set params[9] = cmbTipo
.head 6 +  Else
.head 7 -  Set params[8] = '0'
.head 7 -  Set params[9] = '0'
.head 6 +  If rbFechaIng = TRUE
.head 7 -  Set params[10] = '0'
.head 6 +  Else If rbFechaReg = TRUE
.head 7 -  Set params[10] = '1'
.head 6 -  !
.head 6 -  !
.head 6 +  If rbPorFactura =  TRUE
.head 7 -  !
.head 7 +  If SalIsButtonChecked(cbSumarizada)
.head 8 -  !
.head 8 -  Set params[11] = '1'
.head 7 +  Else
.head 8 -  Set params[11] = '0'
.head 7 +  If not SalIsNull(cmbCategServiciosOS)
.head 8 -  !
.head 8 -  Set params[12] = '1'
.head 8 -  Set params[13] = cmbCategServiciosOS.sCodigos
.head 7 +  Else
.head 8 -  Set params[12] = '0'
.head 8 -  Set params[13] = '0'
.head 7 -  !
.head 7 -  Set strRepTitle = " Reporte Costos de Facturacion "
.head 7 -  !
.head 7 -  Set strReportName = strRepPath||"\\FacturacionCostos.rpt"
.head 7 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 6 +  Else If rbPorMedico = TRUE
.head 7 -  !
.head 7 -  !
.head 7 -  Set strRepTitle = " Reporte Costos de Facturacion "
.head 7 -  !
.head 7 -  Set strReportName = strRepPath||"\\FactCostosGroupByDr.rpt"
.head 7 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 6 +  Else If rbPorCategoria = TRUE
.head 7 -  !
.head 7 +  If SalIsButtonChecked(cbSumarizada)
.head 8 -  !
.head 8 -  Set params[11] = '1'
.head 7 +  Else
.head 8 -  Set params[11] = '0'
.head 7 +  If not SalIsNull(cmbCategServiciosOS)
.head 8 -  !
.head 8 -  Set params[12] = '1'
.head 8 -  Set params[13] = cmbCategServiciosOS.sCodigos
.head 7 +  Else
.head 8 -  Set params[12] = '0'
.head 8 -  Set params[13] = '0'
.head 7 -  !
.head 7 -  Set strRepTitle = " Reporte Costos de Facturacion "
.head 7 -  !
.head 7 -  Set strReportName = strRepPath||"\\FactCostosGroupByCateg.rpt"
.head 7 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 3 +  Data Field: dfFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.783"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.983"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Combo Box: cmbTipo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.583"
.head 5 -  Top:    2.262"
.head 5 -  Width:  3.933"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.202"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? No
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Default
.head 4 -  Sorted? Yes
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Call SalListAdd( cmbTipo, "CONSULTA EXTERNA" )
.head 6 -  Call SalListAdd( cmbTipo, "HOSPITALIZACION" )
.head 6 -  Call SalListAdd( cmbTipo, "EMERGENCIA" )
.head 3 +  Data Field: dfFactura
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: String
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.583"
.head 6 -  Top:    1.488"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: 99999999999
.head 4 -  Message Actions
.head 3 +  Radio Button: rbFechaIng
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Fecha Ingreso
.head 4 -  Window Location and Size
.head 5 -  Left: 1.783"
.head 5 -  Top:    3.321"
.head 5 -  Width:  1.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbFechaReg
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Fecha Registro
.head 4 -  Window Location and Size
.head 5 -  Left: 3.583"
.head 5 -  Top:    3.321"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cbSumarizada
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Sumarizada
.head 4 -  Window Location and Size
.head 5 -  Left: 3.283"
.head 5 -  Top:    1.488"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 -  Group Box: Tipo de Fecha
.head 4 -  Resource Id: 10213
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.483"
.head 5 -  Top:    3.071"
.head 5 -  Width:  4.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.583"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Tipo de Reporte
.head 4 -  Resource Id: 10215
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    0.155"
.head 5 -  Width:  4.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.917"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Filtros a Aplicar
.head 4 -  Resource Id: 10214
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    1.155"
.head 5 -  Width:  5.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.75"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Radio Button: rbPorFactura
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Por Factura
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    0.488"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If rbPorFactura=TRUE
.head 7 -  !
.head 7 -  Call SalEnableWindow(cbSumarizada)
.head 7 -  Call SalEnableWindow(cmbCategServiciosOS)
.head 3 +  Radio Button: rbPorMedico
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Por Médico
.head 4 -  Window Location and Size
.head 5 -  Left: 3.483"
.head 5 -  Top:    0.488"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If rbPorMedico=TRUE
.head 7 -  !
.head 7 -  Call SalDisableWindow(cbSumarizada)
.head 7 -  Call SalDisableWindow(cmbCategServiciosOS)
.head 3 +  Radio Button: rbPorCategoria
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Por Categoría
.head 4 -  Window Location and Size
.head 5 -  Left: 1.883"
.head 5 -  Top:    0.488"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If rbPorCategoria=TRUE
.head 7 -  !
.head 7 -  Call SalEnableWindow(cbSumarizada)
.head 7 -  Call SalEnableWindow(cmbCategServiciosOS)
.head 3 +  Combo Box: cmbCategServiciosOS
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.583"
.head 5 -  Top:    2.679"
.head 5 -  Width:  3.9"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.893"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbCategServiciosOS.nCaso = 2
.head 6 -  Set cmbCategServiciosOS.sTabla = 'CATEG_SERVICIOS'
.head 6 -  Set cmbCategServiciosOS.sNombre='NOMBRE'
.head 6 -  Set cmbCategServiciosOS.sCodigo='COD_CATEGORIA'
.head 3 -  Background Text: Categoria de Servicio
.head 4 -  Resource Id: 16633
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    2.679"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.393"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  Call SalBringWindowToTop( hWndForm )
.head 1 +  Dialog Box: dlgReporteDuplicados
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title:
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  7.25"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 1.786"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  ! cmbBaseCodigo: cmbEmpresa
.winattr class Combo Box:
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.55"
.head 5 -  Top:    0.143"
.head 5 -  Width:  3.933"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.738"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.end
.head 4 -  List Initialization 
.head 4 +  Message Actions 
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 3 +  Combo Box: cmbEmpresa
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigoFiltrado
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.183"
.head 5 -  Top:    1.655"
.head 5 -  Width:  2.5"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.655"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 6 -  Set cmbEmpresa.sNombreFiltro='ESTADO'
.head 6 -  Set cmbEmpresa.nValorFiltro=1
.head 3 -  Background Text: Empresa
.head 4 -  Resource Id: 56328
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.55"
.head 5 -  Top:    0.167"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Check Box: cbFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Desde
.head 4 -  Window Location and Size
.head 5 -  Left: 0.717"
.head 5 -  Top:    0.429"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cbFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Hasta
.head 4 -  Window Location and Size
.head 5 -  Left: 0.717"
.head 5 -  Top:    0.869"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Custom Control: ccFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.65"
.head 6 -  Top:    0.429"
.head 6 -  Width:  3.933"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Custom Control: ccFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.65"
.head 6 -  Top:    0.869"
.head 6 -  Width:  3.933"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbImprimir
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.017"
.head 5 -  Top:    0.155"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If not SalIsNull(cmbEmpresa)
.head 7 -  ! Set sConsulta=sConsulta || "	AND	P.COD_EMPRESA = :cmbEmpresa.nCodigo "
.head 7 -  Set params[0] = '1'
.head 7 -  Set params[1] = SalNumberToStrX(cmbEmpresa.nCodigo,0)
.head 6 +  Else
.head 7 -  Set params[0] = '0'
.head 6 +  If SalIsButtonChecked(cbFechaDesde)
.head 7 -  !
.head 7 -  Set dfFechaDesde = ccFechaDesde.GetSystemTime()
.head 7 -  ! Set sConsulta=sConsulta || "	AND	O.FECHA >= :dfFechaDesde "

.head 7 -  Set params[2] = '1'
.head 7 -  Set params[3] = SalFmtFormatDateTime ( dfFechaDesde, 'dd/MM/yyyy' )
.head 6 +  Else
.head 7 -  Set params[2] = '0'
.head 6 +  If SalIsButtonChecked(cbFechaHasta)
.head 7 -  !
.head 7 -  Set dfFechaHasta = ccFechaHasta.GetSystemTime()
.head 7 -  ! Set sConsulta=sConsulta || "	AND O.FECHA <=  :dfFechaHasta "
.head 7 -  Set params[4] = '1'
.head 7 -  Set params[5] = SalFmtFormatDateTime ( dfFechaHasta, 'dd/MM/yyyy' )
.head 6 +  Else
.head 7 -  Set params[4] = '0'
.head 6 -  !
.head 6 -  Set strRepTitle = " Reporte Costos de Facturacion "
.head 6 -  !
.head 6 -  Set strReportName = strRepPath||"\\FacturacionCostos.rpt"
.head 6 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 3 +  Data Field: dfFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.783"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.983"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Frame
.head 4 -  Resource Id: 56329
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    0.071"
.head 5 -  Width:  6.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Solid
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  Call SalBringWindowToTop( hWndForm )
.head 1 +  Dialog Box: dlgReporteSobrepasanMonto
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title:
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  7.25"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 1.786"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  ! cmbBaseCodigo: cmbEmpresa
.winattr class Combo Box:
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.55"
.head 5 -  Top:    0.393"
.head 5 -  Width:  3.833"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.821"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.end
.head 4 -  List Initialization 
.head 4 +  Message Actions 
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 3 +  Combo Box: cmbEmpresa
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigoFiltrado
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.55"
.head 5 -  Top:    0.393"
.head 5 -  Width:  3.833"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.821"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 6 -  Set cmbEmpresa.sNombreFiltro='ESTADO'
.head 6 -  Set cmbEmpresa.nValorFiltro=1
.head 3 -  Background Text: Empresa
.head 4 -  Resource Id: 37979
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.55"
.head 5 -  Top:    0.417"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbImprimir
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.017"
.head 5 -  Top:    0.155"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If not SalIsNull(cmbEmpresa)
.head 7 -  Set params[0] = '1'
.head 7 -  Set params[1] = SalNumberToStrX(cmbEmpresa.nCodigo,0)
.head 6 +  Else
.head 7 -  Set params[0] = '0'
.head 7 -  Set params[1] = '0'
.head 6 -  !
.head 6 -  Set strRepTitle = " Reporte Asegurados Sobrepasan Monto Asegurado "
.head 6 -  !
.head 6 -  Set strReportName = strRepPath||"\\MontoDisponible.rpt"
.head 6 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 3 +  Data Field: dfFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.783"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.983"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Frame
.head 4 -  Resource Id: 37980
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    0.071"
.head 5 -  Width:  6.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Solid
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  Call SalBringWindowToTop( hWndForm )
.head 1 +  Dialog Box: dlgReporteCostosPrivados
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title:
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  7.4"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 2.845"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  ! cmbBaseCodigo: cmbEmpresa
.winattr class Combo Box:
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.55"
.head 5 -  Top:    0.726"
.head 5 -  Width:  3.933"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.893"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.end
.head 4 -  List Initialization 
.head 4 +  Message Actions 
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 3 +  Combo Box: cmbEmpresa
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigoFiltrado
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.583"
.head 5 -  Top:    0.738"
.head 5 -  Width:  3.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.512"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 6 -  Set cmbEmpresa.sNombreFiltro='ESTADO'
.head 6 -  Set cmbEmpresa.nValorFiltro=1
.head 3 -  Background Text: Empresa
.head 4 -  Resource Id: 19266
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.55"
.head 5 -  Top:    0.75"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: # Factura
.head 4 -  Resource Id: 19267
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.517"
.head 5 -  Top:    0.274"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Check Box: cbFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Desde
.head 4 -  Window Location and Size
.head 5 -  Left: 0.617"
.head 5 -  Top:    1.095"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cbFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Hasta
.head 4 -  Window Location and Size
.head 5 -  Left: 0.617"
.head 5 -  Top:    1.536"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Custom Control: ccFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.55"
.head 6 -  Top:    1.095"
.head 6 -  Width:  3.933"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Custom Control: ccFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.55"
.head 6 -  Top:    1.536"
.head 6 -  Width:  3.933"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbImprimir
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.017"
.head 5 -  Top:    0.155"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If not SalIsNull(cmbEmpresa)
.head 7 -  ! Set sConsulta=sConsulta || "	AND	P.COD_EMPRESA = :cmbEmpresa.nCodigo "
.head 7 -  Set params[0] = '1'
.head 7 -  Set params[1] = SalNumberToStrX(cmbEmpresa.nCodigo,0)
.head 6 +  Else
.head 7 -  Set params[0] = '0'
.head 6 +  If SalIsButtonChecked(cbFechaDesde)
.head 7 -  !
.head 7 -  Set dfFechaDesde = ccFechaDesde.GetSystemTime()
.head 7 -  ! Set sConsulta=sConsulta || "	AND	O.FECHA >= :dfFechaDesde "

.head 7 -  Set params[2] = '1'
.head 7 -  Set params[3] = SalFmtFormatDateTime ( dfFechaDesde, 'dd/MM/yyyy' )
.head 6 +  Else
.head 7 -  Set params[2] = '0'
.head 6 +  If SalIsButtonChecked(cbFechaHasta)
.head 7 -  !
.head 7 -  Set dfFechaHasta = ccFechaHasta.GetSystemTime()
.head 7 -  ! Set sConsulta=sConsulta || "	AND O.FECHA <=  :dfFechaHasta "
.head 7 -  Set params[4] = '1'
.head 7 -  Set params[5] = SalFmtFormatDateTime ( dfFechaHasta, 'dd/MM/yyyy' )
.head 6 +  Else
.head 7 -  Set params[4] = '0'
.head 6 +  If not SalIsNull(dfFactura)
.head 7 -  ! Set sConsulta=sConsulta || "	AND	P.COD_EMPRESA = :cmbEmpresa.nCodigo "
.head 7 -  Set params[6] = '1'
.head 7 -  Set params[7] = dfFactura
.head 6 +  Else
.head 7 -  Set params[6] = '0'
.head 7 -  Set params[7] = '0'
.head 6 -  !
.head 6 -  Set strRepTitle = " Reporte Costos de Facturacion "
.head 6 -  !
.head 6 -  Set strReportName = strRepPath||"\\FacturacionCostosPrivados.rpt"
.head 6 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 3 +  Data Field: dfFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.783"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.983"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFactura
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: String
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.583"
.head 6 -  Top:    0.238"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: 99999999999
.head 4 -  Message Actions
.head 3 -  Frame
.head 4 -  Resource Id: 19268
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    0.071"
.head 5 -  Width:  6.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.333"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Solid
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  Call SalBringWindowToTop( hWndForm )
.head 1 +  Form Window: frmIncapacidades
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Incapacidades
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  15.167"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 7.726"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  Data Field: dfCod_Incapacidad
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.35"
.head 6 -  Top:    1.345"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Custom Control: ccFechaFrom
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 5.95"
.head 6 -  Top:    1.333"
.head 6 -  Width:  3.133"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 -  Background Text: Desde:
.head 4 -  Resource Id: 13600
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.25"
.head 5 -  Top:    1.369"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Custom Control: ccFechaTo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 9.717"
.head 6 -  Top:    1.333"
.head 6 -  Width:  3.167"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 -  Background Text: Hasta:
.head 4 -  Resource Id: 33029
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.117"
.head 5 -  Top:    1.393"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfPaciente
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.75"
.head 6 -  Top:    1.762"
.head 6 -  Width:  1.733"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  ! On SAM_KillFocus
.head 6 -  !
.head 6 +  If dfPaciente = "TEMPCOD"
.head 7 -  !
.head 7 -  Set dfPacienteCorrel = '0'
.head 7 -  Call SalEnableWindow(dfNombre)
.head 7 -  Call SalSetFocus(dfNombre)
.head 6 +  Else 
.head 7 -  !
.head 7 -  Call SalDisableWindow(dfNombre)
.head 3 +  Data Field: dfPacienteCorrel
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.65"
.head 6 -  Top:    1.762"
.head 6 -  Width:  1.833"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Call ActualizarPaciente()
.head 3 +  Data Field: dfNombre
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 8.75"
.head 6 -  Top:    1.762"
.head 6 -  Width:  4.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  ! On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Data Field: dfCodMedico
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.75"
.head 6 -  Top:    2.345"
.head 6 -  Width:  1.133"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_KillFocus
.head 6 -  !
.head 6 -  Call ActualizarMedico()
.head 3 -  Background Text: Medico
.head 4 -  Resource Id: 13601
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.95"
.head 5 -  Top:    2.381"
.head 5 -  Width:  0.667"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfNombreMedico
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.95"
.head 6 -  Top:    2.345"
.head 6 -  Width:  2.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfEspecialidadMedico
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 9.15"
.head 6 -  Top:    2.345"
.head 6 -  Width:  4.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Paciente:
.head 4 -  Resource Id: 13602
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.95"
.head 5 -  Top:    1.833"
.head 5 -  Width:  0.767"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Nota:
.head 4 -  Resource Id: 13603
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.65"
.head 5 -  Top:    5.357"
.head 5 -  Width:  0.633"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Multiline Field: mlObservaciones
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatMultilineField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  String Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Border? Class Default
.head 5 -  Word Wrap? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Window Location and Size
.head 6 -  Left: 0.65"
.head 6 -  Top:    5.595"
.head 6 -  Width:  9.933"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 1.143"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Custom Control: ccMes
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cMonthCalendarDemo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.317"
.head 6 -  Top:    1.119"
.head 6 -  Width:  3.133"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 2.143"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 +  Message Actions
.head 5 +  ! On CAL_MonthChange
.head 6 -  Call MarcarMes()
.head 6 -  ! Call SalMessageBox( "PRUEBA", "MENSAJE", 0 )
.head 5 +  On CAL_Click
.head 6 -  ! Set nCont=nCont+1
.head 6 +  ! If nCont=2
.head 7 -  Call CitasdelDia()
.head 6 +  ! If nCont>2
.head 7 -  Set nCont=0
.head 6 +  If bFirstCalLoad!=TRUE
.head 7 -  Call ccMes.GetSelRange(dtFechaFrom, dtFechaTo)
.head 7 -  Call ccFechaFrom.SetSystemTime(0,dtFechaFrom) 
.head 7 -  Call ccFechaTo.SetSystemTime(0,dtFechaTo) 
.head 7 -  Set sFechaFrom = SalFmtFormatDateTime ( dtFechaFrom,'MM/dd/yyyy')
.head 7 -  Set sFechaTo = SalFmtFormatDateTime ( dtFechaTo,'MM/dd/yyyy')
.head 7 -  Call SqlImmediate( "select DATEDIFF(dd,Convert(datetime,'"||sFechaFrom||"'),Convert(datetime,'"||sFechaTo||"'))+1 into :dfNumDias" )
.head 7 -  Call SqlClearImmediate( )
.head 6 -  Set bFirstCalLoad = FALSE
.head 3 +  Pushbutton: pbNuevo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.217"
.head 5 -  Top:    0.119"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filenew.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If bNuevaIncapacidad
.head 7 -  !
.head 7 -  Set sSQL = "   SELECT
			*
		FROM
			INCAPACIDADES
		WHERE
			COD_INCAPACIDAD   =   :dfCod_Incapacidad"
.head 7 -  Call SqlExists (sSQL, bExistsIncapacidad)
.head 7 -  Call SqlClearImmediate()
.head 7 +  If SalMessageBox("Ha seleccionado crear una nueva Incapacidad. Desea guardar los cambios antes de continuar?","Atencion",MB_YesNo)=IDYES
.head 8 -  !
.head 8 -  Call SalSendMsg (pbGuardar, SAM_Click, 0, 0)
.head 7 +  Else
.head 8 -  !
.head 8 +  If not bExistsIncapacidad
.head 9 -  !
.head 9 -  Set sSQL = 'DELETE FROM
		 IDENTITYS 
	WHERE 
		cod_tabla = 709 AND
		MAXIMO = :dfCod_Incapacidad'
.head 9 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 9 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 9 -  !
.head 9 -  Call ResetControls()
.head 9 -  Call LoadDefaultValues()
.head 9 -  !
.head 6 +  Else
.head 7 -  !
.head 7 -  Call ResetControls()
.head 7 -  Call LoadDefaultValues()
.head 7 -  ! !
.head 3 +  Pushbutton: pbGuardar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.817"
.head 5 -  Top:    0.119"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filesave.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  !
.head 6 +  If SalIsNull(dfCod_Incapacidad)
.head 7 -  !
.head 7 -  Call SalMessageBox("Debe especificar el No de Incapacidad", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 7 -  Return FALSE
.head 6 +  If SalIsNull(dfPaciente)
.head 7 -  !
.head 7 -  Call SalMessageBox( "Debe especificar el codigo del paciente", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 7 -  Call SalSetFocus(dfPaciente)
.head 7 -  Return FALSE
.head 6 +  Else
.head 7 -  !
.head 7 -  ! -----Cuando es codigo temporal siempre se debe especificar el nombre del paciente
.head 7 +  If dfPaciente = 'TEMPCOD'
.head 8 -  !
.head 8 +  If SalIsNull(dfNombre)
.head 9 -  !
.head 9 -  Call SalMessageBox( "Debe especificar el nombre del paciente temporal", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 9 -  Call SalSetFocus(dfNombre)
.head 9 -  Return FALSE
.head 6 +  If SalIsNull(dfPacienteCorrel)
.head 7 -  !
.head 7 -  Call SalMessageBox( "Debe especificar el correlativo del paciente", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 7 -  Call SalSetFocus(dfPacienteCorrel)
.head 7 -  Return FALSE
.head 6 +  If SalIsNull(dfCodMedico)
.head 7 -  !
.head 7 -  Call SalMessageBox( "Debe especificar el medico", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 7 -  Call SalSetFocus(dfCodMedico)
.head 7 -  Return FALSE
.head 6 -  !
.head 6 -  !
.head 6 -  ! --------------Verificar si la orden ya existe
.head 6 -  Set sSQL = "   SELECT
			*
		FROM
			INCAPACIDADES
		WHERE
			COD_INCAPACIDAD   =   :dfCod_Incapacidad"
.head 6 -  Call SqlExists (sSQL, bExistsIncapacidad)
.head 6 -  Call SqlClearImmediate()
.head 6 -  !
.head 6 -  ! --------Preparar los datos a guardar
.head 6 +  If not PrepareData()
.head 7 -  Return FALSE
.head 6 -  !
.head 6 -  ! ----------Ejecutar la actualizacion o insercion
.head 6 +  If bExistsIncapacidad
.head 7 -  !
.head 7 -  ! ---------Verificar que el numero de orden no haya sido tomada por otro usuario (Asegurar la concurrencia)
.head 7 +  If bNuevaIncapacidad=TRUE
.head 8 -  Set dfCod_Incapacidad=Identity(709)
.head 8 -  Call SalMessageBox( 'El Numero de Incapacidad ya existe. Se reasiganara al siguiente NUMERO : '||SalNumberToStrX( dfCod_Incapacidad ,0 ) ,
'Advertencia', MB_Ok )
.head 7 -  !
.head 7 -  Call DoUpdate(  )
.head 6 +  Else
.head 7 -  !
.head 7 -  Call DoInsert(  )
.head 6 -  !
.head 6 -  Set bNuevaIncapacidad=FALSE
.head 6 -  !
.head 6 -  Call CargarDatosIncapacidades()
.head 6 -  ! Call CitasdelDia()
.head 6 -  Return TRUE
.head 3 -  Group Box: Registro de Incapacidad
.head 4 -  Resource Id: 13604
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    0.762"
.head 5 -  Width:  15.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 6.143"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: No. Incapacidad:
.head 4 -  Resource Id: 13605
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.75"
.head 5 -  Top:    1.369"
.head 5 -  Width:  0.633"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbBuscarPaciente
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 13.583"
.head 5 -  Top:    1.702"
.head 5 -  Width:  0.567"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.393"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F1
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\access.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Single
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set sRegresaPac=''
.head 6 -  Set sRegresaCor=''
.head 6 -  Call SalModalDialog( dlgConsultaPacientesO, hWndForm,sRegresaPac,sRegresaCor, 3, 1, 1 )
.head 6 +  If sRegresaPac!=''
.head 7 -  Set dfPaciente 		=sRegresaPac
.head 7 -  Set dfPacienteCorrel 	=sRegresaCor
.head 7 -  Call ActualizarPaciente()
.head 3 +  Pushbutton: pbBuscarDoctor
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 13.583"
.head 5 -  Top:    2.226"
.head 5 -  Width:  0.567"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.393"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F2
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\doctor.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Single
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set nRegresaMed=NUMBER_Null
.head 6 -  Call SalModalDialog( dlgConsultaMedicos, hWndForm,nRegresaMed, 1 )
.head 6 +  If nRegresaMed != NUMBER_Null
.head 7 -  Set dfCodMedico = nRegresaMed
.head 7 -  Call ActualizarMedico()
.head 3 +  Pushbutton: pbCerrarOrden
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.417"
.head 5 -  Top:    0.119"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\encrypted.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If not SalIsNull(dfCod_Incapacidad)
.head 7 -  !
.head 7 -  ! Call CerrarCita(  )
.head 7 -  Call CargarDatosIncapacidades()
.head 7 -  ! Call CitasdelDia()
.head 3 -  Frame
.head 4 -  Resource Id: 13606
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    3.512"
.head 5 -  Width:  14.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.81"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: 3D Shadow Color
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbAgregarServicio
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbChAgregarChiquito
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.35"
.head 5 -  Top:    3.583"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set pbAgregarServicio.hWndFila=tbl1.colCategoria
.head 6 -  Set pbAgregarServicio.hWndTabla=tbl1
.head 5 +  On SAM_Click
.head 6 -  Call SalSendClassMessage(SAM_Click,0,0)
.head 6 -  Set tbl1.colUnico=Identity(710)
.head 3 +  Child Table: tbl1
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.05"
.head 6 -  Top:    3.595"
.head 6 -  Width:  13.433"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.56"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 1000
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colUnico
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Correl
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.583"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCategoria
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod Categ.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: String
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.133"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  Call SqlExists( "select A.COD_CATEG_DIAG,A.NOMBRE  from CATEG_DIAGNOSTICOS A where
A.COD_CATEG_DIAG= :tbl1.colCategoria   into :colcmbCateg.sCodigos , :colcmbCateg  " ,bExists)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If not bExists
.head 9 -  Call SalMessageBox("Categoria  no existe","ERROR",MB_Ok)
.head 9 -  Set tbl1.colCategoria=''
.head 9 -  Set tbl1.colcmbCateg=''
.head 5 +  Column: colcmbCateg
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsCbCodigo
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Categoria
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.767"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set colcmbCateg.nCaso=2
.head 8 -  Set colcmbCateg.sTabla='CATEG_DIAGNOSTICOS'
.head 8 -  Set colcmbCateg.sNombre='NOMBRE'
.head 8 -  Set colcmbCateg.sCodigo='COD_CATEG_DIAG'
.head 7 +  On SAM_Validate
.head 8 -  Call SalSendClassMessage(SAM_Validate,0,0)
.head 8 -  Set tbl1.colCategoria=tbl1.colcmbCateg.sCodigos
.head 5 +  Column: colDiag
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod. Diag.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.333"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  Call SqlExists( "select A.NOMBRE,A.COD_DIAGNOSTICO  from DIAGNOSTICOS A,CATEG_DIAGNOSTICOS B where
A.COD_DIAGNOSTICO =:tbl1.colDiag and A.COD_CATEG_DIAG=B.COD_CATEG_DIAG and
A.COD_CATEG_DIAG=:tbl1.colCategoria
  into :colcmbDiag,:colDiag " ,bExists)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If not bExists
.head 9 -  Call SalMessageBox("Diagnostico no existe o ha sido desactivado","ERROR",MB_Ok)
.head 9 -  Set tbl1.colDiag=''
.head 9 -  Set tbl1.colcmbDiag=''
.head 5 +  ! clsCbCodigo: colcmbDiag
.winattr class Column:
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsCbCodigo
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Diagnostico
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  4.1"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Drop Down List
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.end
.head 6 -  List Values 
.head 6 +  Message Actions 
.head 7 +  On SAM_Create
.head 8 -  Set colcmbDiag.nCaso=2
.head 8 -  Set colcmbDiag.sTabla='DIAGNOSTICOS'
.head 8 -  Set colcmbDiag.sNombre='NOMBRE'
.head 8 -  Set colcmbDiag.sCodigo='COD_DIAGNOSTICO'
.head 7 +  On SAM_Validate
.head 8 -  Call SalSendClassMessage(SAM_Validate,0,0)
.head 8 -  Set tbl1.colDiag=tbl1.colcmbDiag.sCodigos
.head 7 +  On SAM_DropDown
.head 8 -  Call SalListPopulate( tbl1.colcmbDiag, hSql1, "select A.NOMBRE from
DIAGNOSTICOS A , CATEG_DIAGNOSTICOS  B where
A.COD_CATEG_DIAG=B.COD_CATEG_DIAG  AND
A.COD_CATEG_DIAG =:tbl1.colCategoria"  )
.head 8 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 +  Column: colcmbDiag
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsCbCodigo
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Diagnostico
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  7.417"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set colcmbDiag.nCaso=2
.head 8 -  Set colcmbDiag.sTabla='DIAGNOSTICOS'
.head 8 -  Set colcmbDiag.sNombre='LEFT(NOMBRE,254)'
.head 8 -  Set colcmbDiag.sCodigo='COD_DIAGNOSTICO'
.head 7 +  On SAM_Validate
.head 8 -  Call SalSendClassMessage(SAM_Validate,0,0)
.head 8 -  Set tbl1.colDiag=tbl1.colcmbDiag.sCodigos
.head 7 +  On SAM_DropDown
.head 8 -  Call SalListPopulate( tbl1.colcmbDiag, hSql1, "select LEFT(A.NOMBRE,254) from
DIAGNOSTICOS A , CATEG_DIAGNOSTICOS  B where
A.COD_CATEG_DIAG=B.COD_CATEG_DIAG  AND
A.COD_CATEG_DIAG =:tbl1.colCategoria"  )
.head 8 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbBorrarServicio
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbChBorrarChiquito
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.35"
.head 5 -  Top:    4.0"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set pbBorrarServicio.hWndFila=tbl1.colDiag
.head 6 -  Set pbBorrarServicio.hWndTabla=tbl1
.head 3 +  Data Field: dfModificadoPor
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.95"
.head 6 -  Top:    0.345"
.head 6 -  Width:  2.033"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Center
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfCreadoPor
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.95"
.head 6 -  Top:    0.095"
.head 6 -  Width:  2.033"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Center
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Creado por:
.head 4 -  Resource Id: 13607
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.65"
.head 5 -  Top:    0.143"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 -  Background Text: Modificado por:
.head 4 -  Resource Id: 13608
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.25"
.head 5 -  Top:    0.417"
.head 5 -  Width:  1.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 +  Pushbutton: pbBuscarOrden
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.017"
.head 5 -  Top:    0.119"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F3
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If bNuevaIncapacidad
.head 7 -  !
.head 7 -  Set sSQL = "   SELECT
			*
		FROM
			INCAPACIDADES
		WHERE
			COD_INCAPACIDAD   =   :dfCod_Incapacidad"
.head 7 -  Call SqlExists (sSQL, bExistsIncapacidad)
.head 7 -  Call SqlClearImmediate()
.head 7 +  If SalMessageBox("Ha seleccionado crear una nueva Incapacidad. Desea guardar los cambios antes de salir?","Atencion",MB_YesNo)=IDYES
.head 8 -  !
.head 8 -  Call SalSendMsg (pbGuardar, SAM_Click, 0, 0)
.head 7 +  Else
.head 8 -  !
.head 8 +  If not bExistsIncapacidad
.head 9 -  !
.head 9 -  Set sSQL = 'DELETE FROM
		 IDENTITYS 
	WHERE 
		cod_tabla = 709 AND
		MAXIMO = :dfCod_Incapacidad'
.head 9 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 9 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 9 -  !
.head 9 -  Set bNuevaIncapacidad =FALSE

.head 9 -  Set nRegresa=0
.head 9 -  Call SalModalDialog( dlgConsultaIncapacidades, hWndForm,nRegresa)
.head 9 +  If nRegresa!=0
.head 10 -  Set dfCod_Incapacidad =nRegresa
.head 10 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 10 -  Set NUEVO=FALSE
.head 6 +  Else
.head 7 -  !
.head 7 -  Set bNuevaIncapacidad =FALSE
.head 7 -  ! Call SalCreateWindow (dlgConsultaCitas, frmControlCitas)
.head 3 -  Frame
.head 4 -  Resource Id: 13610
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.05"
.head 5 -  Top:    0.012"
.head 5 -  Width:  15.333"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.726"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: 3D Shadow Color
.head 4 -  Background Color: 3D Shadow Color
.head 3 -  Frame
.head 4 -  Resource Id: 13611
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.25"
.head 5 -  Top:    1.012"
.head 5 -  Width:  3.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.393"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Solid
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: 3D Shadow Color
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbMonth
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Marcar Cita del Mes
.head 4 -  Window Location and Size
.head 5 -  Left: 0.317"
.head 5 -  Top:    3.036"
.head 5 -  Width:  3.133"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  ! On SAM_Click
.head 6 -  !
.head 6 -  Call MarcarMes()
.head 3 -  Line
.head 4 -  Resource Id: 13612
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Coordinates
.head 5 -  Begin X:  3.75"
.head 5 -  Begin Y:  1.679"
.head 5 -  End X:  14.45"
.head 5 -  End Y:  1.679"
.head 4 -  Visible? Yes
.head 4 -  Line Style: Solid
.head 4 -  Line Thickness: 1
.head 4 -  Line Color: 3D Shadow Color
.head 3 -  Line
.head 4 -  Resource Id: 13613
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Coordinates
.head 5 -  Begin X:  3.817"
.head 5 -  Begin Y:  2.202"
.head 5 -  End X:  14.517"
.head 5 -  End Y:  2.202"
.head 4 -  Visible? Yes
.head 4 -  Line Style: Solid
.head 4 -  Line Thickness: 1
.head 4 -  Line Color: 3D Shadow Color
.head 3 -  Line
.head 4 -  Resource Id: 13614
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Coordinates
.head 5 -  Begin X:  3.783"
.head 5 -  Begin Y:  2.726"
.head 5 -  End X:  14.483"
.head 5 -  End Y:  2.726"
.head 4 -  Visible? Yes
.head 4 -  Line Style: Solid
.head 4 -  Line Thickness: 1
.head 4 -  Line Color: 3D Shadow Color
.head 3 +  Data Field: dfNumDias
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 13.683"
.head 6 -  Top:    1.321"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  Background Text: Días:
.head 4 -  Resource Id: 46242
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 12.983"
.head 5 -  Top:    1.345"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 2 +  Functions
.head 3 +  Function: ActualizarMedico
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Boolean: bExistsMedico
.head 4 +  Actions
.head 5 -  !
.head 5 +  If not SalIsNull (dfCodMedico)
.head 6 -  !
.head 6 -  Set sSQL = "SELECT 
    		M.NOMBRE,    		
    		E.NOMBRE    
	FROM
    		MEDICOS M,
    		ESPECIALIDAD E
	WHERE
    		M.COD_MEDICO = :dfCodMedico AND
    		E.COD_ESPECIALIDAD = M.COD_ESPECIALIDAD
	INTO 		
		:dfNombreMedico , 
		:dfEspecialidadMedico" 
.head 6 -  Call SqlExists(sSQL , bExistsMedico)
.head 6 -  Call SqlClearImmediate()
.head 6 +  If not bExistsMedico
.head 7 -  Call SalMessageBox("Medico no existe","ERROR",MB_Ok)
.head 7 -  Set dfCodMedico=NUMBER_Null
.head 7 -  Set dfNombreMedico=STRING_Null
.head 7 -  Set dfEspecialidadMedico=STRING_Null
.head 7 -  Return FALSE
.head 5 -  Return TRUE
.head 3 +  Function: ActualizarPaciente
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Boolean: bExistsPacient
.head 4 +  Actions
.head 5 -  !
.head 5 +  If SalIsNull(dfPaciente) or SalIsNull(dfPacienteCorrel)
.head 6 -  !
.head 6 -  Return FALSE
.head 5 -  Set sSQL = "select
		A.PRIMER_NOM + ' ' +A.SEGUNDO_NOM + ' ' + A.PRIMER_APE  + ' ' + A.SEGUNDO_APE  		
    	from
		PACIENTES A
	where
		A.COD_PACIENTE  	=:dfPaciente  and
		A.CORREL_PACIENTE	=:dfPacienteCorrel
  	into
		:dfNombre"
.head 5 -  Call SqlExists(  sSQL, bExistsPacient)
.head 5 -  Call SqlClearImmediate( )
.head 5 +  If not bExistsPacient
.head 6 -  Call SalMessageBox( "Codigo invalido" , "Error", MB_Ok )
.head 6 -  Set dfPaciente=''
.head 6 -  Set dfPacienteCorrel = ''
.head 6 -  Call SalSetFocus(dfPaciente)
.head 6 -  Return FALSE
.head 5 -  !
.head 5 -  Return TRUE
.head 3 +  Function: CargarDatosIncapacidades
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  ! Call SalWaitCursor(TRUE)
.head 5 -  ! Set sSQL = "SELECT
                                                               
			O.FECHA_DESDE,
                                                O.FECHA_HASTA,
        			O.COD_PACIENTE,
        			O.CORREL_PACIENTE,  
   			(P.PRIMER_NOM + ' ' + P.SEGUNDO_NOM + ' ' + P.PRIMER_APE  + ' ' + P.SEGUNDO_APE),   			        			
        			O.CODIGO_MEDICO,
        			M.NOMBRE,    
			I.NOMBRE,    			        			        			
        			O.OBSERVACIONES,
			O.CREADO_POR,
			O.MODIFICADO_POR 
	FROM
        			INCAPACIDADES    			O,        			
        			PACIENTES           		P,        						
        			MEDICOS          		M,     
			ESPECIALIDAD    		I
	WHERE
        			O.COD_INCAPACIDADES				= :dfCod_Incapacidad        				AND        			
        			O.COD_PACIENTE + O.CORREL_PACIENTE 	*= P.COD_PACIENTE + P.CORREL_PACIENTE 	AND        				
        			O.CODIGO_MEDICO 			*= M.COD_MEDICO 			AND
        			M.COD_ESPECIALIDAD 			*= I.COD_ESPECIALIDAD			
	INTO
			
			:dfFecha_From,
			:dfFecha_To,
			:dfPaciente,
			:dfPacienteCorrel,
			:dfNombre,			
			:dfCodMedico,
			:dfNombreMedico, 
			:dfEspecialidadMedico,
			:mlObservaciones, 
			:nCreadoPor,
			:nModificadoPor
			"
.head 5 -  ! Call SqlImmediate ( sSQL )
.head 5 -  ! Call SqlClearImmediate ()
.head 5 -  !
.head 5 -  ! Set sSQL = "SELECT
		U.NOMBRE
	FROM
		USUARIOS U
	WHERE
		
		U.COD_USU = :nCreadoPor
	INTO
		:dfCreadoPor"
.head 5 -  ! Call SqlImmediate ( sSQL )
.head 5 -  ! Call SqlClearImmediate ()
.head 5 -  !
.head 5 -  ! Set sSQL = "SELECT
		U.NOMBRE
	FROM
		USUARIOS U
	WHERE
		U.COD_USU = :nModificadoPor
	INTO
		:dfModificadoPor"
.head 5 -  ! Call SqlImmediate ( sSQL )
.head 5 -  ! Call SqlClearImmediate ()
.head 5 -  !
.head 5 -  ! --------Setear valores
.head 5 -  ! Call ccFechaFrom.SetSystemTime(GDT_VALID, dfFecha_From)
.head 5 -  ! Call ccFechaTo.SetSystemTime(GDT_VALID, dfFecha_To)
.head 5 -  !
.head 5 -  !
.head 5 -  ! Call SalWaitCursor(FALSE)
.head 3 +  Function: PrepareData
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 +  If dfPaciente = "TEMPCOD"
.head 6 -  !
.head 6 -  Set dfPacienteCorrel = '0'
.head 5 -  !
.head 5 -  !
.head 5 -  ! -------Obtener el codigo del usuario que ha creado/modificado la orden
.head 5 -  Set sSQL = "select
		COD_USU
    	from
		USUARIOS
	where
		NOMBRE = :sNombreUsuario
  	into
		:nUser"
.head 5 -  Call SqlImmediate(  sSQL)
.head 5 -  Call SqlClearImmediate( )
.head 5 -  !
.head 5 -  Return TRUE
.head 5 -  ! Break
.head 3 +  Function: ResetControls
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Window Handle: hWndChild
.head 5 -  Number: nHwndChild
.head 5 -  Number: nType
.head 4 +  Actions
.head 5 -  Set hWndChild = SalGetFirstChild( hWndForm, TYPE_Any )
.head 5 +  While hWndChild != hWndNULL
.head 6 -  Set nHwndChild = SalWindowHandleToNumber( hWndChild )
.head 6 -  Set nType = SalGetType( hWndChild )
.head 6 +  If nType = TYPE_ChildTable
.head 7 -  Call SalTblReset( hWndChild )
.head 6 +  Else If nType = TYPE_DataField or nType = TYPE_MultilineText or nType = TYPE_CheckBox or nType = TYPE_ComboBox
.head 7 -  Call SalClearField( hWndChild )
.head 6 -  Set hWndChild = SalGetNextChild( hWndChild, TYPE_Any )
.head 5 -  !
.head 5 -  !
.head 3 +  Function: DoInsert
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set dtFechaFrom= ccFechaFrom.GetSystemTime()
.head 5 -  Set dtFechaTo= ccFechaTo.GetSystemTime()
.head 5 -  ! Set dtFechaTo= ccFechaTo.GetSystemTime()
.head 5 +  ! If dtFechaTo < dtFechaFrom
.head 6 -  Call SalMessageBox( "La Fecha Desde debe  ser Mayor que la Fecha Hasta", "Mensaje", 0 )
.head 5 +  ! Else
.head 6 +  While dtFechaFrom <= dtFechaTo
.head 7 -  !
.head 7 -  !
.head 7 -  !
.head 7 -  Set sFechaTo = SalFmtFormatDateTime ( dtFechaFrom,'MM/dd/yyyy')
.head 7 -  Call SqlImmediate( "select DATEADD(dd,1,Convert(datetime,'"||sFechaTo||"')) into :dtFechaFrom" )
.head 7 -  Call SqlClearImmediate( )
.head 7 -  ! Break
.head 5 -  ! Set sFechaTo = SalFmtFormatDateTime ( dtFechaFrom,'MM/dd/yyyy')
.head 5 -  ! Call SqlImmediate( "select Convert(datetime,'"||sFechaTo||"') into :dtFechaFrom" )
.head 5 -  ! Call SqlClearImmediate( )
.head 5 -  Set sSQL = "INSERT INTO
		INCAPACIDADES
			(
    				COD_INCAPACIDAD,
                                                                FECHA_DESDE,
                                             		FECHA_HASTA,
				COD_PACIENTE,
                                                                CORREL_PACIENTE,
                                                                COD_MEDICO,
				CREADO_POR,		
				OBSERVACIONES                                                                                                                               
			)
		VALUES
			(
				:dfCod_Incapacidad,
				:dtFechaFrom,
                                                                :dtFechaTo,
				:dfPaciente,
				:dfPacienteCorrel,
				:dfCodMedico,	
				:nUser,			
				:mlObservaciones									
			)"
.head 5 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  Call UpdateDetalle()
.head 3 +  Function: LoadDefaultValues
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set dfCod_Incapacidad = Identity(709)
.head 5 -  Set bNuevaIncapacidad = TRUE
.head 5 -  Call ccFechaFrom.SetSystemTime(GDT_VALID, SalDateCurrent ( ))
.head 5 -  ! Call CitasdelDia()
.head 5 -  !
.head 5 -  Call SalDisableWindow ( dfNombre )
.head 5 -  Call SalSetFocus( dfCod_Incapacidad )
.head 3 +  ! Function: CitasdelDia
.head 4 -  Description: 
.head 4 -  Returns 
.head 4 -  Parameters 
.head 4 -  Static Variables 
.head 4 -  Local variables 
.head 4 +  Actions 
.head 5 -  !
.head 5 -  !
.head 5 -  ! Set dfDiaSeleccionado = ccMes.GetCurDateSelected()
.head 5 -  ! Call ccMes.GetSelRange(dtFechaFrom, dtFechaTo)
.head 5 -  !
.head 5 +  ! If dtFechaFrom != SalStrToDate("") and dtFechaTo !=SalStrToDate("")
.head 6 -  Set sSQL="Select
			O.COD_CITA,
			(CASE WHEN DATENAME(dw,CONVERT(VARCHAR(12), O.FECHA,101)) = 'Monday'  THEN 'Lunes'
			 ELSE 
			     CASE WHEN DATENAME(dw,CONVERT(VARCHAR(12), O.FECHA,101)) = 'Tuesday'  THEN 'Martes'
			      ELSE  
			               CASE WHEN DATENAME(dw,CONVERT(VARCHAR(12), O.FECHA,101)) = 'Wednesday'  THEN 'Miercoles'
			                  ELSE
			                        CASE WHEN DATENAME(dw,CONVERT(VARCHAR(12), O.FECHA,101)) = 'Thursday'  THEN 'Jueves'
			                        ELSE 
			                            CASE WHEN DATENAME(dw,CONVERT(VARCHAR(12), O.FECHA,101)) = 'Friday'  THEN 'Viernes'
			                            ELSE 
			                                CASE WHEN DATENAME(dw,CONVERT(VARCHAR(12), O.FECHA,101)) = 'Saturday'  THEN 'Sabado'
			                                ELSE 'Domingo'
			                            END	
			                        END
			                    END
			                END
			             END
			           END) as Dia,        
			O.COD_PACIENTE + '- ' + O.CORREL_PACIENTE,	
			(CASE
                            			WHEN O.COD_PACIENTE = 'TEMPCOD' THEN O.NOMBRE_TMP
                            			ELSE P.PRIMER_NOM +  ' ' + P.PRIMER_APE
                        		 END ) AS NOMBRE,				     			
			CONVERT(VARCHAR(12), O.FECHA,103),
        			O.OBSERVACIONES,
			M.NOMBRE AS MEDICO,
			O.ESTADO		
		from
			CITAS 		O,			
        			PACIENTES            P,
			MEDICOS	M
		where			
        			O.COD_PACIENTE 	= P.COD_PACIENTE   	AND
            			O.CORREL_PACIENTE 	= P.CORREL_PACIENTE 	AND
			O.CODIGO_MEDICO     	= M.COD_MEDICO	AND
			O.FECHA 		>= :dfDiaFrom AND
			O.FECHA 		<= :dfDiaTo
		order by O.FECHA 
				
		into
			:tblCitas.colCita,
			:tblCitas.colDia,
			:tblCitas.colCodigoPaciente,
			:tblCitas.colNombrePaciente,
			:tblCitas.colFecha,
			:tblCitas.colObs,
			:tblCitas.colMedico,
			:tblCitas.colEstado"

.head 6 -  Call SalTblPopulate( tbl1, hSql1, sSQL, TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  !
.head 6 -  ! Call ColorearFilas()
.head 3 +  Function: DoUpdate
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Date/Time: dtHoy
.head 5 -  Date/Time: dtFechaFromUpdate
.head 5 -  Date/Time: dtFechaToUpdate
.head 4 +  Actions
.head 5 +  !
.head 6 -  Call SalWaitCursor(TRUE)
.head 6 -  Set dtHoy = SalDateCurrent()
.head 6 -  Set dtFechaFrom= ccFechaFrom.GetSystemTime()
.head 6 -  Set sFechaTo = SalFmtFormatDateTime ( dtFechaFrom,'MM/dd/yyyy')
.head 6 -  Call SqlImmediate( "select Convert(datetime,'"||sFechaTo||"') into :dtFechaFrom" )
.head 6 -  Call SqlClearImmediate( )
.head 6 -  !
.head 6 -  !
.head 6 -  Call SqlPrepareAndExecute(hSql1,"UPDATE
				INCAPACIDADES
			 SET
				FECHA_DESDE                   		=	:dtFechaFrom,
				FECHA_HASTA		                =              :dtfechaTo
				CODIGO_MEDICO			=	:dfCodMedico,
				COD_PACIENTE              		=	:dfPaciente,
    				CORREL_PACIENTE           		=	:dfPacienteCorrel,    		
				OBSERVACIONES             		=	:mlObservaciones,
				MODIFICADO_POR		=	:nUser,
				FECHA_MODIFICACION		=	:dtHoy
			WHERE
				COD_INCAPACIDAD			= 	:dfCod_Incapacidad
				" ) 
.head 6 -  !
.head 6 -  !
.head 6 -  Call SalWaitCursor(FALSE)
.head 6 -  !
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  Set dtHoy = SalDateCurrent()
.head 5 -  Set dtFechaFrom= ccFechaFrom.GetSystemTime()
.head 5 -  Set sFechaTo = SalFmtFormatDateTime ( dtFechaFrom,'MM/dd/yyyy')
.head 5 -  Call SqlImmediate( "select Convert(datetime,'"||sFechaTo||"') into :dtFechaFrom" )
.head 5 -  Call SqlClearImmediate( )
.head 5 -  Call SqlPrepareAndExecute(hSql1,"UPDATE
				INCAPACIDADES
			 SET
				FECHA_DESDE                   		=	:dtFechaFrom,
				FECHA_HASTA		                =              :dtFechaTo,
				COD_MEDICO			=	:dfCodMedico,
				COD_PACIENTE              		=	:dfPaciente,
    				CORREL_PACIENTE           		=	:dfPacienteCorrel,    		
				OBSERVACIONES             		=	:mlObservaciones,
				MODIFICADO_POR		=	:nUser,
				FECHA_MODIFICACION		=	:dtHoy
			WHERE
				COD_INCAPACIDAD			= 	:dfCod_Incapacidad
				" ) 
.head 5 -  Call SalWaitCursor(FALSE)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  Call UpdateDetalle()
.head 3 +  Function: UpdateDetalle
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sTblInsert
.head 5 -  String: sTblUpdate
.head 5 -  String: sTblDelete
.head 5 -  Number: nRow
.head 4 +  Actions
.head 5 -  Set nRow = -1
.head 5 +  While SalTblFindNextRow(tbl1,nRow,0,0)
.head 6 +  If SalTblQueryRowFlags (tbl1, nRow, ROW_New)
.head 7 -  Set sTblInsert="INSERT INTO 
           DET_INCAPACIDAD 
                ( 
                                 CORREL, 
                                 COD_INCAPACIDAD, 
                                 COD_CATEG_DIAG, 
                                 COD_DIAGNOSTICO 
                                                                                                                                               
                ) 
           VALUES 
                ( 
                     :tbl1.colUnico, 
                     :dfCod_Incapacidad, 
                     :tbl1.colCategoria, 
                     :tbl1.colDiag 
                                                    
                )"
.head 7 -  Call SqlPrepare(hSql1,sTblInsert)
.head 7 -  Call SalTblDoInserts(tbl1,hSql1,TRUE)
.head 7 -  Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 6 +  Else If SalTblQueryRowFlags (tbl1, nRow, ROW_Edited)
.head 7 -  Set sTblUpdate="UPDATE  DET_INCAPACIDAD 
                            SET 
                                 COD_CATEG_DIAG = :tbl1.colCategoria, 
                                 COD_DIAGNOSTICO = :tbl1.colDiag 
	             WHERE
	             CORREL = :tbl1.colUnico AND
                             COD_INCAPACIDAD= :dfCod_Incapacidad "
.head 7 -  Call SqlPrepare(hSql1,sTblUpdate)
.head 7 -  Call SalTblDoUpdates(tbl1,hSql1,TRUE)
.head 7 -  Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 6 +  Else If SalTblQueryRowFlags (tbl1, nRow, ROW_MarkDeleted)
.head 7 -  Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 7 -  Set sTblDelete="DELETE FROM DET_INCAPACIDAD 
	           WHERE	
	             CORREL = :tbl1.colUnico AND
                             COD_INCAPACIDAD= :dfCod_Incapacidad"
.head 7 -  Call SqlPrepare(hSql1,sTblDelete)
.head 7 -  ! Call SalTblDoDeletes(tbl1,hSql1,TRUE)
.head 7 -  Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 7 -  Call SalTblDeleteRow( tbl1, nRow, TBL_Adjust )
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  !
.head 3 -  String: sSQL
.head 3 -  Boolean: bExistsIncapacidad
.head 3 -  String: sRegresaPac
.head 3 -  String: sRegresaCor
.head 3 -  String: sFecha
.head 3 -  String: params[*]
.head 3 -  Boolean: bNuevaIncapacidad
.head 3 -  Number: nUser
.head 3 -  Number: nCreadoPor
.head 3 -  Number: nModificadoPor
.head 3 -  Date/Time: dtHora_Programada
.head 3 -  !
.head 3 -  Number: nCalendarStyle
.head 3 -  Number: nCalendarStyleOrigin
.head 3 -  Number: nSelectedStyle
.head 3 -  Number: nSelectedStyle2
.head 3 -  Number: nPrueba
.head 3 -  String: sDateClick
.head 3 -  Number: nCont
.head 3 -  Date/Time: dtFechaFrom
.head 3 -  Date/Time: dtFechaTo
.head 3 -  Number: nRegresaMed
.head 3 -  Date/Time: dfFecha_From
.head 3 -  Date/Time: dfFecha_To
.head 3 -  String: sFechaFrom
.head 3 -  String: sFechaTo
.head 3 -  Boolean: bFirstCalLoad
.head 3 -  ! String: nRegresa
.head 3 -  Number: nRegresa
.head 3 -  Boolean: NUEVO
.head 3 -  Number: nCodIncapacidad
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Set nCalendarStyleOrigin = GetWindowLongA( ccMes.hWndCalendar, GWL_STYLE )
.head 4 -  Set nCalendarStyle = nCalendarStyleOrigin
.head 4 -  Set nSelectedStyle = StringToNumber('MCS_DAYSTATE')
.head 4 -  Set nSelectedStyle2 = StringToNumber('MCS_MULTISELECT')
.head 4 +  If not ( nCalendarStyle & nSelectedStyle)
.head 5 -  Set nCalendarStyle = nCalendarStyle + nSelectedStyle + nSelectedStyle2
.head 4 -  Call SalDestroyWindow( ccMes.hWndCalendar )
.head 4 -  Call ccMes.CreateCalendar(nCalendarStyle)
.head 4 -  Call ccMes.SetMaxSelCount(42)
.head 4 -  Call ccMes.SetSelRange(SalDateCurrent( ),SalDateCurrent( ))
.head 4 -  ! Call SalDestroyWindow( ccMes.hWndCalendar )
.head 4 -  ! Call ccMes.SetMaxSelCount(1350565891)
.head 4 -  !
.head 3 +  On SAM_Destroy
.head 4 -  !
.head 4 +  If bNuevaIncapacidad
.head 5 -  !
.head 5 -  Set sSQL = "   SELECT
			*
		FROM
			INCAPACIDADES
		WHERE
			COD_INCAPACIDAD   =   :dfCod_Incapacidad"
.head 5 -  Call SqlExists (sSQL, bExistsIncapacidad)
.head 5 -  Call SqlClearImmediate()
.head 5 +  If not bExistsIncapacidad
.head 6 -  !
.head 6 -  Set sSQL = 'DELETE FROM
		 IDENTITYS 
	WHERE 
		cod_tabla = 709 AND
		MAXIMO = :dfCod_Incapacidad'
.head 6 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  !
.head 3 +  On SAM_Create
.head 4 -  Set bFirstCalLoad=TRUE
.head 1 +  Dialog Box: dlgConsultaIncapacidades
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Consulta de Incapacidades
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  11.071"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 4.964"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Bold
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Frame
.head 4 -  Resource Id: 48495
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.214"
.head 5 -  Top:    0.179"
.head 5 -  Width:  10.671"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.726"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Raised-Shadow
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: 3D Shadow Color
.head 4 -  Background Color: Default
.head 3 -  Background Text: Diagnostico
.head 4 -  Resource Id: 48496
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.914"
.head 5 -  Top:    2.619"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Diagnosticos
.head 4 -  Resource Id: 48497
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.643"
.head 5 -  Top:    1.738"
.head 5 -  Width:  5.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.607"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Medico:
.head 4 -  Resource Id: 48498
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.786"
.head 5 -  Top:    0.798"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Nombre
.head 4 -  Resource Id: 48499
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.614"
.head 5 -  Top:    0.976"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Codigo
.head 4 -  Resource Id: 48500
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.614"
.head 5 -  Top:    0.667"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfPaciente
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.514"
.head 6 -  Top:    0.619"
.head 6 -  Width:  1.867"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.31"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_KillFocus
.head 6 -  !
.head 6 +  If dfPaciente = "TEMPCOD"
.head 7 -  !
.head 7 -  Set dfPacienteCorrel = '0'
.head 3 +  Data Field: dfPacienteCorrel
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.386"
.head 6 -  Top:    0.619"
.head 6 -  Width:  0.533"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.31"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfNombre
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.514"
.head 6 -  Top:    0.929"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfApellido
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.514"
.head 6 -  Top:    1.202"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Combo Box: cmbEmpresa
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigoFiltrado
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.514"
.head 5 -  Top:    1.512"
.head 5 -  Width:  2.5"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.357"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 6 -  Set cmbEmpresa.sNombreFiltro='ESTADO'
.head 6 -  Set cmbEmpresa.nValorFiltro=1
.head 3 -  Background Text: Apellido
.head 4 -  Resource Id: 48501
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.514"
.head 5 -  Top:    1.226"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Fecha
.head 4 -  Resource Id: 48502
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.414"
.head 5 -  Top:    2.179"
.head 5 -  Width:  5.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Datos Medicos
.head 4 -  Resource Id: 48503
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.614"
.head 5 -  Top:    0.429"
.head 5 -  Width:  5.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.726"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Empresa
.head 4 -  Resource Id: 48504
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.514"
.head 5 -  Top:    1.5"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Datos del Paciente
.head 4 -  Resource Id: 48505
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.443"
.head 5 -  Top:    0.345"
.head 5 -  Width:  3.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbMedicosOS
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatComboBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.686"
.head 5 -  Top:    0.762"
.head 5 -  Width:  3.333"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.893"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_DropDown
.head 6 -  !
.head 6 +  ! If not SalIsNull(cmbEspecialidad)
.head 7 -  !
.head 7 -  Set sMedico = cmbMedicosOS
.head 7 -  Set sSQL = "
			SELECT
				NOMBRE
			FROM
				MEDICOS
			WHERE
				COD_ESPECIALIDAD = :cmbEspecialidad.nCodigo
			ORDER BY
				NOMBRE"
.head 7 -  ! Call SalListClear(cmbMedicosOS)
.head 7 -  Call SalListPopulate(cmbMedicosOS, hSql1, sSQL)
.head 7 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 7 -  !
.head 7 -  Call SalListSelectString( hWndItem, -1,sMedico)
.head 5 +  ! On SAM_Create
.head 6 -  Set cmbMedicosOS.nCaso=1
.head 6 -  Set cmbMedicosOS.sTabla='MEDICOS_OS'
.head 6 -  Set cmbMedicosOS.sNombre='NOMBRE'
.head 6 -  Set cmbMedicosOS.sCodigo='CODIGO_ESPECIALIDAD'
.head 6 -  Set cmbMedicosOS.sNombreFiltro='ESTADO'
.head 6 -  Set cmbMedicosOS.nValorFiltro=1
.head 3 +  Check Box: cbFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Desde
.head 4 -  Window Location and Size
.head 5 -  Left: 0.486"
.head 5 -  Top:    2.429"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cbFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Hasta
.head 4 -  Window Location and Size
.head 5 -  Left: 0.486"
.head 5 -  Top:    2.869"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Custom Control: ccFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.414"
.head 6 -  Top:    2.429"
.head 6 -  Width:  3.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Custom Control: ccFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.414"
.head 6 -  Top:    2.869"
.head 6 -  Width:  3.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb3
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.1"
.head 5 -  Top:    3.905"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F3
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  ! On SAM_Click
.head 6 -  Call SalWaitCursor( TRUE )
.head 6 -  !
.head 6 -  Set sSQL = ConstructQuery()
.head 6 -  Call SalTblPopulate( frmControlCitas.tblCitas, hSql1, sSQL, TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  !
.head 6 -  Call frmControlCitas.ColorearFilas()
.head 6 -  !
.head 6 -  Call SalWaitCursor( FALSE )
.head 3 +  Combo Box: cmb3
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.886"
.head 5 -  Top:    2.238"
.head 5 -  Width:  4.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 3.988"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 -  Message Actions
.head 3 +  Combo Box: cmb4
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.886"
.head 5 -  Top:    2.905"
.head 5 -  Width:  4.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 3.369"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 -  Message Actions
.head 3 -  Background Text: Codigo Categoria
.head 4 -  Resource Id: 48506
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.886"
.head 5 -  Top:    2.012"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 2 -  Functions
.head 2 +  Window Parameters
.head 3 -  ! String: sRegresa
.head 3 -  ! Number: nRegresa
.head 3 -  Receive Number: nRegresa
.head 2 +  Window Variables
.head 3 -  Number: nCodIncapacidad
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalBringWindowToTop(dlgConsultaIncapacidades)
.head 1 +  Form Window: frmSalidasInventario
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Mantenimiento de Salida de Medicamentos
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: 0.088"
.head 4 -  Top:    0.188"
.head 4 -  Width:  14.217"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 9.179"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 +  Menu
.head 3 +  Popup Menu: Tablita
.head 4 -  Resource Id: 31036
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 4 +  Menu Item: (Inserta Fila)
.head 5 -  Resource Id: 31037
.head 5 -  Keyboard Accelerator: Ins
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg(pbAgregar,SAM_Click,0,0)
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: (Marca para Borrar Fila)
.head 5 -  Resource Id: 31038
.head 5 -  Keyboard Accelerator: -
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg(pbBorrar,SAM_Click,0,0)
.head 5 -  Menu Item Name:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.845"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 +  Contents
.head 4 +  Pushbutton: pb1
.data CLASSPROPSSIZE
0000: 2C00
.enddata
.data CLASSPROPS
0000: 544F4F4C5449505F 5374617475730001 000000544F4F4C54 49505F5469700006
0020: 0053616C69720000 00000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 11.383"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.595"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 +  If bNuevaSalida
.head 8 -  !
.head 8 -  Set sSQL = "   SELECT
			*
		FROM
			Salidas
		WHERE
			Cod_Salida   =  :dfCodigo "
.head 8 -  Call SqlExists (sSQL, bExistsSalida)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If SalMessageBox("Ha seleccionado crear una nueva salida. Desea guardar los cambios antes de salir?","Atencion",MB_YesNo)=IDYES
.head 9 -  !
.head 9 -  Call SalSendMsg (pbGuardarSalida, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  !
.head 9 +  If not bExistsSalida
.head 10 -  !
.head 10 -  Set nCodigo = SalStrToNumber ( dfCodigo)
.head 10 -  Set sSQL = 'DELETE FROM
		 IDENTITYS 
	WHERE 
		cod_tabla = 14 AND
		MAXIMO = :nCodigo'
.head 10 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 10 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 10 -  !
.head 10 -  Call SalSendClassMessage ( SAM_Click, 0, 0)
.head 7 +  Else
.head 8 -  !
.head 8 -  Call SalSendClassMessage ( SAM_Click, 0, 0)
.head 4 +  Pushbutton: pbNuevaSalida
.data CLASSPROPSSIZE
0000: 2E00
.enddata
.data CLASSPROPS
0000: 544F4F4C5449505F 5374617475730001 000000544F4F4C54 49505F5469700008
0020: 0041677265676172 000000000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbMas
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.283"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.6"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filenew.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 +  If bNuevaSalida
.head 8 -  !
.head 8 -  Set sSQL = "   SELECT
			*
		FROM
			SALIDAS
		WHERE
			COD_SALIDA  =   :dfCodigo"
.head 8 -  Call SqlExists (sSQL, bExistsSalida)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If SalMessageBox("Ha seleccionado crear una nueva salida. Desea guardar los cambios antes de continuar?","Atencion",MB_YesNo)=IDYES
.head 9 -  !
.head 9 -  Call SalSendMsg (pbGuardarSalida, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  !
.head 9 +  If not bExistsSalida
.head 10 -  !
.head 10 -  Set nCodigo = SalStrToNumber ( dfCodigo )
.head 10 -  Set sSQL = 'DELETE FROM
		 IDENTITYS 
	WHERE 
		cod_tabla = 14 AND
		MAXIMO = :nCodigo'
.head 10 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 10 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 10 -  !
.head 10 -  Call ResetControls()
.head 10 -  Call LoadDefaultValues()
.head 10 -  ! !
.head 10 -  ! Call SalDisableWindow ( dfCheque )
.head 10 -  ! Call SalDisableWindow ( dfNombre )
.head 10 -  ! Call SalSetFocus( dfOrden )
.head 7 +  Else
.head 8 -  !
.head 8 -  Call SalClearField(dfEstado)
.head 8 -  Call SalClearField(dfCreadoPor)
.head 8 -  Call SalClearField(dfModificadoPor)
.head 8 -  Call ResetControls()
.head 8 -  Call LoadDefaultValues()
.head 8 -  Call SalSetFocus(cmbBodega)
.head 8 -  ! !
.head 8 -  ! Call SalDisableWindow ( dfCheque )
.head 8 -  ! Call SalDisableWindow ( dfNombre )
.head 8 -  ! Call SalSetFocus( dfOrden )
.head 4 +  Pushbutton: pb3
.data CLASSPROPSSIZE
0000: 2F00
.enddata
.data CLASSPROPS
0000: 544F4F4C5449505F 5374617475730001 000000544F4F4C54 49505F5469700009
0020: 00456C696D696E61 72000000000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbMenos
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.983"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.595"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\editdelete.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set pb3.nOpcionh=1
.head 7 -  Set pb3.sTitulo=' La Salida'
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 -  Call SqlExists("Select	
		*
	from	
		SALIDAS
	where	
		COD_SALIDA=:dfCodigo"
,bExistsSalida)
.head 7 -  Call SqlClearImmediate( )
.head 7 +  If bExistsSalida
.head 8 +  If nEstado = 0
.head 9 -  Call SalSendClassMessage( SAM_Click, 0, 0 )
.head 8 +  Else If nEstado = 1
.head 9 -  Call SalMessageBox( "No se puede modificar una salida ya cerrada " , "Error", MB_Ok )
.head 4 +  Pushbutton: pbGuardarSalida
.data CLASSPROPSSIZE
0000: 2E00
.enddata
.data CLASSPROPS
0000: 544F4F4C5449505F 5374617475730001 000000544F4F4C54 49505F5469700008
0020: 0047756172646172 000000000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbGrabar
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.683"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.595"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filesave.bmp
.head 5 -  Picture Transparent Color: White
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 +  If SalIsNull(dfCodigo)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe especificar el No de Salida", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 8 -  Return FALSE
.head 7 +  If SalIsNull(cmbBodega)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe especificar el almacen", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 8 -  Call SalSetFocus(cmbBodega)
.head 8 -  Return FALSE
.head 7 +  If SalIsNull(cmbTIPO_SALIDA)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe especificar el tipo de salida", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 8 -  Call SalSetFocus(cmbTIPO_SALIDA)
.head 8 -  Return FALSE
.head 7 +  If not RevisarTablas(tbl1)
.head 8 -  !
.head 8 -  Return FALSE
.head 7 -  !
.head 7 -  !
.head 7 -  ! --------------Validaciones que aplican en cada caso segun el tipo de salida
.head 7 +  If cmbTIPO_SALIDA = 'DEPARTAMENTO / MAQUILAS'
.head 8 -  !
.head 8 +  If SalIsNull(cmbDepto)
.head 9 -  !
.head 9 -  Call SalMessageBox( "Debe especificar el departamento", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 9 -  Call SalSetFocus(cmbDepto)
.head 9 -  Return FALSE
.head 8 -  !
.head 7 +  Else If cmbTIPO_SALIDA = 'EMPLEADO'
.head 8 -  !
.head 8 +  If SalIsNull(dfCodEmpleado)
.head 9 -  !
.head 9 -  Call SalMessageBox( "Debe especificar el código de empleado", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 9 -  Call SalSetFocus(dfCodEmpleado)
.head 9 -  Return FALSE
.head 8 -  !
.head 7 +  Else If cmbTIPO_SALIDA = 'DEVOLUCION X COMPRA'
.head 8 -  !
.head 8 +  If SalIsNull(dfCodNotaCredito)
.head 9 -  !
.head 9 -  Call SalMessageBox( "Debe especificar el código de la Nota de Crédito", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 9 -  Call SalSetFocus(dfCodNotaCredito)
.head 9 -  Return FALSE
.head 7 -  !
.head 7 -  !
.head 7 -  !
.head 7 -  ! --------------Verificar si la orden ya existe
.head 7 -  Set sSQL = " 
		SELECT
			*
		FROM
			SALIDAS
		WHERE
			COD_SALIDA   =   :dfCodigo"
.head 7 -  Call SqlExists (sSQL, bExistsSalida)
.head 7 -  Call SqlClearImmediate()
.head 7 -  !
.head 7 -  ! --------Preparar los datos a guardar
.head 7 -  Call PrepareData()
.head 7 -  !
.head 7 -  ! ----------Ejecutar la actualizacion o insercion
.head 7 +  If bExistsSalida
.head 8 -  !
.head 8 -  Call DoUpdate(  )
.head 7 +  Else
.head 8 -  !
.head 8 -  Call DoInsert(  )
.head 7 -  !
.head 7 -  Set bNuevaSalida=FALSE
.head 7 -  !
.head 7 -  Call CargarDatosSalida()
.head 7 -  !
.head 7 -  Return TRUE
.head 4 +  Pushbutton: pb5
.data CLASSPROPSSIZE
0000: 2D00
.enddata
.data CLASSPROPS
0000: 544F4F4C5449505F 5374617475730001 000000544F4F4C54 49505F5469700007
0020: 0042757363617200 0000000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbBusqueda
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 2.383"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.595"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 +  If bNuevaSalida
.head 8 -  !
.head 8 -  Set sSQL = "   SELECT
			*
		FROM
			SALIDAS
		WHERE
			COD_SALIDA   =   :dfCodigo"
.head 8 -  Call SqlExists (sSQL, bExistsSalida)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If SalMessageBox("Ha seleccionado crear una nueva salida. Desea guardar los cambios antes de salir?","Atencion",MB_YesNo)=IDYES
.head 9 -  !
.head 9 -  Call SalSendMsg (pbGuardarSalida, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  !
.head 9 +  If not bExistsSalida
.head 10 -  !
.head 10 -  Set nCodigo = SalStrToNumber ( dfCodigo )
.head 10 -  Set sSQL = 'DELETE FROM
		 IDENTITYS 
	WHERE 
		cod_tabla = 14 AND
		MAXIMO = :nCodigo'
.head 10 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 10 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 10 -  !
.head 10 -  Set bNuevaSalida =FALSE
.head 10 -  Set sRegresaSalida=''
.head 10 -  Call SalModalDialog( dlgConsultaSalida, hWndForm,2, sRegresaSalida)
.head 10 +  If sRegresaSalida!= ''
.head 11 -  !
.head 11 -  Set dfCodigo =sRegresaSalida
.head 11 -  Call CargarDatosSalida()
.head 7 +  Else
.head 8 -  !
.head 8 -  Set bNuevaSalida =FALSE
.head 8 -  Set sRegresaSalida= ''
.head 8 -  Call SalModalDialog( dlgConsultaSalida, hWndForm,2, sRegresaSalida)
.head 8 +  If sRegresaSalida != ''
.head 9 -  !
.head 9 -  Set dfCodigo=sRegresaSalida
.head 9 -  Call CargarDatosSalida()
.head 4 +  Pushbutton: pbImprimirSalida
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbImprimir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 5.183"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  ! On SAM_Click
.head 7 -  Call SqlExists("Select	COD_SALIDA
from	SALIDA_MEDI
where	COD_SALIDA=:dfCodigo",bExists)
.head 7 -  Call SqlClearImmediate( )
.head 7 +  If bExists
.head 8 -  Call SalCreateWindow( frmImprimir, hWndForm,
"Recibo de Salida",
strRepPath || "\\RECIBO_SALIDA.QRP",
":s1,:s2,:n1,:s3,
:s4,:s5,:n2,:n3,:n4,
:s6,:s7,:s8,:dt1",

"E.NOMBRE,F.NOMBRE,A.COD_VARIA,A.COD_MEDICAMENTO,
B.DESP,C.NOMBRE,A.CANT,A.COSTO,Formula,
D.NOMBRE,A.COD_SALIDA,H.NOMBRE,G.FECHA",

"select	E.NOMBRE,F.NOMBRE,A.COD_VARIA,A.COD_MEDICAMENTO,
	B.DESP,C.NOMBRE,A.CANT,A.COSTO,A.CANT*A.COSTO,
	D.NOMBRE,A.COD_SALIDA,H.NOMBRE,G.FECHA
from	VARIAS_SALIDAS	A,MEDICAMENTOS B,TIPOS_PRESEN C,DESTINOS D,
                GRUPOS_MED  E,PROVEEDOR F,SALIDA_MEDI G,BODEGAS H
where
	A.COD_SALIDA=:frmSalidas.dfCodigo		and
	G.COD_SALIDA=:frmSalidas.dfCodigo		and
	A.COD_SALIDA=G.COD_SALIDA		and
	
	H.COD_BODEGA=G.COD_BODEGA	and

	B.COD_MEDICAMENTO=A.COD_MEDICAMENTO and
	C.COD_PRESEN=B.COD_PRESEN	and
                A.COD_GRUPO=E.COD_GRUPO and A.COD_PROVEEDOR=F.COD_PROVEEDOR
                AND D.COD_DESTINO=A.COD_DESTINO
into	:s1,:s2,:n1,:s3,
	:s4,:s5,:n2,:n3,:n4,
	:s6,:s7,:s8,:dt1",

'')
.head 7 +  Else 
.head 8 -  Call SalMessageBox("Salida no existe","ERROR",MB_Ok)
.head 4 +  Pushbutton: pbCerrar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 3.083"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.595"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\decrypted.bmp
.head 5 -  Picture Transparent Color: White
.head 5 -  Image Style: Single
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 -  Call SqlExists("
	Select 
		* 
	from 
		SALIDAS 
	WHERE 
		COD_SALIDA=:dfCodigo",bExistsSalida)
.head 7 -  Call SqlClearImmediate( )
.head 7 +  If bExistsSalida
.head 8 -  !
.head 8 +  If nEstado = 0
.head 9 -  !
.head 9 +  If SalMessageBox( "Esta seguro de cerrar la salida?", "Advertencia", MB_YesNo )=IDYES
.head 10 -  !
.head 10 -  !
.head 10 -  Call CerrarSalida()
.head 10 -  Call CargarDatosSalida()
.head 10 -  !
.head 10 -  Call SalMessageBox ("La salida ha sido CERRADA","MENSAJE",MB_Ok)
.head 9 -  !
.head 8 +  Else If nEstado = 1
.head 9 -  !
.head 9 -  Call SalMessageBox( "La salida ya ha sido cerrada", "Error", MB_Ok )
.head 9 -  !
.head 8 +  ! Else If nEstado = 2
.head 9 -  !
.head 9 -  !
.head 9 -  Call SalMessageBox ("La salida esta anulada. No puede modificarla.","MENSAJE",MB_Ok)
.head 7 +  Else
.head 8 -  !
.head 8 -  Call SalMessageBox( "La salida no existe" , "Error", MB_Ok )
.head 7 -  !
.head 4 +  Data Field: dfCreadoPor
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 6.383"
.head 7 -  Top:    0.071"
.head 7 -  Width:  2.3"
.head 7 -  Width Editable? Yes
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Yes
.head 6 -  Visible? Yes
.head 6 -  Border? Yes
.head 6 -  Justify: Left
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Font Name: Default
.head 6 -  Font Size: Default
.head 6 -  Font Enhancement: Bold
.head 6 -  Text Color: Default
.head 6 -  Background Color: Default
.head 6 -  Input Mask: Unformatted
.head 5 -  Message Actions
.head 4 +  Data Field: dfModificadoPor
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 6.383"
.head 7 -  Top:    0.345"
.head 7 -  Width:  2.3"
.head 7 -  Width Editable? Yes
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Yes
.head 6 -  Visible? Yes
.head 6 -  Border? Yes
.head 6 -  Justify: Left
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Font Name: Default
.head 6 -  Font Size: Default
.head 6 -  Font Enhancement: Bold
.head 6 -  Text Color: Default
.head 6 -  Background Color: Default
.head 6 -  Input Mask: Unformatted
.head 5 -  Message Actions
.head 4 +  Data Field: dfEstado
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 6.383"
.head 7 -  Top:    0.595"
.head 7 -  Width:  2.3"
.head 7 -  Width Editable? Yes
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Yes
.head 6 -  Visible? Yes
.head 6 -  Border? Yes
.head 6 -  Justify: Left
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Font Name: Default
.head 6 -  Font Size: Default
.head 6 -  Font Enhancement: Bold
.head 6 -  Text Color: Default
.head 6 -  Background Color: Default
.head 6 -  Input Mask: Unformatted
.head 5 -  Message Actions
.head 4 -  Background Text: Creado por
.head 5 -  Resource Id: 24059
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 5.05"
.head 6 -  Top:    0.095"
.head 6 -  Width:  1.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: Estado
.head 5 -  Resource Id: 24060
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 5.05"
.head 6 -  Top:    0.595"
.head 6 -  Width:  1.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: Modificado por
.head 5 -  Resource Id: 24061
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 4.783"
.head 6 -  Top:    0.369"
.head 6 -  Width:  1.467"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 2 +  Contents
.head 3 -  Background Text: No. Salida
.head 4 -  Resource Id: 31039
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    0.345"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCodigo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 8
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.483"
.head 6 -  Top:    0.321"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Call SqlExists("Select	COD_SALIDA
from	SALIDAS
where	COD_SALIDA=:dfCodigo",bExists)
.head 6 -  Call SqlClearImmediate( )
.head 6 +  If bExists
.head 7 -  ! Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 7 -  ! Call SalEnableWindow(pbGuardarSalida)
.head 7 -  ! Call SalDisableWindow(dfFechaIngreso)
.head 7 -  Call CargarDatosSalida()
.head 3 -  Background Text: Fecha Salida
.head 4 -  Resource Id: 31040
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.583"
.head 5 -  Top:    0.345"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaIngreso
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.783"
.head 6 -  Top:    0.321"
.head 6 -  Width:  2.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Almacen
.head 4 -  Resource Id: 4325
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.517"
.head 5 -  Top:    0.679"
.head 5 -  Width:  0.867"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbBodega
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.483"
.head 5 -  Top:    0.655"
.head 5 -  Width:  5.3"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbBodega.nCaso=1
.head 6 -  Set cmbBodega.sTabla='BODEGAS'
.head 6 -  Set cmbBodega.sNombre='NOMBRE'
.head 6 -  Set cmbBodega.sCodigo='COD_BODEGA'
.head 5 +  On SAM_SetFocus
.head 6 -  !
.head 6 -  Call SalPostMsg( hWndItem, CB_SHOWDROPDOWN, TRUE, 0 )
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call SalSendClassMessage ( SAM_Click, 0, 0 )
.head 3 +  Multiline Field: mlObs
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  String Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Border? Yes
.head 5 -  Word Wrap? Yes
.head 5 -  Vertical Scroll? Yes
.head 5 -  Window Location and Size
.head 6 -  Left: 7.55"
.head 6 -  Top:    0.321"
.head 6 -  Width:  5.233"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.917"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Message Actions
.head 3 -  Background Text: Requisición #
.head 4 -  Resource Id: 4327
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    1.012"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfReq
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.483"
.head 6 -  Top:    0.988"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Tipo Salida
.head 4 -  Resource Id: 4320
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.05"
.head 5 -  Top:    1.036"
.head 5 -  Width:  0.933"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbTIPO_SALIDA
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.983"
.head 5 -  Top:    1.012"
.head 5 -  Width:  2.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbTIPO_SALIDA.nCaso=1
.head 6 -  Set cmbTIPO_SALIDA.sTabla='TIPOS_SALIDA'
.head 6 -  Set cmbTIPO_SALIDA.sNombre='DESCRIPCION_SALIDA'
.head 6 -  Set cmbTIPO_SALIDA.sCodigo='COD_TIPO_SALIDA'
.head 5 +  On SAM_SetFocus
.head 6 -  !
.head 6 -  Call SalPostMsg( hWndItem, CB_SHOWDROPDOWN, TRUE, 0 )
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call SalSendClassMessage ( SAM_Click, 0, 0 )
.head 6 -  Call DeshabilitarObjetos()
.head 6 -  Call HabilitarObjetos()
.head 3 +  Pushbutton: pbAplicarPlantilla
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 12.35"
.head 5 -  Top:    3.071"
.head 5 -  Width:  0.633"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.393"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\ok.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If SalIsNull(cmbPlantilla)
.head 7 -  !
.head 7 -  !
.head 7 -  Call SalMessageBox( "Debe especificar la plantilla a aplicar", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 7 -  Call SalSetFocus(cmbPlantilla)
.head 7 -  Return FALSE
.head 6 +  If SalIsNull(cmbBodega)
.head 7 -  !
.head 7 -  Call SalMessageBox( "Debe especificar el almacen", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 7 -  Call SalSetFocus(cmbBodega)
.head 7 -  Return FALSE
.head 6 -  !
.head 6 -  ! Call AplicarPlantillaA()
.head 6 -  Call AplicarPlantilla()
.head 3 -  Background Text: Depto que requiere:
.head 4 -  Resource Id: 31045
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    1.762"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbDepto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.183"
.head 5 -  Top:    1.738"
.head 5 -  Width:  5.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbDepto.nCaso=1
.head 6 -  Set cmbDepto.sTabla='DEPTOS'
.head 6 -  Set cmbDepto.sNombre='NOMBRE'
.head 6 -  Set cmbDepto.sCodigo='COD_DEPTO'
.head 5 +  ! On SAM_SetFocus
.head 6 -  !
.head 6 -  Call SalPostMsg( hWndItem, CB_SHOWDROPDOWN, TRUE, 0 )
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call SalSendClassMessage ( SAM_Click, 0, 0 )
.head 3 -  Background Text: Paciente:
.head 4 -  Resource Id: 31047
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    2.095"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfPaciente
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.183"
.head 6 -  Top:    2.071"
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfPacienteCorrel
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.483"
.head 6 -  Top:    2.071"
.head 6 -  Width:  0.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfNombrePaciente
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.983"
.head 6 -  Top:    2.071"
.head 6 -  Width:  4.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Pushbutton: pbBuscarPaciente
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.25"
.head 5 -  Top:    2.262"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F2
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\access.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Single
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set sRegresaPac=''
.head 6 -  Set sRegresaCor=''
.head 6 -  Call SalModalDialog( dlgConsultaPacientesO, hWndForm,sRegresaPac,sRegresaCor, 3, 1, 1 )
.head 6 +  If sRegresaPac!=''
.head 7 -  Set dfPaciente 		=sRegresaPac
.head 7 -  Set dfPacienteCorrel 	=sRegresaCor
.head 7 -  Call ActualizarPaciente()
.head 3 -  Background Text: Habitacion
.head 4 -  Resource Id: 4323
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    2.429"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbHabitacion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.183"
.head 5 -  Top:    2.405"
.head 5 -  Width:  5.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbHabitacion.nCaso=1
.head 6 -  Set cmbHabitacion.sTabla='CAMAS'
.head 6 -  Set cmbHabitacion.sNombre='DESCRIPCION'
.head 6 -  Set cmbHabitacion.sCodigo='CODIGO'
.head 5 +  On SAM_SetFocus
.head 6 -  !
.head 6 -  Call SalPostMsg( hWndItem, CB_SHOWDROPDOWN, TRUE, 0 )
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call SalSendClassMessage ( SAM_Click, 0, 0 )
.head 3 +  Data Field: dfCodEmpleado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.85"
.head 6 -  Top:    1.821"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 5 +  On SAM_Validate
.head 6 -  !
.head 6 -  Call ActualizarEmpleado()
.head 3 +  Data Field: dfNomEmpleado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 8.65"
.head 6 -  Top:    1.821"
.head 6 -  Width:  4.433"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Pushbutton: pbBuscarEmpleado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 12.283"
.head 5 -  Top:    2.071"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.595"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: 14
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\mac.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Set nRegresaEmpleado = NUMBER_Null
.head 6 -  Call SalModalDialog( dlgConsultaEmpleados, hWndForm,nRegresaEmpleado, 1)
.head 6 +  If nRegresaEmpleado != NUMBER_Null
.head 7 -  Set dfCodEmpleado	=nRegresaEmpleado
.head 7 -  Call ActualizarEmpleado()
.head 3 -  Group Box: Tipo de Pago
.head 4 -  Resource Id: 21002
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.883"
.head 5 -  Top:    2.155"
.head 5 -  Width:  4.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Radio Button: rbDonado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Donado
.head 4 -  Window Location and Size
.head 5 -  Left: 8.283"
.head 5 -  Top:    2.321"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbPagado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Contado
.head 4 -  Window Location and Size
.head 5 -  Left: 9.383"
.head 5 -  Top:    2.321"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbPorCobrar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Crédito
.head 4 -  Window Location and Size
.head 5 -  Left: 10.483"
.head 5 -  Top:    2.321"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 -  Group Box: Datos de Nota Crédito
.head 4 -  Resource Id: 55795
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    2.988"
.head 5 -  Width:  6.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: No
.head 4 -  Resource Id: 55796
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    3.179"
.head 5 -  Width:  0.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCodNotaCredito
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.583"
.head 6 -  Top:    3.155"
.head 6 -  Width:  1.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfDescNotaCredito
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.583"
.head 6 -  Top:    3.155"
.head 6 -  Width:  4.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbBuscarNotaCredito
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: ..
.head 4 -  Window Location and Size
.head 5 -  Left: 6.483"
.head 5 -  Top:    3.155"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Codigo
.head 4 -  Resource Id: 55790
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.25"
.head 5 -  Top:    1.893"
.head 5 -  Width:  0.533"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbBuscar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.35"
.head 5 -  Top:    4.536"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F1
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\info.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set sRegresaServ= ''
.head 6 -  Set sRegresaCateg=''
.head 6 +  If SalIsNull(tbl1.colUnico)
.head 7 -  !
.head 7 -  Return FALSE
.head 7 -  !
.head 6 -  Call SalModalDialog( dlgConsultaServicios, hWndForm,2,sRegresaServ, sRegresaCateg)
.head 6 +  If sRegresaCateg !='' and sRegresaServ !=''
.head 7 -  !
.head 7 -  Set tbl1.colServicio=sRegresaServ
.head 7 -  Set tbl1.colCategoria=sRegresaCateg
.head 7 -  Call SalSendMsg(tbl1.colCategoria, SAM_Validate,0,0)
.head 7 -  Call SalSendMsg(tbl1.colServicio, SAM_Validate,0,0)
.head 7 -  !
.head 3 -  Group Box: Datos del Depto que requiere:
.head 4 -  Resource Id: 21008
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    1.488"
.head 5 -  Width:  6.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.417"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Datos Generales
.head 4 -  Resource Id: 21005
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.071"
.head 5 -  Width:  6.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.333"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Detalle
.head 4 -  Resource Id: 21010
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    3.571"
.head 5 -  Width:  12.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 21013
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.983"
.head 5 -  Top:    3.738"
.head 5 -  Width:  12.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.917"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 +  Pushbutton: pbBorrar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbChBorrarChiquito
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.35"
.head 5 -  Top:    4.202"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\edit_remove15.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set pbBorrar.hWndFila=tbl1.colCategoria
.head 6 -  Set pbBorrar.hWndTabla=tbl1
.head 3 +  Pushbutton: pbAgregar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbChAgregarChiquito
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.35"
.head 5 -  Top:    3.869"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\edit_add15.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set pbAgregar.hWndFila=tbl1.colCategoria
.head 6 -  Set pbAgregar.hWndTabla=tbl1
.head 5 +  On SAM_Click
.head 6 -  Call SalSendClassMessage(SAM_Click,0,0)
.head 6 -  Set tbl1.colUnico=Identity(15)
.head 3 +  Child Table: tbl1
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.083"
.head 6 -  Top:    3.786"
.head 6 -  Width:  11.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 2.786"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colUnico
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Correl
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.583"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCategoria
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod Categ.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.617"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  !
.head 8 -  ! Con el codigo de categoria obtener la descripcion de la misma
.head 8 -  Call SqlExists( "
	select 
		A.COD_CATEGORIA,
		A.NOMBRE  
	from 
		CATEG_SERVICIOS A 
	where
		A.COD_CATEGORIA=:tbl1.colCategoria  
	into 
		:colcmbCateg.sCodigos , 
		:colcmbCateg  " 
,bExists)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If not bExists
.head 9 -  Call SalMessageBox("Categoria  no existe","ERROR",MB_Ok)
.head 9 -  Set tbl1.colCategoria=''
.head 9 -  Set tbl1.colcmbCateg=''
.head 5 +  Column: colcmbCateg
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsCbCodigo
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Categoria
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set colcmbCateg.nCaso=2
.head 8 -  Set colcmbCateg.sTabla='CATEG_SERVICIOS'
.head 8 -  Set colcmbCateg.sNombre='NOMBRE'
.head 8 -  Set colcmbCateg.sCodigo='COD_CATEGORIA'
.head 7 +  On SAM_Validate
.head 8 -  Call SalSendClassMessage(SAM_Validate,0,0)
.head 8 -  !
.head 8 -  ! Una vez seleccionada la categoria desplegar el codigo de la misma
.head 8 -  Set tbl1.colCategoria=tbl1.colcmbCateg.sCodigos
.head 5 +  Column: colServicio
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod. Producto
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.85"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  !
.head 8 -  ! -----Luego de especificar el codigo de producto, obtener su nombre, la presentacion y su existencia
.head 8 -  !
.head 8 -  Call SqlExists( "
	select 
		A.NOMBRE,
		C.NOMBRE,
		A.COSTO_REAL
		
	from 
		SERVICIOS 		A,	
		TIPOS_PRESEN 	  	C 
	where
		A.COD_SERVICIO 		= :tbl1.colServicio 		and
		A.COD_CATEGORIA	= :tbl1.colCategoria 		and 
		A.EN_USO 		= 1 			and 
		A.COD_PRESEN 		= C.COD_PRESEN
  	into 
		:colcmbServi,
		:colUnidad,
		:colCosto
		"
,bExists)
.head 8 -  Call SqlClearImmediate()
.head 8 -  !
.head 8 +  If not bExists
.head 9 -  Call SalMessageBox("Servicio no existe o ha sido desactivado","ERROR",MB_Ok)
.head 9 -  Set tbl1.colServicio=''
.head 9 -  Set tbl1.colcmbServi=''
.head 9 -  Return FALSE
.head 8 -  !
.head 8 -  ! Verificar la existencia del producto en la bodega seleccionada
.head 8 -  !
.head 8 -  Call VerificarExistencia()
.head 5 +  Column: colcmbServi
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsCbCodigoFiltrado
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Producto
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.217"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set colcmbServi.nCaso=2
.head 8 -  Set colcmbServi.sTabla='SERVICIOS'
.head 8 -  Set colcmbServi.sNombre='NOMBRE'
.head 8 -  Set colcmbServi.sCodigo='COD_SERVICIO'
.head 8 -  Set colcmbServi.sNombreFiltro='EN_USO'
.head 8 -  Set colcmbServi.nValorFiltro=1
.head 7 +  On SAM_DropDown
.head 8 -  !
.head 8 -  ! ---------------Desplegar solo los servicios de la categoria ya especificada
.head 8 -  Call SalListPopulate( tbl1.colcmbServi, hSql1, "select 
					A.NOMBRE
				from
					SERVICIOS 	   A 
				where
					A.COD_CATEGORIA =:tbl1.colCategoria and
					A.EN_USO	   = 1"  )
.head 8 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 7 +  On SAM_Validate
.head 8 -  !
.head 8 -  ! Al seleccionar el  servicio del combo(y ya especificada la categoria) se
procede a cargar la presentacion , tambien
verifica que exista el codigo de servicio.
.head 8 -  !
.head 8 +  If SalListSelectString(hWndItem,-1,MyValue)=LB_Err
.head 9 -  Call SalMessageBox("Dato no existe en la lista","ERROR",MB_Ok)
.head 9 -  Call SalSetFocus(hWndItem)
.head 9 -  Return FALSE
.head 8 +  Else
.head 9 -  Call SqlPrepareAndExecute(hSql1,"
			select 
				cod_servicio 
			from 
				servicios
			where 
				cod_categoria	=:tbl1.colCategoria	and
				nombre		=:tbl1.colcmbServi 	and 
				en_uso 		= 1
			into	
				:tbl1.colcmbServi.sCodigos")
.head 9 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 8 -  !
.head 8 -  Set tbl1.colServicio=tbl1.colcmbServi.sCodigos
.head 8 -  !
.head 8 -  Call SqlImmediate( "select 
			C.NOMBRE,
			A.COSTO_REAL			  
		from 
			SERVICIOS  		A,
			TIPOS_PRESEN 	  	C  
		where
			A.COD_SERVICIO 		= :tbl1.colServicio 	and 
			A.COD_CATEGORIA	=:tbl1.colCategoria  and 
			A.EN_USO 		= 1 		and 
			A.COD_PRESEN 		= C.COD_PRESEN
		into 
			:colUnidad,
			:colCosto" )
.head 8 -  Call SqlClearImmediate()
.head 8 -  !
.head 8 -  Call VerificarExistencia()
.head 5 +  Column: colUnidad
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Presentacion
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.317"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colExistencia
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Existencia
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.25"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  !
.head 8 -  ! -----Actualizar el subtotal 
.head 8 -  Set tbl1.colSubTotal = tbl1.colCosto * tbl1.colCantidad
.head 8 -  Call GenerarTotal()
.head 5 +  Column: colCosto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Costo
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.25"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###0000000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  !
.head 8 -  ! -----Actualizar el subtotal 
.head 8 -  Set tbl1.colSubTotal = tbl1.colCosto * tbl1.colCantidad
.head 8 -  Call GenerarTotal()
.head 5 +  Column: colCantidad
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cantidad
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.917"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  !
.head 8 -  ! ---------Verificar la existencia
.head 8 +  ! If tbl1.colCantidad > tbl1.colExistencia
.head 9 -  !
.head 9 -  Call SalMessageBox ("La cantidad especificada excede la existencia en inventario!","MENSAJE",MB_Ok)
.head 9 -  Set tbl1.colCantidad = 0
.head 9 -  Return FALSE
.head 9 -  !
.head 8 -  ! -----------Actualizar el subtotal
.head 8 -  !
.head 8 -  Set tbl1.colSubTotal=tbl1.colCosto*tbl1.colCantidad
.head 8 -  Call GenerarTotal()
.head 8 -  ! Set tbl1.colFecha=FechaHoy(2)
.head 5 +  Column: colSubTotal
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: SubTotal
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.267"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 -  Message Actions
.head 3 +  Data Field: dfTotal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.883"
.head 6 -  Top:    6.738"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Total :
.head 4 -  Resource Id: 4321
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.117"
.head 5 -  Top:    6.81"
.head 5 -  Width:  0.667"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Datos del empleado que requiere:
.head 4 -  Resource Id: 55794
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.183"
.head 5 -  Top:    1.488"
.head 5 -  Width:  5.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 55793
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.183"
.head 5 -  Top:    2.988"
.head 5 -  Width:  5.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Observaciones
.head 4 -  Resource Id: 55792
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.283"
.head 5 -  Top:    0.071"
.head 5 -  Width:  5.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.333"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Plantilla a aplicar:
.head 4 -  Resource Id: 55791
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.283"
.head 5 -  Top:    3.179"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbPlantilla
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatComboBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.783"
.head 5 -  Top:    3.155"
.head 5 -  Width:  3.5"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_DropDown
.head 6 -  !
.head 6 -  Set sPlantilla= cmbPlantilla
.head 6 -  Set sSQL = "
			SELECT 
				DISTINCT
				DESC_PLANTILLA
			FROM
				PLANTILLAS_INVENTARIO
			ORDER BY
				DESC_PLANTILLA"
.head 6 -  Call SalListPopulate(cmbPlantilla, hSql1, sSQL)
.head 6 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 6 -  !
.head 6 -  Call SalListSelectString( hWndItem, -1,sPlantilla)
.head 6 -  !
.head 5 +  On SAM_Validate
.head 6 -  !
.head 6 -  !
.head 6 -  ! Set sSQL = "
	SELECT 
    		M.COD_MEDICO,
    		M.COD_ESPECIALIDAD,
    		E.NOMBRE    
	FROM
    		MEDICOS M,
    		ESPECIALIDAD E
	WHERE
    		M.NOMBRE = :cmbMedicosOS AND
    		E.COD_ESPECIALIDAD = M.COD_ESPECIALIDAD
	INTO 
		:dfCodMedico,
		:cmbEspecialidad.nCodigo , 
		:cmbEspecialidad
	"
.head 6 -  ! Call SqlImmediate(sSQL)
.head 6 -  ! Call SqlClearImmediate( )
.head 2 +  Functions
.head 3 +  Function: HabilitarObjetos
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 +  If cmbTIPO_SALIDA = 'EMPLEADO'
.head 6 -  !
.head 6 -  Call SalEnableWindow(rbDonado)
.head 6 -  Call SalEnableWindow(rbPagado)
.head 6 -  Call SalEnableWindow(rbPorCobrar)
.head 6 -  Call SalEnableWindow(dfCodEmpleado)
.head 6 -  Call SalEnableWindow(dfNomEmpleado)
.head 6 -  Call SalEnableWindow(pbBuscarEmpleado)
.head 6 -  Call SalSetFocus(dfCodEmpleado)
.head 6 -  !
.head 5 +  Else If cmbTIPO_SALIDA = 'DEPARTAMENTO / MAQUILAS'
.head 6 -  !
.head 6 -  Call SalEnableWindow(cmbDepto)
.head 6 -  Call SalEnableWindow(dfPaciente)
.head 6 -  Call SalEnableWindow(dfPacienteCorrel)
.head 6 -  Call SalEnableWindow(dfNombrePaciente)
.head 6 -  Call SalEnableWindow(cmbHabitacion)
.head 6 -  Call SalEnableWindow(pbBuscarPaciente)
.head 6 -  Call SalSetFocus(cmbDepto)
.head 6 -  !
.head 5 +  Else If cmbTIPO_SALIDA = 'DEVOLUCION X COMPRA'
.head 6 -  !
.head 6 -  Call SalEnableWindow(dfCodNotaCredito)
.head 6 -  Call SalEnableWindow(dfDescNotaCredito)
.head 6 -  Call SalEnableWindow(pbBuscarNotaCredito)
.head 6 -  Call SalSetFocus(dfCodNotaCredito)
.head 6 -  !
.head 3 +  ! Function: Anular_Salida
.head 4 -  Description: 
.head 4 -  Returns 
.head 4 -  Parameters 
.head 4 -  Static Variables 
.head 4 +  Local variables 
.head 5 -  String: Cod_Partida
.head 5 -  Number: nSumarizada
.head 5 -  Boolean: bExist
.head 4 +  Actions 
.head 5 -  Call SqlExists( "SELECT cod_salida FROM salidas WHERE cod_salida=:dfCodigo", bExist )
.head 5 -  Call SqlClearImmediate( )
.head 5 +  If bExist
.head 6 -  Set Cod_Partida = 'PSAL' || dfCodigo
.head 6 -  Call SqlPrepareAndExecute( hSql1, "SELECT sumarizada FROM partidas WHERE cod_partida=:Cod_Partida INTO :nSumarizada" )
.head 6 -  Call SqlFetchNext( hSql1, nSig )
.head 6 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 6 +  If nSumarizada = 1
.head 7 -  Call SalMessageBox("No puede anular esta salida porque la partida correspondiente ya ha sido mayorizada", "Error!", MB_Ok)
.head 6 +  Else 
.head 7 -  Call SqlPrepareAndExecute( hSql1, "DELETE FROM det_partidas WHERE cod_partida = :Cod_Partida")
.head 7 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 7 -  Call SqlPrepareAndExecute( hSql1, "DELETE FROM partidas WHERE cod_partida = :Cod_Partida")
.head 7 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 7 -  Call SqlPrepareAndExecute( hSql1, "DELETE FROM detalle_salidas WHERE cod_salida = :dfCodigo")
.head 7 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 7 -  Call SqlPrepareAndExecute( hSql1, "DELETE FROM salidas WHERE cod_salida = :dfCodigo")
.head 7 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 7 -  Call SalMessageBox("La salida ha sido anulada", "Mensaje", MB_Ok)
.head 3 +  Function: ActualizarEmpleado
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SqlImmediate ("SELECT
			 E.PRIMER_NOM + ' ' + E.SEGUNDO_NOM + ' ' +  E.PRIMER_APE + ' ' + E.SEGUNDO_APE
		FROM
    			EMPLEADOS E
		WHERE
			COD_EMPLEADO = :dfCodEmpleado
		INTO
			:dfNomEmpleado
	")
.head 5 -  Call SqlClearImmediate()
.head 3 +  Function: ActualizarPaciente
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Boolean: bExistsPacient
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set sSQL = "select
		A.PRIMER_NOM + ' ' +A.SEGUNDO_NOM + ' ' + A.PRIMER_APE  + ' ' + A.SEGUNDO_APE
    	from
		PACIENTES A
	where
		A.COD_PACIENTE  	=:dfPaciente  and
		A.CORREL_PACIENTE	=:dfPacienteCorrel
  	into
		:dfNombrePaciente"
.head 5 -  Call SqlExists(  sSQL, bExistsPacient)
.head 5 -  Call SqlClearImmediate( )
.head 5 +  If not bExistsPacient
.head 6 -  Call SalMessageBox( "Codigo invalido" , "Error", MB_Ok )
.head 6 -  Set dfPaciente=''
.head 6 -  Set dfPacienteCorrel = ''
.head 6 -  Call SalSetFocus(dfPaciente)
.head 6 -  Return FALSE
.head 5 -  !
.head 5 -  ! Cargar la empresa a la que pertenece el empleado
.head 5 -  ! ----
.head 5 -  ! Set sSQL = "select
		A.NOMBRE
	from
		EMPRESAS A
	where
		COD_EMPRESA=:nEmpresa
	into
		:dfEmpresa"
.head 5 -  ! Call SqlImmediate( sSQL)
.head 5 -  ! Call SqlClearImmediate( )
.head 5 -  !
.head 5 -  ! ------------Cargar el puesto del empleado
.head 5 -  ! Set sSQL = "select
		A.NOMBRE
	from
		DEPTOS_MAQUILA A
	where
		CODIGO = :nPuesto
	into
		:dfDepto"
.head 5 -  ! Call SqlImmediate( sSQL)
.head 5 -  ! Call SqlClearImmediate( )
.head 5 -  Return TRUE
.head 3 +  Function: ResetControls
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Window Handle: hWndChild
.head 5 -  Number: nHwndChild
.head 5 -  Number: nType
.head 4 +  Actions
.head 5 -  Set hWndChild = SalGetFirstChild( hWndForm, TYPE_Any )
.head 5 +  While hWndChild != hWndNULL
.head 6 -  Set nHwndChild = SalWindowHandleToNumber( hWndChild )
.head 6 -  Set nType = SalGetType( hWndChild )
.head 6 +  If nType = TYPE_ChildTable
.head 7 -  Call SalTblReset( hWndChild )
.head 6 +  Else If nType = TYPE_DataField or nType = TYPE_MultilineText or nType = TYPE_CheckBox or nType = TYPE_ComboBox
.head 7 -  Call SalClearField( hWndChild )
.head 6 -  Set hWndChild = SalGetNextChild( hWndChild, TYPE_Any )
.head 5 -  !
.head 5 -  !
.head 3 +  Function: LoadDefaultValues
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  !
.head 5 -  Set dfTotal = 0
.head 5 -  Set dfFechaIngreso = FechaHoy(2)
.head 5 -  Set dfCodigo=SalNumberToStrX(Identity( 14 ),0)
.head 5 -  Set bNuevaSalida = TRUE
.head 3 +  Function: GenerarTotal
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nSubTotal
.head 4 +  Actions
.head 5 -  !
.head 5 -  !
.head 5 -  Set dfTotal = SalTblColumnSum( tbl1, 10, 0, 0 ) 
.head 5 -  !
.head 5 -  !
.head 3 +  Function: DeshabilitarObjetos
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SalDisableWindow(rbDonado)
.head 5 -  Call SalDisableWindow(rbPagado)
.head 5 -  Call SalDisableWindow(rbPorCobrar)
.head 5 -  Call SalDisableWindow(dfCodEmpleado)
.head 5 -  Call SalDisableWindow(dfNomEmpleado)
.head 5 -  Call SalDisableWindow(pbBuscarEmpleado)
.head 5 -  !
.head 5 -  Call SalDisableWindow(cmbDepto)
.head 5 -  Call SalDisableWindow(dfPaciente)
.head 5 -  Call SalDisableWindow(dfPacienteCorrel)
.head 5 -  Call SalDisableWindow(dfNombrePaciente)
.head 5 -  Call SalDisableWindow(cmbHabitacion)
.head 5 -  Call SalDisableWindow(pbBuscarPaciente)
.head 5 -  !
.head 5 -  Call SalDisableWindow(dfCodNotaCredito)
.head 5 -  Call SalDisableWindow(dfDescNotaCredito)
.head 5 -  Call SalDisableWindow(pbBuscarNotaCredito)
.head 5 -  !
.head 5 -  Set rbDonado = TRUE
.head 5 -  Call SalClearField(dfCodEmpleado)
.head 5 -  Call SalClearField(dfNomEmpleado)
.head 5 -  !
.head 5 -  Call SalClearField(cmbDepto)
.head 5 -  Call SalClearField(dfPaciente)
.head 5 -  Call SalClearField(dfPacienteCorrel)
.head 5 -  Call SalClearField(dfNombrePaciente)
.head 5 -  Call SalClearField(cmbHabitacion)
.head 5 -  !
.head 5 -  Call SalClearField(dfCodNotaCredito)
.head 5 -  Call SalClearField(dfDescNotaCredito)
.head 3 +  Function: CargarDatosSalida
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  !
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  !
.head 5 -  ! ----------Cargar los datos generales de la salida(encabezado) cmbBodega.nCodigo, cmbTIPO_SALIDA.nCodigo, cmbDepto.nCodigo
.head 5 -  !
.head 5 -  Call SqlImmediate(
"select	
    	S.COD_BODEGA,
    	S.FECHA,
    	S.OBS,
    	S.REQUISICION,
    	S.COD_TIPO_SALIDA,
    	S.COD_DEPTO,
    	S.COD_PACIENTE,
    	S.CORREL_PACIENTE,
	(CASE
                            			WHEN S.COD_PACIENTE = 'TEMPCOD' THEN S.PACIENTE
                            			ELSE P.PRIMER_NOM + ' ' + P.SEGUNDO_NOM + ' ' + P.PRIMER_APE  + ' ' + P.SEGUNDO_APE
                 END ),
	S.COD_EMPLEADO,
	E.PRIMER_NOM + ' ' + E.SEGUNDO_NOM + ' ' + E.PRIMER_APE  + ' ' + E.SEGUNDO_APE,		
    	S.CAMA,
    	S.TOTAL_SALIDA,
    	S.CERRADA,
    	S.SUB_TIPO
from	
	SALIDAS 	S,
	PACIENTES 	P,
	EMPLEADOS	E
where	
	S.COD_SALIDA=:dfCodigo AND
	S.COD_PACIENTE + S.CORREL_PACIENTE *= P.COD_PACIENTE + P.CORREL_PACIENTE AND
	S.COD_EMPLEADO *= E.COD_EMPLEADO
into	
	:cmbBodega.nCodigo,
	:dfFechaIngreso,
	:mlObs,
	:dfReq,
	:cmbTIPO_SALIDA.nCodigo,
	:cmbDepto.nCodigo,
	:sRegresaPac,
	:sRegresaCor,
	:sRegresaNomPac,
	:nRegresaEmpleado,
	:sRegresaNomEmpleado,
	:cmbHabitacion.nCodigo,	
	:dfTotal,
	:nEstado,
	:sSubTipo
	")
.head 5 -  !
.head 5 -  Call SqlClearImmediate ()
.head 5 -  !
.head 5 -  Set sSQL = "SELECT
		U.NOMBRE
	FROM
		USUARIOS 		U,
		SALIDAS 		S
	WHERE
		S.COD_SALIDA 	= :dfCodigo       AND
		U.COD_USU 	= S.CREADO_POR 
	INTO
		:dfCreadoPor"
.head 5 -  Call SqlImmediate ( sSQL )
.head 5 -  Call SqlClearImmediate ()
.head 5 -  !
.head 5 -  Set sSQL = "SELECT
		U.NOMBRE
	FROM
		USUARIOS 		U,
		SALIDAS 		S
	WHERE
		S.COD_SALIDA 	= :dfCodigo        AND
		U.COD_USU 	= S.MODIFICADO_POR 
	INTO
		:dfModificadoPor"
.head 5 -  Call SqlImmediate ( sSQL )
.head 5 -  Call SqlClearImmediate ()
.head 5 -  !
.head 5 -  Call cmbTIPO_SALIDA.Actualizar()
.head 5 -  !
.head 5 -  Call DeshabilitarObjetos()
.head 5 -  Call HabilitarObjetos(  )
.head 5 -  !
.head 5 -  Call cmbBodega.Actualizar()
.head 5 -  Call cmbDepto.Actualizar()
.head 5 -  Call cmbHabitacion.Actualizar()
.head 5 -  !
.head 5 +  Select Case nEstado
.head 6 +  Case 0
.head 7 -  Set dfEstado='EN PROCESO'
.head 7 -  Break
.head 6 +  Case 1
.head 7 -  Set dfEstado='CERRADA'
.head 7 -  Break
.head 6 +  Case 2
.head 7 -  Set dfEstado='ANULADA'
.head 7 -  Break
.head 5 -  !
.head 5 +  If sSubTipo='DONADO'
.head 6 -  Set rbDonado=TRUE
.head 5 +  Else If sSubTipo='PAGADO'
.head 6 -  Set rbPagado=TRUE
.head 5 +  Else If sSubTipo='POR COBRAR'
.head 6 -  Set rbPorCobrar=TRUE
.head 5 -  !
.head 5 -  Set dfPaciente = sRegresaPac
.head 5 -  Set dfPacienteCorrel = sRegresaCor
.head 5 -  Set dfNombrePaciente = sRegresaNomPac
.head 5 -  Set dfCodEmpleado = nRegresaEmpleado	
.head 5 -  Set dfNomEmpleado = sRegresaNomEmpleado
.head 5 -  !
.head 5 -  ! Cargar el detalle de la entrada
.head 5 -  !
.head 5 -  Call SalTblPopulate(tbl1,hSql1,"
select	
	A.COD_VARIA,
	C.COD_CATEGORIA,
                C.NOMBRE,
	A.COD_MEDICAMENTO,
	B.NOMBRE,
	D.NOMBRE,
	NULL,
	A.COSTO,
	A.CANTIDAD,
	A.COSTO*A.CANTIDAD
from	
	DETALLE_SALIDAS 	A,
	SERVICIOS		B,
	CATEG_SERVICIOS 	C,
	TIPOS_PRESEN 		D
where	
	A.COD_SALIDA		=	:dfCodigo			AND
	A.COD_MEDICAMENTO 	=	B.COD_SERVICIO		AND
	A.COD_CATEGORIA	=	B.COD_CATEGORIA	AND
	B.COD_CATEGORIA	=	C.COD_CATEGORIA 	AND 
	D.COD_PRESEN		=	B.COD_PRESEN	    	
order by
	A.COD_VARIA
",TBL_FillAll)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  !
.head 5 -  !
.head 5 -  Call SalSetFocus(dfFechaIngreso)
.head 5 -  !
.head 5 -  !
.head 5 -  Call SalWaitCursor(FALSE)
.head 3 +  Function: PrepareData
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Boolean: bExistsMedico
.head 5 -  Boolean: bExistsServicio
.head 4 +  Actions
.head 5 -  !
.head 5 +  If dfPaciente = "TEMPCOD"
.head 6 -  !
.head 6 -  Set dfPacienteCorrel = '0'
.head 5 -  !
.head 5 -  !
.head 5 +  If cmbTIPO_SALIDA='EMPLEADO'
.head 6 +  If rbDonado=TRUE
.head 7 -  Set sSubTipo='DONADO'
.head 6 +  Else If rbPagado=TRUE
.head 7 -  Set sSubTipo='PAGADO'
.head 6 +  Else If rbPorCobrar=TRUE
.head 7 -  Set sSubTipo='POR COBRAR'
.head 5 +  Else
.head 6 -  Set sSubTipo=STRING_Null
.head 5 -  !
.head 5 -  !
.head 5 +  If cmbDepto = ""
.head 6 -  !
.head 6 -  Set cmbDepto.nCodigo = NUMBER_Null
.head 5 +  If cmbHabitacion = ""
.head 6 -  !
.head 6 -  Set cmbHabitacion.nCodigo = NUMBER_Null
.head 5 -  !
.head 5 -  ! -------Obtener el codigo del usuario que ha creado/modificado la orden
.head 5 -  Set sSQL = "select
		COD_USU
    	from
		USUARIOS
	where
		NOMBRE = :sNombreUsuario
  	into
		:nUser"
.head 5 -  Call SqlImmediate(  sSQL)
.head 5 -  Call SqlClearImmediate( )
.head 5 -  !
.head 5 -  Return TRUE
.head 3 +  Function: DoInsert
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nTipoSalida
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"begin tran")
.head 5 -  !
.head 5 -  Set nTipoSalida = cmbTIPO_SALIDA.nCodigo
.head 5 -  Call SqlPrepareAndExecute(hSql1,
	"INSERT INTO 
		SALIDAS(
			COD_SALIDA,
			COD_BODEGA,
			FECHA,
			OBS,
			REQUISICION,
			COD_TIPO_SALIDA,
			TOTAL_SALIDA,
			SUB_TIPO,
			COD_DEPTO,
			COD_PACIENTE,
			CORREL_PACIENTE,
			PACIENTE,
			COD_EMPLEADO,
			CAMA,
			CREADO_POR)
		values(	
			:dfCodigo,
			:cmbBodega.nCodigo,
			:dfFechaIngreso,
			:mlObs,
			:dfReq,
			:nTipoSalida,
			:dfTotal,
			:sSubTipo,
			:cmbDepto.nCodigo,
			:dfPaciente,
			:dfPacienteCorrel,
			:dfNombrePaciente,
			:dfCodEmpleado,
			:cmbHabitacion.nCodigo,
			:nUser)")
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  !
.head 5 -  ! -----------Insertar detalle de entrada por factura
.head 5 -  !
.head 5 -  Call SqlPrepare(	hSql1,
		"INSERT INTO 
			detalle_salidas( 
				COD_VARIA,
				COD_CATEGORIA,
				COD_MEDICAMENTO, 
				COD_SALIDA,
		  		CANTIDAD,
				COSTO,
				COD_BODEGA,
				COD_TIPO_SALIDA
				)
			VALUES(	
				:tbl1.colUnico,
				:tbl1.colCategoria,
				:tbl1.colServicio,
				:dfCodigo,
				:tbl1.colCantidad,
				:tbl1.colCosto,
				:cmbBodega.nCodigo,
				:cmbTIPO_SALIDA.nCodigo
				)
")
.head 5 -  Call SalTblDoInserts(tbl1,hSql1,TRUE)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 5 -  !
.head 5 -  Call SalWaitCursor(FALSE)
.head 3 +  Function: DoUpdate
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Date/Time: dtHoy
.head 4 +  Actions
.head 5 -  !
.head 5 +  If nEstado = 0
.head 6 -  !
.head 6 -  Call SalWaitCursor(TRUE)
.head 6 -  Set dtHoy = SalDateCurrent()
.head 6 -  !
.head 6 -  ! Actualizar datos generales (encabezado) de la entrada
.head 6 -  ! NOTA: La bodega no podra ser actualizada, pues implicaria un movimiento (entrada-salida) de todos su detalle
.head 6 -  !
.head 6 -  Call SqlPrepareAndExecute(hSql1,"begin tran")
.head 6 -  Call SqlPrepareAndExecute( hSql1,
"UPDATE 
	SALIDAS
 SET	
	FECHA 			= :dfFechaIngreso,
	OBS 			= :mlObs,
	REQUISICION 		= :dfReq,
	COD_TIPO_SALIDA 	= :cmbTIPO_SALIDA.nCodigo,
	TOTAL_SALIDA		= :dfTotal,
	SUB_TIPO		= :sSubTipo,
	COD_DEPTO		= :cmbDepto.nCodigo,
	COD_PACIENTE		= :dfPaciente,
	CORREL_PACIENTE 	= :dfPacienteCorrel,
	COD_EMPLEADO		= :dfCodEmpleado,
	PACIENTE		= :dfNombrePaciente,
	CAMA			= :cmbHabitacion.nCodigo,
	modificado_por		=:nUser,
	fecha_modificacion 		=:dtHoy 
 WHERE 
	COD_SALIDA		=:dfCodigo" )
.head 6 -  !
.head 6 -  ! Actualizar el detalle de la entrada 
.head 6 -  ! NOTA: La actualizacion del inventario de la actual bodega se hace por triggers de la tabla DETALLE_ENTRADAS
.head 6 -  ! NOTA: El medicamento/material como tal no podra ser cambiado, solomanente sus costos y cantidades
.head 6 -  !
.head 6 -  Call SqlPrepare(hSql1,"
INSERT INTO 
	detalle_salidas ( 
			COD_VARIA, 
			COD_CATEGORIA,
			COD_MEDICAMENTO, 
			COD_SALIDA, 
			CANTIDAD, 
			COSTO, 
			COD_BODEGA,
			COD_TIPO_SALIDA)
	VALUES	( 
			:tbl1.colUnico, 
			:tbl1.colCategoria,
			:tbl1.colServicio, 
			:dfCodigo, 
			:tbl1.colCantidad, 
			:tbl1.colCosto, 
			:cmbBodega.nCodigo,
			:cmbTIPO_SALIDA.nCodigo)")
.head 6 -  Call SalTblDoInserts(tbl1,hSql1,TRUE)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  !
.head 6 -  Call SqlPrepare(hSql1,"UPDATE 
			detalle_salidas 
		SET 			
			CANTIDAD		=:tbl1.colCantidad,
			COSTO			=:tbl1.colCosto
		 WHERE 
			cod_varia 		= :tbl1.colUnico")
.head 6 -  Call SalTblDoUpdates(tbl1,hSql1,TRUE)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  !
.head 6 -  Call SqlPrepare(hSql1,"DELETE FROM 
			detalle_salidas 
		WHERE 
			cod_varia = :tbl1.colUnico")
.head 6 -  Call SalTblDoDeletes(tbl1,hSql1,ROW_MarkDeleted)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  !
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 6 -  Call SalWaitCursor(FALSE)
.head 6 -  !
.head 5 +  Else If nEstado = 1
.head 6 -  !
.head 6 -  !
.head 6 -  Call SalMessageBox ("La salida esta cerrada. No puede actualizarla.","MENSAJE",MB_Ok)
.head 3 +  Function: CerrarSalida
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  ! Call SqlPrepareAndExecute( hSql6,"SET CHAINED OFF")
.head 5 -  Call SybExecuteProc( hSql6, "CERRAR_SALIDA'" || dfCodigo || " ' ", STRING_Null)
.head 5 -  ! Call SqlPrepareAndExecute( hSql6,"SET CHAINED ON")
.head 3 +  Function: VerificarExistencia
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nCompuesto
.head 5 -  String: sCodMedicamento_I
.head 5 -  String: sCodCategoria_I
.head 5 -  Number: nBodega_I
.head 5 -  Number: nExistencia_I
.head 5 -  Number: nUnidades
.head 5 -  Boolean: bExistsProducto
.head 5 -  String: strIntoList
.head 5 -  String: strStatements
.head 5 -  Number: nRetVal
.head 4 +  Actions
.head 5 -  !
.head 5 -  ! ----------Veriricar si es producto es compuesto, y en ese caso obtener su padre
.head 5 -  Call SqlImmediate ("
		SELECT
			COMPUESTO,
			COD_SERVICIO_PARENT,
			COD_CATEGORIA_PARENT,
			UNIDADES_PARENT
		FROM
			SERVICIOS
		WHERE
			COD_SERVICIO= :tbl1.colServicio AND
			COD_CATEGORIA = :tbl1.colCategoria
		INTO
			:nCompuesto,
			:sCodMedicamento_I,
			:sCodCategoria_I,
			:nUnidades
			")
.head 5 -  Call SqlClearImmediate()
.head 5 -  !
.head 5 +  If nCompuesto != 1
.head 6 -  !
.head 6 -  ! ----El producto es el mismo padre
.head 6 -  !
.head 6 -  Set sCodMedicamento_I = tbl1.colServicio 
.head 6 -  Set sCodCategoria_I = tbl1.colCategoria
.head 6 -  Set nUnidades = 1
.head 5 -  !
.head 5 -  ! Verificar que el producto este registrado en la bodega seleccionada
.head 5 -  !
.head 5 -  Call SalSendMsg(cmbBodega, SAM_Click, 0, 0)
.head 5 -  !
.head 5 -  Set nBodega_I = cmbBodega.nCodigo
.head 5 -  Call SqlExists("Select		
			A.COD_MEDICAMENTO
		from	
			INVENTARIO_MED 	A
		where
			A.COD_BODEGA 		= :nBodega_I AND
			A.COD_MEDICAMENTO 	= :sCodMedicamento_I AND
			A.COD_CATEGORIA 	= :sCodCategoria_I
		
			", bExistsProducto)
.head 5 -  Call SqlClearImmediate()
.head 5 +  If not bExistsProducto
.head 6 -  !
.head 6 -  Set tbl1.colServicio=''
.head 6 -  Set tbl1.colcmbServi=''
.head 6 -  Set tbl1.colUnidad = ''
.head 6 -  Set tbl1.colCosto = NUMBER_Null
.head 6 -  Call SalMessageBox ("El producto no ha sido registrado en la bodega seleccionada. No podra efectuar su salida!","MENSAJE",MB_Ok)
.head 6 -  Return FALSE
.head 5 -  !
.head 5 -  ! -----Calcular existencia en la bodega seleccionada
.head 5 -  !
.head 5 -  Set strStatements = "CALCULAR_EXISTENCIA " || SalNumberToStrX (nBodega_I, 0) || ", '" ||  sCodMedicamento_I || "', '" || sCodCategoria_I || "', " || SalNumberToStrX (nUnidades, 0)
.head 5 -  Set strIntoList = " :nExistencia_I"
.head 5 +  If not SybPrepareProc( hSql6, strStatements, strIntoList)
.head 6 -  ! !
.head 6 -  Return FALSE
.head 5 +  If not SqlExecute ( hSql6)
.head 6 -  !
.head 6 -  Return FALSE
.head 5 -  Call SqlFetchNext ( hSql6, nRetVal)							
.head 5 -  !
.head 5 -  !
.head 5 -  Set tbl1.colExistencia = nExistencia_I
.head 3 +  Function: AplicarPlantillaA
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nSig
.head 5 -  String: sCodCategPlantilla
.head 5 -  String: sCodServicioPlantilla
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  !
.head 5 -  Call SqlPrepareAndExecute( hSql1, "
			SELECT 
				COD_MEDICAMENTO,
				COD_CATEGORIA
			FROM
				INVENTARIO_MED
			WHERE
				COD_BODEGA = 4 AND
				COD_CATEGORIA = '9'
			INTO 
				:sCodServicioPlantilla,
				:sCodCategPlantilla")
.head 5 -  Call SqlFetchNext( hSql1, nSig )
.head 5 +  While nSig!=FETCH_EOF
.head 6 -  !
.head 6 -  Call SalSendMsg(pbAgregar, SAM_Click, 0, 0)
.head 6 -  Set tbl1.colServicio=sCodServicioPlantilla
.head 6 -  Set tbl1.colCategoria=sCodCategPlantilla
.head 6 -  Call SalSendMsg(tbl1.colCategoria, SAM_Validate,0,0)
.head 6 -  Call SalSendMsg(tbl1.colServicio, SAM_Validate,0,0)
.head 6 -  Set tbl1.colCantidad=tbl1.colExistencia
.head 6 -  Call SalSendMsg(tbl1.colCantidad, SAM_Validate,0,0)
.head 6 -  !
.head 6 -  Call SqlFetchNext( hSql1, nSig )
.head 5 -  !
.head 5 -  Call SalWaitCursor(FALSE)
.head 3 +  Function: AplicarPlantilla
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nSig
.head 5 -  String: sCodCategPlantilla
.head 5 -  String: sCodServicioPlantilla
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  !
.head 5 -  Call SqlPrepareAndExecute( hSql1, "
			SELECT 
				COD_SERVICIO,
				COD_CATEGORIA
			FROM
				PLANTILLAS_INVENTARIO
			WHERE
				DESC_PLANTILLA = :cmbPlantilla
			ORDER BY
				ORDEN
			INTO 
				:sCodServicioPlantilla,
				:sCodCategPlantilla")
.head 5 -  Call SqlFetchNext( hSql1, nSig )
.head 5 +  While nSig!=FETCH_EOF
.head 6 -  !
.head 6 -  Call SalSendMsg(pbAgregar, SAM_Click, 0, 0)
.head 6 -  Set tbl1.colServicio=sCodServicioPlantilla
.head 6 -  Set tbl1.colCategoria=sCodCategPlantilla
.head 6 -  Call SalSendMsg(tbl1.colCategoria, SAM_Validate,0,0)
.head 6 -  Call SalSendMsg(tbl1.colServicio, SAM_Validate,0,0)
.head 6 -  !
.head 6 -  Call SqlFetchNext( hSql1, nSig )
.head 5 -  !
.head 5 -  Call SalWaitCursor(FALSE)
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: sSubTipo
.head 3 -  String: sRegresaCateg
.head 3 -  String: sRegresaServ
.head 3 -  String: sRegresaPac
.head 3 -  String: sRegresaCor
.head 3 -  Number: nRegresaEmpleado
.head 3 -  String: sSQL
.head 3 -  Boolean: bNuevaSalida
.head 3 -  Boolean: bExistsSalida
.head 3 -  Number: nCodigo
.head 3 -  Number: nEstado
.head 3 -  Number: nUser
.head 3 -  !
.head 3 -  String: sRegresaSalida
.head 3 -  String: sRegresaNomPac
.head 3 -  String: sRegresaNomEmpleado
.head 3 -  !
.head 3 -  String: sPlantilla
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalCenterWindow( hWndForm )
.head 4 -  Set bNuevaSalida=FALSE
.head 4 -  Call DeshabilitarObjetos( )
.head 4 -  !
.head 3 +  On MU_BORRAR
.head 4 -  !
.head 4 +  If SalStrLowerX(sNombreUsuario) = SalStrLowerX(dfCreadoPor)
.head 5 -  Call SqlPrepareAndExecute( hSql1, "delete from detalle_salidas where cod_salida=:dfCodigo" )
.head 5 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 5 -  Call SqlPrepareAndExecute( hSql1, "delete from salidas where cod_salida=:dfCodigo" )
.head 5 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 4 +  Else
.head 5 -  Call SalMessageBox("Usted no puede eliminar esta salida","ERROR",MB_Ok)
.head 3 +  On SAM_Destroy
.head 4 -  !
.head 4 +  If bNuevaSalida
.head 5 -  !
.head 5 -  Set sSQL = "   SELECT
			*
		FROM
			SALIDAS
		WHERE
			COD_SALIDA   =   :dfCodigo"
.head 5 -  Call SqlExists (sSQL, bExistsSalida)
.head 5 -  Call SqlClearImmediate()
.head 5 +  If not bExistsSalida
.head 6 -  !
.head 6 -  Set nCodigo = SalStrToNumber ( dfCodigo )
.head 6 -  Set sSQL = 'DELETE FROM
		 IDENTITYS 
	WHERE 
		cod_tabla = 14 AND
		MAXIMO = :nCodigo'
.head 6 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  !
.head 1 +  Dialog Box: dlgConsultaMedicamentos
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Existencia en Inventario
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  13.033"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 5.524"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.483"
.head 6 -  Top:    1.738"
.head 6 -  Width:  11.5"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 2.917"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 8
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colBodega
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Bodega
.head 6 -  Visible? Yes
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.733"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCodigo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Codigo
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.15"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDesc
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripcion
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  4.083"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colPresen
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Presentacion
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.383"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colExistencia
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Existencia
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.867"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: #0
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCosto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Costo
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colp1
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Precio V. 1
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.383"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colp2
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Precio V.2
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.317"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colp3
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Precio V.3
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.433"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colp4
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Precio V.4
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.483"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCategoria
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Categoria
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.183"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCod_Categ
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod. Categ
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.183"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCod_Bodega
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: cODbODEGA
.head 6 -  Visible? No
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.867"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: #0
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 +  Window Variables
.head 5 -  Number: nFilita
.head 5 -  String: sEnviaServ
.head 5 -  String: sEnviaCateg
.head 4 +  Message Actions
.head 5 +  On SAM_DoubleClick
.head 6 +  If nCaso=2
.head 7 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.colBodega)
.head 7 -  Call SalTblSetContext(tbl1,nFilita)
.head 7 -  Set sRegresa1 = tbl1.colCodigo
.head 7 -  Set sRegresa2 = tbl1.colCod_Categ
.head 7 -  Set nRegresa3 = tbl1.colCod_Bodega
.head 7 -  Set nRegresa4 = tbl1.colExistencia
.head 7 -  Call SalEndDialog(dlgConsultaMedicamentos,TRUE)
.head 5 +  On SAM_Click
.head 6 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.colBodega)
.head 6 -  Call SalTblSetContext(tbl1,nFilita)
.head 6 -  Set dfCod_Medicamento = tbl1.colCodigo
.head 6 -  Set cmbCateg.sCodigos = tbl1.colCod_Categ
.head 6 -  Call cmbCateg.Actualizar()
.head 6 -  !
.head 5 +  On SAM_Create
.head 6 -  !
.head 6 -  Call MTblSubClass( hWndForm )
.head 6 -  Call MTblEnableMWheelScroll( hWndForm, TRUE )
.head 3 -  Group Box: Criterios de Busqueda
.head 4 -  Resource Id: 31067
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.583"
.head 5 -  Top:    0.071"
.head 5 -  Width:  11.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbSalir
.data CLASSPROPSSIZE
0000: 2C00
.enddata
.data CLASSPROPS
0000: 544F4F4C5449505F 5374617475730001 000000544F4F4C54 49505F5469700006
0020: 0053616C69720000 00000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbSalir
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 11.283"
.head 5 -  Top:    0.821"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbBusqueda
.data CLASSPROPSSIZE
0000: 2D00
.enddata
.data CLASSPROPS
0000: 544F4F4C5449505F 5374617475730001 000000544F4F4C54 49505F5469700007
0020: 0042757363617200 0000000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.483"
.head 5 -  Top:    0.821"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalWaitCursor( TRUE )
.head 6 -  Call SalTblPopulate( tbl1, hSql1, ArmarQuery(), TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 6 -  Set dfTotal=ContarFilas( tbl1 )
.head 6 -  Call SalWaitCursor( FALSE )
.head 3 -  Background Text: Producto
.head 4 -  Resource Id: 31068
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.717"
.head 5 -  Top:    0.321"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfDescripcion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.083"
.head 6 -  Top:    0.321"
.head 6 -  Width:  3.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Presentación
.head 4 -  Resource Id: 31069
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.717"
.head 5 -  Top:    0.952"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbPresentacion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.983"
.head 5 -  Top:    0.869"
.head 5 -  Width:  4.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbPresentacion.nCaso=1
.head 6 -  Set cmbPresentacion.sTabla='TIPOS_PRESEN'
.head 6 -  Set cmbPresentacion.sNombre='NOMBRE'
.head 6 -  Set cmbPresentacion.sCodigo='COD_PRESEN'
.head 3 -  Background Text: Grupo
.head 4 -  Resource Id: 31070
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.65"
.head 5 -  Top:    1.119"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbGrupo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.85"
.head 5 -  Top:    1.095"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbGrupo.nCaso=1
.head 6 -  Set cmbGrupo.sTabla='GRUPOS'
.head 6 -  Set cmbGrupo.sNombre='NOMBRE'
.head 6 -  Set cmbGrupo.sCodigo='COD_GRUPO'
.head 3 +  Data Field: dfOculto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.083"
.head 6 -  Top:    4.905"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Posicionese sobre el Medicamento en Particular y presione doble click para cargarlo
.head 4 -  Resource Id: 31071
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.183"
.head 5 -  Top:    5.095"
.head 5 -  Width:  8.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Total
.head 4 -  Resource Id: 31072
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.183"
.head 5 -  Top:    4.845"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTotal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 8.983"
.head 6 -  Top:    4.821"
.head 6 -  Width:  1.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: #0
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbLimpiar
.data CLASSPROPSSIZE
0000: 2E00
.enddata
.data CLASSPROPS
0000: 544F4F4C5449505F 5374617475730001 000000544F4F4C54 49505F5469700008
0020: 004C696D70696172 000000000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbLimpia
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 11.283"
.head 5 -  Top:    0.321"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\eraser.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Combo Box: cmbCateg
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.983"
.head 5 -  Top:    0.571"
.head 5 -  Width:  4.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbCateg.nCaso=2
.head 6 -  Set cmbCateg.sTabla='CATEG_SERVICIOS'
.head 6 -  Set cmbCateg.sNombre='NOMBRE'
.head 6 -  Set cmbCateg.sCodigo='COD_CATEGORIA'
.head 3 +  Check Box: cbExistencia_0
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Existencia > 0
.head 4 -  Window Location and Size
.head 5 -  Left: 7.283"
.head 5 -  Top:    1.238"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 -  Background Text: Categoría
.head 4 -  Resource Id: 7897
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.95"
.head 5 -  Top:    0.595"
.head 5 -  Width:  1.033"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Almacén
.head 4 -  Resource Id: 22032
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.117"
.head 5 -  Top:    1.286"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbBodega
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.983"
.head 5 -  Top:    1.202"
.head 5 -  Width:  4.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbBodega.nCaso=1
.head 6 -  Set cmbBodega.sTabla='BODEGAS'
.head 6 -  Set cmbBodega.sNombre='NOMBRE'
.head 6 -  Set cmbBodega.sCodigo='COD_BODEGA'
.head 3 -  Frame
.head 4 -  Resource Id: 22033
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    1.655"
.head 5 -  Width:  11.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.083"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 +  Data Field: dfCod_Medicamento
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.983"
.head 6 -  Top:    0.321"
.head 6 -  Width:  1.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Yes
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbImprimir
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.483"
.head 5 -  Top:    0.321"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  !
.head 7 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.col1)
.head 7 -  Call SalTblSetContext(tbl1,nFilita)
.head 7 -  Set sRegresa=tbl1.col1
.head 7 -  Call SalEndDialog(dlgConsultaMedicamentos,TRUE)
.head 6 +  If not SalIsNull(dfCod_Medicamento)
.head 7 -  !
.head 7 -  Set params[0] = '1'
.head 7 -  Set params[1] = dfCod_Medicamento
.head 6 +  Else
.head 7 -  Set params[0] = '0'
.head 6 +  If not SalIsNull(cmbCateg)
.head 7 -  !
.head 7 -  Set params[2] = '1'
.head 7 -  Set params[3] = cmbCateg.sCodigos
.head 6 +  Else
.head 7 -  Set params[2] = '0'
.head 6 +  If not SalIsNull(dfDescripcion)
.head 7 -  !
.head 7 -  Set params[4] = '1'
.head 7 -  Set params[5] = dfDescripcion
.head 6 +  Else
.head 7 -  Set params[4] = '0'
.head 6 +  If not SalIsNull(cmbPresentacion)
.head 7 -  !
.head 7 -  !
.head 7 -  Set params[6] = '1'
.head 7 -  Set params[7] = SalNumberToStrX(cmbPresentacion.nCodigo,0)
.head 6 +  Else
.head 7 -  Set params[6] = '0'
.head 6 +  If not SalIsNull(cmbBodega)
.head 7 -  !
.head 7 -  !
.head 7 -  Set params[8] = '1'
.head 7 -  Set params[9] = SalNumberToStrX(cmbBodega.nCodigo,0)
.head 6 +  Else
.head 7 -  Set params[8] = '0'
.head 6 +  If SalIsButtonChecked(cbExistencia_0)
.head 7 -  !
.head 7 -  Set params[10] = '1'
.head 6 +  Else
.head 7 -  Set params[10] = '0'
.head 6 +  If SalIsButtonChecked(cbImprimirDetalle)
.head 7 -  !
.head 7 -  Set params[11] = '1'
.head 6 +  Else
.head 7 -  Set params[11] = '0'
.head 6 +  If not SalIsNull(dfInicio)
.head 7 -  !
.head 7 -  Set params[12] = '1' 
.head 7 -  Set params[13] = SalFmtFormatDateTime ( dfInicio, 'dd/MM/yyyy' )
.head 6 +  Else
.head 7 -  Set params[12] = '0'
.head 6 +  If not SalIsNull(dfFin)
.head 7 -  !
.head 7 -  Set params[14] = '1' 
.head 7 -  Set params[15] = SalFmtFormatDateTime ( dfFin, 'dd/MM/yyyy' )
.head 6 +  Else
.head 7 -  Set params[14] = '0'
.head 6 -  !
.head 6 -  Set strRepTitle = " Informe de Existencia en Inventario"
.head 6 -  Set strReportName = strRepPath||"\\InventarioMovimientos.rpt"
.head 6 -  !
.head 6 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 4 +  ! On SAM_Click
.head 5 +  !
.head 6 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.col1)
.head 6 -  Call SalTblSetContext(tbl1,nFilita)
.head 6 -  Set sRegresa=tbl1.col1
.head 6 -  Call SalEndDialog(dlgConsultaMedicamentos,TRUE)
.head 5 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.colBodega)
.head 5 -  Call SalTblSetContext(tbl1,nFilita)
.head 5 -  Set sEnviaServ=tbl1.colCodigo
.head 5 -  Set sEnviaCateg = tbl1.colCod_Categ
.head 5 -  Call SalModalDialog( dlgImprimirEntradas, hWndForm, sEnviaServ, sRegresa2)
.head 4 +  ! On SAM_Click
.head 5 +  !
.head 6 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.col1)
.head 6 -  Call SalTblSetContext(tbl1,nFilita)
.head 6 -  Set sRegresa=tbl1.col1
.head 6 -  Call SalEndDialog(dlgConsultaMedicamentos,TRUE)
.head 5 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.colBodega)
.head 5 -  Call SalTblSetContext(tbl1,nFilita)
.head 5 -  Set sEnviaServ=tbl1.colCodigo
.head 5 -  Set sEnviaCateg = tbl1.colCod_Categ
.head 5 -  Call SalModalDialog( dlgImprimirEntradas, hWndForm, sEnviaServ, sRegresa2)
.head 3 -  Frame
.head 4 -  Resource Id: 7900
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.283"
.head 5 -  Top:    0.238"
.head 5 -  Width:  3.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.917"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 +  Check Box: cbImprimirDetalle
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Imprimir Detalle de Movimientos
.head 4 -  Window Location and Size
.head 5 -  Left: 7.383"
.head 5 -  Top:    0.321"
.head 5 -  Width:  2.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfInicio
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 8.15"
.head 6 -  Top:    0.595"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFin
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 8.15"
.head 6 -  Top:    0.845"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Inicio
.head 4 -  Resource Id: 7899
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.55"
.head 5 -  Top:    0.619"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Fin
.head 4 -  Resource Id: 7898
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.65"
.head 5 -  Top:    0.869"
.head 5 -  Width:  0.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 2 +  Functions
.head 3 +  Function: ArmarQuery
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  ! String: sConsulta
.head 4 +  Actions
.head 5 -  Set sConsulta="Select	
			B.NOMBRE,
			D.COD_SERVICIO,
			D.NOMBRE,
			C.NOMBRE,
			A.EXISTENCIA,
			D.COSTO_REAL,			
			D.COSTO,
			D.COSTO1,
			D.COSTO2,
			D.COSTO3,
			E.NOMBRE,
			D.COD_CATEGORIA,
			B.COD_BODEGA
		from	
			INVENTARIO_MED 	A,
			BODEGAS 		B,
			TIPOS_PRESEN 		C,
			SERVICIOS		D,
			CATEG_SERVICIOS 	E

		where	
			A.COD_BODEGA	   	= B.COD_BODEGA 		AND
			C.COD_PRESEN	   	= D.COD_PRESEN 		AND
			A.COD_MEDICAMENTO 	= D.COD_SERVICIO 		AND
			A.COD_CATEGORIA 	= D.COD_CATEGORIA		AND
			D.COD_CATEGORIA 	= E.COD_CATEGORIA"
			
			
			
.head 5 +  If cmbBodega!=''
.head 6 -  Set sConsulta=sConsulta||"	AND	A.COD_BODEGA=:dlgConsultaMedicamentos.cmbBodega.nCodigo	"
.head 5 +  If dfDescripcion!=''
.head 6 -  Set sConsulta=sConsulta||"	AND	D.NOMBRE  like '"||dlgConsultaMedicamentos.dfDescripcion||"%'"
.head 5 +  If dfCod_Medicamento !=''
.head 6 -  Set sConsulta=sConsulta||"	AND	A.COD_MEDICAMENTO=:dlgConsultaMedicamentos.dfCod_Medicamento"
.head 5 +  If cmbPresentacion!=''
.head 6 -  Set sConsulta=sConsulta||"	AND	D.COD_PRESEN=:dlgConsultaMedicamentos.cmbPresentacion.nCodigo"
.head 5 +  If cmbCateg!=''
.head 6 -  Set sConsulta=sConsulta||"      AND       E.COD_CATEGORIA=:dlgConsultaMedicamentos.cmbCateg.sCodigos"
.head 5 +  If cbExistencia_0=TRUE
.head 6 -  Set sConsulta=sConsulta||"	AND	A.EXISTENCIA>0"
.head 5 -  Set sConsulta=sConsulta||"	order	by	D.NOMBRE"
.head 5 -  Return sConsulta
.head 3 +  Function: EsCompuesto
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nCompuesto
.head 4 +  Actions
.head 5 -  Call SqlImmediate ("
		SELECT
			COMPUESTO
		FROM
			SERVICIOS
		WHERE
			COD_SERVICIO= :sParam1 AND
			COD_CATEGORIA = :sParam2
		INTO
			:nCompuesto
			")
.head 5 -  Call SqlClearImmediate()
.head 5 -  !
.head 5 +  If nCompuesto = 1
.head 6 -  !
.head 6 -  Return TRUE
.head 5 -  !
.head 5 -  Return FALSE
.head 2 +  Window Parameters
.head 3 -  Number: nFlagBusquedaDirecta
.head 3 -  String: sParam1
.head 3 -  String: sParam2
.head 3 -  Number: nCaso
.head 3 -  Receive String: sRegresa1
.head 3 -  Receive String: sRegresa2
.head 3 -  Receive Number: nRegresa3
.head 3 -  Receive Number: nRegresa4
.head 2 +  Window Variables
.head 3 -  String: sConsulta
.head 3 -  String: sEnviaServ
.head 3 -  String: sEnviaCateg
.head 3 -  Number: nFilita
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalBringWindowToTop(dlgConsultaMedicamentos)
.head 4 +  If nFlagBusquedaDirecta = 1
.head 5 -  !
.head 5 +  If EsCompuesto()
.head 6 -  !
.head 6 -  Call SqlImmediate("
		SELECT
			COD_SERVICIO_PARENT,
			COD_CATEGORIA_PARENT
		FROM
			SERVICIOS
		WHERE
			COD_SERVICIO= :sParam1 AND
			COD_CATEGORIA = :sParam2
		INTO
			:dfCod_Medicamento,
			:cmbCateg.sCodigos
			
")
.head 6 -  Call SqlClearImmediate()
.head 5 +  Else
.head 6 -  !
.head 6 -  Set dfCod_Medicamento = sParam1
.head 6 -  Set cmbCateg.sCodigos = sParam2
.head 5 -  !
.head 5 -  Call cmbCateg.Actualizar()
.head 5 -  Call SalSendMsg(pbBusqueda, SAM_Click, 0, 0)
.head 4 -  !
.head 1 +  Dialog Box: dlgConsultaEntrada
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Consulta de Entrada de Medicamentos
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  13.5"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 7.714"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  Data Field: dfFactura
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: String
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.983"
.head 6 -  Top:    0.571"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Unformatted
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Group Box: Criterios de Busqueda
.head 4 -  Resource Id: 31075
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    0.155"
.head 5 -  Width:  12.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.0"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Bodega
.head 4 -  Resource Id: 31076
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.15"
.head 5 -  Top:    1.202"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbBodega
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.983"
.head 5 -  Top:    1.167"
.head 5 -  Width:  4.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbBodega.nCaso=1
.head 6 -  Set cmbBodega.sTabla='BODEGAS'
.head 6 -  Set cmbBodega.sNombre='NOMBRE'
.head 6 -  Set cmbBodega.sCodigo='COD_BODEGA'
.head 3 +  Combo Box: cmbGrup
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.983"
.head 5 -  Top:    1.452"
.head 5 -  Width:  4.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbGrup.nCaso=1
.head 6 -  Set cmbGrup.sTabla='GRUPOS_MED'
.head 6 -  Set cmbGrup.sNombre='NOMBRE'
.head 6 -  Set cmbGrup.sCodigo='COD_GRUPO'
.head 3 -  Background Text: Grupo
.head 4 -  Resource Id: 55596
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.083"
.head 5 -  Top:    1.476"
.head 5 -  Width:  0.767"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.179"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Posicionese sobre la Entrada en Particular y presione doble click para cargarlo
.head 4 -  Resource Id: 31077
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.183"
.head 5 -  Top:    5.095"
.head 5 -  Width:  8.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Totales
.head 4 -  Resource Id: 31078
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.183"
.head 5 -  Top:    4.679"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTotal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 8.983"
.head 6 -  Top:    4.655"
.head 6 -  Width:  1.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: #0
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Group Box: Rango de Fecha de Entrada
.head 4 -  Resource Id: 31079
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.983"
.head 5 -  Top:    0.571"
.head 5 -  Width:  3.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.0"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Inicio
.head 4 -  Resource Id: 31080
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.183"
.head 5 -  Top:    0.845"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfInicio
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.783"
.head 6 -  Top:    0.821"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Fin
.head 4 -  Resource Id: 31081
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.35"
.head 5 -  Top:    1.119"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFin
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.783"
.head 6 -  Top:    1.071"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb3
.data CLASSPROPSSIZE
0000: 2D00
.enddata
.data CLASSPROPS
0000: 544F4F4C5449505F 5374617475730001 000000544F4F4C54 49505F5469700007
0020: 0042757363617200 0000000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.483"
.head 5 -  Top:    1.286"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.595"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalWaitCursor( TRUE )
.head 6 -  Call SalTblPopulate( tbl1, hSql1, ArmarQuery(), TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 6 -  Set dfTotal=ContarFilas( tbl1 )
.head 6 -  Set dfTotalEntradas=SalTblColumnSum( tbl1, 7, 0, 0 )
.head 6 -  Set dfTot=SalTblColumnSum( tbl2, 7, 0, 0 )
.head 6 -  Call SalWaitCursor( FALSE )
.head 3 +  Pushbutton: pb5
.data CLASSPROPSSIZE
0000: 3700
.enddata
.data CLASSPROPS
0000: 544F4F4C5449505F 5374617475730001 000000544F4F4C54 49505F5469700011
0020: 004C696D70696172 2050616E74616C6C 61000000000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbLimpia
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 11.183"
.head 5 -  Top:    1.286"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.595"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\eraser.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.383"
.head 6 -  Top:    2.405"
.head 6 -  Width:  12.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 2.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 8
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colEntrada
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Codigo
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.217"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFecha
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha de Entrada
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Center
.head 6 -  Width:  1.667"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colObservacion
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Observacion
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  4.167"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colBodega
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Bodega
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.85"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colGrupo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Proveedor
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFactura
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: # de Factura
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.717"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colTotal
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Total
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.65"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colEstado
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Estado
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.717"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 +  Window Variables
.head 5 -  Number: nFilita
.head 4 +  Message Actions
.head 5 +  On SAM_CornerDoubleClick
.head 6 -  Call SalSendMsg(tbl1,SAM_DoubleClick,0,0)
.head 5 +  On SAM_CaptionDoubleClick
.head 6 -  Call SalSendMsg(tbl1,SAM_DoubleClick,0,0)
.head 5 +  On SAM_DoubleClick
.head 6 +  If nCaso=2
.head 7 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.colEntrada)
.head 7 -  Call SalTblSetContext(tbl1,nFilita)
.head 7 -  Set sRegresa=tbl1.colEntrada
.head 7 -  Call SalEndDialog(dlgConsultaEntrada,TRUE)
.head 5 +  On SAM_Click
.head 6 -  Call SalTblPopulate(tbl2,hSql1,"
select	
	A.COD_MEDICAMENTO,
	B.NOMBRE,
	D.NOMBRE,
	A.COSTO,
	A.CANTIDAD,
	A.CANTIDAD_BONIFICADA,
	A.COSTO*A.CANTIDAD,
	A.COD_CATEGORIA
from	
	DETALLE_ENTRADAS 	A,
	SERVICIOS		B,
	CATEG_SERVICIOS 	C,
	TIPOS_PRESEN 		D
where	
	A.COD_ENTRADA		=	:tbl1.colEntrada		AND
	A.COD_MEDICAMENTO 	=	B.COD_SERVICIO		AND
	A.COD_CATEGORIA	=	B.COD_CATEGORIA	AND
	B.COD_CATEGORIA	=	C.COD_CATEGORIA 	AND 
	D.COD_PRESEN		=	B.COD_PRESEN	    
order by
	B.NOMBRE
",TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 6 -  Set dfTot=SalTblColumnSum( tbl2, 7, 0, 0 )
.head 5 +  On SAM_Create
.head 6 -  !
.head 6 -  Call MTblSubClass( hWndForm )
.head 6 -  Call MTblEnableMWheelScroll( hWndForm, TRUE )
.head 3 +  Child Table: tbl2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.383"
.head 6 -  Top:    5.071"
.head 6 -  Width:  12.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.583"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colCodMedicamento
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod. Producto
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.25"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colNomMedicamento
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Nombre
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.683"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colUnidad
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Unidad
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.833"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCosto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Costo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.317"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCantidad
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cantidad
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Right
.head 6 -  Width:  1.117"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCantidadBonificada
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cantidad B
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Right
.head 6 -  Width:  1.15"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colSubTotal
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: SubTotal
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.483"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCodCateg
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod. Categ
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.25"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 +  Window Variables
.head 5 -  Number: nFilita2
.head 5 -  Number: nBodega
.head 5 -  Number: nExistencia
.head 5 -  String: sRegresaServ
.head 5 -  String: sRegresaCateg
.head 4 +  Message Actions
.head 5 +  On SAM_DoubleClick
.head 6 -  Call SalTblQueryFocus(tbl2,nFilita2,tbl2.colCodMedicamento)
.head 6 -  Call SalTblSetContext(tbl2,nFilita2)
.head 6 -  Set sRegresaServ=tbl2.colCodMedicamento
.head 6 -  Set sRegresaCateg=tbl2.colCodCateg
.head 6 -  Call SalModalDialog( dlgConsultaMedicamentos, hWndForm, 1, sRegresaServ, sRegresaCateg, 1, STRING_Null, STRING_Null, nBodega, nExistencia)
.head 5 +  On SAM_Create
.head 6 -  !
.head 6 -  Call MTblSubClass( hWndForm )
.head 6 -  Call MTblEnableMWheelScroll( hWndForm, TRUE )
.head 3 -  Background Text: Detalle de la Entrada Seleccionada
.head 4 -  Resource Id: 31084
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    4.762"
.head 5 -  Width:  3.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Total de Entrada
.head 4 -  Resource Id: 31085
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.383"
.head 5 -  Top:    6.845"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTot
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.983"
.head 6 -  Top:    6.821"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfTotalEntradas
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.383"
.head 6 -  Top:    4.655"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Frame
.head 4 -  Resource Id: 55590
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    0.071"
.head 5 -  Width:  13.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 7.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Raised-Shadow
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: **Doble Click para consultar inventario
.head 4 -  Resource Id: 46113
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.25"
.head 5 -  Top:    6.786"
.head 5 -  Width:  3.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 55595
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    2.321"
.head 5 -  Width:  12.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.333"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 -  Group Box: Datos Generales
.head 4 -  Resource Id: 55594
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    0.405"
.head 5 -  Width:  11.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Factura No.
.head 4 -  Resource Id: 55592
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.983"
.head 5 -  Top:    0.619"
.head 5 -  Width:  0.967"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 55591
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    4.988"
.head 5 -  Width:  12.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.75"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 +  Data Field: dfOculto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.083"
.head 6 -  Top:    4.905"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Entrada No.
.head 4 -  Resource Id: 24955
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.85"
.head 5 -  Top:    0.643"
.head 5 -  Width:  1.067"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.179"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCodigo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: String
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.983"
.head 6 -  Top:    0.595"
.head 6 -  Width:  2.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Unformatted
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Combo Box: cmbTIPO_ENTRADA
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.983"
.head 5 -  Top:    0.845"
.head 5 -  Width:  4.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbTIPO_ENTRADA.nCaso=1
.head 6 -  Set cmbTIPO_ENTRADA.sTabla='TIPOS_ENTRADA'
.head 6 -  Set cmbTIPO_ENTRADA.sNombre='DESCRIPCION_ENTRADA'
.head 6 -  Set cmbTIPO_ENTRADA.sCodigo='COD_TIPO_ENTRADA'
.head 3 -  Background Text: Tipo Entrada
.head 4 -  Resource Id: 58353
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    0.869"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbCerrar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.317"
.head 5 -  Top:    0.786"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.595"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\decrypted.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If SalMessageBox( "Esta seguro de cerrar las entradas?", "Advertencia", MB_YesNo )=IDYES
.head 7 -  !
.head 7 -  !
.head 7 +  If SalIsNull(dfInicio)
.head 8 -  !
.head 8 -  Call SalMessageBox ("Especifique la fecha de inicio","MENSAJE",MB_Ok)
.head 8 -  Return FALSE
.head 7 +  If SalIsNull(dfFin)
.head 8 -  !
.head 8 -  Call SalMessageBox ("Especifique la fecha final","MENSAJE",MB_Ok)
.head 8 -  Return FALSE
.head 7 -  !
.head 7 -  Set sFechaInicio = SalFmtFormatDateTime ( dfInicio, 'dd/MM/yyyy' )
.head 7 -  Set sFechaFin = SalFmtFormatDateTime ( dfFin, 'dd/MM/yyyy' )
.head 7 -  ! Call SalDateToStr ( dfInicio, sFechaInicio )								
.head 7 -  ! Call SalDateToStr ( dfFin, sFechaFin )								
.head 7 -  Call SalWaitCursor(TRUE)
.head 7 +  If SybExecuteProc( hSql6, "CERRAR_ENTRADAS'" || sFechaInicio || " ', ' "  || sFechaFin || " ' ", STRING_Null)
.head 8 -  !
.head 8 -  Call SalMessageBox ("Proceso de Cierre Concluido!","MENSAJE",MB_Ok)
.head 7 -  Call SalWaitCursor(FALSE)
.head 5 -  !
.head 2 +  Functions
.head 3 +  Function: ArmarQuery
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sConsulta
.head 4 +  Actions
.head 5 -  Set sConsulta="Select	
		A.COD_ENTRADA,   
		convert(varchar(12),A.FECHA,103),
		A.OBS,
		C.NOMBRE,
		B.NOMBRE,
		A.FACTURA,
		A.TOTAL_FACTURA,
		(
		CASE 
		WHEN  A.ESTADO = 0 THEN 'EN PROCESO'
		WHEN A.ESTADO = 1 THEN 'CERRADA'
		ELSE 'ANULADA'
		END
        		)	
	        from	
		ENTRADAS 	A,
		BODEGAS 	C,
		GRUPOS_MED 	B,
		TIPOS_ENTRADA	T
	       where	
		A.COD_BODEGA  		*= C.COD_BODEGA  AND
		A.COD_GRUPO    		*= B.COD_GRUPO 	AND
		A.COD_TIPO_ENTRADA 	*=  T.COD_TIPO_ENTRADA"
.head 5 +  If cmbBodega!=''
.head 6 -  Set sConsulta=sConsulta||"	AND	A.COD_BODEGA=:dlgConsultaEntrada.cmbBodega.nCodigo	"
.head 5 +  If dfInicio!=DATETIME_Null
.head 6 -  Set sConsulta=sConsulta||"	and	A.FECHA>=:dlgConsultaEntrada.dfInicio"
.head 5 +  If dfFin!=DATETIME_Null
.head 6 -  Set sConsulta=sConsulta||"	and	A.FECHA<=:dlgConsultaEntrada.dfFin"
.head 5 +  If cmbGrup!=''
.head 6 -  Set sConsulta=sConsulta||"	and 	A.COD_GRUPO=:dlgConsultaEntrada.cmbGrup.nCodigo"
.head 5 +  If dfFactura!=''
.head 6 -  Set sConsulta=sConsulta||"	and 	A.FACTURA=:dlgConsultaEntrada.dfFactura"
.head 5 +  If dfCodigo!=''
.head 6 -  Set sConsulta=sConsulta||"	and 	A.COD_ENTRADA=:dlgConsultaEntrada.dfCodigo"
.head 5 +  If cmbTIPO_ENTRADA!=''
.head 6 -  Set sConsulta=sConsulta||"	AND	A.COD_TIPO_ENTRADA=:cmbTIPO_ENTRADA.nCodigo	"
.head 5 -  Set sConsulta=sConsulta||"	order	by	A.FECHA"
.head 5 -  Return sConsulta
.head 2 +  Window Parameters
.head 3 -  Number: nCaso
.head 3 -  Receive String: sRegresa
.head 2 +  Window Variables
.head 3 -  String: sSQL
.head 3 -  String: sFechaInicio
.head 3 -  String: sFechaFin
.head 3 -  !
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 +  If nCaso=2
.head 5 -  ! Call SalHideWindow(pb6 )
.head 5 -  Call SalShowWindowAndLabel(dfOculto )
.head 4 +  Else
.head 5 +  If nCaso=1
.head 6 -  ! Call SalShowWindow(pb6 )
.head 6 -  Call SalHideWindowAndLabel(dfOculto )
.head 4 -  Call SalHideWindow(dfOculto)
.head 4 -  Call SalBringWindowToTop(dlgConsultaEntrada)
.head 1 +  Dialog Box: dlgConsultaSalida
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: 120000
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  13.514"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 7.357"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Group Box: Criterios de Busqueda
.head 4 -  Resource Id: 31087
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.286"
.head 5 -  Top:    0.073"
.head 5 -  Width:  7.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.917"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pb2
.data CLASSPROPSSIZE
0000: 2C00
.enddata
.data CLASSPROPS
0000: 544F4F4C5449505F 5374617475730001 000000544F4F4C54 49505F5469700006
0020: 0053616C69720000 00000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbSalir
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.983"
.head 5 -  Top:    1.488"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.595"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 -  Group Box: Fecha de Salida
.head 4 -  Resource Id: 31091
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.583"
.head 5 -  Top:    0.988"
.head 5 -  Width:  3.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.833"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Inicio
.head 4 -  Resource Id: 31092
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    1.238"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfInicio
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.283"
.head 6 -  Top:    1.238"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Fin
.head 4 -  Resource Id: 31093
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.75"
.head 5 -  Top:    1.488"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFin
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.283"
.head 6 -  Top:    1.488"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb5
.data CLASSPROPSSIZE
0000: 3700
.enddata
.data CLASSPROPS
0000: 544F4F4C5449505F 5374617475730001 000000544F4F4C54 49505F5469700011
0020: 004C696D70696172 2050616E74616C6C 61000000000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbLimpia
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.783"
.head 5 -  Top:    1.488"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.283"
.head 6 -  Top:    2.155"
.head 6 -  Width:  12.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 2.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 8
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 68000
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colSalida
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Codigo
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.083"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFecha
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha de Salida
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Center
.head 6 -  Width:  1.533"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colTipoSalida
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Tipo Salida
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.917"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colObservacion
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Observacion
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  4.167"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDepto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Deptartamento
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.733"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colTotal
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Total
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.65"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colReq
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Requisicion
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.317"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colPaciente
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Paciente/Empleado
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.05"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colHabitacion
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Habitacion
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.417"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colBodega
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Bodega
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.85"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colEstado
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Estado
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.917"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 +  Window Variables
.head 5 -  Number: nFilita
.head 4 +  Message Actions
.head 5 +  On SAM_CornerDoubleClick
.head 6 -  Call SalSendMsg(tbl1,SAM_DoubleClick,0,0)
.head 5 +  On SAM_CaptionDoubleClick
.head 6 -  Call SalSendMsg(tbl1,SAM_DoubleClick,0,0)
.head 5 +  On SAM_DoubleClick
.head 6 +  If nCaso=2
.head 7 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.colSalida)
.head 7 -  Call SalTblSetContext(tbl1,nFilita)
.head 7 -  Set sRegresa=tbl1.colSalida
.head 7 -  Call SalEndDialog(dlgConsultaSalida,TRUE)
.head 5 +  On SAM_Click
.head 6 -  Call SalTblPopulate(tbl2,hSql1,"
select	
	A.COD_MEDICAMENTO,
	B.NOMBRE,
	D.NOMBRE,
	A.COSTO,
	A.CANTIDAD,
	A.COSTO*A.CANTIDAD,
	A.COD_CATEGORIA
from	
	DETALLE_SALIDAS 	A,
	SERVICIOS		B,
	CATEG_SERVICIOS 	C,
	TIPOS_PRESEN 		D
where	
	A.COD_SALIDA		=	:tbl1.colSalida		AND
	A.COD_MEDICAMENTO 	=	B.COD_SERVICIO		AND
	A.COD_CATEGORIA	=	B.COD_CATEGORIA	AND
	B.COD_CATEGORIA	=	C.COD_CATEGORIA 	AND 
	D.COD_PRESEN		=	B.COD_PRESEN	    ",TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  Set dfTot=SalTblColumnSum( tbl2, 6, 0, 0 )
.head 3 +  Child Table: tbl2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.283"
.head 6 -  Top:    4.905"
.head 6 -  Width:  12.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.583"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 68000
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 -  !
.head 5 +  Column: colCodMedicamento
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod. Producto
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.25"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colNomMedicamento
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Nombre
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.683"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colUnidad
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Unidad
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.833"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCosto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Costo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.317"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCantidad
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cantidad
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Right
.head 6 -  Width:  1.117"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colSubTotal
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: SubTotal
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.483"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCodCateg
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod. Categ
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.25"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 -  Message Actions
.head 3 -  Background Text: Total Salida:
.head 4 -  Resource Id: 31094
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.783"
.head 5 -  Top:    6.679"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Detalle de la Salida
.head 4 -  Resource Id: 31095
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    4.595"
.head 5 -  Width:  2.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTot
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 9.983"
.head 6 -  Top:    6.655"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Currency
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: White
.head 5 -  Background Color: Dark Gray
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  Background Text: Requ. No.
.head 4 -  Resource Id: 31099
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    0.679"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfReq
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.783"
.head 6 -  Top:    0.655"
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb3
.data CLASSPROPSSIZE
0000: 2D00
.enddata
.data CLASSPROPS
0000: 544F4F4C5449505F 5374617475730001 000000544F4F4C54 49505F5469700007
0020: 0042757363617200 0000000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.283"
.head 5 -  Top:    1.488"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.595"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalWaitCursor( TRUE )
.head 6 -  Call SalTblPopulate( tbl1, hSql1, ArmarQuery(), TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  Set dfTotal=ContarFilas( tbl1 )
.head 6 -  Set dfMontoTotal=SalTblColumnSum( tbl1, 6, 0, 0 )
.head 6 -  Call SalWaitCursor( FALSE )
.head 3 -  Background Text: Salida No.
.head 4 -  Resource Id: 31100
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    0.429"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCodigo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.783"
.head 6 -  Top:    0.405"
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Combo Box: cmbTIPO_SALIDA
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.75"
.head 5 -  Top:    1.155"
.head 5 -  Width:  2.833"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.202"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbTIPO_SALIDA.nCaso=1
.head 6 -  Set cmbTIPO_SALIDA.sTabla='TIPOS_SALIDA'
.head 6 -  Set cmbTIPO_SALIDA.sNombre='DESCRIPCION_SALIDA'
.head 6 -  Set cmbTIPO_SALIDA.sCodigo='COD_TIPO_SALIDA'
.head 5 +  On SAM_SetFocus
.head 6 -  !
.head 6 -  Call SalPostMsg( hWndItem, CB_SHOWDROPDOWN, TRUE, 0 )
.head 3 -  Background Text: Tipo Salida
.head 4 -  Resource Id: 45164
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.717"
.head 5 -  Top:    1.179"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Depto:
.head 4 -  Resource Id: 45165
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.083"
.head 5 -  Top:    1.452"
.head 5 -  Width:  0.567"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbDepto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.75"
.head 5 -  Top:    1.429"
.head 5 -  Width:  2.833"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.202"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbDepto.nCaso=1
.head 6 -  Set cmbDepto.sTabla='DEPTOS'
.head 6 -  Set cmbDepto.sNombre='NOMBRE'
.head 6 -  Set cmbDepto.sCodigo='COD_DEPTO'
.head 5 +  ! On SAM_Validate
.head 6 -  Call SalSendClassMessage( SAM_Validate, wParam, lParam )
.head 6 -  Set sCad = SalNumberToStrX( cmbPrueba.nCodigo, 0 )
.head 6 -  Call SalMessageBox(sCad, "Codigo", MB_Ok)
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Paciente:
.head 4 -  Resource Id: 45172
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.95"
.head 5 -  Top:    0.452"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfNombrePaciente
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.75"
.head 6 -  Top:    0.405"
.head 6 -  Width:  2.833"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Combo Box: cmbHabitacion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.75"
.head 5 -  Top:    0.655"
.head 5 -  Width:  2.833"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.048"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbHabitacion.nCaso=1
.head 6 -  Set cmbHabitacion.sTabla='CAMAS'
.head 6 -  Set cmbHabitacion.sNombre='DESCRIPCION'
.head 6 -  Set cmbHabitacion.sCodigo='CODIGO'
.head 5 +  ! On SAM_Validate
.head 6 -  Call SalSendClassMessage( SAM_Validate, wParam, lParam )
.head 6 -  Set sCad = SalNumberToStrX( cmbHabitacion.nCodigo, 0 )
.head 6 -  Call SalMessageBox(sCad, "Codigo", MB_Ok)
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Habitacion
.head 4 -  Resource Id: 45171
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.85"
.head 5 -  Top:    0.702"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 45168
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    2.071"
.head 5 -  Width:  13.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.417"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 -  Frame
.head 4 -  Resource Id: 45167
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    4.821"
.head 5 -  Width:  13.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.75"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 -  Background Text: Bodega
.head 4 -  Resource Id: 45166
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.017"
.head 5 -  Top:    0.893"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbBodega
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.75"
.head 5 -  Top:    0.857"
.head 5 -  Width:  2.833"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.202"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbBodega.nCaso=1
.head 6 -  Set cmbBodega.sTabla='BODEGAS'
.head 6 -  Set cmbBodega.sNombre='NOMBRE'
.head 6 -  Set cmbBodega.sCodigo='COD_BODEGA'
.head 3 -  Background Text: Cantidad:
.head 4 -  Resource Id: 25124
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.383"
.head 5 -  Top:    4.536"
.head 5 -  Width:  0.767"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Monto:
.head 4 -  Resource Id: 25125
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.883"
.head 5 -  Top:    4.56"
.head 5 -  Width:  0.533"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfMontoTotal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.45"
.head 6 -  Top:    4.536"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Currency
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: White
.head 5 -  Background Color: Dark Gray
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: dfTotal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 8.317"
.head 6 -  Top:    4.536"
.head 6 -  Width:  1.467"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: White
.head 5 -  Background Color: Dark Gray
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbImprimir
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.583"
.head 5 -  Top:    1.488"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If not SalIsNull(dfCodigo)
.head 7 -  !
.head 7 -  Set params[0] = '1'
.head 7 -  Set params[1] = dfCodigo
.head 6 +  Else
.head 7 -  Set params[0] = '0'
.head 6 +  If not SalIsNull(cmbTIPO_SALIDA)
.head 7 -  !
.head 7 -  Set params[2] = '1'
.head 7 -  Set params[3] = SalNumberToStrX(cmbTIPO_SALIDA.nCodigo,0)
.head 6 +  Else
.head 7 -  Set params[2] = '0'
.head 6 +  If not SalIsNull(cmbDepto)
.head 7 -  !
.head 7 -  Set params[4] = '1'
.head 7 -  Set params[5] = SalNumberToStrX(cmbDepto.nCodigo,0)
.head 6 +  Else
.head 7 -  Set params[4] = '0'
.head 6 +  If not SalIsNull(dfReq)
.head 7 -  !
.head 7 -  !
.head 7 -  Set params[6] = '1'
.head 7 -  Set params[7] = dfReq
.head 6 +  Else
.head 7 -  Set params[6] = '0'
.head 6 -  !
.head 6 -  Set params[8] = '0'
.head 6 -  Set params[9] = '0'
.head 6 -  !
.head 6 +  If not SalIsNull(cmbHabitacion)
.head 7 -  !
.head 7 -  !
.head 7 -  Set params[10] = '1'
.head 7 -  Set params[11] = SalNumberToStrX(cmbHabitacion.nCodigo,0)
.head 6 +  Else
.head 7 -  Set params[10] = '0'
.head 6 +  If not SalIsNull(cmbBodega)
.head 7 -  !
.head 7 -  Set params[12] = '1'
.head 7 -  Set params[13] = SalNumberToStrX(cmbBodega.nCodigo,0)
.head 6 +  Else
.head 7 -  Set params[12] = '0'
.head 6 +  If not SalIsNull(dfInicio)
.head 7 -  ! S
.head 7 -  Set params[14] = '1'
.head 7 -  Set params[15] = SalFmtFormatDateTime ( dfInicio, 'dd/MM/yyyy' )
.head 6 +  Else
.head 7 -  Set params[14] = '0'
.head 6 +  If not SalIsNull(dfFin)
.head 7 -  !
.head 7 -  Set params[16] = '1'
.head 7 -  Set params[17] = SalFmtFormatDateTime ( dfFin, 'dd/MM/yyyy' )
.head 6 +  Else
.head 7 -  Set params[16] = '0'
.head 6 +  If not SalIsNull(dfNombrePaciente)
.head 7 -  !
.head 7 -  Set params[18] = '1'
.head 7 -  Set params[19] = dfNombrePaciente
.head 6 +  Else
.head 7 -  Set params[18] = '0'
.head 6 +  If SalIsButtonChecked(cbDetalle)
.head 7 -  !
.head 7 -  Set params[20] = '1'
.head 6 +  Else
.head 7 -  Set params[20] = '0'
.head 6 -  !
.head 6 -  Set strRepTitle = " Informe de Salidas de Inventario"
.head 6 -  Set strReportName = strRepPath||"\\Salidas.rpt"
.head 6 -  !
.head 6 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 3 +  Check Box: cbDetalle
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Imprimir Detalle
.head 4 -  Window Location and Size
.head 5 -  Left: 4.783"
.head 5 -  Top:    1.655"
.head 5 -  Width:  2.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbCerrar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.95"
.head 5 -  Top:    1.179"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.595"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\decrypted.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If SalMessageBox( "Esta seguro de cerrar las salidas?", "Advertencia", MB_YesNo )=IDYES
.head 7 -  !
.head 7 -  !
.head 7 +  If SalIsNull(dfInicio)
.head 8 -  !
.head 8 -  Call SalMessageBox ("Especifique la fecha de inicio","MENSAJE",MB_Ok)
.head 8 -  Return FALSE
.head 7 +  If SalIsNull(dfFin)
.head 8 -  !
.head 8 -  Call SalMessageBox ("Especifique la fecha final","MENSAJE",MB_Ok)
.head 8 -  Return FALSE
.head 7 -  !
.head 7 -  Set sFechaInicio = SalFmtFormatDateTime ( dfInicio, 'dd/MM/yyyy' )
.head 7 -  Set sFechaFin = SalFmtFormatDateTime ( dfFin, 'dd/MM/yyyy' )
.head 7 -  ! Call SalDateToStr ( dfInicio, sFechaInicio )								
.head 7 -  ! Call SalDateToStr ( dfFin, sFechaFin )								
.head 7 -  Call SalWaitCursor(TRUE)
.head 7 +  If SybExecuteProc( hSql6, "CERRAR_SALIDAS'" || sFechaInicio || " ', ' "  || sFechaFin || " ' ", STRING_Null)
.head 8 -  !
.head 8 -  Call SalMessageBox ("Proceso de Cierre Concluido!","MENSAJE",MB_Ok)
.head 7 -  Call SalWaitCursor(FALSE)
.head 5 -  !
.head 2 +  Functions
.head 3 +  Function: ArmarQuery
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sConsulta
.head 4 +  Actions
.head 5 -  Set sConsulta="
select	
    	S.COD_SALIDA,
    	S.FECHA,    	
    	T.DESCRIPCION_SALIDA,
	S.OBS,
    	D.NOMBRE,
	S.TOTAL_SALIDA,
	S.REQUISICION,
	(CASE
                            WHEN T.DESCRIPCION_SALIDA = 'DEPARTAMENTO' THEN
                            (
                                CASE
                            			WHEN S.COD_PACIENTE = 'TEMPCOD' THEN S.PACIENTE
                            			ELSE P.PRIMER_NOM + ' ' + P.SEGUNDO_NOM + ' ' + P.PRIMER_APE  + ' ' + P.SEGUNDO_APE
                                END        
                            )
                            WHEN  T.DESCRIPCION_SALIDA = 'EMPLEADO' THEN 
                             (
                                CASE
                            			WHEN S.COD_EMPLEADO IS NULL THEN S.PACIENTE
                            			ELSE E.PRIMER_NOM + ' ' + E.SEGUNDO_NOM + ' ' + E.PRIMER_APE  + ' ' + E.SEGUNDO_APE
                                END        
                            )
                            ELSE
                                ''                                       
        END ),
        C.DESCRIPCION,
        B.NOMBRE,
       (
	CASE 
		WHEN  S.CERRADA = 0 THEN 'EN PROCESO'
		WHEN S.CERRADA = 1 THEN 'CERRADA'
		ELSE 'ANULADA'
	END
        )	
from	
	SALIDAS 	S,
	BODEGAS	B,
	TIPOS_SALIDA	T,
	DEPTOS		D,
	PACIENTES	P,
	CAMAS		C,
	EMPLEADOS	E

where	
	S.COD_BODEGA		*=  B.COD_BODEGA 		AND
	S.COD_TIPO_SALIDA 	*=  T.COD_TIPO_SALIDA		AND
	S.COD_DEPTO	      	*= D.COD_DEPTO			AND
	S.COD_EMPLEADO 	*= E.COD_EMPLEADO   		AND	
	S.COD_PACIENTE 		*= P.COD_PACIENTE   		AND
            	S.CORREL_PACIENTE 	*= P.CORREL_PACIENTE 		AND
	S.CAMA			*= C.CODIGO
"
.head 5 +  If dfReq!=''
.head 6 -  Set sConsulta=sConsulta||"	AND	S.REQUISICION=:dfReq"
.head 5 +  If cmbBodega!=''
.head 6 -  Set sConsulta=sConsulta||"	AND	S.COD_BODEGA=:cmbBodega.nCodigo	"
.head 5 +  If cmbTIPO_SALIDA!=''
.head 6 -  Set sConsulta=sConsulta||"	AND	S.COD_TIPO_SALIDA=:cmbTIPO_SALIDA.nCodigo	"
.head 5 +  If cmbHabitacion!=''
.head 6 -  Set sConsulta=sConsulta||"	AND	S.CAMA=:cmbHabitacion.nCodigo"
.head 5 +  If dfNombrePaciente!=''
.head 6 -  Set sConsulta=sConsulta||"	AND	S.PACIENTE like '"|| dfNombrePaciente ||"%'"
.head 5 +  If cmbDepto!=''
.head 6 -  Set sConsulta=sConsulta||"	AND	S.COD_DEPTO=:dlgConsultaSalida.cmbDepto.nCodigo"
.head 5 +  If dfInicio!=DATETIME_Null
.head 6 -  Set sConsulta = sConsulta || " and S.FECHA>=:dlgConsultaSalida.dfInicio"
.head 5 +  If dfFin!=DATETIME_Null
.head 6 -  Set sConsulta = sConsulta || " and S.FECHA<=:dlgConsultaSalida.dfFin"
.head 5 +  If dfCodigo!=''
.head 6 -  Set sConsulta=sConsulta||"	AND 	S.COD_SALIDA = :dfCodigo "
.head 5 -  !
.head 5 -  Set sConsulta=sConsulta||"	order	by	S.FECHA, S.COD_SALIDA"
.head 5 -  Return sConsulta
.head 3 +  Function: ActualizarEmpleado
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SqlImmediate ("SELECT
			 E.PRIMER_NOM + ' ' + E.SEGUNDO_NOM + ' ' +  E.PRIMER_APE + ' ' + E.SEGUNDO_APE
		FROM
    			EMPLEADOS E
		WHERE
			COD_EMPLEADO = :dfCodEmpleado
		INTO
			:dfNomEmpleado
	")
.head 5 -  Call SqlClearImmediate()
.head 2 +  Window Parameters
.head 3 -  Number: nCaso
.head 3 -  Receive String: sRegresa
.head 2 +  Window Variables
.head 3 -  Number: nVenta1
.head 3 -  Number: nVenta2
.head 3 -  String: sConsulta2
.head 3 -  String: sConsulta3
.head 3 -  String: sFechaInicio
.head 3 -  String: sFechaFin
.head 3 -  String: TIPO_SALIDA
.head 3 -  Number: nRegresaEmpleado
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalBringWindowToTop(dlgConsultaSalida)
.head 1 +  Form Window: frmServicios
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Mantenimiento de Servicios(Productos Hospitalatios)
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: 1.1"
.head 4 -  Top:    0.094"
.head 4 -  Width:  12.7"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 9.286"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 +  Menu
.head 3 +  Popup Menu: Opciones
.head 4 -  Resource Id: 62940
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 4 +  Menu Item: Nueva Servicio
.head 5 -  Resource Id: 62941
.head 5 -  Keyboard Accelerator: Ctrl+N
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbNuevo, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Guardar Servicio
.head 5 -  Resource Id: 62942
.head 5 -  Keyboard Accelerator: Ctrl+S
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbSalvar, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.643"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 +  Contents
.head 4 +  Pushbutton: pb1
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 9.883"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.595"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbNuevo
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbMas
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.283"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.6"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filenew.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set pbNuevo.nOpcionh=1
.head 7 -  Set pbNuevo.hWndCampo=dfCodigo
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 +  If cmbCateg != ''
.head 8 -  !
.head 8 -  Call Limpiar()
.head 8 -  Call HabilitarTodo(  )
.head 8 -  !
.head 8 -  ! ------------Deshabilitar la data del producto padre (se asume producto no compuesto)
.head 8 -  !
.head 8 -  Call DisableParentData()
.head 8 -  Set rbActivo = TRUE
.head 8 -  Set cbRevisado = FALSE
.head 8 -  Set cbCompuesto = FALSE
.head 8 -  !
.head 8 +  If cmbCateg.sCodigos='6' or cmbCateg.sCodigos='9' or cmbCateg.sCodigos='11'
.head 9 -  !
.head 9 -  Call SalDisableWindow(dfCodigo)
.head 9 -  Set dfCodigo='I' || SalNumberToStrX(Identity( 12 ),0)
.head 9 -  Call SalEnableWindow(cbCompuesto)
.head 9 -  Call SalSetFocus(dfDescripcion)
.head 8 +  Else
.head 9 -  !
.head 9 -  Call SalEnableWindow(dfCodigo)
.head 9 -  Call SalSetFocus(dfCodigo)
.head 9 -  Call SalDisableWindow(cbCompuesto)
.head 7 +  Else
.head 8 -  !
.head 8 -  Call SalMessageBox("Debe seleccionar una categoría!","ERROR",MB_Ok)
.head 8 -  Call SalSetFocus(cmbCateg)
.head 4 +  Pushbutton: pb3
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbMenos
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.983"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.595"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\editdelete.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set pb3.nOpcionh=1
.head 7 -  Set pb3.sTitulo=' El Servicio'
.head 4 +  Pushbutton: pbSalvar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbGrabar
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.683"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.595"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filesave.bmp
.head 5 -  Picture Transparent Color: White
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 -  !
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 -  ! Verificar que informacion del padre esta correcta
.head 7 -  !
.head 7 +  If SalIsButtonChecked(cbCompuesto)
.head 8 -  !
.head 8 +  If SalIsNull(dfCodigoParent)
.head 9 -  !
.head 9 -  Call SalMessageBox("Si desea hacer este producto compuesto, debe especificar el producto padre","ERROR",MB_Ok)
.head 9 -  Return FALSE
.head 8 +  If SalIsNull(dfUnidadesPresentacion)
.head 9 -  !
.head 9 -  Call SalMessageBox("Debe especificar las unidades en presentacion","ERROR",MB_Ok)
.head 9 -  Call SalSetFocus(dfUnidadesPresentacion)
.head 9 -  Return FALSE
.head 7 -  !
.head 7 -  Call SalSendClassMessage( SAM_Click, 0, 0 )
.head 4 +  Pushbutton: pbBuscar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbBusqueda
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 2.383"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.595"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: F3
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Set sRegresa=''
.head 7 -  Call SalModalDialog( dlgConsultaServicios, hWndForm,2,sRegresa,sRegresa2 )
.head 7 +  If sRegresa!=''
.head 8 -  Call Limpiar()
.head 8 -  Set dfCodigo=sRegresa
.head 8 -  Set cmbCateg.sCodigos=sRegresa2
.head 8 -  Call cmbCateg.Actualizar()
.head 8 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 8 +  ! If cmbCateg.sCodigos='6' or cmbCateg.sCodigos='11'
.head 9 -  Call DeshabilitarTodo(  )
.head 2 +  Contents
.head 3 +  Combo Box: cmbCateg
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.483"
.head 5 -  Top:    0.238"
.head 5 -  Width:  7.9"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.048"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbCateg.nCaso=2
.head 6 -  Set cmbCateg.sTabla='CATEG_SERVICIOS'
.head 6 -  Set cmbCateg.sNombre='NOMBRE'
.head 6 -  Set cmbCateg.sCodigo='COD_CATEGORIA'
.head 5 +  On SAM_Validate
.head 6 -  Call SalSendClassMessage( SAM_Validate, 0, 0 )
.head 6 +  If dfCodigo!=STRING_Null
.head 7 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 3 -  Background Text: Código y Nombre
.head 4 -  Resource Id: 33608
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.183"
.head 5 -  Top:    0.929"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCodigo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.683"
.head 6 -  Top:    0.845"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If cmbCateg!=''
.head 7 -  Set sTemp=dfCodigo
.head 7 -  Set dfCodigo=sTemp
.head 7 -  Call SqlExists("Select	COD_SERVICIO
from	SERVICIOS
where	COD_SERVICIO=:dfCodigo and COD_CATEGORIA=:cmbCateg.sCodigos",bExists)
.head 7 -  Call SqlClearImmediate( )
.head 7 +  If bExists
.head 8 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 8 +  ! If cmbCateg.sCodigos='6' or cmbCateg.sCodigos='11'
.head 9 -  Call DeshabilitarTodo(  )
.head 7 +  Else
.head 8 -  Set dfPrecioLibre=0
.head 8 -  Set dfCosto1=0
.head 8 -  Set dfCosto2=0
.head 8 -  Set dfCosto3=0
.head 3 +  Data Field: dfDescripcion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 250
.head 5 -  Data Type: String
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.183"
.head 6 -  Top:    0.845"
.head 6 -  Width:  7.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_AnyEdit
.head 6 -  Call SalTblPopulate( tbl1, hSql1, "select
				A.COD_SERVICIO,
				A.nombre,
				B.NOMBRE,
				A.EN_USO,
				A.REVISADO,
				A.COD_CATEGORIA
			from
				SERVICIOS A,
				CATEG_SERVICIOS B
			where
				A.cod_categoria =B.cod_categoria and
				A.nombre like '" || dfDescripcion || "%'  "
,TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  !
.head 6 -  Call ColorearFilas(tbl1)
.head 3 +  Combo Box: cmbPresentacion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.683"
.head 5 -  Top:    1.238"
.head 5 -  Width:  3.3"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbPresentacion.nCaso=1
.head 6 -  Set cmbPresentacion.sTabla='TIPOS_PRESEN'
.head 6 -  Set cmbPresentacion.sNombre='NOMBRE'
.head 6 -  Set cmbPresentacion.sCodigo='COD_PRESEN'
.head 5 +  On SAM_SetFocus
.head 6 -  !
.head 6 -  Call SalPostMsg( hWndItem, CB_SHOWDROPDOWN, TRUE, 0 )
.head 3 -  Group Box: Estado
.head 4 -  Resource Id: 62949
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.283"
.head 5 -  Top:    1.155"
.head 5 -  Width:  2.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Radio Button: rbActivo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Activo
.head 4 -  Window Location and Size
.head 5 -  Left: 6.617"
.head 5 -  Top:    1.321"
.head 5 -  Width:  0.967"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbInactivo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Inactivo
.head 4 -  Window Location and Size
.head 5 -  Left: 7.817"
.head 5 -  Top:    1.321"
.head 5 -  Width:  1.167"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cbRevisado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Revisado
.head 4 -  Window Location and Size
.head 5 -  Left: 9.683"
.head 5 -  Top:    1.321"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.23"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 -  Background Text: Costo Real (TOTAL)
.head 4 -  Resource Id: 62947
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.383"
.head 5 -  Top:    2.845"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.31"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCostoReal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.35"
.head 6 -  Top:    2.869"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: ###0000000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  !
.head 6 -  Call LoadScaleData()
.head 3 -  Group Box: Precios Totales
.head 4 -  Resource Id: 62948
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.983"
.head 5 -  Top:    2.821"
.head 5 -  Width:  2.167"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: 1.-
.head 4 -  Resource Id: 62946
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.05"
.head 5 -  Top:    3.036"
.head 5 -  Width:  0.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCosto1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.45"
.head 6 -  Top:    3.012"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: 2.-
.head 4 -  Resource Id: 62944
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.05"
.head 5 -  Top:    3.286"
.head 5 -  Width:  0.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCosto2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.45"
.head 6 -  Top:    3.262"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: 3.-
.head 4 -  Resource Id: 62943
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.05"
.head 5 -  Top:    3.536"
.head 5 -  Width:  0.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCosto3
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.45"
.head 6 -  Top:    3.512"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: 4.-
.head 4 -  Resource Id: 62945
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.05"
.head 5 -  Top:    3.786"
.head 5 -  Width:  0.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfPrecioLibre
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.45"
.head 6 -  Top:    3.762"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Costo Real (UNIDAD)
.head 4 -  Resource Id: 33609
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.383"
.head 5 -  Top:    2.429"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.393"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCostoRealParent
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.383"
.head 6 -  Top:    2.429"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: ###00000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  !
.head 6 -  Return TRUE
.head 3 -  Group Box: Precios Unidad
.head 4 -  Resource Id: 33610
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.783"
.head 5 -  Top:    2.821"
.head 5 -  Width:  2.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: 1.-
.head 4 -  Resource Id: 33611
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.983"
.head 5 -  Top:    3.012"
.head 5 -  Width:  0.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCosto1Parent
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.383"
.head 6 -  Top:    2.988"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: 2.-
.head 4 -  Resource Id: 33612
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.983"
.head 5 -  Top:    3.262"
.head 5 -  Width:  0.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCosto2Parent
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.383"
.head 6 -  Top:    3.238"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: 3.-
.head 4 -  Resource Id: 33613
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.983"
.head 5 -  Top:    3.512"
.head 5 -  Width:  0.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCosto3Parent
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.383"
.head 6 -  Top:    3.488"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: 4.-
.head 4 -  Resource Id: 33614
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.983"
.head 5 -  Top:    3.762"
.head 5 -  Width:  0.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfPrecioLibreParent
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.383"
.head 6 -  Top:    3.738"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  !
.head 6 -  Return TRUE
.head 3 -  Background Text: Presentación (UNIDAD)
.head 4 -  Resource Id: 33615
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.483"
.head 5 -  Top:    1.179"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.31"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Grupo
.head 4 -  Resource Id: 33616
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.383"
.head 5 -  Top:    2.262"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Marca
.head 4 -  Resource Id: 33617
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.783"
.head 5 -  Top:    2.429"
.head 5 -  Width:  0.833"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.383"
.head 6 -  Top:    4.321"
.head 6 -  Width:  11.3"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 2.5"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: System Window Color
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colCodServicio
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Código
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.55"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colNombre
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Nombre
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  5.083"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCategoria
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Categoria
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.367"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colEn_Uso
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title:
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colRevisado
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title:
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCodCategoria
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod. Categ
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.367"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 +  Window Variables
.head 5 -  Number: nFilita
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  !
.head 6 -  Call MTblSubClass( hWndForm )
.head 6 -  Call MTblEnableMWheelScroll( hWndForm, TRUE )
.head 5 +  On SAM_DoubleClick
.head 6 -  !
.head 6 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.colCodServicio)
.head 6 -  Call SalTblSetContext(tbl1,nFilita)
.head 6 -  Set dfCodigo=tbl1.colCodServicio
.head 6 -  Set cmbCateg.sCodigos=tbl1.colCodCategoria
.head 6 -  Call cmbCateg.Actualizar()
.head 6 -  Call SalSendMsg(frmServicios,MU_ACTUALIZAR,0,0)
.head 6 -  ! Set sRegresa2=tbl1.colCodCategoria
.head 3 -  Group Box: Categoría
.head 4 -  Resource Id: 33618
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.083"
.head 5 -  Top:    0.071"
.head 5 -  Width:  8.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Datos del Producto o Servicio Hospitalario
.head 4 -  Resource Id: 33619
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.083"
.head 5 -  Top:    0.655"
.head 5 -  Width:  10.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.083"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 33620
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    4.238"
.head 5 -  Width:  11.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.667"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 -  Group Box: Observacion Estado
.head 4 -  Resource Id: 33622
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.65"
.head 5 -  Top:    6.988"
.head 5 -  Width:  3.833"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Inactivo
.head 4 -  Resource Id: 33623
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.583"
.head 5 -  Top:    7.226"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Revisado
.head 4 -  Resource Id: 33624
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.383"
.head 5 -  Top:    7.226"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 33625
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.983"
.head 5 -  Top:    7.238"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.155"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: No Border
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Red
.head 3 -  Frame
.head 4 -  Resource Id: 33626
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.717"
.head 5 -  Top:    7.25"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.155"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: No Border
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Green
.head 3 -  Group Box: Informacion de Costos:
.head 4 -  Resource Id: 33627
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.083"
.head 5 -  Top:    1.738"
.head 5 -  Width:  10.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 33628
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.483"
.head 5 -  Top:    1.238"
.head 5 -  Width:  1.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.333"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Solid
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 +  Check Box: cbCompuesto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Producto Compuesto
.head 4 -  Window Location and Size
.head 5 -  Left: 8.383"
.head 5 -  Top:    1.905"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call ClearParentData()
.head 6 +  If SalIsButtonChecked(cbCompuesto)
.head 7 -  !
.head 7 -  Call SalEnableWindow(pbBuscarPadre)
.head 7 -  Call SalSendMsg(pbBuscarPadre, SAM_Click, 0, 0)
.head 7 -  !
.head 6 +  Else
.head 7 -  !
.head 7 -  Call SalDisableWindow(dfUnidadesPresentacion)
.head 7 -  Call SalDisableWindow(pbBuscarPadre)
.head 3 -  Background Text: Código y Nombre
.head 4 -  Resource Id: 33629
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.183"
.head 5 -  Top:    2.119"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCodigoParent
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.683"
.head 6 -  Top:    2.119"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 +  If cmbCateg!=''
.head 7 -  Set sTemp=dfCodigo
.head 7 -  Set dfCodigo=sTemp
.head 7 -  Call SqlExists("Select	COD_SERVICIO
from	SERVICIOS
where	COD_SERVICIO=:dfCodigo and COD_CATEGORIA=:cmbCateg.sCodigos",bExists)
.head 7 -  Call SqlClearImmediate( )
.head 7 +  If bExists
.head 8 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 8 +  ! If cmbCateg.sCodigos='6' or cmbCateg.sCodigos='11'
.head 9 -  Call DeshabilitarTodo(  )
.head 7 +  Else
.head 8 -  Set dfPrecioLibre=0
.head 8 -  Set dfCosto1=0
.head 8 -  Set dfCosto2=0
.head 8 -  Set dfCosto3=0
.head 5 +  On MU_REVISAR
.head 6 -  !
.head 6 -  Return TRUE
.head 3 +  Data Field: dfDescripcionParent
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 250
.head 5 -  Data Type: String
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.15"
.head 6 -  Top:    2.119"
.head 6 -  Width:  6.233"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  !
.head 6 -  Return TRUE
.head 3 +  Combo Box: cmbPresentacionParent
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.683"
.head 5 -  Top:    2.393"
.head 5 -  Width:  3.3"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.429"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbPresentacionParent.nCaso=1
.head 6 -  Set cmbPresentacionParent.sTabla='TIPOS_PRESEN'
.head 6 -  Set cmbPresentacionParent.sNombre='NOMBRE'
.head 6 -  Set cmbPresentacionParent.sCodigo='COD_PRESEN'
.head 5 +  On MU_REVISAR
.head 6 -  !
.head 6 -  Return TRUE
.head 3 -  Background Text: Presentación (UNIDAD)
.head 4 -  Resource Id: 33632
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.383"
.head 5 -  Top:    2.369"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.31"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfUnidadesPresentacion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.283"
.head 6 -  Top:    2.405"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 -  !
.head 5 +  On SAM_Validate
.head 6 -  !
.head 6 +  If not SalIsNull(dfCostoRealParent) and not SalIsNull(dfUnidadesPresentacion)
.head 7 -  !
.head 7 -  Set dfCostoReal = dfCostoRealParent*dfUnidadesPresentacion
.head 7 -  Call LoadScaleData()
.head 5 +  On MU_REVISAR
.head 6 -  !
.head 6 -  Return TRUE
.head 3 -  Background Text: Unidades x Presentación
.head 4 -  Resource Id: 33631
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.083"
.head 5 -  Top:    2.429"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.31"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 33638
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.283"
.head 5 -  Top:    2.738"
.head 5 -  Width:  5.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.417"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCodCategParent
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.683"
.head 6 -  Top:    2.155"
.head 6 -  Width:  1.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  !
.head 6 -  Return TRUE
.head 3 +  Pushbutton: pbBuscarPadre
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.45"
.head 5 -  Top:    1.869"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F1
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\folder_blue.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Single
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Set sRegresa=''
.head 6 -  Set sRegresa2=''
.head 6 -  Call SalModalDialog( dlgConsultaServicios, hWndForm,2,sRegresa,sRegresa2 )
.head 6 +  If sRegresa!='' and sRegresa2 != ''
.head 7 -  !
.head 7 +  If VerificarPadre(sRegresa, sRegresa2)
.head 8 -  !
.head 8 -  Set dfCodigoParent=sRegresa
.head 8 -  Set dfCodCategParent=sRegresa2
.head 8 -  Call LoadParentData()
.head 8 -  Call SalEnableWindow(dfUnidadesPresentacion)
.head 8 -  Call SalSetFocus(dfUnidadesPresentacion)
.head 7 +  Else
.head 8 -  !
.head 8 -  Call SalMessageBox("El producto padre no puede ser compuesto","ERROR",MB_Ok)
.head 3 -  Group Box: Observacion Precios de Venta
.head 4 -  Resource Id: 46114
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.117"
.head 5 -  Top:    6.988"
.head 5 -  Width:  6.267"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: 1.- Maquila/Privado
.head 4 -  Resource Id: 46117
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.317"
.head 5 -  Top:    7.19"
.head 5 -  Width:  1.667"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: 2.- Aseguradora
.head 4 -  Resource Id: 46118
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.083"
.head 5 -  Top:    7.19"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: 3.- Costo Real
.head 4 -  Resource Id: 46116
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.55"
.head 5 -  Top:    7.19"
.head 5 -  Width:  1.233"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: 4.- Empleado
.head 4 -  Resource Id: 46115
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.917"
.head 5 -  Top:    7.19"
.head 5 -  Width:  1.233"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 2 +  Functions
.head 3 +  Function: ColorearFilas
.head 4 -  Description: Verifica si existe al menos 1 fila en una CHILD TABLE
.head 4 +  Returns
.head 5 -  Number:
.head 4 +  Parameters
.head 5 -  Window Handle: hWndTabla
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Window Handle: hWndHijo
.head 5 -  Number: nFila
.head 5 -  Number: nEdadIng
.head 5 -  Number: nEdadActual
.head 5 -  Date/Time: dtFechaHoy
.head 5 -  Number: nTiempoLab
.head 5 -  String: strFechaHoy
.head 5 -  String: strFechaIngreso
.head 4 +  Actions
.head 5 -  Call SalTblSetContext(hWndTabla,0)
.head 5 -  Set nFila=-1
.head 5 +  While SalTblFindNextRow(hWndTabla,nFila,0,0)
.head 6 -  Call SalTblSetContext(hWndTabla,nFila)
.head 6 +  If tbl1.colEn_Uso = 0
.head 7 -  !
.head 7 -  Call MTblSetRowBackColor( tbl1, nFila, COLOR_Red, MTSC_REDRAW )
.head 6 +  Else If tbl1.colRevisado = 1
.head 7 -  !
.head 7 -  Call MTblSetRowBackColor( tbl1, nFila, COLOR_Green, MTSC_REDRAW )
.head 5 -  Call SalTblSetContext(hWndTabla,0)
.head 5 -  Return nFila+1
.head 3 +  Function: Limpiar
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Call SalClearField( dfCodigo)
.head 5 -  Call SalClearField(dfDescripcion)
.head 5 -  Call SalClearField(cmbPresentacion)
.head 5 -  Call SalClearField(dfCostoReal)
.head 5 -  Call SalClearField(dfCosto1)
.head 5 -  Call SalClearField(dfCosto2)
.head 5 -  Call SalClearField(dfCosto3)
.head 5 -  Call SalClearField(dfPrecioLibre)
.head 5 -  Call SalTblReset( tbl1 )
.head 5 -  !
.head 5 -  Call ClearParentData()
.head 3 +  Function: LoadParentData
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nEstadoParent
.head 5 -  Number: nRevisadoParent
.head 4 +  Actions
.head 5 -  Call SqlPrepareAndExecute(hSql1,"
select	
	COD_PRESEN,
	NOMBRE,
               COSTO,
	COSTO1,
	COSTO2,
	COSTO3,
	COSTO_REAL,
	EN_USO,
	REVISADO
from
	SERVICIOS
where
	COD_SERVICIO=:dfCodigoParent  and
	COD_CATEGORIA=:dfCodCategParent
into
	:cmbPresentacionParent.nCodigo,
	:dfDescripcionParent,
	:dfCosto1Parent,
	:dfCosto2Parent,
	:dfCosto3Parent,
	:dfPrecioLibreParent,
	:dfCostoRealParent,
	:nEstadoParent,
	:nRevisadoParent")
.head 5 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  !
.head 5 -  Call cmbPresentacionParent.Actualizar()
.head 3 +  Function: ClearParentData
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Call SalClearField(dfCodigoParent)
.head 5 -  Call SalClearField(dfDescripcionParent)
.head 5 -  Call SalClearField(cmbPresentacionParent)
.head 5 -  Call SalClearField(dfCostoRealParent)
.head 5 -  Call SalClearField(dfCosto1Parent)
.head 5 -  Call SalClearField(dfCosto2Parent)
.head 5 -  Call SalClearField(dfCosto3Parent)
.head 5 -  Call SalClearField(dfPrecioLibreParent)
.head 5 -  Call SalClearField(dfUnidadesPresentacion)
.head 5 -  Call SalClearField(dfCodCategParent)
.head 3 +  Function: DisableParentData
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Call SalDisableWindow(dfCodigoParent)
.head 5 -  Call SalDisableWindow(dfDescripcionParent)
.head 5 -  Call SalDisableWindow(cmbPresentacionParent)
.head 5 -  Call SalDisableWindow(dfCostoRealParent)
.head 5 -  Call SalDisableWindow(dfCosto1Parent)
.head 5 -  Call SalDisableWindow(dfCosto2Parent)
.head 5 -  Call SalDisableWindow(dfCosto3Parent)
.head 5 -  Call SalDisableWindow(dfPrecioLibreParent)
.head 5 -  Call SalDisableWindow(dfUnidadesPresentacion)
.head 5 -  Call SalDisableWindow(pbBuscarPadre)
.head 3 +  Function: LoadScaleData
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 +  If dfCostoReal >=0 and dfCostoReal !=NUMBER_Null
.head 6 -  Set porcentaje=0
.head 6 -  Set porcentaje1=0
.head 6 -  Set porcentaje2=0
.head 6 -  Set porcentaje3=0
.head 6 -  Call SqlPrepareAndExecute(hSql1,"
select	
	porcentaje,
	porcentaje1,
	porcentaje2,
	porcentaje3
from	
	escala
where	
	:dfCostoReal >= minimo and 
	:dfCostoReal <= maximo   and 
	cod_categoria=:cmbCateg.sCodigos
into	
	:porcentaje,
	:porcentaje1,
	:porcentaje2,
	:porcentaje3")
.head 6 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 6 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 6 -  Set dfPrecioLibre=dfCostoReal +(dfCostoReal * porcentaje)
.head 6 -  Set dfCosto1=dfCostoReal +(dfCostoReal * porcentaje1)
.head 6 -  Set dfCosto2=dfCostoReal +(dfCostoReal * porcentaje2)
.head 6 -  Set dfCosto3=dfCostoReal +(dfCostoReal * porcentaje3)
.head 3 +  Function: VerificarPadre
.head 4 -  Description:
.head 4 -  Returns
.head 4 +  Parameters
.head 5 -  String: sParamCod
.head 5 -  String: sParamCodCateg
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  !
.head 5 -  Number: nCompuesto
.head 4 +  Actions
.head 5 -  !
.head 5 +  If sParamCod = dfCodigo
.head 6 -  !
.head 6 -  Return FALSE
.head 6 -  !
.head 5 -  !
.head 5 -  Call SqlImmediate("Select
			COMPUESTO
		from
			SERVICIOS
		where
			COD_SERVICIO	=:sParamCod and
			COD_CATEGORIA	=:sParamCodCateg
		into
			:nCompuesto ")
.head 5 -  Call SqlClearImmediate( )
.head 5 -  !
.head 5 +  If nCompuesto = 1
.head 6 -  !
.head 6 -  ! -----Se busca que el padre no sea compuesto
.head 6 -  Return FALSE
.head 5 -  !
.head 5 -  Return TRUE
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: sRegresa
.head 3 -  String: sTemp
.head 3 -  String: sRegresa2
.head 3 -  Number: porcentaje
.head 3 -  Number: porcentaje1
.head 3 -  Number: porcentaje2
.head 3 -  Number: porcentaje3
.head 3 -  Number: nEstado
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalCenterWindow(frmServicios)
.head 4 -  Call DeshabilitarTodo(  )
.head 4 -  Call SalEnableWindow(cmbCateg)
.head 4 -  Call SalEnableWindow(dfDescripcion)
.head 4 -  Call SalEnableWindow(tbl1)
.head 4 -  Call SalSetFocus(cmbCateg)
.head 4 -  Set cmbCateg.sCodigos = '6'
.head 4 -  Call cmbCateg.Actualizar()
.head 4 -  !
.head 3 +  On MU_ACTUALIZAR
.head 4 -  ! Set cmbGrupo.nCodigo=0
.head 4 -  Call SqlPrepareAndExecute(hSql1,"
select
	COD_CATEGORIA,
	COD_PRESEN,
	NOMBRE,
               COSTO,
	COSTO1,
	COSTO2,
	COSTO3,
	COSTO_REAL,
	EN_USO,
	REVISADO,
	COMPUESTO,
	COD_SERVICIO_PARENT,
	COD_CATEGORIA_PARENT,
	UNIDADES_PARENT
from
	SERVICIOS
where
	COD_SERVICIO=:dfCodigo  and
	COD_CATEGORIA=:cmbCateg.sCodigos
into
	:cmbCateg.sCodigos,
	:cmbPresentacion.nCodigo,
	:dfDescripcion,
	:dfCosto1,
	:dfCosto2,
	:dfCosto3,
	:dfPrecioLibre,
	:dfCostoReal,
	:nEstado,
	:cbRevisado,
	:cbCompuesto,
	:dfCodigoParent,
	:dfCodCategParent,
	:dfUnidadesPresentacion")
.head 4 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 4 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  !
.head 4 -  Call cmbPresentacion.Actualizar()
.head 4 -  Call SalEnableWindow(pbSalvar)
.head 4 -  !
.head 4 +  If nEstado = 1
.head 5 -  Set rbActivo = TRUE
.head 4 +  Else If nEstado = 0
.head 5 -  Set rbInactivo = TRUE
.head 4 -  !
.head 4 -  Call HabilitarTodo(  )
.head 4 -  Call DisableParentData()
.head 4 -  !
.head 4 +  If SalIsButtonChecked(cbCompuesto)
.head 5 -  !
.head 5 -  Call LoadParentData()
.head 5 -  Call SalEnableWindow(dfUnidadesPresentacion)
.head 5 -  Call SalEnableWindow(pbBuscarPadre)
.head 3 +  On MU_BORRAR
.head 4 -  ! Call SqlPrepareAndExecute(hSql1,"
delete from
	SERVICIOS
where
	COD_SERVICIO=:dfCodigo and
	COD_CATEGORIA=:cmbCateg.sCodigos")
.head 4 -  ! Call SqlPrepareAndExecute(hSql1,"commit")
.head 3 +  On MU_GRABAR
.head 4 -  !
.head 4 -  Call SqlExists("Select
		COD_SERVICIO
	from
		SERVICIOS
	where
		COD_SERVICIO=:dfCodigo and
		COD_CATEGORIA=:cmbCateg.sCodigos ",bExists)
.head 4 -  Call SqlClearImmediate( )
.head 4 -  !
.head 4 +  If rbActivo = TRUE
.head 5 -  !
.head 5 -  Set nEstado = 1
.head 4 +  Else If rbInactivo = TRUE
.head 5 -  !
.head 5 -  Set nEstado = 0
.head 4 -  !
.head 4 +  If bExists
.head 5 -  Call SqlPrepareAndExecute(hSql1,"
	update	
		SERVICIOS
		
	set	COD_PRESEN	=:cmbPresentacion.nCodigo,
		NOMBRE		=:dfDescripcion,
		COSTO		=:dfCosto1,
		COSTO1		=:dfCosto2,
		COSTO2		=:dfCosto3,
		COSTO3		=:dfPrecioLibre,
		COSTO_REAL	=:dfCostoReal,
		EN_USO		=:nEstado,
		REVISADO	=:cbRevisado,
		COMPUESTO	=:cbCompuesto,
		COD_SERVICIO_PARENT 	=:dfCodigoParent,
		COD_CATEGORIA_PARENT =:dfCodCategParent,
		UNIDADES_PARENT	=:dfUnidadesPresentacion
where
		COD_SERVICIO=:dfCodigo and
		COD_CATEGORIA=:cmbCateg.sCodigos ")
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 +  Else
.head 5 -  Call SqlPrepareAndExecute(hSql1,"
		insert into	
			SERVICIOS(
				COD_SERVICIO,
				COD_CATEGORIA,
				COD_PRESEN,
				NOMBRE,
                                  		COSTO,
				COSTO1,
				COSTO2,
				COSTO3,
				COSTO_REAL,
				EN_USO,
				REVISADO,
				COMPUESTO,
				COD_SERVICIO_PARENT,
				COD_CATEGORIA_PARENT,
				UNIDADES_PARENT
				)
			values
				(:dfCodigo,
				:cmbCateg.sCodigos,
				:cmbPresentacion.nCodigo,
				:dfDescripcion,
            				:dfCosto1,
				:dfCosto2,
				:dfCosto3,
				:dfPrecioLibre,
				:dfCostoReal,
				:nEstado,
				:cbRevisado,
				:cbCompuesto,
				:dfCodigoParent,
				:dfCodCategParent,
				:dfUnidadesPresentacion
				)"
			)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 1 +  Dialog Box: dlgImprimirProg
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: INFORMES DE COMPRAS
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  5.967"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 3.405"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  Data Field: dfInicio
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.083"
.head 6 -  Top:    1.405"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFin
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.283"
.head 6 -  Top:    1.405"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Inicio
.head 4 -  Resource Id: 24951
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    1.429"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Fin
.head 4 -  Resource Id: 24952
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.883"
.head 5 -  Top:    1.429"
.head 5 -  Width:  0.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 24953
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    0.071"
.head 5 -  Width:  5.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.833"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Raised-Shadow
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Rango de Fecha
.head 4 -  Resource Id: 24954
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    1.071"
.head 5 -  Width:  4.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.75"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pb3
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Aceptar
.head 4 -  Window Location and Size
.head 5 -  Left: 1.183"
.head 5 -  Top:    2.488"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set params[0] = SalFmtFormatDateTime ( dfInicio, 'dd/MM/yyyy' )
.head 6 -  Set params[1] = SalFmtFormatDateTime ( dfFin, 'dd/MM/yyyy' )
.head 6 -  Set strRepTitle = " Programa de Pago"
.head 6 +  If rbPorProveedor
.head 7 -  !
.head 7 +  If SalIsButtonChecked(cbDetallado)
.head 8 -  !
.head 8 -  Set strReportName = strRepPath||"\\ProgramaPago_Det.rpt"
.head 7 +  Else
.head 8 -  !
.head 8 -  Set strReportName = strRepPath||"\\ProgramaPago.rpt"
.head 6 +  Else
.head 7 -  !
.head 7 +  If Not SalIsNull(cmbCateg)
.head 8 -  !
.head 8 -  Set params[2] = '1'
.head 8 -  Set params[3] =  cmbCateg.sCodigos
.head 7 +  Else
.head 8 -  !
.head 8 -  Set params[2] = '0'
.head 8 -  Set params[3] =  cmbCateg.sCodigos
.head 7 -  !
.head 7 +  If SalIsButtonChecked(cbDetallado)
.head 8 -  !
.head 8 -  Set params[4] =  '0'
.head 7 +  Else
.head 8 -  !
.head 8 -  Set params[4] = '1'
.head 7 -  !
.head 7 -  Set strReportName = strRepPath||"\\ComprasProducto.rpt"
.head 6 -  !
.head 6 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 3 +  Pushbutton: pb4
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Cancelar
.head 4 -  Window Location and Size
.head 5 -  Left: 2.583"
.head 5 -  Top:    2.488"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalEndDialog(hWndForm,TRUE)
.head 3 +  Check Box: cbDetallado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Detallado
.head 4 -  Window Location and Size
.head 5 -  Left: 3.483"
.head 5 -  Top:    1.988"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 -  Group Box: Agrupación de los datos en el Informe
.head 4 -  Resource Id: 52515
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    0.155"
.head 5 -  Width:  4.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.833"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 52516
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.083"
.head 5 -  Top:    1.905"
.head 5 -  Width:  1.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.417"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 +  Radio Button: rbPorProveedor
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Por Proveedor
.head 4 -  Window Location and Size
.head 5 -  Left: 0.583"
.head 5 -  Top:    0.405"
.head 5 -  Width:  1.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call SalClearField(cmbCateg)
.head 6 -  Call SalDisableWindow(cmbCateg)
.head 3 +  Radio Button: rbPorProducto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Por Producto
.head 4 -  Window Location and Size
.head 5 -  Left: 0.583"
.head 5 -  Top:    0.655"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call SalClearField(cmbCateg)
.head 6 -  Call SalEnableWindow(cmbCateg)
.head 3 +  Combo Box: cmbCateg
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.117"
.head 5 -  Top:    0.643"
.head 5 -  Width:  2.667"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.202"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbCateg.nCaso=2
.head 6 -  Set cmbCateg.sTabla='CATEG_SERVICIOS'
.head 6 -  Set cmbCateg.sNombre='NOMBRE'
.head 6 -  Set cmbCateg.sCodigo='COD_CATEGORIA'
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: strRepTitle
.head 3 -  String: strReportName
.head 3 -  String: params[*]
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalBringWindowToTop(hWndForm)
.head 4 -  Call SalDisableWindow(cmbCateg)
.head 1 +  Dialog Box: dlgConsultaCirugias
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Consulta de Cirugias
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  13.1"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 8.405"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Frame
.head 4 -  Resource Id: 24959
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.155"
.head 5 -  Width:  12.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 7.75"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Raised-Shadow
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbGuardar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.25"
.head 5 -  Top:    3.119"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filesave.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set sSqlUpdate="Update CIRUGIAS
	             Set ESTADO = :tblOrdenes.colEstadoChk
	             Where COD_CIRUGIA= :tblOrdenes.colOrden"
.head 6 -  Call SqlPrepare ( hSql1, sSqlUpdate )
.head 6 -  Call SalTblDoUpdates( tblOrdenes, hSql1, TRUE )
.head 6 -  Call SalWaitCursor( TRUE )
.head 6 -  Set sSQL = ConstructQuery()
.head 6 -  ! Call SalMessageBox(sSQL,'Sql',MB_Ok)
.head 6 -  Call SalTblPopulate( tblOrdenes, hSql1, sSQL, TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  Set dfTotal=ContarFilas( tblOrdenes )
.head 6 -  Call SalWaitCursor( FALSE )
.head 6 -  Call ColorearFilas()
.head 3 -  Group Box: Observacion
.head 4 -  Resource Id: 24960
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.45"
.head 5 -  Top:    6.988"
.head 5 -  Width:  3.633"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.833"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 24961
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.717"
.head 5 -  Top:    7.095"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: No Border
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Yellow
.head 3 -  Frame
.head 4 -  Resource Id: 24962
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.717"
.head 5 -  Top:    7.369"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: No Border
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Red
.head 3 -  Background Text: Cirugia Anulada
.head 4 -  Resource Id: 24963
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.283"
.head 5 -  Top:    7.202"
.head 5 -  Width:  3.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Cirugia Realizada
.head 4 -  Resource Id: 24964
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.283"
.head 5 -  Top:    7.476"
.head 5 -  Width:  3.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbImprimir
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.25"
.head 5 -  Top:    2.405"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Set dfFechaDesde = ccFechaDesde.GetSystemTime()
.head 6 -  Set dfFechaHasta = ccFechaHasta.GetSystemTime()
.head 6 -  !
.head 6 +  If not SalIsNull(dfCod_Cirugia)
.head 7 -  !
.head 7 -  Set params[0] = '1'
.head 7 -  Set params[1] = SalNumberToStrX(dfCod_Cirugia,0)
.head 6 +  Else
.head 7 -  Set params[0] = '0'
.head 6 +  If not SalIsNull(cmbUsuariosOS)
.head 7 -  !
.head 7 -  Set params[2] = '1'
.head 7 -  Set params[3] = SalNumberToStrX(cmbUsuariosOS.nCodigo,0)
.head 6 +  Else
.head 7 -  Set params[2] = '0'
.head 6 +  If not SalIsNull(cmbEspecialidad)
.head 7 -  !
.head 7 -  Set params[4] = '1'
.head 7 -  Set params[5] = SalNumberToStrX(cmbEspecialidad.nCodigo,0)
.head 6 +  Else
.head 7 -  Set params[4] = '0'
.head 6 +  If not SalIsNull(cmbMedicosOS)
.head 7 -  ! -------Obtener el codigo medico
.head 7 -  Set sSQL = "select
		COD_MEDICO
    	from
		MEDICOS
	where
		NOMBRE = :cmbMedicosOS
  	into
		:nMedico"
.head 7 -  Call SqlImmediate(  sSQL)
.head 7 -  Call SqlClearImmediate( )
.head 7 -  !
.head 7 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_MEDICO = :nMedico"
.head 7 -  Set params[6] = '1'
.head 7 -  Set params[7] = SalNumberToStrX(nMedico,0)
.head 6 +  Else
.head 7 -  Set params[6] = '0'
.head 6 +  If not SalIsNull(cmbServicios)
.head 7 -  !
.head 7 -  ! -------Obtener el codigo del servicio
.head 7 -  Set sSQL = "select
		COD_SERVICIO
    	from
		SERVICIOS
	where
		COD_CATEGORIA = :cmbCategServiciosOS.sCodigos AND
		EN_USO = 1 AND
		NOMBRE = :cmbServicios
  	into
		:sServicio"
.head 7 -  Call SqlImmediate(  sSQL)
.head 7 -  Call SqlClearImmediate( )
.head 7 -  !
.head 7 -  Set params[8] = '1'
.head 7 -  Set params[9] = sServicio
.head 7 -  Set params[10] = cmbCategServiciosOS.sCodigos
.head 6 +  Else
.head 7 -  Set params[8] = '0'
.head 6 +  If not SalIsNull(cmbServicios_2)
.head 7 -  !
.head 7 -  ! -------Obtener el codigo del servicio
.head 7 -  Set sSQL = "select
		COD_SERVICIO
    	from
		SERVICIOS
	where
		COD_CATEGORIA = :cmbCategServiciosOS_2.sCodigos AND
		EN_USO = 1 AND
		NOMBRE = :cmbServicios_2
  	into
		:sServicio_2"
.head 7 -  Call SqlImmediate(  sSQL)
.head 7 -  Call SqlClearImmediate( )
.head 7 -  !
.head 7 -  Set params[11] = '1'
.head 7 -  Set params[12] = sServicio_2
.head 7 -  Set params[13] = cmbCategServiciosOS_2.sCodigos
.head 6 +  Else
.head 7 -  Set params[11] = '0'
.head 6 +  If not SalIsNull(dfPaciente)
.head 7 -  !
.head 7 -  Set params[14] = '1'
.head 7 -  Set params[15] = dfPaciente
.head 6 +  Else
.head 7 -  Set params[14] = '0'
.head 6 +  If not SalIsNull(dfPacienteCorrel)
.head 7 -  ! Set sConsulta = sConsulta || " AND O.CORREL_PACIENTE = :dfPacienteCorrel"
.head 7 -  Set params[16] = '1'
.head 7 -  Set params[17] = dfPacienteCorrel
.head 6 +  Else
.head 7 -  Set params[16] = '0'
.head 6 +  If not SalIsNull(dfNombre)
.head 7 -  ! Set sConsulta=sConsulta || "	AND	P.PRIMER_NOM   like '%" || dfNombre || "%' "
.head 7 -  Set params[18] = '1'
.head 7 -  Set params[19] = dfNombre
.head 6 +  Else
.head 7 -  Set params[18] = '0'
.head 6 +  If not SalIsNull(dfApellido)
.head 7 -  ! Set sConsulta=sConsulta || "	AND	P.PRIMER_APE   like '%" || dfApellido || "%' "
.head 7 -  Set params[20] = '1'
.head 7 -  Set params[21] = dfApellido
.head 6 +  Else
.head 7 -  Set params[20] = '0'
.head 6 +  If not SalIsNull(cmbEmpresa)
.head 7 -  ! Set sConsulta=sConsulta || "	AND	P.COD_EMPRESA = :cmbEmpresa.nCodigo "
.head 7 -  Set params[22] = '1'
.head 7 -  Set params[23] = SalNumberToStrX(cmbEmpresa.nCodigo,0)
.head 6 +  Else
.head 7 -  Set params[22] = '0'
.head 6 +  If SalIsButtonChecked(cbFechaDesde)
.head 7 -  !
.head 7 -  ! Set sConsulta=sConsulta || "	AND	O.FECHA >= :dfFechaDesde "

.head 7 -  Set params[24] = '1'
.head 7 -  Set params[25] = SalFmtFormatDateTime ( dfFechaDesde, 'dd/MM/yyyy' )
.head 6 +  Else
.head 7 -  Set params[24] = '0'
.head 6 +  If SalIsButtonChecked(cbFechaHasta)
.head 7 -  !
.head 7 -  ! Set sConsulta=sConsulta || "	AND O.FECHA <=  :dfFechaHasta "
.head 7 -  Set params[26] = '1'
.head 7 -  Set params[27] = SalFmtFormatDateTime ( dfFechaHasta, 'dd/MM/yyyy' )
.head 6 +  Else
.head 7 -  Set params[26] = '0'
.head 6 +  If not SalIsNull(cmbDepto)
.head 7 -  ! Set sConsulta=sConsulta || "	AND	P.CODIGO_DEPTO = :cmbDepto.nCodigo "
.head 7 -  Set params[28] = '1'
.head 7 -  Set params[29] = SalNumberToStrX(cmbDepto.nCodigo ,0)
.head 6 +  Else
.head 7 -  Set params[28] = '0'
.head 7 -  Set params[29] = SalNumberToStrX(cmbDepto.nCodigo ,0)
.head 6 +  If SalIsButtonChecked(rbTodas)=FALSE
.head 7 -  Set params[30] = "1"
.head 7 +  If SalIsButtonChecked(rbSinRealizar)
.head 8 -  Set params[31] = "0"
.head 7 +  If SalIsButtonChecked(rbRealizadas)
.head 8 -  Set params[31] = "1"
.head 7 +  If SalIsButtonChecked(rbNulas)
.head 8 -  Set params[31] = "2"
.head 6 +  Else
.head 7 -  Set params[30] = "0"
.head 7 -  Set params[31] = ""
.head 6 -  Set strRepTitle = " Reporte Estadistico - Cirugias"
.head 6 -  Set strReportName = strRepPath||"\\CirugiasEstadistico.rpt"
.head 6 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 3 -  Background Text: Medico/Destino
.head 4 -  Resource Id: 24965
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.25"
.head 5 -  Top:    1.024"
.head 5 -  Width:  1.367"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Especialidad
.head 4 -  Resource Id: 24966
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.517"
.head 5 -  Top:    0.798"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Total Cirugias:
.head 4 -  Resource Id: 24967
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.95"
.head 5 -  Top:    7.036"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Criterios de Busqueda
.head 4 -  Resource Id: 24968
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.083"
.head 5 -  Top:    0.238"
.head 5 -  Width:  9.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.583"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCod_Cirugia
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.483"
.head 6 -  Top:    0.679"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Combo Box: cmbUsuariosOS
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.483"
.head 5 -  Top:    0.929"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.048"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Yes
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbUsuariosOS.nCaso = 1
.head 6 -  Set cmbUsuariosOS.sTabla = 'USUARIOS_OS'
.head 6 -  Set cmbUsuariosOS.sNombre='NOMBREFIRMA'
.head 6 -  Set cmbUsuariosOS.sCodigo='CODIGO'
.head 3 -  Background Text: Nombre
.head 4 -  Resource Id: 24969
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.483"
.head 5 -  Top:    2.119"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Codigo
.head 4 -  Resource Id: 24970
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.483"
.head 5 -  Top:    1.893"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfPaciente
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.383"
.head 6 -  Top:    1.762"
.head 6 -  Width:  1.867"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.31"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_KillFocus
.head 6 -  !
.head 6 +  If dfPaciente = "TEMPCOD"
.head 7 -  !
.head 7 -  Set dfPacienteCorrel = '0'
.head 3 +  Data Field: dfPacienteCorrel
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.25"
.head 6 -  Top:    1.762"
.head 6 -  Width:  0.533"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.31"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfNombre
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.383"
.head 6 -  Top:    2.071"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: No. Cirugia
.head 4 -  Resource Id: 24971
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.383"
.head 5 -  Top:    0.726"
.head 5 -  Width:  0.967"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfApellido
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.383"
.head 6 -  Top:    2.345"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  ! cmbBaseCodigo: cmbEmpresa
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 3 +  Combo Box: cmbEmpresa
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigoFiltrado
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.383"
.head 5 -  Top:    2.619"
.head 5 -  Width:  2.5"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.357"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 6 -  Set cmbEmpresa.sNombreFiltro='ESTADO'
.head 6 -  Set cmbEmpresa.nValorFiltro=1
.head 3 +  Combo Box: cmbDepto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.383"
.head 5 -  Top:    2.893"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.583"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbDepto.nCaso=1
.head 6 -  Set cmbDepto.sTabla='DEPTOS_MAQUILA'
.head 6 -  Set cmbDepto.sNombre='NOMBRE'
.head 6 -  Set cmbDepto.sCodigo='CODIGO'
.head 3 -  Background Text: Apellido
.head 4 -  Resource Id: 24972
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.383"
.head 5 -  Top:    2.369"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Fecha Programada
.head 4 -  Resource Id: 24973
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.083"
.head 5 -  Top:    2.238"
.head 5 -  Width:  5.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.0"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Datos del Paciente
.head 4 -  Resource Id: 24974
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.283"
.head 5 -  Top:    1.571"
.head 5 -  Width:  3.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.667"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Medico Base
.head 4 -  Resource Id: 24975
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.083"
.head 5 -  Top:    0.488"
.head 5 -  Width:  5.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.833"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Procedimiento Base
.head 4 -  Resource Id: 24976
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.083"
.head 5 -  Top:    1.345"
.head 5 -  Width:  5.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.833"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 24977
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    3.905"
.head 5 -  Width:  12.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.917"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 -  Group Box: Datos de Emision
.head 4 -  Resource Id: 24978
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.283"
.head 5 -  Top:    0.488"
.head 5 -  Width:  3.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.833"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Autoriza:
.head 4 -  Resource Id: 24979
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.483"
.head 5 -  Top:    0.976"
.head 5 -  Width:  0.933"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Empresa
.head 4 -  Resource Id: 24980
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.383"
.head 5 -  Top:    2.643"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Depto
.head 4 -  Resource Id: 24981
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.383"
.head 5 -  Top:    2.917"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.783"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.983"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Combo Box: cmbEspecialidad
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.65"
.head 5 -  Top:    0.702"
.head 5 -  Width:  3.333"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.048"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEspecialidad.nCaso = 1
.head 6 -  Set cmbEspecialidad.sTabla = 'ESPECIALIDAD'
.head 6 -  Set cmbEspecialidad.sNombre='NOMBRE'
.head 6 -  Set cmbEspecialidad.sCodigo='COD_ESPECIALIDAD'
.head 5 +  On SAM_Validate
.head 6 -  Set sSQL = "
			SELECT
				NOMBRE
			FROM
				MEDICOS
			WHERE
				COD_ESPECIALIDAD = :cmbEspecialidad.nCodigo
			ORDER BY
				NOMBRE"
.head 6 -  Call SalListClear(cmbMedicosOS)
.head 6 -  Call SalListPopulate(cmbMedicosOS, hSql1, sSQL)
.head 6 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 3 +  Combo Box: cmbMedicosOS
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatComboBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.65"
.head 5 -  Top:    0.988"
.head 5 -  Width:  3.333"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.893"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_DropDown
.head 6 -  !
.head 6 +  If not SalIsNull(cmbEspecialidad)
.head 7 -  !
.head 7 -  Set sMedico = cmbMedicosOS
.head 7 -  Set sSQL = "
			SELECT
				NOMBRE
			FROM
				MEDICOS
			WHERE
				COD_ESPECIALIDAD = :cmbEspecialidad.nCodigo
			ORDER BY
				NOMBRE"
.head 7 -  ! Call SalListClear(cmbMedicosOS)
.head 7 -  Call SalListPopulate(cmbMedicosOS, hSql1, sSQL)
.head 7 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 7 -  !
.head 7 -  Call SalListSelectString( hWndItem, -1,sMedico)
.head 3 +  Combo Box: cmbCategServiciosOS
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.65"
.head 5 -  Top:    1.571"
.head 5 -  Width:  3.333"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.583"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbCategServiciosOS.nCaso = 2
.head 6 -  Set cmbCategServiciosOS.sTabla = 'CATEG_SERVICIOS'
.head 6 -  Set cmbCategServiciosOS.sNombre='NOMBRE'
.head 6 -  Set cmbCategServiciosOS.sCodigo='COD_CATEGORIA'
.head 5 +  On SAM_Validate
.head 6 -  !
.head 6 -  ! ----------Cargar los servicios de la categoria seleccionada
.head 6 -  Set sSQL = "
			SELECT
				NOMBRE
			FROM
				SERVICIOS
			WHERE
				COD_CATEGORIA = :cmbCategServiciosOS.sCodigos AND
				EN_USO = 1
			ORDER BY
				NOMBRE"
.head 6 -  Call SalListClear(cmbServicios)
.head 6 -  Call SalListPopulate(cmbServicios, hSql1, sSQL)
.head 6 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 6 -  !
.head 3 +  Combo Box: cmbServicios
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatComboBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.65"
.head 5 -  Top:    1.845"
.head 5 -  Width:  3.333"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.583"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_DropDown
.head 6 -  !
.head 6 -  ! ---------------Antes de especificar el servicio se debe especificar la categoria
.head 6 +  If not SalIsNull(cmbCategServiciosOS)
.head 7 -  !
.head 7 -  ! -----------Cargar los servicios de la categoria seleccionada
.head 7 -  Set sServicio = cmbServicios
.head 7 -  Set sSQL = "
			SELECT
				NOMBRE
			FROM
				SERVICIOS
			WHERE
				COD_CATEGORIA = :cmbCategServiciosOS.sCodigos AND
				EN_USO = 1
			ORDER BY
				NOMBRE"
.head 7 -  Call SalListClear(cmbServicios)
.head 7 -  Call SalListPopulate(cmbServicios, hSql1, sSQL)
.head 7 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 7 -  !
.head 7 -  Call SalListSelectString( hWndItem, -1,sServicio)
.head 6 -  !
.head 5 +  On SAM_Validate
.head 6 -  !
.head 6 -  ! --------Validar la categoria
.head 6 +  If SalIsNull(cmbCategServiciosOS)
.head 7 -  !
.head 7 -  Call SalMessageBox("Debe especificar antes la categoria de servicio","ADVERTENCIA",MB_Ok)
.head 3 +  Combo Box: cmbServicios_2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatComboBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.917"
.head 5 -  Top:    2.202"
.head 5 -  Width:  3.333"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.583"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_DropDown
.head 6 -  !
.head 6 -  ! ---------------Antes de especificar el servicio se debe especificar la categoria
.head 6 +  If not SalIsNull(cmbCategServiciosOS)
.head 7 -  !
.head 7 -  ! -----------Cargar los servicios de la categoria seleccionada
.head 7 -  Set sServicio = cmbServicios
.head 7 -  Set sSQL = "
			SELECT
				NOMBRE
			FROM
				SERVICIOS
			WHERE
				COD_CATEGORIA = :cmbCategServiciosOS.sCodigos AND
				EN_USO = 1
			ORDER BY
				NOMBRE"
.head 7 -  Call SalListClear(cmbServicios)
.head 7 -  Call SalListPopulate(cmbServicios, hSql1, sSQL)
.head 7 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 7 -  !
.head 7 -  Call SalListSelectString( hWndItem, -1,sServicio)
.head 6 -  !
.head 5 +  On SAM_Validate
.head 6 -  !
.head 6 -  ! --------Validar la categoria
.head 6 +  If SalIsNull(cmbCategServiciosOS)
.head 7 -  !
.head 7 -  Call SalMessageBox("Debe especificar antes la categoria de servicio","ADVERTENCIA",MB_Ok)
.head 3 -  Background Text: Categoria
.head 4 -  Resource Id: 24982
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.95"
.head 5 -  Top:    1.655"
.head 5 -  Width:  1.667"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Procedimiento
.head 4 -  Resource Id: 24983
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.45"
.head 5 -  Top:    1.845"
.head 5 -  Width:  1.167"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbCategServiciosOS_2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 23040.68"
.head 5 -  Top:    2.512"
.head 5 -  Width:  3.333"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.583"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbCategServiciosOS.nCaso = 2
.head 6 -  Set cmbCategServiciosOS.sTabla = 'CATEG_SERVICIOS'
.head 6 -  Set cmbCategServiciosOS.sNombre='NOMBRE'
.head 6 -  Set cmbCategServiciosOS.sCodigo='COD_CATEGORIA'
.head 5 +  On SAM_Validate
.head 6 -  !
.head 6 -  ! ----------Cargar los servicios de la categoria seleccionada
.head 6 -  Set sSQL = "
			SELECT
				NOMBRE
			FROM
				SERVICIOS
			WHERE
				COD_CATEGORIA = :cmbCategServiciosOS.sCodigos AND
				EN_USO = 1
			ORDER BY
				NOMBRE"
.head 6 -  Call SalListClear(cmbServicios)
.head 6 -  Call SalListPopulate(cmbServicios, hSql1, sSQL)
.head 6 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 6 -  !
.head 3 +  Check Box: cbFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Desde
.head 4 -  Window Location and Size
.head 5 -  Left: 5.15"
.head 5 -  Top:    2.488"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cbFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Hasta
.head 4 -  Window Location and Size
.head 5 -  Left: 5.15"
.head 5 -  Top:    2.845"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Custom Control: ccFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 6.083"
.head 6 -  Top:    2.488"
.head 6 -  Width:  3.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Custom Control: ccFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 6.083"
.head 6 -  Top:    2.845"
.head 6 -  Width:  3.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbBuscar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.267"
.head 5 -  Top:    1.738"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F3
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalWaitCursor( TRUE )
.head 6 -  Set sSQL = ConstructQuery()
.head 6 -  ! Call SalMessageBox(sSQL,'Sql',MB_Ok)
.head 6 -  Call SalTblPopulate( tblOrdenes, hSql1, sSQL, TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  Set dfTotal=ContarFilas( tblOrdenes )
.head 6 -  Call SalWaitCursor( FALSE )
.head 6 -  Call ColorearFilas()
.head 3 +  Child Table: tblOrdenes
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatChildTable
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.483"
.head 6 -  Top:    3.988"
.head 6 -  Width:  12.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 2.75"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colOrden
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cirugia
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Left
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCodigoPaciente
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod Paciente
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  Default
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCorrelativoPaciente
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cor
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colNombrePaciente
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Nombre Paciente
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFechaEmision
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha P
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  Default
.head 6 -  Width Editable? Yes
.head 6 -  Format: dd/mm/yyyy
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colHoraP
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Hora P
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Date/Time
.head 6 -  Justify: Left
.head 6 -  Width:  Default
.head 6 -  Width Editable? Yes
.head 6 -  Format: hh:mm:ss AMPM
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colEstado
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: ESTADO
.head 6 -  Visible? No
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Left
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colEstadoChk
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: ESTADO
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Left
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Check Box
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value: 1
.head 8 -  Uncheck Value: 0
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Click
.head 8 +  If tblOrdenes.colEstado=1
.head 9 -  Call SalDisableWindow( tblOrdenes.colEstadoChk )
.head 9 -  Call SalMessageBox( "La Cirugia esta Cerrada no se puede editar", "Mensaje", 0 )
.head 8 +  Else If tblOrdenes.colEstado=2
.head 9 -  Call SalDisableWindow( tblOrdenes.colEstadoChk )
.head 9 -  Call SalMessageBox( "La Cirugia esta Anulada no se puede editar", "Mensaje", 0 )
.head 8 +  Else
.head 9 -  Call SalEnableWindow( tblOrdenes.colEstadoChk )
.head 5 +  Column: colProcedimiento
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Procedimiento Base
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMedico
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Medico Base
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 +  Window Variables
.head 5 -  Number: nFila
.head 4 +  Message Actions
.head 5 +  On SAM_DoubleClick
.head 6 -  Call SalTblQueryFocus(tblOrdenes,nFila,tblOrdenes.colOrden)
.head 6 -  Call SalTblSetContext(tblOrdenes,nFila)
.head 6 -  Set nRegresa=tblOrdenes.colOrden
.head 6 -  Call SalEndDialog(dlgConsultaCirugias,TRUE)
.head 5 +  On SAM_Create
.head 6 -  !
.head 6 -  Call MTblSubClass( hWndForm )
.head 6 -  Call MTblEnableMWheelScroll( hWndForm, TRUE )
.head 3 +  Data Field: dfTotal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 8.55"
.head 6 -  Top:    7.012"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: #0
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFechaParam
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.183"
.head 6 -  Top:    4.238"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: DateTime
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Group Box: Estados Citas
.head 4 -  Resource Id: 24984
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.283"
.head 5 -  Top:    3.238"
.head 5 -  Width:  8.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Radio Button: rbTodas
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Todas
.head 4 -  Window Location and Size
.head 5 -  Left: 1.483"
.head 5 -  Top:    3.405"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbSinRealizar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Sin Realizar
.head 4 -  Window Location and Size
.head 5 -  Left: 2.783"
.head 5 -  Top:    3.405"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbRealizadas
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Realizadas
.head 4 -  Window Location and Size
.head 5 -  Left: 4.583"
.head 5 -  Top:    3.405"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbNulas
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Nulas
.head 4 -  Window Location and Size
.head 5 -  Left: 6.383"
.head 5 -  Top:    3.405"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 2 +  Functions
.head 3 +  Function: ConstructQuery
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sConsulta
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set dfFechaDesde = ccFechaDesde.GetSystemTime()
.head 5 -  Set dfFechaHasta = ccFechaHasta.GetSystemTime()
.head 5 -  !
.head 5 -  Set sConsulta="Select
			O.COD_CIRUGIA,
			O.COD_PACIENTE,
        			O.CORREL_PACIENTE,
			(CASE
                            			WHEN O.COD_PACIENTE = 'TEMPCOD' THEN O.NOMBRE_TMP
                            			ELSE P.PRIMER_NOM +  ' ' + P.PRIMER_APE
                        		 END ) AS NOMBRE,
			CONVERT(VARCHAR(12), O.FECHA_PROGRAMADA,103),
			O.HORA_PROGRAMADA,
			O.ESTADO,
			(CASE
                  WHEN O.ESTADO = 2 THEN 0
                  ELSE O.ESTADO
            END ) AS ESTADOCHK,
			M.NOMBRE AS DESTINO,
			S.NOMBRE AS PROCEDIMIENTO
		from
			CIRUGIAS 	O,
        			PACIENTES            P,
			MEDICOS           	M,
			SERVICIOS	S
		where
        			O.COD_PACIENTE 	= P.COD_PACIENTE   	AND
            			O.CORREL_PACIENTE 	= P.CORREL_PACIENTE	AND
			O.COD_MEDICO     	= M.COD_MEDICO		AND
			O.COD_CATEGORIA	= S.COD_CATEGORIA	AND
			O.COD_SERVICIO		= S.COD_SERVICIO"

.head 5 +  If not SalIsNull(dfCod_Cirugia)
.head 6 -  Set sConsulta = sConsulta || " AND O.COD_CIRUGIA = :dfCod_Cirugia"
.head 5 +  If not SalIsNull(cmbUsuariosOS)
.head 6 -  Set sConsulta = sConsulta || " AND O.AUTORIZADO_POR = :cmbUsuariosOS.nCodigo"
.head 5 +  If not SalIsNull(cmbEspecialidad)
.head 6 -  !
.head 6 -  Set sConsulta = sConsulta || " AND M.COD_ESPECIALIDAD = :cmbEspecialidad.nCodigo"
.head 6 -  !
.head 6 -  ! Set sConsulta = sConsulta || " AND EXISTS(
                   			 SELECT
                        				A.CORRELATIVO
                    			FROM
                       				CIRUGIAS_HONORARIOS A,
                       				MEDICOS      B,
                       				ESPECIALIDAD C
                    			WHERE
                         				A.COD_CIRUGIA = O.COD_CIRUGIA AND
                         				A.COD_MEDICO = B.COD_MEDICO AND
                         				B.COD_ESPECIALIDAD = C.COD_ESPECIALIDAD AND
                         				B.COD_ESPECIALIDAD =  :cmbEspecialidad.nCodigo)"
.head 5 +  If not SalIsNull(cmbMedicosOS)
.head 6 -  ! -------Obtener el codigo medico
.head 6 -  Set sSQL = "select
		COD_MEDICO
    	from
		MEDICOS
	where
		NOMBRE = :cmbMedicosOS
  	into
		:nMedico"
.head 6 -  Call SqlImmediate(  sSQL)
.head 6 -  Call SqlClearImmediate( )
.head 6 -  !
.head 6 -  Set sConsulta = sConsulta || " AND O.COD_MEDICO = :nMedico"
.head 6 -  !
.head 6 -  ! Set sConsulta = sConsulta || " AND EXISTS(
                    			SELECT
                        				A.CORRELATIVO
                    			FROM
                       				CIRUGIAS_HONORARIOS A
                    			WHERE
                         				A.COD_CIRUGIA = O.COD_CIRUGIA AND
                         				A.COD_MEDICO = :nMedico)"
.head 5 +  If not SalIsNull(cmbCategServiciosOS)
.head 6 -  !
.head 6 -  Set sConsulta = sConsulta || " AND O.COD_CATEGORIA = :cmbCategServiciosOS.sCodigos"
.head 5 +  If not SalIsNull(cmbServicios)
.head 6 -  !
.head 6 -  ! -------Obtener el codigo del servicio
.head 6 -  Set sSQL = "select
		COD_SERVICIO
    	from
		SERVICIOS
	where
		COD_CATEGORIA = :cmbCategServiciosOS.sCodigos AND
		EN_USO = 1 AND
		NOMBRE = :cmbServicios
  	into
		:sServicio"
.head 6 -  Call SqlImmediate(  sSQL)
.head 6 -  Call SqlClearImmediate( )
.head 6 -  !
.head 6 -  Set sConsulta = sConsulta || " AND O.COD_SERVICIO = :sServicio"
.head 6 -  !
.head 6 -  ! Set sConsulta = sConsulta || " AND EXISTS(
                    SELECT
                        D.CORRELATIVO
                    FROM
                       CIRUGIAS_PROCEDIMIENTOS D
                    WHERE
                         D.COD_CIRUGIA = O.COD_CIRUGIA AND
                         D.COD_CATEGORIA = :cmbCategServiciosOS.sCodigos AND
                         D.COD_SERVICIO = :sServicio
            ) "
.head 5 +  If not SalIsNull(dfPaciente)
.head 6 -  Set sConsulta = sConsulta || " AND O.COD_PACIENTE = :dfPaciente"
.head 5 +  If not SalIsNull(dfPacienteCorrel)
.head 6 -  Set sConsulta = sConsulta || " AND O.CORREL_PACIENTE = :dfPacienteCorrel"
.head 5 +  If not SalIsNull(dfNombre)
.head 6 -  Set sConsulta=sConsulta || "	AND	P.PRIMER_NOM   like '%" || dfNombre || "%' "
.head 5 +  If not SalIsNull(dfApellido)
.head 6 -  Set sConsulta=sConsulta || "	AND	P.PRIMER_APE   like '%" || dfApellido || "%' "
.head 5 +  If not SalIsNull(cmbEmpresa)
.head 6 -  Set sConsulta=sConsulta || "	AND	P.COD_EMPRESA = :cmbEmpresa.nCodigo "
.head 5 +  If not SalIsNull(cmbDepto)
.head 6 -  Set sConsulta=sConsulta || "	AND	P.CODIGO_DEPTO = :cmbDepto.nCodigo "
.head 5 +  If SalIsButtonChecked(cbFechaDesde)
.head 6 -  !
.head 6 -  Set sConsulta=sConsulta || "	AND	O.FECHA_PROGRAMADA >= :dfFechaDesde "

.head 5 +  If SalIsButtonChecked(cbFechaHasta)
.head 6 -  !
.head 6 -  Set sConsulta=sConsulta || "	AND O.FECHA_PROGRAMADA<=  :dfFechaHasta "
.head 5 +  If SalIsButtonChecked(rbTodas)=FALSE
.head 6 +  If SalIsButtonChecked(rbSinRealizar)
.head 7 -  !
.head 7 -  Set sConsulta=sConsulta || "	AND O.ESTADO= 0 "
.head 6 +  If SalIsButtonChecked(rbRealizadas)
.head 7 -  !
.head 7 -  Set sConsulta=sConsulta || "	AND O.ESTADO= 1 "
.head 6 +  If SalIsButtonChecked(rbNulas)
.head 7 -  !
.head 7 -  Set sConsulta=sConsulta || "	AND O.ESTADO= 2 "
.head 5 -  Set sConsulta=sConsulta||"	order	by	NOMBRE"
.head 5 -  Return sConsulta
.head 3 +  Function: ColorearFilas
.head 4 -  Description: Verifica si existe al menos 1 fila en una CHILD TABLE
.head 4 +  Returns
.head 5 -  Number:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Window Handle: hWndHijo
.head 5 -  Number: nFila
.head 5 -  Number: nEdadIng
.head 5 -  Number: nEdadActual
.head 5 -  Date/Time: dtFechaHoy
.head 5 -  Number: nTiempoLab
.head 5 -  String: strFechaHoy
.head 5 -  String: strFechaIngreso
.head 4 +  Actions
.head 5 -  Call SalTblSetContext(tblOrdenes,0)
.head 5 -  Set nFila=-1
.head 5 +  While SalTblFindNextRow(tblOrdenes,nFila,0,0)
.head 6 -  Call SalTblSetContext(tblOrdenes,nFila)
.head 6 +  If tblOrdenes.colEstado = 1
.head 7 -  Call MTblSetRowBackColor( tblOrdenes, nFila, COLOR_Red, MTSC_REDRAW )
.head 6 +  Else If tblOrdenes.colEstado = 2
.head 7 -  Call MTblSetRowBackColor( tblOrdenes, nFila, COLOR_Yellow, MTSC_REDRAW )
.head 5 -  Call SalTblSetContext(tblOrdenes,0)
.head 5 -  Return nFila+1
.head 2 +  Window Parameters
.head 3 -  Receive Number: nRegresa
.head 3 -  Number: nFlag
.head 3 -  Number: nDay
.head 3 -  Number: nMonth
.head 3 -  Number: nYear
.head 2 +  Window Variables
.head 3 -  String: sSQL
.head 3 -  Number: nMedico
.head 3 -  String: sMedico
.head 3 -  String: sServicio
.head 3 -  String: sServicio_2
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 3 -  String: sSqlUpdate
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalBringWindowToTop(dlgConsultaCirugias)
.head 4 -  !
.head 4 +  If nFlag
.head 5 -  !
.head 5 -  Set cbFechaDesde = 1
.head 5 -  Set cbFechaHasta = 1
.head 5 -  Set dfFechaParam = SalDateConstruct(  nYear,  nMonth, nDay, 0, 0, 0 )
.head 5 -  Call ccFechaDesde.SetSystemTime(GDT_VALID, dfFechaParam)
.head 5 -  Call ccFechaHasta.SetSystemTime(GDT_VALID, dfFechaParam)
.head 5 -  Call SalSendMsg (pbBuscar, SAM_Click, 0, 0)
.head 1 +  Form Window: frmPrincipalCompras
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Inventario
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: 0.275"
.head 4 -  Top:    0.229"
.head 4 -  Width:  7.65"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 3.976"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: White
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 +  Menu
.head 3 +  ! Windows Menu: &Reportes
.head 4 -  Enabled when: bArraySeg[5]
.head 4 -  Status Text: 
.head 4 -  Menu Item Name: 
.head 4 +  Menu Item: Entradas de Medicamentos
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text: 
.head 5 +  Menu Settings 
.head 6 -  Enabled when: 
.head 6 -  Checked when: 
.head 5 +  Menu Actions 
.head 6 -  Call SalModalDialog( dlgReportesEntradas, hWndForm )
.head 5 -  Menu Item Name: 
.head 4 +  Popup Menu: Salidas de Medicamentos
.head 5 -  Enabled when: 
.head 5 -  Status Text: 
.head 5 -  Menu Item Name: 
.head 5 +  Menu Item: Reportes Generales
.head 6 -  Keyboard Accelerator: (none)
.head 6 -  Status Text: 
.head 6 +  Menu Settings 
.head 7 -  Enabled when: bArraySeg[10]
.head 7 -  Checked when: 
.head 6 +  Menu Actions 
.head 7 -  Call SalModalDialog( dlgReportesSalidas, hWndForm  )
.head 6 -  Menu Item Name: 
.head 5 +  Menu Item: Reportes Específicos
.head 6 -  Keyboard Accelerator: (none)
.head 6 -  Status Text: 
.head 6 +  Menu Settings 
.head 7 -  Enabled when: 
.head 7 -  Checked when: 
.head 6 +  Menu Actions 
.head 7 -  Call SalModalDialog(dlgReportesSalidasEsp, hWndForm)
.head 6 -  Menu Item Name: 
.head 5 +  Menu Item: Salidas de &Empleados
.head 6 -  Keyboard Accelerator: (none)
.head 6 -  Status Text: Reporte de Salidas de Empleados
.head 6 +  Menu Settings 
.head 7 -  Enabled when: 
.head 7 -  Checked when: 
.head 6 +  Menu Actions 
.head 7 -  Call SalModalDialog(dlgSalidasEmpleados, hWndForm)
.head 6 -  Menu Item Name: 
.head 4 +  Menu Item: Listado de  Medicamentos
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text: 
.head 5 +  Menu Settings 
.head 6 -  Enabled when: bArraySeg[11]
.head 6 -  Checked when: 
.head 5 +  Menu Actions 
.head 6 -  Call SalModalDialog( dlgConsultaMedicamentos, hWndForm,1,sRegresa )
.head 5 -  Menu Item Name: 
.head 4 +  Menu Item: Movimientos de  Medicamentos
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text: 
.head 5 +  Menu Settings 
.head 6 -  Enabled when: bArraySeg[11]
.head 6 -  Checked when: 
.head 5 -  Menu Actions 
.head 5 -  Menu Item Name: 
.head 3 +  Windows Menu: &Opciones
.data INHERITPROPS
0000: 0100
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.data CLASSPROPSSIZE
0000: 1600
.enddata
.head 4 -  Resource Id: 54522
.head 4 -  Enabled when: bArraySeg[16]
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 4 +  Menu Item: Realizar Ajustes
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 54523
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalCreateWindow( frmAjustesInventario, hWndForm )
.head 5 -  Menu Item Name:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.607"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Charcoal
.head 3 +  Contents
.head 4 +  Pushbutton: pbSalir
.data CLASSPROPSSIZE
0000: 3500
.enddata
.data CLASSPROPS
0000: 544F4F4C5449505F 5374617475730001 000000544F4F4C54 49505F546970000F
0020: 0043657272617220 56656E74616E6100 0000000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 4.583"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 2 +  Contents
.head 3 +  ! pbBase: pbAjuste
.head 4 +    Message Actions
.head 5 +    On SAM_Click
.head 6 -    Call SalCreateWindow( frmAjuste, hWndForm )
.head 3 +  Pushbutton: pbMantenimiento
.data CLASSPROPSSIZE
0000: 4100
.enddata
.data CLASSPROPS
0000: 544F4F4C5449505F 5374617475730001 000000544F4F4C54 49505F546970001B
0020: 004D616E74656E69 6D69656E746F204D 65646963616D656E 746F730000000000
0040: 00
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Medicamentos
.head 4 -  Window Location and Size
.head 5 -  Left: 2.683"
.head 5 -  Top:    0.155"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.917"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\48x48\First Aid Kit.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: 3D Highlight Color
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If bArraySeg[21]
.head 7 -  Call SalCreateWindow( frmServicios, hWndForm )
.head 3 +  Pushbutton: pbPresentaciones
.data CLASSPROPSSIZE
0000: 4200
.enddata
.data CLASSPROPS
0000: 544F4F4C5449505F 5374617475730001 000000544F4F4C54 49505F546970001C
0020: 0050726573656E74 6163696F6E206465 204D65646963616D 656E746F00000000
0040: 0000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Presentaciones
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    0.155"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.917"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\48x48\Medicine Pills.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: 3D Highlight Color
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If bArraySeg[20]
.head 7 -  Call SalCreateWindow( frmPresen, hWndForm )
.head 3 +  Pushbutton: pbSaliads
.data CLASSPROPSSIZE
0000: 4500
.enddata
.data CLASSPROPS
0000: 544F4F4C5449505F 5374617475730001 000000544F4F4C54 49505F546970001F
0020: 00456E7472616461 73206465204D6564 6963616D656E746F 2056617269617300
0040: 0000000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Salidas
.head 4 -  Window Location and Size
.head 5 -  Left: 4.683"
.head 5 -  Top:    1.071"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.917"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\leftjust.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: 3D Highlight Color
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If bArraySeg[24]
.head 7 -  Call SalCreateWindow( frmSalidasInventario, hWndForm )
.head 3 +  Pushbutton: pbConsultaComprasH
.data CLASSPROPSSIZE
0000: 3D00
.enddata
.data CLASSPROPS
0000: 544F4F4C5449505F 5374617475730001 000000544F4F4C54 49505F5469700017
0020: 0053616C69646173 206465204D656469 63616D656E746F00 0000000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Compras
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    1.071"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.917"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\48x48\Shopping Cart Information.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: 3D Highlight Color
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalCreateWindow( frmConsultaComprasH, hWndForm )
.head 3 +  Pushbutton: pbConsultaInventario
.data CLASSPROPSSIZE
0000: 3D00
.enddata
.data CLASSPROPS
0000: 544F4F4C5449505F 5374617475730001 000000544F4F4C54 49505F5469700017
0020: 0053616C69646173 206465204D656469 63616D656E746F00 0000000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Inventario
.head 4 -  Window Location and Size
.head 5 -  Left: 4.683"
.head 5 -  Top:    0.155"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.917"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\48x48\Treatment Information.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: 3D Highlight Color
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalModalDialog( dlgConsultaMedicamentos, hWndForm,0,STRING_Null, STRING_Null, 1, sTempMenu, sTempMenu2, nTempMenu, nTempMenu)
.head 3 +  Pushbutton: pbEntradas
.data CLASSPROPSSIZE
0000: 3D00
.enddata
.data CLASSPROPS
0000: 544F4F4C5449505F 5374617475730001 000000544F4F4C54 49505F5469700017
0020: 0053616C69646173 206465204D656469 63616D656E746F00 0000000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Entradas
.head 4 -  Window Location and Size
.head 5 -  Left: 2.683"
.head 5 -  Top:    1.071"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.917"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\rightjust.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: 3D Highlight Color
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If bArraySeg[23]
.head 7 -  Call SalCreateWindow( frmEntradasInventario, hWndForm)
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: sRegresa
.head 3 -  Number: nRegresa2
.head 3 -  Number: nRegresa3
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalCenterWindow( hWndForm )
.head 4 +  ! If bArraySeg[20]
.head 5 -  Call SalEnableWindow(pbPresentaciones)
.head 4 +  ! If bArraySeg[21]
.head 5 -  Call SalEnableWindow(pbMantenimiento)
.head 4 +  ! If bArraySeg[22]
.head 5 -  Call SalEnableWindow(pbEntradas)
.head 4 +  ! If bArraySeg[23]
.head 5 -  Call SalEnableWindow(pbEntradasVarias)
.head 4 +  ! If bArraySeg[24]
.head 5 -  Call SalEnableWindow(pbSalidas)
.head 1 +  Form Window: frmConsultaComprasH
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Consultas de Compras
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: 0.6"
.head 4 -  Top:    0.192"
.head 4 -  Width:  13.2"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 6.536"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Background Text: Nombre Producto
.head 4 -  Resource Id: 56417
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.583"
.head 5 -  Top:    1.012"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfProducto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.05"
.head 6 -  Top:    1.012"
.head 6 -  Width:  4.7"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  Background Text: Bodega
.head 4 -  Resource Id: 56418
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.817"
.head 5 -  Top:    1.012"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbBodega
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.683"
.head 5 -  Top:    1.012"
.head 5 -  Width:  4.2"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.583"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbBodega.nCaso=1
.head 6 -  Set cmbBodega.sTabla='BODEGAS'
.head 6 -  Set cmbBodega.sNombre='NOMBRE'
.head 6 -  Set cmbBodega.sCodigo='COD_BODEGA'
.head 3 -  Background Text: Proveedor
.head 4 -  Resource Id: 56423
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.983"
.head 5 -  Top:    1.333"
.head 5 -  Width:  0.967"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.179"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbGrup
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.05"
.head 5 -  Top:    1.333"
.head 5 -  Width:  4.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.893"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbGrup.nCaso=1
.head 6 -  Set cmbGrup.sTabla='GRUPOS_MED'
.head 6 -  Set cmbGrup.sNombre='NOMBRE'
.head 6 -  Set cmbGrup.sCodigo='COD_GRUPO'
.head 3 -  Background Text: Factura
.head 4 -  Resource Id: 56424
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.25"
.head 5 -  Top:    1.69"
.head 5 -  Width:  0.767"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.179"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFactura
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.05"
.head 6 -  Top:    1.679"
.head 6 -  Width:  1.933"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  Group Box: Rango de Fecha
.head 4 -  Resource Id: 56419
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.683"
.head 5 -  Top:    1.321"
.head 5 -  Width:  4.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.583"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Inicio:
.head 4 -  Resource Id: 56406
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.783"
.head 5 -  Top:    1.595"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Final:
.head 4 -  Resource Id: 56407
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.95"
.head 5 -  Top:    1.619"
.head 5 -  Width:  0.533"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.202"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaInicio
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 8.383"
.head 6 -  Top:    1.571"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFechaFinal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.483"
.head 6 -  Top:    1.571"
.head 6 -  Width:  1.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.383"
.head 6 -  Top:    2.238"
.head 6 -  Width:  12.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 2.917"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 3200
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: col1
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Codigo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: col2
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Date/Time
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.183"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: dd/MM/yy
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFactura
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Factura
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.15"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: col3
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Proveedor
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.567"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: col4
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Producto
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.45"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: col5
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Costo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.433"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCantidad
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cantidad
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.767"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: col7
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Bodega
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.617"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 -  Message Actions
.head 3 -  Group Box: Criterios de Búsqueda
.head 4 -  Resource Id: 56414
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    0.821"
.head 5 -  Width:  12.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pb2
.data CLASSPROPSSIZE
0000: 2C00
.enddata
.data CLASSPROPS
0000: 544F4F4C5449505F 5374617475730001 000000544F4F4C54 49505F5469700006
0020: 0053616C69720000 00000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbSalir
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.383"
.head 5 -  Top:    0.155"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb3
.data CLASSPROPSSIZE
0000: 2D00
.enddata
.data CLASSPROPS
0000: 544F4F4C5449505F 5374617475730001 000000544F4F4C54 49505F5469700007
0020: 0042757363617200 0000000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.186"
.head 5 -  Top:    0.155"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F3
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalWaitCursor( TRUE )
.head 6 -  Call SalTblPopulate( tbl1, hSql1, ArmarQuery(), TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 6 -  Call SalWaitCursor( FALSE )
.head 3 +  Pushbutton: pb4
.data CLASSPROPSSIZE
0000: 3700
.enddata
.data CLASSPROPS
0000: 544F4F4C5449505F 5374617475730001 000000544F4F4C54 49505F5469700011
0020: 004C696D70696172 2050616E74616C6C 61000000000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbLimpia
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.783"
.head 5 -  Top:    0.155"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb6
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.586"
.head 5 -  Top:    0.073"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.417"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\CENTURA\BITMAPS\Report.ico
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  ! On SAM_Click
.head 6 -  Set sConsulta2="select c.cod_medicamento,c.nombre, sum(b.cantidad),c.costo,d.nombre
from entradas a, detalle_entradas b, inventario_med c, categ_servicios d
where  a.cod_entrada=b.cod_entrada
and b.cod_medicamento = c.cod_medicamento and d.cod_categoria=c.cod_categoria
"
			
.head 6 +  If dfFechaInicio!=DATETIME_Null
.head 7 -  Set sConsulta2=sConsulta2||"	and	A.FECHA>=:frmConsultaEntra.dfFechaInicio"
.head 6 +  If dfFechaFinal!=DATETIME_Null
.head 7 -  Set sConsulta2=sConsulta2||"	and	A.FECHA<=:frmConsultaEntra.dfFechaFinal"
.head 6 -  Set sConsulta2=sConsulta2||" group by d.nombre,c.cod_medicamento order by d.nombre,c.nombre"
.head 6 -  Call SalCreateWindow( frmImprimir, hWndForm,
"Listado de Medicamentos ",
strRepPath || "\\Medicamento_cantidad.QRP",
":s1,:s2,:n1,:n2,:s3",
"cod_medicamento,nombre,cantidad,promedio,categoria",
sConsulta2|| "
into
:s1,:s2,:n1,:n2,:s3"," ")
.head 3 -  Frame
.head 4 -  Resource Id: 56421
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    0.071"
.head 5 -  Width:  12.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.667"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Round
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: System Frame Color
.head 4 -  Background Color: 3D Shadow Color
.head 3 -  Frame
.head 4 -  Resource Id: 56422
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    2.155"
.head 5 -  Width:  12.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.083"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 2 +  Functions
.head 3 +  Function: ArmarQuery
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sConsulta
.head 4 +  Actions
.head 5 -  Set sConsulta="Select	
			A.COD_ENTRADA,
                                          	A.FECHA,  A.FACTURA,
			B.NOMBRE ,
        			E.NOMBRE,
        			D.COSTO,
			D.CANTIDAD, 
			C.NOMBRE
	         from
           		 	ENTRADAS 		A,
           			BODEGAS 		C,
            			GRUPOS_MED 		B,
            			DETALLE_ENTRADAS 	D,
           			SERVICIOS 		E
	         where	
			C.COD_BODEGA 		= A.COD_BODEGA 	AND
			A.COD_GRUPO   		= B.COD_GRUPO 		AND
               			A.COD_ENTRADA 		= D.COD_ENTRADA   	AND
              			D.COD_MEDICAMENTO	= E.COD_SERVICIO 	AND
			D.COD_CATEGORIA	= E.COD_CATEGORIA 	AND
		                D.COD_MEDICAMENTO	<>'0000000' "
.head 5 +  If dfProducto!=''
.head 6 -  Set sConsulta=sConsulta||"	AND	E.NOMBRE  like '"||dfProducto|| "%'"
.head 5 +  If cmbBodega!=''
.head 6 -  Set sConsulta=sConsulta||"	AND	A.COD_BODEGA=:cmbBodega.nCodigo	"
.head 5 +  If dfFechaInicio!=DATETIME_Null
.head 6 -  Set sConsulta=sConsulta||"	and	A.FECHA>=:dfFechaInicio "
.head 5 +  If dfFechaFinal!=DATETIME_Null
.head 6 -  Set sConsulta=sConsulta||"	and	A.FECHA<=:dfFechaFinal "
.head 5 +  If cmbGrup!=''
.head 6 -  Set sConsulta=sConsulta||"	and 	A.COD_GRUPO=:cmbGrup.nCodigo"
.head 5 +  If dfFactura!=''
.head 6 -  Set sConsulta=sConsulta||"	and 	A.FACTURA=:dfFactura"
.head 5 -  !
.head 5 -  Set sConsulta= sConsulta || " UNION 
		Select	
			A.COD_ENTRADA,
                                           	A.FECHA, 
			A.FACTURA,
			B.NOMBRE ,
        			E.NOMBRE,
        			D.COSTO,
			D.CANTIDAD, 
			C.NOMBRE
	         	from
           		 	prog_pago 	A,
           			BODEGAS 	C,
            			GRUPOS_MED 	B,
            			prog_pago_det 	D,
           			PRODUCTOS 	E
	         	where	
			C.COD_BODEGA		= A.COD_BODEGA 	AND
			A.COD_GRUPO		= B.COD_GRUPO 		AND
               			A.COD_ENTRADA 		= D.COD_ENTRADA   	AND
              			D.COD_MEDICAMENTO	= E.COD_MEDICAMENTO  	AND 
			D.COD_MEDICAMENTO	<>'0000000' "
.head 5 +  If dfProducto!=''
.head 6 -  Set sConsulta=sConsulta||"	AND	E.NOMBRE  like '"||dfProducto|| "%'"
.head 5 +  If cmbBodega!=''
.head 6 -  Set sConsulta=sConsulta||"	AND	A.COD_BODEGA=:cmbBodega.nCodigo	"
.head 5 +  If dfFechaInicio!=DATETIME_Null
.head 6 -  Set sConsulta=sConsulta||"	and	A.FECHA>=:dfFechaInicio "
.head 5 +  If dfFechaFinal!=DATETIME_Null
.head 6 -  Set sConsulta=sConsulta||"	and	A.FECHA<=:dfFechaFinal "
.head 5 +  If cmbGrup!=''
.head 6 -  Set sConsulta=sConsulta||"	and 	A.COD_GRUPO=:cmbGrup.nCodigo"
.head 5 +  If dfFactura!=''
.head 6 -  Set sConsulta=sConsulta||"	and 	A.FACTURA=:dfFactura"
.head 5 -  Set sConsulta=sConsulta||"	order	by	A.FECHA"
.head 5 -  Return sConsulta
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: sConsulta2
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalCenterWindow( hWndForm )
.head 1 +  Form Window: frmEntradasInventario
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Entradas a Inventario
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: 0.1"
.head 4 -  Top:    0.104"
.head 4 -  Width:  14.617"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 9.036"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 +  Menu
.head 3 +  Popup Menu: Opciones
.head 4 -  Resource Id: 20386
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 4 +  Menu Item: &Insertar Producto
.head 5 -  Resource Id: 20387
.head 5 -  Keyboard Accelerator: Ins
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbAgregar, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: &Nueva Entrada
.head 5 -  Resource Id: 20388
.head 5 -  Keyboard Accelerator: Ctrl+N
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbNuevaEntrada, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: &Guardar Entrada
.head 5 -  Resource Id: 20389
.head 5 -  Keyboard Accelerator: Ctrl+S
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbGuardarEntrada, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Ce&rrar Entrada
.head 5 -  Resource Id: 20390
.head 5 -  Keyboard Accelerator: Ctrl+R
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbCerrarEntrada, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: &Buscar Entrada
.head 5 -  Resource Id: 20391
.head 5 -  Keyboard Accelerator: F3
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbBuscarEntrada, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Nuevo &Servicio
.head 5 -  Resource Id: 20392
.head 5 -  Keyboard Accelerator: Ctrl+E
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbNuevoServicio, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.881"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Charcoal
.head 3 +  Contents
.head 4 +  Pushbutton: pbNuevaEntrada
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbMas
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.183"
.head 6 -  Top:    0.155"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.6"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filenew.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 +  If bNuevaEntrada
.head 8 -  !
.head 8 -  Set sSQL = "   SELECT
			*
		FROM
			ENTRADAS
		WHERE
			COD_ENTRADA  =   :dfCodigo"
.head 8 -  Call SqlExists (sSQL, bExistsEntrada)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If SalMessageBox("Ha seleccionado crear una nueva entrada. Desea guardar los cambios antes de continuar?","Atencion",MB_YesNo)=IDYES
.head 9 -  !
.head 9 -  Call SalSendMsg (pbGuardarEntrada, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  !
.head 9 +  If not bExistsEntrada
.head 10 -  !
.head 10 -  Set nCodigo = SalStrToNumber ( dfCodigo )
.head 10 -  Set sSQL = 'DELETE FROM
		 IDENTITYS
	WHERE
		cod_tabla = 13 AND
		MAXIMO = :nCodigo'
.head 10 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 10 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 10 -  !
.head 10 -  Call ResetControls()
.head 10 -  Call LoadDefaultValues()
.head 10 -  ! !
.head 10 -  ! Call SalDisableWindow ( dfCheque )
.head 10 -  ! Call SalDisableWindow ( dfNombre )
.head 10 -  ! Call SalSetFocus( dfOrden )
.head 7 +  Else
.head 8 -  !
.head 8 -  Call SalClearField(dfEstado)
.head 8 -  Call SalClearField(dfCreadoPor)
.head 8 -  Call SalClearField(dfModificadoPor)
.head 8 -  Call ResetControls()
.head 8 -  Call LoadDefaultValues()
.head 8 -  Call SalSetFocus(cmbBodega)
.head 8 -  ! !
.head 8 -  ! Call SalDisableWindow ( dfCheque )
.head 8 -  ! Call SalDisableWindow ( dfNombre )
.head 8 -  ! Call SalSetFocus( dfOrden )
.head 4 +  Pushbutton: pbEliminarEntrada
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbMenos
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.883"
.head 6 -  Top:    0.155"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.595"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\editdelete.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set pbEliminarEntrada.nOpcionh=1
.head 7 -  Set pbEliminarEntrada.sTitulo=' La Entrada'
.head 6 +  On SAM_Click
.head 7 -  Call SqlExists("Select
		*
	from
		ENTRADAS
	where
		COD_ENTRADA=:dfCodigo"
,bExistsEntrada)
.head 7 -  Call SqlClearImmediate( )
.head 7 +  If bExistsEntrada
.head 8 +  If nEstado = 0
.head 9 -  Call SalSendClassMessage( SAM_Click, 0, 0 )
.head 8 +  Else If nEstado = 1
.head 9 -  Call SalMessageBox( "No se puede modificar una entrada ya cerrada " , "Error", MB_Ok )
.head 4 +  Pushbutton: pbGuardarEntrada
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbGrabar
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.583"
.head 6 -  Top:    0.155"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.595"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filesave.bmp
.head 5 -  Picture Transparent Color: White
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  ! On SAM_Create
.head 7 -  Set pb4.nOpcion=3
.head 7 -  Set pb4.sTitulo=' La Entrada'
.head 7 -  Set pb4.hWndTabla=tbl1
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 +  If SalIsNull(dfCodigo)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe especificar el No de Entrada", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 8 -  Return FALSE
.head 7 +  If SalIsNull(cmbBodega)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe especificar el almacen", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 8 -  Call SalSetFocus(cmbBodega)
.head 8 -  Return FALSE
.head 7 +  If SalIsNull(cmbTIPO_ENTRADA)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe especificar el tipo de entrada", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 8 -  Call SalSetFocus(cmbTIPO_ENTRADA)
.head 8 -  Return FALSE
.head 7 +  If not RevisarTablas(tbl1)
.head 8 -  !
.head 8 -  Return FALSE
.head 7 -  !
.head 7 -  !
.head 7 -  ! --------------Validaciones que aplican en caso de que la entrada incluya COSTOS POR COMPRA
.head 7 +  If cmbTIPO_ENTRADA = 'COMPRA A PROVEEDOR'
.head 8 -  !
.head 8 +  If SalIsNull(cmbGrupo)
.head 9 -  !
.head 9 -  Call SalMessageBox( "Debe especificar el grupo  proveedor", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 9 -  Call SalSetFocus(cmbGrupo)
.head 9 -  Return FALSE
.head 8 +  ! If SalIsNull(dfOrden)
.head 9 -  !
.head 9 -  Call SalMessageBox( "Debe especificar el no. de orden de compra", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 9 -  Call SalSetFocus(dfOrden)
.head 9 -  Return FALSE
.head 8 +  If SalIsNull(dfFactura)
.head 9 -  !
.head 9 -  Call SalMessageBox( "Debe especificar el no. de factura", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 9 -  Call SalSetFocus(dfFactura)
.head 9 -  Return FALSE
.head 8 +  If SalIsNull(dfTotalFactura)
.head 9 -  !
.head 9 -  Call SalMessageBox( "Debe especificar el total de la factura", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 9 -  Call SalSetFocus(dfTotalFactura)
.head 9 -  Return FALSE
.head 8 +  Else
.head 9 -  !
.head 9 +  If dfTotal != dfTotalFactura
.head 10 -  !
.head 10 -  Call SalMessageBox( "Entrada no Cuadra " , "Error", MB_Ok )
.head 10 -  Call SalSetFocus(dfTotalFactura)
.head 10 -  Return FALSE
.head 8 -  !
.head 8 +  If not VerificarFactura()
.head 9 -  !
.head 9 -  Call SalMessageBox( "Ya se ha registrado el no. de factura: " || dfFactura|| " para: " || cmbGrupo , "MESSAGE", MB_Ok|MB_IconExclamation )
.head 9 -  Call SalSetFocus(dfFactura)
.head 9 -  Return FALSE
.head 8 -  !
.head 7 -  !
.head 7 -  ! --------------Verificar si la orden ya existe
.head 7 -  Set sSQL = "
		SELECT
			*
		FROM
			ENTRADAS
		WHERE
			COD_ENTRADA   =   :dfCodigo"
.head 7 -  Call SqlExists (sSQL, bExistsEntrada)
.head 7 -  Call SqlClearImmediate()
.head 7 -  !
.head 7 -  ! --------Preparar los datos a guardar
.head 7 -  Call PrepareData()
.head 7 -  !
.head 7 -  ! ----------Ejecutar la actualizacion o insercion
.head 7 +  If bExistsEntrada
.head 8 -  !
.head 8 -  Call DoUpdate(  )
.head 7 +  Else
.head 8 -  !
.head 8 -  Call DoInsert(  )
.head 7 -  !
.head 7 -  Set bNuevaEntrada=FALSE
.head 7 -  !
.head 7 -  Call CargarDatosEntrada()
.head 7 -  !
.head 7 -  Return TRUE
.head 4 +  Pushbutton: pbBuscarEntrada
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbBusqueda
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 2.283"
.head 6 -  Top:    0.155"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.595"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: F3
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 +  If bNuevaEntrada
.head 8 -  !
.head 8 -  Set sSQL = "   SELECT
			*
		FROM
			ENTRADAS
		WHERE
			COD_ENTRADA   =   :dfCodigo"
.head 8 -  Call SqlExists (sSQL, bExistsEntrada)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If SalMessageBox("Ha seleccionado crear una nueva entrada. Desea guardar los cambios antes de salir?","Atencion",MB_YesNo)=IDYES
.head 9 -  !
.head 9 -  Call SalSendMsg (pbGuardarEntrada, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  !
.head 9 +  If not bExistsEntrada
.head 10 -  !
.head 10 -  Set nCodigo = SalStrToNumber ( dfCodigo )
.head 10 -  Set sSQL = 'DELETE FROM
		 IDENTITYS
	WHERE
		cod_tabla = 13 AND
		MAXIMO = :nCodigo'
.head 10 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 10 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 10 -  !
.head 10 -  Set bNuevaEntrada =FALSE
.head 10 -  Set sRegresaEntrada=''
.head 10 -  Call SalModalDialog( dlgConsultaEntrada, hWndForm,2, sRegresaEntrada)
.head 10 +  If sRegresaEntrada!= ''
.head 11 -  !
.head 11 -  Set dfCodigo =sRegresaEntrada
.head 11 -  Call CargarDatosEntrada()
.head 7 +  Else
.head 8 -  !
.head 8 -  Set bNuevaEntrada =FALSE
.head 8 -  Set sRegresaEntrada= ''
.head 8 -  Call SalModalDialog( dlgConsultaEntrada, hWndForm,2, sRegresaEntrada)
.head 8 +  If sRegresaEntrada != ''
.head 9 -  !
.head 9 -  Set dfCodigo=sRegresaEntrada
.head 9 -  Call CargarDatosEntrada()
.head 4 +  Pushbutton: pbSalir
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 11.183"
.head 6 -  Top:    0.155"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.595"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 +  If bNuevaEntrada
.head 8 -  !
.head 8 -  Set sSQL = "   SELECT
			*
		FROM
			ENTRADAS
		WHERE
			COD_ENTRADA   =  :dfCodigo "
.head 8 -  Call SqlExists (sSQL, bExistsEntrada)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If SalMessageBox("Ha seleccionado crear una nueva entrada. Desea guardar los cambios antes de salir?","Atencion",MB_YesNo)=IDYES
.head 9 -  !
.head 9 -  Call SalSendMsg (pbGuardarEntrada, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  !
.head 9 +  If not bExistsEntrada
.head 10 -  !
.head 10 -  Set nCodigo = SalStrToNumber ( dfCodigo)
.head 10 -  Set sSQL = 'DELETE FROM
		 IDENTITYS
	WHERE
		cod_tabla = 13 AND
		MAXIMO = :nCodigo'
.head 10 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 10 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 10 -  !
.head 10 -  Call SalSendClassMessage ( SAM_Click, 0, 0)
.head 7 +  Else
.head 8 -  !
.head 8 -  Call SalSendClassMessage ( SAM_Click, 0, 0)
.head 4 +  ! QuickToolTipPushbutton: pb9
.data CLASSPROPSSIZE
0000: 3500
.enddata
.data CLASSPROPS
0000: 544F4F4C5449505F 5374617475730001 000000544F4F4C54 49505F546970000F
0020: 0043657272617220 456E747261646100 0000000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Call SqlExists("Select	CERRADA
from	ENTRADAS
where	COD_ENTRADA=:dfCodigo into :CERRADA",bExists)
.head 7 -  Call SqlClearImmediate( )
.head 7 +  If bExists
.head 8 +  If CERRADA=0
.head 9 +  If SalMessageBox( "Esta completamente seguro de CERRAR la Entrada", "Advertencia", MB_YesNo  ) = IDYES
.head 10 -  Call Cerrar_Entrada()
.head 8 +  Else
.head 9 -  Call SalMessageBox( "Esta entrada ya ha sido cerrada", "ADVERTENCIA", MB_Ok )
.head 4 +  Data Field: dfCreadoPor
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 5.983"
.head 7 -  Top:    0.071"
.head 7 -  Width:  2.3"
.head 7 -  Width Editable? Yes
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Yes
.head 6 -  Visible? Yes
.head 6 -  Border? Yes
.head 6 -  Justify: Left
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Font Name: Default
.head 6 -  Font Size: Default
.head 6 -  Font Enhancement: Bold
.head 6 -  Text Color: White
.head 6 -  Background Color: Default
.head 6 -  Input Mask: Unformatted
.head 5 -  Message Actions
.head 4 +  Data Field: dfModificadoPor
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 5.983"
.head 7 -  Top:    0.345"
.head 7 -  Width:  2.3"
.head 7 -  Width Editable? Yes
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Yes
.head 6 -  Visible? Yes
.head 6 -  Border? Yes
.head 6 -  Justify: Left
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Font Name: Default
.head 6 -  Font Size: Default
.head 6 -  Font Enhancement: Bold
.head 6 -  Text Color: White
.head 6 -  Background Color: Default
.head 6 -  Input Mask: Unformatted
.head 5 -  Message Actions
.head 4 +  Data Field: dfEstado
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 5.983"
.head 7 -  Top:    0.595"
.head 7 -  Width:  2.3"
.head 7 -  Width Editable? Yes
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Yes
.head 6 -  Visible? Yes
.head 6 -  Border? Yes
.head 6 -  Justify: Left
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Font Name: Default
.head 6 -  Font Size: Default
.head 6 -  Font Enhancement: Bold
.head 6 -  Text Color: White
.head 6 -  Background Color: Default
.head 6 -  Input Mask: Unformatted
.head 5 -  Message Actions
.head 4 -  Background Text: Creado por
.head 5 -  Resource Id: 20408
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 4.65"
.head 6 -  Top:    0.095"
.head 6 -  Width:  1.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: White
.head 5 -  Background Color: Default
.head 4 -  Background Text: Estado
.head 5 -  Resource Id: 20409
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 4.65"
.head 6 -  Top:    0.595"
.head 6 -  Width:  1.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: White
.head 5 -  Background Color: Default
.head 4 -  Background Text: Modificado por
.head 5 -  Resource Id: 20410
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 4.383"
.head 6 -  Top:    0.369"
.head 6 -  Width:  1.467"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: White
.head 5 -  Background Color: Default
.head 4 +  Pushbutton: pbCerrarEntrada
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 8.65"
.head 6 -  Top:    0.179"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.6"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\decrypted.bmp
.head 5 -  Picture Transparent Color: White
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 -  Call SqlExists("
	Select
		*
	from
		ENTRADAS
	WHERE
		COD_ENTRADA=:dfCodigo",bExistsEntrada)
.head 7 -  Call SqlClearImmediate( )
.head 7 +  If bExistsEntrada
.head 8 -  !
.head 8 +  If nEstado = 0
.head 9 -  !
.head 9 +  If SalMessageBox( "Esta seguro de Cerrar la entrada?", "Advertencia", MB_YesNo )=IDYES
.head 10 -  !
.head 10 -  Call CerrarEntrada()
.head 10 -  Call CargarDatosEntrada()
.head 10 -  !
.head 10 -  Call SalMessageBox ("La Entrada ha sido CERRADA","MENSAJE",MB_Ok)
.head 9 -  !
.head 8 +  Else If nEstado = 1
.head 9 -  !
.head 9 -  Call SalMessageBox( "La entrada ya ha sido cerrada", "Error", MB_Ok )
.head 9 -  !
.head 8 +  ! Else If nEstado = 2
.head 9 -  !
.head 9 -  !
.head 9 -  Call SalMessageBox ("La entrada esta anulada. No puede modificarla.","MENSAJE",MB_Ok)
.head 7 +  Else
.head 8 -  !
.head 8 -  Call SalMessageBox( "La ENTRADA no existe" , "Error", MB_Ok )
.head 7 -  !
.head 4 +  Pushbutton: pbImprimir
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 9.483"
.head 6 -  Top:    0.179"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.6"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Call SalModalDialog( dlgImprimirProg, hWndForm)
.head 2 +  Contents
.head 3 -  Background Text: No. Entrada
.head 4 -  Resource Id: 20393
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    0.429"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCodigo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.583"
.head 6 -  Top:    0.405"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Red
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Fecha
.head 4 -  Resource Id: 20394
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    0.952"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaIngreso
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.583"
.head 6 -  Top:    0.905"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Yes
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Almacen
.head 4 -  Resource Id: 20395
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    0.702"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Tipo Entrada
.head 4 -  Resource Id: 58355
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    1.226"
.head 5 -  Width:  1.067"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbTIPO_ENTRADA
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.583"
.head 5 -  Top:    1.202"
.head 5 -  Width:  5.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbTIPO_ENTRADA.nCaso=1
.head 6 -  Set cmbTIPO_ENTRADA.sTabla='TIPOS_ENTRADA'
.head 6 -  Set cmbTIPO_ENTRADA.sNombre='DESCRIPCION_ENTRADA'
.head 6 -  Set cmbTIPO_ENTRADA.sCodigo='COD_TIPO_ENTRADA'
.head 5 +  On SAM_SetFocus
.head 6 -  !
.head 6 -  Call SalPostMsg( hWndItem, CB_SHOWDROPDOWN, TRUE, 0 )
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call SalSendClassMessage ( SAM_Click, 0, 0 )
.head 6 +  If cmbTIPO_ENTRADA = 'COMPRA A PROVEEDOR'
.head 7 -  !
.head 7 -  Set cbCredito = TRUE
.head 6 +  Else
.head 7 -  Set cbCredito = FALSE
.head 6 -  Call HabilitarObjetos()
.head 3 -  Background Text: Orden No.
.head 4 -  Resource Id: 20396
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.283"
.head 5 -  Top:    1.405"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Multiline Field: mlObs
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  String Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Border? Yes
.head 5 -  Word Wrap? Yes
.head 5 -  Vertical Scroll? Yes
.head 5 -  Window Location and Size
.head 6 -  Left: 7.383"
.head 6 -  Top:    0.238"
.head 6 -  Width:  6.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.75"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Data Field: dfOrden
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 8.283"
.head 6 -  Top:    1.369"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Proveedor
.head 4 -  Resource Id: 20398
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.35"
.head 5 -  Top:    1.619"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbGrupo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.283"
.head 5 -  Top:    1.619"
.head 5 -  Width:  5.1"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbGrupo.nCaso=1
.head 6 -  Set cmbGrupo.sTabla='GRUPOS_MED'
.head 6 -  Set cmbGrupo.sNombre='NOMBRE'
.head 6 -  Set cmbGrupo.sCodigo='COD_GRUPO'
.head 5 +  On SAM_SetFocus
.head 6 -  !
.head 6 -  Call SalPostMsg( hWndItem, CB_SHOWDROPDOWN, TRUE, 0 )
.head 3 -  Background Text: Factura No.
.head 4 -  Resource Id: 20399
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.283"
.head 5 -  Top:    1.952"
.head 5 -  Width:  0.967"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFactura
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 8.283"
.head 6 -  Top:    1.905"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Total Fact
.head 4 -  Resource Id: 20400
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.35"
.head 5 -  Top:    1.952"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTotalFactura
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 11.183"
.head 6 -  Top:    1.905"
.head 6 -  Width:  2.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Descuento:
.head 4 -  Resource Id: 20401
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.783"
.head 5 -  Top:    5.345"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfDescuento
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 11.883"
.head 6 -  Top:    5.321"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_KillFocus
.head 6 -  !
.head 6 -  Call GenerarTotal()
.head 3 +  Data Field: dfImpuesto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 11.883"
.head 6 -  Top:    5.536"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbAgregar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbChAgregarChiquito
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    1.738"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\edit_add15.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set pbAgregar.hWndFila=tbl1.colCategoria
.head 6 -  Set pbAgregar.hWndTabla=tbl1
.head 5 +  On SAM_Click
.head 6 -  Call SalSendClassMessage(SAM_Click,0,0)
.head 6 -  Set tbl1.colUnico=Identity(16)
.head 6 -  Set tbl1.colCantidad = 0
.head 6 -  Set tbl1.colCantidadBonificada = 0
.head 3 +  Pushbutton: pbBorrar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbChBorrarChiquito
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.983"
.head 5 -  Top:    1.738"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\edit_remove15.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set pbBorrar.hWndFila=tbl1.colServicio
.head 6 -  Set pbBorrar.hWndTabla=tbl1
.head 3 +  Data Field: dfTotal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 11.883"
.head 6 -  Top:    5.738"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Total:
.head 4 -  Resource Id: 20402
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.783"
.head 5 -  Top:    5.762"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 20403
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    0.071"
.head 5 -  Width:  13.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 6.75"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Raised-Shadow
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbAplicarPlantilla
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.817"
.head 5 -  Top:    1.762"
.head 5 -  Width:  0.633"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.393"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\ok.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call AplicarPlantillaA()
.head 3 -  Group Box: Datos Generales
.head 4 -  Resource Id: 20404
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    0.155"
.head 5 -  Width:  6.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Observaciones:
.head 4 -  Resource Id: 20405
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.083"
.head 5 -  Top:    0.071"
.head 5 -  Width:  6.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.0"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Datos de Compra
.head 4 -  Resource Id: 12055
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.083"
.head 5 -  Top:    1.155"
.head 5 -  Width:  6.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.083"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 20407
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    2.321"
.head 5 -  Width:  13.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.833"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 +  Child Table: tbl1
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.483"
.head 6 -  Top:    2.405"
.head 6 -  Width:  13.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 2.667"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colUnico
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Correl
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.583"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCategoria
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod Categ.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.617"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  !
.head 8 -  ! Con el codigo de categoria obtener la descripcion de la misma
.head 8 -  Call SqlExists( "
	select
		A.COD_CATEGORIA,
		A.NOMBRE
	from
		CATEG_SERVICIOS A
	where
		A.COD_CATEGORIA=:tbl1.colCategoria
	into
		:colcmbCateg.sCodigos ,
		:colcmbCateg  "
,bExists)
.head 8 -  Call SqlClearImmediate()
.head 8 +  ! If not bExists
.head 9 -  Call SalMessageBox("Categoria  no existe","ERROR",MB_Ok)
.head 9 -  Set tbl1.colCategoria=''
.head 9 -  Set tbl1.colcmbCateg=''
.head 5 +  Column: colcmbCateg
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsCbCodigo
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Categoria
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set colcmbCateg.nCaso=2
.head 8 -  Set colcmbCateg.sTabla='CATEG_SERVICIOS'
.head 8 -  Set colcmbCateg.sNombre='NOMBRE'
.head 8 -  Set colcmbCateg.sCodigo='COD_CATEGORIA'
.head 7 +  On SAM_Validate
.head 8 -  Call SalSendClassMessage(SAM_Validate,0,0)
.head 8 -  !
.head 8 -  ! Una vez seleccionada la categoria desplegar el codigo de la misma
.head 8 -  Set tbl1.colCategoria=tbl1.colcmbCateg.sCodigos
.head 5 +  Column: colServicio
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod. Producto
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.85"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  !
.head 8 -  ! -----Luego de especificar el codigo de producto, obtener su nombre, la presentacion y
!--------servicio padre en caso de ser producto compuesto
.head 8 -  !
.head 8 -  Call SqlExists( "
	select
		A.NOMBRE,
		C.NOMBRE,
		A.COSTO_REAL
		
	from
		SERVICIOS 		A,
		TIPOS_PRESEN 	  	C
	where
		A.COD_SERVICIO 		= :tbl1.colServicio 		and
		A.COD_CATEGORIA	= :tbl1.colCategoria 		and
		A.EN_USO 		= 1 			and
		A.COD_PRESEN 		= C.COD_PRESEN
  	into
		:colcmbServi,
		:colUnidad,
		:colCosto
		"
,bExists)
.head 8 -  Call SqlClearImmediate()
.head 8 -  !
.head 8 -  ! ---------Popular la lista de precios
.head 8 -  !
.head 8 +  ! If not bExists
.head 9 -  Call SalMessageBox("Servicio no existe o ha sido desactivado","ERROR",MB_Ok)
.head 9 -  Set tbl1.colServicio=''
.head 9 -  Set tbl1.colcmbServi=''
.head 5 +  Column: colcmbServi
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsCbCodigoFiltrado
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Producto
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.533"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set colcmbServi.nCaso=2
.head 8 -  Set colcmbServi.sTabla='SERVICIOS'
.head 8 -  Set colcmbServi.sNombre='NOMBRE'
.head 8 -  Set colcmbServi.sCodigo='COD_SERVICIO'
.head 8 -  Set colcmbServi.sNombreFiltro='EN_USO'
.head 8 -  Set colcmbServi.nValorFiltro=1
.head 7 +  On SAM_DropDown
.head 8 -  !
.head 8 -  ! ---------------Desplegar solo los servicios de la categoria ya especificada
.head 8 -  Call SalListPopulate( tbl1.colcmbServi, hSql1, "select
					A.NOMBRE
				from
					SERVICIOS 	   A
				where
					A.COD_CATEGORIA =:tbl1.colCategoria and
					A.EN_USO	   = 1"  )
.head 8 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 7 +  On SAM_Validate
.head 8 -  !
.head 8 -  ! Al seleccionar el  servicio del combo(y ya especificada la categoria) se
procede a cargar la presentacion , tambien
verifica que exista el codigo de servicio.
.head 8 -  !
.head 8 +  If SalListSelectString(hWndItem,-1,MyValue)=LB_Err
.head 9 -  Call SalMessageBox("Dato no existe en la lista","ERROR",MB_Ok)
.head 9 -  Call SalSetFocus(hWndItem)
.head 9 -  Return FALSE
.head 8 +  Else
.head 9 -  Call SqlPrepareAndExecute(hSql1,"
			select
				cod_servicio
			from
				servicios
			where
				cod_categoria	=:tbl1.colCategoria	and
				nombre		=:tbl1.colcmbServi 	and
				en_uso 		= 1
			into
				:tbl1.colcmbServi.sCodigos")
.head 9 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 8 -  !
.head 8 -  Set tbl1.colServicio=tbl1.colcmbServi.sCodigos
.head 8 -  !
.head 8 -  Call SqlImmediate( "select
			C.NOMBRE,
			A.COSTO_REAL
		from
			SERVICIOS  		A,
			TIPOS_PRESEN 	  	C
		where
			A.COD_SERVICIO 		= :tbl1.colServicio 	and
			A.COD_CATEGORIA	=:tbl1.colCategoria  and
			A.EN_USO 		= 1 		and
			A.COD_PRESEN 		= C.COD_PRESEN
		into
			:colUnidad,
			:colCosto" )
.head 8 -  Call SqlClearImmediate()
.head 8 -  !
.head 5 +  Column: colUnidad
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Presentacion
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.317"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCosto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Costo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.25"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###0000000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  !
.head 8 -  ! -----Actualizar el subtotal
.head 8 -  Set tbl1.colSubTotal = tbl1.colCosto * tbl1.colCantidad
.head 8 -  Call GenerarTotal()
.head 5 +  Column: colCantidad
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cantidad
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.917"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  !
.head 8 -  ! Actualizar el subtotal
.head 8 -  Set tbl1.colSubTotal=tbl1.colCosto*tbl1.colCantidad
.head 8 -  Call GenerarTotal()
.head 8 -  ! Set tbl1.colFecha=FechaHoy(2)
.head 5 +  Column: colCantidadBonificada
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Bonificación
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.083"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colSubTotal
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: SubTotal
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.267"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 5 +  Column: colFechaVenc
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Date/Time
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.467"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On MU_REVISAR
.head 8 -  !
.head 8 -  Return TRUE
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 -  Message Actions
.head 3 +  Check Box: cbImpto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.783"
.head 5 -  Top:    5.488"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call GenerarTotal()
.head 3 +  Pushbutton: pbBuscar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.583"
.head 5 -  Top:    1.738"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F1
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\info.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set sRegresaServ= ''
.head 6 -  Set sRegresaCateg=''
.head 6 +  If SalIsNull(tbl1.colUnico)
.head 7 -  !
.head 7 -  Return FALSE
.head 6 -  Call SalModalDialog( dlgConsultaServicios, hWndForm,2,sRegresaServ, sRegresaCateg)
.head 6 +  If sRegresaCateg !='' and sRegresaServ !=''
.head 7 -  ! Call Limpiar()
.head 7 -  Set tbl1.colServicio=sRegresaServ
.head 7 -  Set tbl1.colCategoria=sRegresaCateg
.head 7 -  Call SalSendMsg(tbl1.colCategoria, SAM_Validate,0,0)
.head 7 -  Call SalSendMsg(tbl1.colServicio, SAM_Validate,0,0)
.head 7 +  ! If cmbCateg.sCodigos='6' or cmbCateg.sCodigos='11'
.head 8 -  Call DeshabilitarTodo(  )
.head 3 +  Pushbutton: pbNuevoServicio
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.183"
.head 5 -  Top:    1.738"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\2rightarrow.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalCreateWindow( frmServicios, hWndForm )
.head 3 -  Frame
.head 4 -  Resource Id: 64431
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.683"
.head 5 -  Top:    5.238"
.head 5 -  Width:  3.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.833"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: dd/MM/yy
.head 4 -  Resource Id: 58354
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.583"
.head 5 -  Top:    0.952"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbBodega
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.583"
.head 5 -  Top:    0.655"
.head 5 -  Width:  5.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbBodega.nCaso=1
.head 6 -  Set cmbBodega.sTabla='BODEGAS'
.head 6 -  Set cmbBodega.sNombre='NOMBRE'
.head 6 -  Set cmbBodega.sCodigo='COD_BODEGA'
.head 5 +  On SAM_SetFocus
.head 6 -  !
.head 6 -  Call SalPostMsg( hWndItem, CB_SHOWDROPDOWN, TRUE, 0 )
.head 3 +  Check Box: cbCredito
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Compra al Crédito
.head 4 -  Window Location and Size
.head 5 -  Left: 11.383"
.head 5 -  Top:    1.321"
.head 5 -  Width:  1.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 2 +  Functions
.head 3 +  Function: ResetControls
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Window Handle: hWndChild
.head 5 -  Number: nHwndChild
.head 5 -  Number: nType
.head 4 +  Actions
.head 5 -  Set hWndChild = SalGetFirstChild( hWndForm, TYPE_Any )
.head 5 +  While hWndChild != hWndNULL
.head 6 -  Set nHwndChild = SalWindowHandleToNumber( hWndChild )
.head 6 -  Set nType = SalGetType( hWndChild )
.head 6 +  If nType = TYPE_ChildTable
.head 7 -  Call SalTblReset( hWndChild )
.head 6 +  Else If nType = TYPE_DataField or nType = TYPE_MultilineText or nType = TYPE_CheckBox or nType = TYPE_ComboBox
.head 7 -  Call SalClearField( hWndChild )
.head 6 -  Set hWndChild = SalGetNextChild( hWndChild, TYPE_Any )
.head 5 -  !
.head 5 -  !
.head 3 +  Function: LoadDefaultValues
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  !
.head 5 -  ! Call ccFecha.SetSystemTime(GDT_VALID, SalDateCurrent ( ))
.head 5 -  Set dfImpuesto = 0
.head 5 -  Set dfDescuento = 0
.head 5 -  Set dfTotalFactura = 0
.head 5 -  Set dfCodigo=SalNumberToStrX(Identity( 13 ),0)
.head 5 -  Set bNuevaEntrada = TRUE
.head 3 +  Function: CargarDatosEntrada
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  !
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  !
.head 5 -  ! ----------Cargar los datos generales de la entrada(encabezado)
.head 5 -  !
.head 5 -  Call SqlPrepareAndExecute(hSql1,"
select
	COD_BODEGA,
	FECHA,
	OBS,
	COD_TIPO_ENTRADA,
	INCLUYE_COSTOS,
	FACTURA,
	COD_GRUPO,
	TOTAL_FACTURA,
	DESCUENTO,
	ORD_COMPRA,
	ISV,
	ESTADO
from
	ENTRADAS
where
	COD_ENTRADA=:dfCodigo
into
	:cmbBodega.nCodigo,
	:dfFechaIngreso,
	:mlObs,
	:cmbTIPO_ENTRADA.nCodigo,
	:cbCredito,
	:dfFactura,
	:cmbGrupo.nCodigo,
	:dfTotalFactura,
	:dfDescuento,
	:dfOrden,
	:dfImpuesto,
	:nEstado")
.head 5 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  !
.head 5 -  Set sSQL = "SELECT
		U.NOMBRE
	FROM
		USUARIOS 		U,
		ENTRADAS 		E
	WHERE
		E.COD_ENTRADA 	= :dfCodigo       AND
		U.COD_USU 	= E.CREADO_POR
	INTO
		:dfCreadoPor"
.head 5 -  Call SqlImmediate ( sSQL )
.head 5 -  Call SqlClearImmediate ()
.head 5 -  !
.head 5 -  Set sSQL = "SELECT
		U.NOMBRE
	FROM
		USUARIOS 		U,
		ENTRADAS 		E
	WHERE
		E.COD_ENTRADA 	= :dfCodigo        AND
		U.COD_USU 	= E.MODIFICADO_POR
	INTO
		:dfModificadoPor"
.head 5 -  Call SqlImmediate ( sSQL )
.head 5 -  Call SqlClearImmediate ()
.head 5 -  !
.head 5 +  Select Case nEstado
.head 6 +  Case 0
.head 7 -  Set dfEstado='EN PROCESO'
.head 7 -  Break
.head 6 +  Case 1
.head 7 -  Set dfEstado='CERRADA'
.head 7 -  Break
.head 6 +  Case 2
.head 7 -  Set dfEstado='ANULADA'
.head 7 -  Break
.head 5 -  !
.head 5 -  Call cmbBodega.Actualizar()
.head 5 -  !
.head 5 -  Call cmbTIPO_ENTRADA.Actualizar()
.head 5 -  Call HabilitarObjetos(  )
.head 5 -  !
.head 5 -  Call cmbGrupo.Actualizar()
.head 5 -  !
.head 5 -  ! Call ccFecha.SetSystemTime(GDT_VALID, dfFechaIngreso)
.head 5 -  !
.head 5 -  ! Cargar el detalle de la entrada
.head 5 -  !
.head 5 -  Call SalTblPopulate(tbl1,hSql1,"
select
	A.COD_VARIA,
	C.COD_CATEGORIA,
                C.NOMBRE,
	A.COD_MEDICAMENTO,
	B.NOMBRE,
	D.NOMBRE,
	A.COSTO,
	A.CANTIDAD,
	A.CANTIDAD_BONIFICADA,
	A.COSTO*A.CANTIDAD,
	convert(VARCHAR(10),A.FECHA_VENC,104)
from
	DETALLE_ENTRADAS 	A,
	SERVICIOS		B,
	CATEG_SERVICIOS 	C,
	TIPOS_PRESEN 		D
where
	A.COD_ENTRADA		=	:dfCodigo			AND
	A.COD_MEDICAMENTO 	=	B.COD_SERVICIO		AND
	A.COD_CATEGORIA	=	B.COD_CATEGORIA	AND
	B.COD_CATEGORIA	=	C.COD_CATEGORIA 	AND
	D.COD_PRESEN		=	B.COD_PRESEN	    
order by
	B.NOMBRE
",TBL_FillAll)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  !
.head 5 -  !
.head 5 -  Set dfTotal= SalTblColumnSum( tbl1, 7, 0, 0 ) + dfImpuesto - dfDescuento
.head 5 +  If SalIsNull(dfImpuesto) or dfImpuesto = 0
.head 6 -  !
.head 6 -  Set cbImpto = 0
.head 5 +  Else
.head 6 -  Set cbImpto = 1
.head 5 -  Set dfTotal = SalTblColumnSum( tbl1, 10, 0, 0 )  - dfDescuento + dfImpuesto
.head 5 -  !
.head 5 -  !
.head 5 -  Call SalWaitCursor(FALSE)
.head 3 +  Function: GenerarTotal
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nSubTotal
.head 4 +  Actions
.head 5 -  !
.head 5 +  If SalIsNull(dfDescuento)
.head 6 -  !
.head 6 -  Set dfDescuento = 0
.head 5 -  !
.head 5 -  Set nSubTotal = SalTblColumnSum( tbl1, 10, 0, 0 )  - dfDescuento
.head 5 -  !
.head 5 +  If SalIsButtonChecked(cbImpto)
.head 6 -  !
.head 6 -  Set dfImpuesto = nSubTotal * (nISV / 100)
.head 5 +  Else
.head 6 -  Set dfImpuesto = 0
.head 5 -  !
.head 5 -  Set dfTotal = nSubTotal + dfImpuesto
.head 3 +  Function: VerificarSumarizada
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nSumarizada
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SqlImmediate( "SELECT
			sumarizada
		FROM
			partidas
		WHERE
			cod_partida='PENT"||dfCodigo||"'
		INTO
			 :nSumarizada")
.head 5 -  Call SqlClearImmediate( )
.head 5 -  !
.head 5 +  If nSumarizada = 1
.head 6 -  !
.head 6 -  Return TRUE
.head 5 -  !
.head 5 -  Return FALSE
.head 3 +  Function: DoInsert
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"begin tran")
.head 5 -  Call SqlPrepareAndExecute(hSql1,
	"INSERT INTO
		entradas(
			COD_ENTRADA,
			COD_BODEGA,
			FECHA,
			OBS,
			factura,
			cod_grupo,
			TOTAL_FACTURA,
			DESCUENTO,
			PAGADA,
			ORD_COMPRA,
			ISV,
			CREADO_POR,
			COD_TIPO_ENTRADA,
			INCLUYE_COSTOS)
		values(
			:dfCodigo,
			:cmbBodega.nCodigo,
			:dfFechaIngreso,
			:mlObs,
			:dfFactura,
			:cmbGrupo.nCodigo,
			:dfTotalFactura,
			:dfDescuento,
			'NO',
			:dfOrden,
			:dfImpuesto,
			:nUser,
			:cmbTIPO_ENTRADA.nCodigo,
			:cbCredito)")
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  !
.head 5 -  ! -----------Insertar detalle de entrada por factura
.head 5 -  !
.head 5 -  Call SqlPrepare(	hSql1,
		"INSERT INTO
			detalle_entradas(
				COD_VARIA,
				COD_CATEGORIA,
				COD_MEDICAMENTO,
				COD_ENTRADA,
		  		CANTIDAD,
				CANTIDAD_BONIFICADA,
				COSTO,
				FECHA_VENC,
				COD_BODEGA,
				INCLUYE_COSTOS
				)
			VALUES(
				:tbl1.colUnico,
				:tbl1.colCategoria,
				:tbl1.colServicio,
				:dfCodigo,
				:tbl1.colCantidad,
				:tbl1.colCantidadBonificada,
				:tbl1.colCosto,
				:tbl1.colFechaVenc,
				:cmbBodega.nCodigo,
				:cbCredito
				)
")
.head 5 -  Call SalTblDoInserts(tbl1,hSql1,TRUE)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 5 -  ! Call SalDisableWindow(pbGuardar)
.head 5 -  Call SalWaitCursor(FALSE)
.head 3 +  Function: PrepareData
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Boolean: bExistsMedico
.head 5 -  Boolean: bExistsServicio
.head 4 +  Actions
.head 5 -  !
.head 5 -  !
.head 5 -  ! Set dfFechaIngreso = ccFecha.GetSystemTime()
.head 5 -  !
.head 5 -  !
.head 5 -  !
.head 5 -  ! -------Obtener el codigo del usuario que ha creado/modificado la orden
.head 5 -  Set sSQL = "select
		COD_USU
    	from
		USUARIOS
	where
		NOMBRE = :sNombreUsuario
  	into
		:nUser"
.head 5 -  Call SqlImmediate(  sSQL)
.head 5 -  Call SqlClearImmediate( )
.head 5 -  !
.head 5 -  Return TRUE
.head 3 +  Function: DoUpdate
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Date/Time: dtHoy
.head 4 +  Actions
.head 5 -  !
.head 5 +  If nEstado = 0
.head 6 -  !
.head 6 -  Call SalWaitCursor(TRUE)
.head 6 -  Set dtHoy = SalDateCurrent()
.head 6 -  !
.head 6 -  ! Actualizar datos generales (encabezado) de la entrada
.head 6 -  ! NOTA: La bodega no podra ser actualizada, pues implicaria un movimiento (entrada-salida) de todos su detalle
.head 6 -  !
.head 6 -  Call SqlPrepareAndExecute(hSql1,"begin tran")
.head 6 -  Call SqlPrepareAndExecute( hSql1,
"UPDATE
	entradas
 SET
	fecha 		= :dfFechaIngreso,
	cod_tipo_entrada 	= :cmbTIPO_ENTRADA.nCodigo,
	INCLUYE_COSTOS =:cbCredito,
	factura 		= :dfFactura,
	total_factura 	= :dfTotalFactura,
	obs 		= :mlObs,
	descuento 	= :dfDescuento,
	cod_grupo 	= :cmbGrupo.nCodigo,
               ord_compra	=:dfOrden,
	isv		=:dfImpuesto,
	modificado_por	=:nUser,
	fecha_modificacion =:dtHoy
 WHERE
	cod_entrada	=:dfCodigo" )
.head 6 -  !
.head 6 -  ! Actualizar el detalle de la entrada
.head 6 -  ! NOTA: La actualizacion del inventario de la actual bodega se hace por triggers de la tabla DETALLE_ENTRADAS
.head 6 -  ! NOTA: El medicamento/material como tal no podra ser cambiado, solomanente sus costos y cantidades
.head 6 -  !
.head 6 -  Call SqlPrepare(hSql1,"
INSERT INTO
	detalle_entradas (
			COD_VARIA,
			COD_CATEGORIA,
			COD_MEDICAMENTO,
			COD_ENTRADA,
			CANTIDAD,
			CANTIDAD_BONIFICADA,
			COSTO,
			FECHA_VENC,
			COD_BODEGA,
			INCLUYE_COSTOS)
	VALUES	(
			:tbl1.colUnico,
			:tbl1.colCategoria,
			:tbl1.colServicio,
			:dfCodigo,
			:tbl1.colCantidad,
			:tbl1.colCantidadBonificada,
			:tbl1.colCosto,
			:tbl1.colFechaVenc,
			:cmbBodega.nCodigo,
			:cbCredito)")
.head 6 -  Call SalTblDoInserts(tbl1,hSql1,TRUE)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  !
.head 6 -  Call SqlPrepare(hSql1,"UPDATE
			detalle_entradas
		SET
			CANTIDAD		=:tbl1.colCantidad,
			CANTIDAD_BONIFICADA	=:tbl1.colCantidadBonificada,
			COSTO			=:tbl1.colCosto,
			FECHA_VENC		=:tbl1.colFechaVenc
		 WHERE
			cod_varia 		= :tbl1.colUnico")
.head 6 -  Call SalTblDoUpdates(tbl1,hSql1,TRUE)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  !
.head 6 -  Call SqlPrepare(hSql1,"DELETE FROM
			detalle_entradas
		WHERE
			cod_varia = :tbl1.colUnico")
.head 6 -  Call SalTblDoDeletes(tbl1,hSql1,ROW_MarkDeleted)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  !
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 6 -  Call SalWaitCursor(FALSE)
.head 6 -  !
.head 5 +  Else If nEstado = 1
.head 6 -  !
.head 6 -  !
.head 6 -  Call SalMessageBox ("La entrada esta cerrada. No puede actualizarla.","MENSAJE",MB_Ok)
.head 3 +  Function: CerrarEntrada
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SybExecuteProc( hSql6, "CERRAR_ENTRADA'" || dfCodigo || " ' ", STRING_Null)
.head 3 +  Function: VerificarFactura
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Boolean: bExistsFactura
.head 4 +  Actions
.head 5 -  !
.head 5 -  ! Verificar si ya existen compras (entradas) registradas al mismo proveedor con el mismo no. de factura
.head 5 -  !
.head 5 -  Set sSQL = "
		SELECT
			COD_ENTRADA
		FROM
			ENTRADAS
		WHERE
			COD_GRUPO 	= :cmbGrupo.nCodigo AND
			FACTURA 	= :dfFactura	AND
			COD_ENTRADA   	!= :dfCodigo"
.head 5 -  Call SqlExists (sSQL, bExistsFactura)
.head 5 -  Call SqlClearImmediate()
.head 5 -  !
.head 5 +  If bExistsFactura
.head 6 -  !
.head 6 -  Return FALSE
.head 5 -  !
.head 5 -  Return TRUE
.head 3 +  Function: HabilitarObjetos
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 +  If cmbTIPO_ENTRADA = 'COMPRA A PROVEEDOR'
.head 6 -  !
.head 6 -  Call SalEnableWindow(dfOrden)
.head 6 -  Call SalEnableWindow(cmbGrupo)
.head 6 -  Call SalEnableWindow(dfFactura)
.head 6 -  Call SalEnableWindow(dfTotalFactura)
.head 6 -  Call SalEnableWindow(cbCredito)
.head 6 -  !
.head 5 +  Else
.head 6 -  !
.head 6 -  Call SalDisableWindow(dfOrden)
.head 6 -  Call SalDisableWindow(cmbGrupo)
.head 6 -  Call SalDisableWindow(dfFactura)
.head 6 -  Call SalDisableWindow(dfTotalFactura)
.head 6 -  Call SalDisableWindow(cbCredito)
.head 6 -  !
.head 6 -  Call SalClearField(dfOrden)
.head 6 -  Call SalClearField(cmbGrupo)
.head 6 -  Call SalClearField(dfFactura)
.head 6 -  Call SalClearField(dfTotalFactura)
.head 6 -  !
.head 3 +  Function: AplicarPlantillaA
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nSig
.head 5 -  String: sCodCategPlantilla
.head 5 -  String: sCodServicioPlantilla
.head 5 -  Number: nExistenciaPlantilla
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  !
.head 5 -  Call SqlPrepareAndExecute( hSql1, "
			SELECT 
				COD_MEDICAMENTO,
				COD_CATEGORIA,
				EXISTENCIA
			FROM
				INVENTARIO_REAL
			WHERE
				COD_CATEGORIA = '9'
			INTO 
				:sCodServicioPlantilla,
				:sCodCategPlantilla,
				:nExistenciaPlantilla")
.head 5 -  Call SqlFetchNext( hSql1, nSig )
.head 5 +  While nSig!=FETCH_EOF
.head 6 -  !
.head 6 -  Call SalSendMsg(pbAgregar, SAM_Click, 0, 0)
.head 6 -  Set tbl1.colServicio=sCodServicioPlantilla
.head 6 -  Set tbl1.colCategoria=sCodCategPlantilla
.head 6 -  Set tbl1.colCantidad=nExistenciaPlantilla
.head 6 -  Call SalSendMsg(tbl1.colCategoria, SAM_Validate,0,0)
.head 6 -  Call SalSendMsg(tbl1.colServicio, SAM_Validate,0,0)
.head 6 -  Call SalSendMsg(tbl1.colCantidad, SAM_Validate,0,0)
.head 6 -  !
.head 6 -  Call SqlFetchNext( hSql1, nSig )
.head 5 -  !
.head 5 -  Call SalWaitCursor(FALSE)
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  !
.head 3 -  String: sSQL
.head 3 -  Boolean: bExistsEntrada
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 3 -  String: sRegresaEntrada
.head 3 -  Boolean: bNuevaEntrada
.head 3 -  Number: nUser
.head 3 -  Number: nEstado
.head 3 -  Number: nCodigo
.head 3 -  !
.head 3 -  String: sRegresaCateg
.head 3 -  String: sRegresaServ
.head 3 -  Number: nISV
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  ! Set dfFechaIngreso=FechaHoy(2)
.head 4 -  Set bNuevaEntrada=FALSE
.head 4 -  Call SalSetFocus(pbNuevaEntrada)
.head 4 -  Call SalCenterWindow( hWndForm )
.head 4 -  Set nISV = GetParameterNValue( 'ISV', 1 )
.head 4 -  Call SalSetWindowText( cbImpto, SalNumberToStrX( nISV, 1 ) || '%')
.head 3 +  On MU_BORRAR
.head 4 -  !
.head 4 +  If SalStrLowerX(sNombreUsuario) = SalStrLowerX(dfCreadoPor)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"begin tran")
.head 5 -  Call SqlPrepareAndExecute( hSql1, "delete from detalle_entradas where cod_entrada=:dfCodigo" )
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  Call SqlPrepareAndExecute( hSql1, "delete from entradas where cod_entrada=:dfCodigo" )
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 4 +  Else
.head 5 -  Call SalMessageBox("Usted no puede borrar esta entrada","ERROR",MB_Ok)
.head 3 +  On SAM_Destroy
.head 4 -  !
.head 4 +  If bNuevaEntrada
.head 5 -  !
.head 5 -  Set sSQL = "   SELECT
			*
		FROM
			ENTRADAS
		WHERE
			COD_ENTRADA   =   :dfCodigo"
.head 5 -  Call SqlExists (sSQL, bExistsEntrada)
.head 5 -  Call SqlClearImmediate()
.head 5 +  If not bExistsEntrada
.head 6 -  !
.head 6 -  Set nCodigo = SalStrToNumber ( dfCodigo )
.head 6 -  Set sSQL = 'DELETE FROM
		 IDENTITYS
	WHERE
		cod_tabla = 13 AND
		MAXIMO = :nCodigo'
.head 6 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  !
.head 1 +  Form Window: frmAutorizacionPago
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Autorización y Compromiso de Pago
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  9.967"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 8.167"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.679"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Charcoal
.head 3 +  Contents
.head 4 +  Pushbutton: pbNuevo
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.283"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.65"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.55"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filenew.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Single
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 +  If bNuevaAutorizacion
.head 8 -  !
.head 8 -  Set sSQL = "   SELECT
			*
		FROM
			AUTORIZACION_PAGO
		WHERE
			COD_AUTORIZACION   =   :dfCodigo"
.head 8 -  Call SqlExists (sSQL, bExistsAutorizacion)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If SalMessageBox("Ha seleccionado crear una nueva autorización. Desea guardar los cambios antes de continuar?","Atencion",MB_YesNo)=IDYES
.head 9 -  !
.head 9 -  Call SalSendMsg (pbGuardar, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  !
.head 9 +  If not bExistsAutorizacion
.head 10 -  !
.head 10 -  Set sSQL = 'DELETE FROM
		 IDENTITYS 
	WHERE 
		cod_tabla = 711 AND
		MAXIMO = :dfCodigo'
.head 10 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 10 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 10 -  !
.head 10 -  Call ResetControls()
.head 10 -  Call LoadDefaultValues()
.head 10 -  ! !
.head 10 -  Call SalDisableWindow ( dfNombre )
.head 10 -  Call SalSetFocus( dfCodigo )
.head 7 +  Else
.head 8 -  !
.head 8 -  Call SalClearField(dfCreadoPor)
.head 8 -  Call SalClearField(dfModificadoPor)
.head 8 -  Call ResetControls()
.head 8 -  Call LoadDefaultValues()
.head 8 -  ! !
.head 8 -  Call SalDisableWindow ( dfNombre )
.head 8 -  Call SalSetFocus( dfCodigo )
.head 4 +  Pushbutton: pbGuardar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.983"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.65"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.548"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filesave.bmp
.head 5 -  Picture Transparent Color: White
.head 5 -  Image Style: Single
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 -  !
.head 7 -  !
.head 7 +  If not RevisarFormaLlena() 
.head 8 -  !
.head 8 -  Return FALSE
.head 7 +  If SalIsNull(dfTelCasa) and SalIsNull(dfTelTrabajo) and SalIsNull(dfTelCelular) and SalIsNull(dfTelFax)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe especificar al menos un teléfono.", "ERROR", MB_Ok|MB_IconExclamation )
.head 8 -  Call SalSetFocus(dfTelCasa)
.head 8 -  Return FALSE
.head 7 +  If SalIsNull(dfCodEmpleado) and SalIsButtonChecked(cbEmpleado)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe especificar el código de empleado.", "ERROR", MB_Ok|MB_IconExclamation )
.head 8 -  Call SalSetFocus(dfCodEmpleado)
.head 8 -  Return FALSE
.head 7 -  !
.head 7 -  ! --------------Verificar si la autorizacion ya existe
.head 7 -  Set sSQL = "   SELECT
			*
		FROM
			AUTORIZACION_PAGO
		WHERE
			COD_AUTORIZACION   =   :dfCodigo"
.head 7 -  Call SqlExists (sSQL, bExistsAutorizacion)
.head 7 -  Call SqlClearImmediate()
.head 7 -  !
.head 7 -  ! --------Preparar los datos a guardar
.head 7 +  If not PrepareData()
.head 8 -  Return FALSE
.head 7 -  !
.head 7 -  ! ----------Ejecutar la actualizacion o insercion
.head 7 +  If bExistsAutorizacion
.head 8 -  !
.head 8 -  Call DoUpdate(  )
.head 7 +  Else
.head 8 -  !
.head 8 -  Call DoInsert(  )
.head 7 -  !
.head 7 -  Set bNuevaAutorizacion=FALSE
.head 7 -  !
.head 7 -  Call CargarDatos()
.head 7 -  !
.head 7 -  Return TRUE
.head 4 +  Data Field: dfModificadoPor
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatDataField
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 4.583"
.head 7 -  Top:    0.325"
.head 7 -  Width:  1.9"
.head 7 -  Width Editable? Yes
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Yes
.head 6 -  Visible? Yes
.head 6 -  Border? Yes
.head 6 -  Justify: Center
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Font Name: Default
.head 6 -  Font Size: Default
.head 6 -  Font Enhancement: Bold
.head 6 -  Text Color: White
.head 6 -  Background Color: Default
.head 6 -  Input Mask: Unformatted
.head 5 -  Message Actions
.head 4 +  Data Field: dfCreadoPor
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatDataField
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 4.583"
.head 7 -  Top:    0.012"
.head 7 -  Width:  1.9"
.head 7 -  Width Editable? Yes
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Yes
.head 6 -  Visible? Yes
.head 6 -  Border? Yes
.head 6 -  Justify: Center
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Font Name: Default
.head 6 -  Font Size: Default
.head 6 -  Font Enhancement: Bold
.head 6 -  Text Color: White
.head 6 -  Background Color: Default
.head 6 -  Input Mask: Unformatted
.head 5 -  Message Actions
.head 4 -  Background Text: Creado por
.head 5 -  Resource Id: 1303
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 3.183"
.head 6 -  Top:    0.095"
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: White
.head 5 -  Background Color: Default
.head 4 -  Background Text: Modificado por:
.head 5 -  Resource Id: 1304
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 2.683"
.head 6 -  Top:    0.405"
.head 6 -  Width:  1.867"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: White
.head 5 -  Background Color: Default
.head 4 +  Pushbutton: pbBuscarOrden
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.683"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.65"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.548"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: F3
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 +  If bNuevaAutorizacion
.head 8 -  !
.head 8 -  Set sSQL = "   SELECT
			*
		FROM
			AUTORIZACION_PAGO
		WHERE
			COD_AUTORIZACION   =   :dfCodigo"
.head 8 -  Call SqlExists (sSQL, bExistsAutorizacion)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If SalMessageBox("Ha seleccionado crear una nueva autorizacion. Desea guardar los cambios antes de salir?","Atencion",MB_YesNo)=IDYES
.head 9 -  !
.head 9 -  Call SalSendMsg (pbGuardar, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  !
.head 9 +  If not bExistsAutorizacion
.head 10 -  !
.head 10 -  Set sSQL = 'DELETE FROM
		 IDENTITYS 
	WHERE 
		cod_tabla = 711 AND
		MAXIMO = :dfCodigo'
.head 10 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 10 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 10 -  !
.head 10 -  Set bNuevaAutorizacion=FALSE
.head 10 -  Set nRegresaAutorizacion= NUMBER_Null
.head 10 -  Call SalModalDialog( dlgConsultaAutorizacionPago, hWndForm,2, nRegresaAutorizacion)
.head 10 +  If nRegresaAutorizacion != NUMBER_Null
.head 11 -  !
.head 11 -  Set dfCodigo =nRegresaAutorizacion
.head 11 -  Call CargarDatos()
.head 7 +  Else
.head 8 -  !
.head 8 -  Set bNuevaAutorizacion=FALSE
.head 8 -  Set nRegresaAutorizacion= NUMBER_Null
.head 8 -  Call SalModalDialog( dlgConsultaAutorizacionPago, hWndForm, 2, nRegresaAutorizacion)
.head 8 +  If nRegresaAutorizacion != NUMBER_Null
.head 9 -  !
.head 9 -  Set dfCodigo =nRegresaAutorizacion
.head 9 -  Call CargarDatos()
.head 4 +  Pushbutton: pbImprimir
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 6.583"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.65"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.548"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Set params[0] = SalNumberToStrX(dfCodigo,0)
.head 7 -  Set strRepTitle = " Autorización y Compromiso de Pago"
.head 7 -  Set strReportName = strRepPath||"\\AutorizacionPago.rpt"
.head 7 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 2 +  Contents
.head 3 -  Frame
.head 4 -  Resource Id: 1282
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    0.155"
.head 5 -  Width:  9.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 6.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Raised-Shadow
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbTipoHabitacion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.183"
.head 5 -  Top:    0.619"
.head 5 -  Width:  2.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.726"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbTipoHabitacion.nCaso=1
.head 6 -  Set cmbTipoHabitacion.sTabla='TIPO_HABITACION'
.head 6 -  Set cmbTipoHabitacion.sNombre='DESC_TIPO_HABITACION'
.head 6 -  Set cmbTipoHabitacion.sCodigo='COD_TIPO_HABITACION'
.head 3 -  Background Text: No. Autorización
.head 4 -  Resource Id: 1283
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.45"
.head 5 -  Top:    0.452"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Tipo de Habitación
.head 4 -  Resource Id: 17232
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.117"
.head 5 -  Top:    0.393"
.head 5 -  Width:  2.867"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Fecha de Emision
.head 4 -  Resource Id: 1284
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.05"
.head 5 -  Top:    0.452"
.head 5 -  Width:  4.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Paciente
.head 4 -  Resource Id: 1285
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.25"
.head 5 -  Top:    1.476"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCodigo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.45"
.head 6 -  Top:    0.595"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Center
.head 5 -  Format: #0
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: 3D Face Color
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Custom Control: ccFecha
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name: user32.dll
.head 5 -  MS Windows Class Name: SysDateTimePick32
.head 5 -  Style:  0x50000004
.head 5 -  ExStyle:  0x00000000
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 2.05"
.head 6 -  Top:    0.619"
.head 6 -  Width:  4.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? No
.head 5 -  Etched Border? No
.head 5 -  Hollow? No
.head 5 -  Vertical Scroll? No
.head 5 -  Horizontal Scroll? No
.head 5 -  Tab Stop? None
.head 5 -  Tile To Parent? No
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Data Field: dfPaciente
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.35"
.head 6 -  Top:    1.345"
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.31"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Call ActualizarPaciente()
.head 3 +  Data Field: dfPacienteCorrel
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.65"
.head 6 -  Top:    1.345"
.head 6 -  Width:  0.5"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.31"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 +  Data Field: dfNombre
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.15"
.head 6 -  Top:    1.345"
.head 6 -  Width:  5.033"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.298"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Group Box: Datos Paciente
.head 4 -  Resource Id: 1286
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.25"
.head 5 -  Top:    1.071"
.head 5 -  Width:  8.833"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.833"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Datos Generales
.head 4 -  Resource Id: 1287
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.25"
.head 5 -  Top:    0.179"
.head 5 -  Width:  8.833"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.833"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbBuscarPaciente
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.25"
.head 5 -  Top:    1.345"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: F1
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\access.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set sRegresaPac=''
.head 6 -  Set sRegresaCor=''
.head 6 -  Call SalModalDialog( dlgConsultaPacientesO, hWndForm,sRegresaPac,sRegresaCor, 1, 1, 1 )
.head 6 +  If sRegresaPac!=''
.head 7 -  Set dfPaciente 		=sRegresaPac
.head 7 -  Set dfPacienteCorrel 	=sRegresaCor
.head 7 -  Call ActualizarPaciente()
.head 3 +  Check Box: cbEmpleado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Responde Empleado
.head 4 -  Window Location and Size
.head 5 -  Left: 5.183"
.head 5 -  Top:    2.238"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call SalClearField (dfCodEmpleado)
.head 6 +  If SalIsButtonChecked( cbEmpleado)
.head 7 -  !
.head 7 -  Call SalEnableWindow( dfCodEmpleado)
.head 6 +  Else
.head 7 -  !
.head 7 -  Call SalDisableWindow (dfCodEmpleado)
.head 3 +  Data Field: dfCodEmpleado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.317"
.head 6 -  Top:    2.262"
.head 6 -  Width:  0.867"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Yes
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  !
.head 6 -  Call SalFmtGetPicture ( dfCodEmpleado, sPicture )
.head 6 -  Call SalMessageBox ( sPicture, "Mensaje", MB_Ok )
.head 6 -  Call ActualizarEmpleado()
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Pushbutton: pbBuscarEmpleado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.25"
.head 5 -  Top:    2.05"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: 14
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\mac.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Set nRegresaEmpleado = NUMBER_Null
.head 6 -  Call SalModalDialog( dlgConsultaEmpleados, hWndForm,nRegresaEmpleado, 1)
.head 6 +  If nRegresaEmpleado != NUMBER_Null
.head 7 -  Set dfCodEmpleado	=nRegresaEmpleado
.head 7 -  Call ActualizarEmpleado()
.head 3 +  Data Field: dfNomResponde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.383"
.head 6 -  Top:    2.571"
.head 6 -  Width:  7.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  Background Text: Identidad
.head 4 -  Resource Id: 10803
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.517"
.head 5 -  Top:    2.869"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfIdentidad
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.383"
.head 6 -  Top:    2.845"
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  Background Text: Fecha Nacimiento
.head 4 -  Resource Id: 10808
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.317"
.head 5 -  Top:    2.869"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaNac
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.983"
.head 6 -  Top:    2.845"
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Nacionalidad
.head 4 -  Resource Id: 10809
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    3.143"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfNacionalidad
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.383"
.head 6 -  Top:    3.119"
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  Background Text: Pasaporte
.head 4 -  Resource Id: 10807
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.083"
.head 5 -  Top:    3.143"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfPasaporte
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.983"
.head 6 -  Top:    3.119"
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Profesión u oficio
.head 4 -  Resource Id: 10805
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    3.417"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.321"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfProfesion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.383"
.head 6 -  Top:    3.393"
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  Background Text: E-Mail
.head 4 -  Resource Id: 10810
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.15"
.head 5 -  Top:    3.417"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCorreo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.983"
.head 6 -  Top:    3.393"
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Lugar de Trabajo
.head 4 -  Resource Id: 1288
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    3.786"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Multiline Field: mlLugarTrabajo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: mlBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 254
.head 5 -  String Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Border? Yes
.head 5 -  Word Wrap? Yes
.head 5 -  Vertical Scroll? Yes
.head 5 -  Window Location and Size
.head 6 -  Left: 0.45"
.head 6 -  Top:    3.988"
.head 6 -  Width:  3.233"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Message Actions
.head 3 -  Group Box: Datos de quien responde
.head 4 -  Resource Id: 1289
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    1.988"
.head 5 -  Width:  8.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 4.333"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Nombre
.head 4 -  Resource Id: 1290
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    2.56"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Estado Civil
.head 4 -  Resource Id: 1296
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.783"
.head 5 -  Top:    3.821"
.head 5 -  Width:  1.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.333"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Radio Button: rbSoltero
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Soltero(a)
.head 4 -  Window Location and Size
.head 5 -  Left: 3.983"
.head 5 -  Top:    4.071"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbCasado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Casado(a)
.head 4 -  Window Location and Size
.head 5 -  Left: 3.983"
.head 5 -  Top:    4.321"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbUnion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Unión Libre
.head 4 -  Window Location and Size
.head 5 -  Left: 3.983"
.head 5 -  Top:    4.571"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbDivorciado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Divorciado(a)
.head 4 -  Window Location and Size
.head 5 -  Left: 3.983"
.head 5 -  Top:    4.821"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 -  Background Text: Domicilio
.head 4 -  Resource Id: 1297
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.75"
.head 5 -  Top:    4.036"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTelCasa
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.65"
.head 6 -  Top:    4.012"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Tel. Trabajo
.head 4 -  Resource Id: 1298
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.65"
.head 5 -  Top:    4.286"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTelTrabajo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.65"
.head 6 -  Top:    4.262"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Celular
.head 4 -  Resource Id: 1299
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.95"
.head 5 -  Top:    4.536"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTelCelular
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.65"
.head 6 -  Top:    4.512"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Fax
.head 4 -  Resource Id: 1300
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.15"
.head 5 -  Top:    4.786"
.head 5 -  Width:  0.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTelFax
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.65"
.head 6 -  Top:    4.762"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Group Box: Teléfonos
.head 4 -  Resource Id: 1301
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.65"
.head 5 -  Top:    3.821"
.head 5 -  Width:  3.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.31"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Dirección
.head 4 -  Resource Id: 1302
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    5.226"
.head 5 -  Width:  0.833"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Multiline Field: mlDomicilio
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: mlBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 254
.head 5 -  String Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Border? Yes
.head 5 -  Word Wrap? Yes
.head 5 -  Vertical Scroll? Yes
.head 5 -  Window Location and Size
.head 6 -  Left: 0.517"
.head 6 -  Top:    5.369"
.head 6 -  Width:  8.267"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.786"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFecha
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.683"
.head 6 -  Top:    0.988"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 2 +  Functions
.head 3 +  Function: ActualizarPaciente
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Boolean: bExistsPacient
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set sSQL = "select
		A.PRIMER_NOM + ' ' +A.SEGUNDO_NOM + ' ' + A.PRIMER_APE  + ' ' + A.SEGUNDO_APE
    	from
		PACIENTES A
	where
		A.COD_PACIENTE  	=:dfPaciente  and
		A.CORREL_PACIENTE	=:dfPacienteCorrel and
		A.ESTADO_PAC != 1
  	into
		:dfNombre"
.head 5 -  Call SqlExists(  sSQL, bExistsPacient)
.head 5 -  Call SqlClearImmediate( )
.head 5 +  If not bExistsPacient
.head 6 -  Call SalMessageBox( "Codigo inválido" , "Error", MB_Ok )
.head 6 -  Set dfPaciente=''
.head 6 -  Set dfPacienteCorrel = ''
.head 6 -  Call SalSetFocus(dfPaciente)
.head 6 -  Return FALSE
.head 5 -  !
.head 5 -  Return TRUE
.head 3 +  Function: ResetControls
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Window Handle: hWndChild
.head 5 -  Number: nHwndChild
.head 5 -  Number: nType
.head 4 +  Actions
.head 5 -  Set hWndChild = SalGetFirstChild( hWndForm, TYPE_Any )
.head 5 +  While hWndChild != hWndNULL
.head 6 -  Set nHwndChild = SalWindowHandleToNumber( hWndChild )
.head 6 -  Set nType = SalGetType( hWndChild )
.head 6 +  If nType = TYPE_ChildTable
.head 7 -  Call SalTblReset( hWndChild )
.head 6 +  Else If nType = TYPE_DataField or nType = TYPE_MultilineText or nType = TYPE_CheckBox or nType = TYPE_ComboBox
.head 7 -  Call SalClearField( hWndChild )
.head 6 -  Set hWndChild = SalGetNextChild( hWndChild, TYPE_Any )
.head 5 -  !
.head 5 -  !
.head 3 +  Function: LoadDefaultValues
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  !
.head 5 -  Call ccFecha.SetSystemTime(GDT_VALID, SalDateCurrent ( ))
.head 5 -  Set dfCodigo = Identity(711)
.head 5 -  Set bNuevaAutorizacion = TRUE
.head 5 -  Set cbEmpleado = FALSE
.head 5 -  Call SalSendMsg(cbEmpleado, SAM_Click, 0, 0)
.head 5 -  !
.head 3 +  Function: ActualizarEmpleado
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SqlImmediate ("SELECT
			 E.PRIMER_NOM + ' ' + E.SEGUNDO_NOM + ' ' +  E.PRIMER_APE + ' ' + E.SEGUNDO_APE
		FROM
    			EMPLEADOS E
		WHERE
			COD_EMPLEADO = :dfCodEmpleado
		INTO
			:dfNomResponde
	")
.head 5 -  Call SqlClearImmediate()
.head 3 +  Function: DoInsert
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Set sSQL = "INSERT INTO
		AUTORIZACION_PAGO
			(
    				COD_AUTORIZACION,
    				FECHA_EMISION, 
				COD_TIPO_HABITACION,       			
				COD_PACIENTE,
        				CORREL_PACIENTE,        				
				NOMBRE,
				IDENTIDAD,
				PASAPORTE,
				FECHA_NACIMIENTO,
				NACIONALIDAD,
				PROFESION,
				ESTADO_CIVIL,
				DIRECCION,
				TEL_CASA,
				TEL_TRAB,
				TEL_CELULAR,
				TEL_FAX,
				CORREO,
				LUGAR_TRABAJO,			
				ES_EMPLEADO,
				COD_EMPLEADO,
				CREADO_POR				
			)
		VALUES
			(
				:dfCodigo,
				:dfFecha,	
				:cmbTipoHabitacion.nCodigo,		
				:dfPaciente,
				:dfPacienteCorrel,
				:dfNomResponde,
				:dfIdentidad,
				:dfPasaporte,
				:dfFechaNac,
				:dfNacionalidad,
				:dfProfesion,
				:nEstadoCivil,
				:mlDomicilio,
				:dfTelCasa,
				:dfTelTrabajo,
				:dfTelCelular,
				:dfTelFax,
				:dfCorreo,
				:mlLugarTrabajo,
				:cbEmpleado,
				:dfCodEmpleado,
				:nUser
									
			)"
.head 5 -  Call SqlImmediate (sSQL)
.head 5 -  Call SqlClearImmediate ()
.head 3 +  Function: DoUpdate
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Date/Time: dtHoy
.head 4 +  Actions
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  Set dtHoy = SalDateCurrent()
.head 5 -  Set sSQL = 'UPDATE
		AUTORIZACION_PAGO
	SET
		FECHA_EMISION                     	=	:dfFecha,
		COD_TIPO_HABITACION		=	:cmbTipoHabitacion.nCodigo,
		COD_PACIENTE              		=	:dfPaciente,
    		CORREL_PACIENTE           		=	:dfPacienteCorrel,
		NOMBRE				=	:dfNomResponde,
		IDENTIDAD			=	:dfIdentidad,
		PASAPORTE			=	:dfPasaporte,
		FECHA_NACIMIENTO		=	:dfFechaNac,
		NACIONALIDAD			=	:dfNacionalidad,
		PROFESION			=	:dfProfesion,
		ESTADO_CIVIL			=	:nEstadoCivil,
		DIRECCION			=	:mlDomicilio,
		TEL_CASA			=	:dfTelCasa,
		TEL_TRAB			=	:dfTelTrabajo,
		TEL_CELULAR			=	:dfTelCelular,
		TEL_FAX				=	:dfTelFax,
		CORREO				=	:dfCorreo,
		LUGAR_TRABAJO			=	:mlLugarTrabajo,			
		ES_EMPLEADO			=	:cbEmpleado,
		COD_EMPLEADO			=	:dfCodEmpleado,
		MODIFICADO_POR		=	:nUser,
		FECHA_MODIFICACION		=	:dtHoy
	WHERE
		COD_AUTORIZACION = :dfCodigo'
.head 5 -  Call SqlImmediate( sSQL)
.head 5 -  Call SqlClearImmediate()
.head 5 -  Call SalWaitCursor(FALSE)
.head 3 +  Function: PrepareData
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set dfFecha = ccFecha.GetSystemTime()
.head 5 -  !
.head 5 -  !
.head 5 +  If rbSoltero=TRUE
.head 6 -  Set nEstadoCivil = 0
.head 5 +  If rbCasado=TRUE
.head 6 -  Set nEstadoCivil =1
.head 5 +  If rbDivorciado=TRUE
.head 6 -  Set nEstadoCivil =2
.head 5 +  If rbUnion=TRUE
.head 6 -  Set nEstadoCivil =3
.head 5 -  !
.head 5 -  ! -------Obtener el codigo del usuario que ha creado/modificado la orden
.head 5 -  Set sSQL = "select
		COD_USU
    	from
		USUARIOS
	where
		NOMBRE = :sNombreUsuario
  	into
		:nUser"
.head 5 -  Call SqlImmediate(  sSQL)
.head 5 -  Call SqlClearImmediate( )
.head 5 -  !
.head 5 -  Return TRUE
.head 3 +  Function: CargarDatos
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  Set sSQL = "SELECT
			
        			A.FECHA_EMISION,   
			A.COD_TIPO_HABITACION,     			
			A.COD_PACIENTE,
        			A.CORREL_PACIENTE,
        			P.PRIMER_NOM + ' ' + P.SEGUNDO_NOM + ' ' + P.PRIMER_APE  + ' ' + P.SEGUNDO_APE,
			A.NOMBRE,
			A.IDENTIDAD,
			A.NACIONALIDAD,
			A.PASAPORTE,
			A.FECHA_NACIMIENTO,
			A.ESTADO_CIVIL,
			A.PROFESION,
			A.DIRECCION,
			A.TEL_CASA,
			A.TEL_TRAB,
			A.TEL_CELULAR,
			A.TEL_FAX,
			A.CORREO,
			A.LUGAR_TRABAJO,			
			A.ES_EMPLEADO,
			A.COD_EMPLEADO			
	FROM
        			AUTORIZACION_PAGO    	A,        			
        			PACIENTES           		P
	WHERE
        			A.COD_AUTORIZACION	= :dfCodigo AND
        			A.COD_PACIENTE 		= P.COD_PACIENTE AND
			A.CORREL_PACIENTE 	=  P.CORREL_PACIENTE 			
	INTO			
			:dfFecha,	
			:cmbTipoHabitacion.nCodigo,		
			:dfPaciente,
			:dfPacienteCorrel,
			:dfNombre,
			:dfNomResponde,
			:dfIdentidad,
			:dfNacionalidad,
			:dfPasaporte,
			:dfFechaNac,
			:nEstadoCivil,
			:dfProfesion,
			:mlDomicilio,
			:dfTelCasa,
			:dfTelTrabajo,
			:dfTelCelular,
			:dfTelFax,
			:dfCorreo,
			:mlLugarTrabajo,
			:cbEmpleado,
			:dfCodEmpleado"
.head 5 -  Call SqlImmediate ( sSQL )
.head 5 -  Call SqlClearImmediate ()
.head 5 -  !
.head 5 -  Set sSQL = "SELECT
		U.NOMBRE
	FROM
		USUARIOS 		U,
		AUTORIZACION_PAGO    	A
	WHERE
 		A.COD_AUTORIZACION	= :dfCodigo AND
		U.COD_USU 		= A.CREADO_POR 
	INTO
		:dfCreadoPor"
.head 5 -  Call SqlImmediate ( sSQL )
.head 5 -  Call SqlClearImmediate ()
.head 5 -  !
.head 5 -  Set sSQL = "SELECT
		U.NOMBRE
	FROM
		USUARIOS 		U,
		AUTORIZACION_PAGO    	A
	WHERE
		A.COD_AUTORIZACION	= :dfCodigo AND
		U.COD_USU 		= A.MODIFICADO_POR 
	INTO
		:dfModificadoPor"
.head 5 -  Call SqlImmediate ( sSQL )
.head 5 -  Call SqlClearImmediate ()
.head 5 -  !
.head 5 +  Select Case nEstadoCivil
.head 6 +  Case 0
.head 7 -  Set rbSoltero =TRUE
.head 7 -  Break
.head 6 +  Case 1
.head 7 -  Set rbCasado =TRUE
.head 7 -  Break
.head 6 +  Case 2
.head 7 -  Set rbDivorciado =TRUE
.head 7 -  Break
.head 6 +  Case 3
.head 7 -  Set rbUnion =TRUE
.head 7 -  Break
.head 5 -  !
.head 5 +  If SalIsButtonChecked( cbEmpleado)
.head 6 -  !
.head 6 -  Call SalEnableWindow( dfCodEmpleado)
.head 5 +  Else
.head 6 -  !
.head 6 -  Call SalDisableWindow (dfCodEmpleado)
.head 5 -  !
.head 5 -  ! --------Setear valores
.head 5 -  Call ccFecha.SetSystemTime(GDT_VALID, dfFecha)
.head 5 -  !
.head 5 -  Call cmbTipoHabitacion.Actualizar()
.head 5 -  !
.head 5 -  Call SalWaitCursor(FALSE)
.head 2 +  Window Parameters
.head 3 -  Number: nCaso
.head 3 -  String: sParamCodPaciente
.head 3 -  String: sParamCorrelPaciente
.head 2 +  Window Variables
.head 3 -  String: sSQL
.head 3 -  Boolean: bExistsAutorizacion
.head 3 -  Boolean: bNuevaAutorizacion
.head 3 -  String: sRegresaPac
.head 3 -  String: sRegresaCor
.head 3 -  Number: nRegresaEmpleado
.head 3 -  Number: nRegresaAutorizacion
.head 3 -  Number: nEstadoCivil
.head 3 -  Number: nUser
.head 3 -  String: sPicture
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 2 +  Message Actions
.head 3 -  !
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalCenterWindow( hWndForm )
.head 4 -  Set bNuevaAutorizacion=FALSE
.head 4 +  If nCaso = 2
.head 5 -  !
.head 5 -  Call SalSendMsg(pbNuevo, SAM_Click, 0, 0)
.head 5 -  Set dfPaciente = sParamCodPaciente
.head 5 -  Set dfPacienteCorrel = sParamCorrelPaciente
.head 5 -  Call SalSendMsg(dfPaciente, SAM_Validate, 0, 0)
.head 1 +  Dialog Box: dlgPagosxRecibo
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Pagos por Recibo
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  12.667"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 6.19"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Frame
.head 4 -  Resource Id: 25055
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    0.155"
.head 5 -  Width:  12.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 5.417"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Raised-Shadow
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTotalPagos
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 9.883"
.head 6 -  Top:    5.095"
.head 6 -  Width:  2.033"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ########000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Total Pagos
.head 4 -  Resource Id: 25056
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.883"
.head 5 -  Top:    5.119"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfMonto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.783"
.head 6 -  Top:    0.321"
.head 6 -  Width:  2.067"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ########000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Monto
.head 4 -  Resource Id: 25057
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.117"
.head 5 -  Top:    0.345"
.head 5 -  Width:  0.629"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Total Honorarios
.head 4 -  Resource Id: 25058
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.217"
.head 5 -  Top:    5.143"
.head 5 -  Width:  1.433"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTotalPagadoH
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.683"
.head 6 -  Top:    5.071"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Yes
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000;'($'###000')'
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Total Clínica
.head 4 -  Resource Id: 25059
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.05"
.head 5 -  Top:    2.869"
.head 5 -  Width:  1.433"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Pagos efectuados por el cliente  por concepto de Clínica
.head 4 -  Resource Id: 25060
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.25"
.head 5 -  Top:    0.786"
.head 5 -  Width:  6.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Check Box: cbMarcarTodosHon
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Marcar todos para anular
.head 4 -  Window Location and Size
.head 5 -  Left: 9.383"
.head 5 -  Top:    2.988"
.head 5 -  Width:  2.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If SalIsButtonChecked(cbMarcarTodosHon)
.head 7 -  !
.head 7 -  Call SelectUnselectColum ( tbl2, 9, '1' )
.head 6 +  Else
.head 7 -  !
.head 7 -  Call SelectUnselectColum ( tbl2, 9, '0' )
.head 3 -  Frame
.head 4 -  Resource Id: 25061
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.988"
.head 5 -  Width:  11.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.833"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: System Frame Color
.head 4 -  Background Color: 3D Shadow Color
.head 3 -  Frame
.head 4 -  Resource Id: 25062
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    3.321"
.head 5 -  Width:  12.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.75"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: System Frame Color
.head 4 -  Background Color: 3D Shadow Color
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.317"
.head 6 -  Top:    1.071"
.head 6 -  Width:  11.467"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.667"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colFactura
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fact. No
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.117"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colPago
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: #Pago
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.633"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMonto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.417"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFecha
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colTipo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Tipo Pag.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.467"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDocumento
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: #Documento
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.783"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDescrip
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripcion
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colAnular
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Anular?
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Check Box
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value: 1
.head 8 -  Uncheck Value: 0
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 +  Message Actions
.head 5 +  ! On SAM_DoubleClick
.head 6 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.colPago)
.head 6 -  Call SalTblSetContext(tbl1,nFilita)
.head 6 -  Set dfPago=tbl1.colPago
.head 6 -  Set dfMonto=tbl1.colMonto
.head 6 -  Set dfFechaPago=tbl1.colFecha
.head 6 -  Set cmbPago.nCodigo=tbl1.colTipo_pago
.head 6 -  Set dfDocumento=tbl1.colDocumento
.head 6 -  Set dfDescrip=tbl1.colDescrip
.head 6 -  Set dfRecibo=tbl1.colRecibo
.head 6 -  Call cmbPago.Actualizar()
.head 3 +  Child Table: tbl2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.317"
.head 6 -  Top:    3.405"
.head 6 -  Width:  11.967"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.583"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colFactura
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fact. No.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.15"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCorrelH
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Correl H.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colPago
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: #Pago
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.633"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMonto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.417"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFecha
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.383"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colTipo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Tipo Pag.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.317"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDocumento
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: #Documento
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.783"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDescrip
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripcion
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colAnular
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Anular?
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Check Box
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value: 1
.head 8 -  Uncheck Value: 0
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 -  Message Actions
.head 3 -  Background Text: Recibo No.
.head 4 -  Resource Id: 25063
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.383"
.head 5 -  Top:    0.345"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfRecibo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.483"
.head 6 -  Top:    0.321"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Yes
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 -  !
.head 5 -  ! Set dfRecibo = 
.head 3 -  Frame
.head 4 -  Resource Id: 25064
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.283"
.head 5 -  Top:    0.238"
.head 5 -  Width:  10.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.417"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Blue
.head 4 -  Background Color: Default
.head 3 -  Background Text: Sobrante
.head 4 -  Resource Id: 25065
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.85"
.head 5 -  Top:    0.345"
.head 5 -  Width:  0.75"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfSobrante
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.65"
.head 6 -  Top:    0.321"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ########000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Data Field: dfTotal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 9.883"
.head 6 -  Top:    0.321"
.head 6 -  Width:  2.033"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ########000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Check Box: cbMarcarTodosClinica
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Marcar todos para anular
.head 4 -  Window Location and Size
.head 5 -  Left: 9.083"
.head 5 -  Top:    0.655"
.head 5 -  Width:  2.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 -  !
.head 5 -  !
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If SalIsButtonChecked(cbMarcarTodosClinica)
.head 7 -  !
.head 7 -  Call SelectUnselectColum(tbl1, 8, '1')
.head 6 +  Else
.head 7 -  !
.head 7 -  Call SelectUnselectColum ( tbl1, 8, '0' )
.head 3 -  Background Text: Pagos efectuados por el cliente  por concepto de Honorarios
.head 4 -  Resource Id: 25066
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    3.095"
.head 5 -  Width:  6.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTotalPagadoC
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.483"
.head 6 -  Top:    2.821"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Yes
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000;'($'###000')'
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbGrabar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbGrabar
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    0.155"
.head 5 -  Width:  0.65"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.548"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filesave.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Total
.head 4 -  Resource Id: 25067
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.283"
.head 5 -  Top:    0.345"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 2 +  Functions
.head 3 +  Function: CargarDatos
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  ! ----------Cargar los pagos de clinica
.head 5 -  Call SqlImmediate("select 
				A.MONTO,
				IsNull(A.SOBRANTE,0),
				A.MONTO + IsNull(A.SOBRANTE,0) AS TOTAL
from	 
				RECIBOS  A
where	
				A.COD_RECIBO=:sParamRecibo
into	
				:dfMonto,
				:dfSobrante,
				:dfTotal")
.head 5 -  Call SqlClearImmediate()
.head 5 -  !
.head 5 -  Call SalTblPopulate(tbl1,hSql1,"
select	
	A.COD_FACTURA,
	A.NUMERO_PAGO,
	A.MONTO,
              	convert(varchar(10) ,A.FECHA,103),
	B.NOMBRE,
                A.DOCUMENTO,
	A.DESCRIPCION,
	0	
               
from	 PAGOS  		A,
	 TIPOS_PAGO 	B

where	
	A.COD_PAGO	=B.COD_PAGO AND 
	A.RECIBO	=:sParamRecibo
 order by 
	A.FECHA",TBL_FillAll)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  Set dfTotalPagadoC=SalTblColumnSum(tbl1,3 ,0,0)
.head 5 -  !
.head 5 -  ! ----------Cargar los pagos de honorarios
.head 5 -  !
.head 5 -  Call SalTblPopulate(tbl2,hSql1,"
select	
	A.COD_FACTURA,
	A.CORREL,
	A.NUMERO_PAGO,
	A.MONTO,
               convert(varchar(10) ,A.FECHA,103),
	B.NOMBRE,
                A.DOCUMENTO,
	A.DESCRIPCION,
	0
from	 
	PAGOS_HON  A, 
	TIPOS_PAGO B

where	
	A.COD_PAGO=B.COD_PAGO AND 
	A.RECIBO =:sParamRecibo

 order by 
	A.FECHA",TBL_FillAll)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  Set dfTotalPagadoH=SalTblColumnSum(tbl2,4 ,0,0)
.head 5 -  !
.head 5 -  Set dfTotalPagos = dfTotalPagadoC + dfTotalPagadoH
.head 3 +  Function: AnularPagoC
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: DEBE
.head 5 -  Number: PAGADO
.head 5 -  Number: ESTADO
.head 5 -  Number: nTotalPagado
.head 5 -  Number: nTotalFacturado
.head 4 +  Actions
.head 5 -  !
.head 5 -  ! -------Obtener el total pagado de la factura
.head 5 -  Call SqlImmediate( "SELECT
			SUM(MONTO)
		FROM
			PAGOS
		WHERE
			COD_FACTURA = :tbl1.colFactura
		GROUP BY
			COD_FACTURA
		INTO
			:nTotalPagado")
.head 5 -  Call SqlClearImmediate()
.head 5 -  !
.head 5 -  ! ----------------Obtener el total facturado de la factura
.head 5 -  Call SqlImmediate("SELECT
			TOTAL
		FROM
			FACTURAS
		WHERE
			COD_FACTURA = :tbl1.colFactura
		INTO
			:nTotalFacturado

")
.head 5 -  Call SqlClearImmediate()
.head 5 -  !
.head 5 -  ! -------------Eliminar el pago
.head 5 -  !
.head 5 -  Call SqlPrepareAndExecute(hSql1,"BEGIN TRAN")
.head 5 -  Call SqlPrepareAndExecute(hSql1,"DELETE
				FROM
					PAGOS
				WHERE
					NUMERO_PAGO = :tbl1.colPago AND
					COD_FACTURA   = :tbl1.colFactura")
.head 5 -  !
.head 5 -  ! -------------Actualizar el debe de la factura
.head 5 -  !
.head 5 -  Set PAGADO=nTotalPagado - tbl1.colMonto
.head 5 -  Set DEBE = nTotalFacturado-PAGADO
.head 5 +  If DEBE > 0
.head 6 -  Set ESTADO=1
.head 5 +  Else
.head 6 -  Set ESTADO=0
.head 5 -  Call SqlPrepareAndExecute(hSql1," UPDATE 
					FACTURAS 
				SET
					MONTO_DEBE	=MONTO_DEBE + :tbl1.colMonto, 
					ESTADO_PAGO	=:ESTADO,
					MONTO_PAGADO	=MONTO_PAGADO - :tbl1.colMonto
				WHERE
					COD_FACTURA	=:tbl1.colFactura") 
.head 5 -  !
.head 5 -  Call SqlPrepareAndExecute(hSql1,"COMMIT TRAN")
.head 5 -  !
.head 3 +  Function: AnularPagoH
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: DEBE
.head 5 -  Number: PAGADO
.head 5 -  Number: ESTADO
.head 5 -  Number: nTotalPagado
.head 5 -  Number: nTotalFacturado
.head 4 +  Actions
.head 5 -  !
.head 5 -  ! -------Obtener el total pagado de la factura
.head 5 -  Call SqlImmediate( "SELECT
			SUM(MONTO)
		FROM
			PAGOS_HON
		WHERE
			COD_FACTURA 	= :tbl2.colFactura AND
			CORREL		= :tbl2.colCorrelH			
		GROUP BY
			COD_FACTURA,
			CORREL
		INTO
			:nTotalPagado")
.head 5 -  Call SqlClearImmediate()
.head 5 -  !
.head 5 -  ! ----------------Obtener el total facturado x honorarios del medico en la factura
.head 5 -  Call SqlImmediate("SELECT
     			A.COSTO

		FROM 
			DET_HONORARIOS A
		WHERE 
			A.CORREL	= :tbl2.colCorrelH	AND
			A.COD_FACTURA  = :tbl2.colFactura
		INTO
			:nTotalFacturado

")
.head 5 -  Call SqlClearImmediate()
.head 5 -  ! -------------Eliminar el pago
.head 5 -  !
.head 5 -  Call SqlPrepareAndExecute(hSql1,"BEGIN TRAN")
.head 5 -  Call SqlPrepareAndExecute(hSql1,"DELETE
				FROM
					PAGOS_HON
				WHERE
					NUMERO_PAGO 	= :tbl2.colPago AND
					CORREL		= :tbl2.colCorrelH	AND
					COD_FACTURA   	= :tbl2.colFactura")
.head 5 -  !
.head 5 -  ! -------------Actualizar el debe de la factura
.head 5 -  !
.head 5 -  Set PAGADO=nTotalPagado - tbl2.colMonto
.head 5 -  Set DEBE = nTotalFacturado-PAGADO
.head 5 +  If DEBE > 0
.head 6 -  Set ESTADO=1
.head 5 +  Else
.head 6 -  Set ESTADO=0
.head 5 -  Call SqlPrepareAndExecute(hSql1," UPDATE 
					DET_HONORARIOS 
				SET
					MONTO_DEBE	=MONTO_DEBE + :tbl2.colMonto, 
					ESTADO_PAGO	=:ESTADO,
					MONTO_PAGADO	=MONTO_PAGADO - :tbl2.colMonto
				WHERE
					CORREL		= :tbl2.colCorrelH	AND
					COD_FACTURA  	= :tbl2.colFactura") 
.head 5 -  !
.head 5 -  !
.head 5 -  Call SqlPrepareAndExecute(hSql1,"COMMIT TRAN")
.head 5 -  !
.head 3 +  Function: AfectarRecibo
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SqlImmediate("update 
					RECIBOS 
				set 					
					FACTURAS_AFECTADAS	= FACTURAS_AFECTADAS - 1 
				where 
					COD_RECIBO 		=:dfRecibo")
.head 5 -  Call SqlClearImmediate()
.head 3 +  Function: SelectUnselectColum
.head 4 -  Description:
.head 4 -  Returns
.head 4 +  Parameters
.head 5 -  Window Handle: hWndTbl
.head 5 -  Number: nColumnID
.head 5 -  String: strText
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nRow
.head 4 +  Actions
.head 5 -  !
.head 5 -  !
.head 5 -  Set nRow = 0
.head 5 -  Call SalTblSetContext(hWndTbl, nRow )
.head 5 -  Call SalTblSetColumnText ( hWndTbl, nColumnID, strText )
.head 5 -  !
.head 5 +  While SalTblFindNextRow(hWndTbl, nRow, 0, 0)
.head 6 -  !
.head 6 -  Call SalTblSetContext(hWndTbl, nRow )
.head 6 -  Call SalTblSetColumnText ( hWndTbl, nColumnID, strText )
.head 2 +  Window Parameters
.head 3 -  String: sParamRecibo
.head 2 +  Window Variables
.head 3 -  Number: xvar
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Set dfRecibo = sParamRecibo
.head 4 -  !
.head 4 -  Call CargarDatos()
.head 4 -  Call SalBringWindowToTop( hWndForm )
.head 3 +  On MU_GRABAR
.head 4 -  !
.head 4 -  ! Por cada uno de los items en tbl1 se anulan los pagos a facturas por concepto de clinica
.head 4 -  Call SalWaitCursor(TRUE)
.head 4 -  Set xvar =0
.head 4 -  Call SalTblSetContext(tbl1,xvar)
.head 4 +  If tbl1.colAnular = 1
.head 5 -  !
.head 5 -  Call AnularPagoC()
.head 5 -  Call AfectarRecibo()
.head 5 -  !
.head 4 -  !
.head 4 +  While SalTblFindNextRow(tbl1,xvar,0,0)
.head 5 -  Call SalTblSetContext(tbl1,xvar)
.head 5 -  !
.head 5 +  If tbl1.colAnular = 1
.head 6 -  !
.head 6 -  Call AnularPagoC()
.head 6 -  Call AfectarRecibo()
.head 4 -  !
.head 4 -  !
.head 4 -  ! Por cada uno de los items en tbl2 se anulan los pagos a facturas por concepto de honorarios
.head 4 -  Set xvar =0
.head 4 -  Call SalTblSetContext(tbl2,xvar)
.head 4 +  If tbl2.colAnular = 1
.head 5 -  !
.head 5 -  Call AnularPagoH()
.head 5 -  Call AfectarRecibo()
.head 5 -  !
.head 4 +  While SalTblFindNextRow(tbl2,xvar,0,0)
.head 5 -  Call SalTblSetContext(tbl2,xvar)
.head 5 +  If tbl2.colAnular = 1
.head 6 -  !
.head 6 -  Call AnularPagoH()
.head 6 -  Call AfectarRecibo()
.head 4 -  !
.head 4 -  !
.head 4 -  Call SalWaitCursor(FALSE)
.head 4 -  Call SalMessageBox("Pagos anulados satisfactoriamente!", "Aviso", MB_Ok )
.head 4 -  !
.head 4 -  Call CargarDatos()
.head 1 +  Form Window: frmPlantillasServicios
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Plantillas de Inventario
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  11.967"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 8.214"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: 3D Face Color
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Etched
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.583"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 +  Contents
.head 4 +  Pushbutton: pbNuevo
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.283"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.65"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filenew.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 +  If bNuevaPlantilla
.head 8 -  !
.head 8 -  Set sSQL = "   SELECT
			*
		FROM
			PLANTILLAS_INVENTARIO
		WHERE
			COD_PLANTILLA   =   :dfCodigo"
.head 8 -  Call SqlExists (sSQL, bExistsPlantilla)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If SalMessageBox("Ha seleccionado crear una nueva plantilla. Desea guardar los cambios antes de continuar?","Atencion",MB_YesNo)=IDYES
.head 9 -  !
.head 9 -  Call SalSendMsg (pbGuardar, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  !
.head 9 +  If not bExistsPlantilla
.head 10 -  !
.head 10 -  Set sSQL = 'DELETE FROM
		 IDENTITYS 
	WHERE 
		cod_tabla = 712 AND
		MAXIMO = :dfCodigo'
.head 10 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 10 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 10 -  !
.head 10 -  Call ResetControls()
.head 10 -  Call LoadDefaultValues()
.head 10 -  ! !
.head 10 -  Call SalSetFocus( dfDescripcion )
.head 7 +  Else
.head 8 -  !
.head 8 -  Call ResetControls()
.head 8 -  Call LoadDefaultValues()
.head 8 -  ! !
.head 8 -  Call SalSetFocus( dfDescripcion )
.head 4 +  Pushbutton: pbGuardar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.983"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.65"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filesave.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 -  !
.head 7 -  !
.head 7 +  If SalIsNull(dfCodigo)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe especificar el No de Plantiila", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 8 -  Return FALSE
.head 7 +  If SalIsNull(dfDescripcion)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe especificar el nombre de la plantilla", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 8 -  Call SalSetFocus(dfDescripcion)
.head 8 -  Return FALSE
.head 7 -  !
.head 7 -  ! --------------Verificar si la orden ya existe
.head 7 -  ! Set sSQL = "   SELECT
			*
		FROM
			PLANTILLAS_INVENTARIO
		WHERE
			COD_PLANTILLA   =   :dfCodigo"
.head 7 -  ! Call SqlExists (sSQL, bExistsPlantilla)
.head 7 -  ! Call SqlClearImmediate()
.head 7 -  !
.head 7 -  ! ----------Ejecutar la actualizacion o insercion
.head 7 +  ! If bExistsPlantilla
.head 8 -  !
.head 8 -  ! ---------Verificar que el numero de orden no haya sido tomada por otro usuario (Asegurar la concurrencia)
.head 8 -  !
.head 8 -  Call DoUpdate(  )
.head 7 +  ! Else
.head 8 -  !
.head 8 -  Call DoInsert(  )
.head 7 -  Call SalWaitCursor(TRUE)
.head 7 -  Call SqlPrepare(hSql1,"INSERT INTO
			PLANTILLAS_INVENTARIO (
					COD_PLANTILLA,						
					DESC_PLANTILLA,
					COD_CATEGORIA,
					COD_SERVICIO,
					CANTIDAD,
					ORDEN,
					CORRELATIVO)
			VALUES(
					:dfCodigo,
					:dfDescripcion,
					:tbl1.colCategoria,
					:tbl1.colServicio,					
					:tbl1.colCantidad,
					:tbl1.colOrden,
					:tbl1.colUnico)")
.head 7 -  Call SalTblDoInserts(tbl1,hSql1,TRUE)
.head 7 -  Call SqlPrepareAndExecute ( hSql1, "COMMIT" )
.head 7 -  !
.head 7 -  Call SqlPrepare(hSql1,"	UPDATE
				PLANTILLAS_INVENTARIO
			SET
				COD_PLANTILLA	=:dfCodigo,
				COD_CATEGORIA	=:tbl1.colCategoria,	
				COD_SERVICIO 	=:tbl1.colServicio,		
				CANTIDAD	=:tbl1.colCantidad,
				ORDEN		=:tbl1.colOrden,
				DESC_PLANTILLA	=:dfDescripcion
			WHERE
				CORRELATIVO = :tbl1.colUnico")
.head 7 -  Call SalTblDoUpdates(tbl1,hSql1,TRUE)
.head 7 -  Call SqlPrepareAndExecute ( hSql1, "COMMIT" )
.head 7 -  !
.head 7 -  !
.head 7 -  Call SqlPrepare(hSql1,"DELETE FROM
				PLANTILLAS_INVENTARIO
			WHERE	
				CORRELATIVO=:tbl1.colUnico")
.head 7 -  Call SalTblDoDeletes(tbl1, hSql1, ROW_MarkDeleted)
.head 7 -  Call SqlPrepareAndExecute ( hSql1, "COMMIT" )
.head 7 -  !
.head 7 -  !
.head 7 -  Set bNuevaPlantilla=FALSE
.head 7 -  Call SalWaitCursor(FALSE)
.head 7 -  !
.head 7 -  Call CargarDatos()
.head 7 -  Return TRUE
.head 4 +  Pushbutton: pbImprimir
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.683"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.65"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Set params[0] = SalNumberToStrX(dfCodigo,0)
.head 7 +  If rbMaq = TRUE
.head 8 -  !
.head 8 -  Set params[1] = '1'
.head 7 +  Else
.head 8 -  !
.head 8 -  Set params[1] = '0'
.head 7 +  If rbAseg = TRUE
.head 8 -  !
.head 8 -  Set params[2] = '1'
.head 7 +  Else
.head 8 -  !
.head 8 -  Set params[2] = '0'
.head 7 +  If rbCosto = TRUE
.head 8 -  !
.head 8 -  Set params[3] = '1'
.head 7 +  Else
.head 8 -  !
.head 8 -  Set params[3] = '0'
.head 7 +  If rbEmple = TRUE
.head 8 -  !
.head 8 -  Set params[4] = '1'
.head 7 +  Else
.head 8 -  !
.head 8 -  Set params[4] = '0'
.head 7 +  If rbTodos = TRUE
.head 8 -  !
.head 8 -  Set params[5] = '1'
.head 7 +  Else
.head 8 -  !
.head 8 -  Set params[5] = '0'
.head 7 -  Set strRepTitle = " Plantillas de Servicios"
.head 7 -  Set strReportName = strRepPath||"\\PlantillasServicios.rpt"
.head 7 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 4 -  Group Box: Seleccione los costos que desea incluir en el reporte
.head 5 -  Resource Id: 53692
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 2.683"
.head 6 -  Top:    0.071"
.head 6 -  Width:  7.3"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold-Italic
.head 5 -  Text Color: White
.head 5 -  Background Color: Default
.head 4 +  Radio Button: rbMaq
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Maquila/Privado
.head 5 -  Window Location and Size
.head 6 -  Left: 2.783"
.head 6 -  Top:    0.238"
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: 3D Highlight Color
.head 5 -  Background Color: Default
.head 5 -  Message Actions
.head 4 +  Radio Button: rbAseg
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Aseguradora
.head 5 -  Window Location and Size
.head 6 -  Left: 4.583"
.head 6 -  Top:    0.238"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: White
.head 5 -  Background Color: Default
.head 5 -  Message Actions
.head 4 +  Radio Button: rbCosto
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Costo Real
.head 5 -  Window Location and Size
.head 6 -  Left: 6.083"
.head 6 -  Top:    0.238"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: White
.head 5 -  Background Color: Default
.head 5 -  Message Actions
.head 4 +  Radio Button: rbEmple
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Empleado
.head 5 -  Window Location and Size
.head 6 -  Left: 7.583"
.head 6 -  Top:    0.238"
.head 6 -  Width:  1.1"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: White
.head 5 -  Background Color: Default
.head 5 -  Message Actions
.head 4 +  Radio Button: rbTodos
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Todos
.head 5 -  Window Location and Size
.head 6 -  Left: 8.883"
.head 6 -  Top:    0.238"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: White
.head 5 -  Background Color: Default
.head 5 -  Message Actions
.head 2 +  Contents
.head 3 -  Group Box: Datos Generales
.head 4 -  Resource Id: 12192
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.071"
.head 5 -  Width:  11.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Detalle de Servicios
.head 4 -  Resource Id: 34980
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.738"
.head 5 -  Width:  11.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 4.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Child Table: tbl1
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.05"
.head 6 -  Top:    1.071"
.head 6 -  Width:  9.933"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 3.667"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colUnico
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Correl
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.583"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCategoria
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod Categ.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.933"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  ! Al salirse de este campo del grid  se carga los datos de la categoria
seleccionada y se actualiza el nombre en el combo correspondiente
.head 8 -  Call SqlExists( "select A.NOMBRE from CATEG_SERVICIOS A where
A.COD_CATEGORIA=:tbl1.colCategoria  into :colcmbCateg  " ,bExists)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If not bExists
.head 9 -  Call SalMessageBox("Categoria  no existe","ERROR",MB_Ok)
.head 9 -  Set tbl1.colCategoria=''
.head 9 -  Set tbl1.colcmbCateg=''
.head 8 +  Else
.head 9 -  Set tbl1.colcmbCateg.sCodigos=tbl1.colCategoria
.head 5 +  Column: colcmbCateg
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsCbCodigo
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Categoria
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.133"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  ! Inicializar las variables de instancia del boton
.head 8 -  Set colcmbCateg.nCaso=2
.head 8 -  Set colcmbCateg.sTabla='CATEG_SERVICIOS'
.head 8 -  Set colcmbCateg.sNombre='NOMBRE'
.head 8 -  Set colcmbCateg.sCodigo='COD_CATEGORIA'
.head 7 +  On SAM_Validate
.head 8 -  ! Al salirse del combo se actualiza el codigo de la categoria
.head 8 -  Call SalSendClassMessage(SAM_Validate,0,0)
.head 8 -  Set tbl1.colCategoria=tbl1.colcmbCateg.sCodigos
.head 5 +  Column: colServicio
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod. Servi.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.429"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  ! Al introducir el codigo de servicio y luego salirse del campo se
procede a cargar todos los costos asociados a es servicio, Estos costos
son agregados en una columna de grid la cual es un combo, para que
el usuario decida el costo a seleccionar de todos los propuestos, tambien
verifica que exista el codigo de servicio.
.head 8 -  Call SqlExists( "select 
		A.NOMBRE 
	from 
		SERVICIOS 	  A,
		CATEG_SERVICIOS B 
	where
		A.COD_SERVICIO 		= :tbl1.colServicio and 
		A.COD_CATEGORIA	= B.COD_CATEGORIA and
		A.COD_CATEGORIA	= :tbl1.colCategoria and 
		A.EN_USO 		= 1
  	into 
		:colcmbServi" ,bExists)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If not bExists
.head 9 -  Call SalMessageBox("Servicio no existe o ha sido desactivado ","ERROR",MB_Ok)
.head 9 -  Set tbl1.colServicio=''
.head 9 -  Set tbl1.colcmbServi=''
.head 5 +  Column: colcmbServi
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsCbCodigoFiltrado
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Servicio
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.657"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set colcmbServi.nCaso=2
.head 8 -  Set colcmbServi.sTabla='SERVICIOS'
.head 8 -  Set colcmbServi.sNombre='NOMBRE'
.head 8 -  Set colcmbServi.sCodigo='COD_SERVICIO'
.head 8 -  Set colcmbServi.sNombreFiltro = 'EN_USO'
.head 8 -  Set colcmbServi.nValorFiltro = 1
.head 7 +  On SAM_DropDown
.head 8 -  ! Cuando se despliega el combo de servicios se filtran de tal forma
que solo presente servicios asociados con la categoria seleccionada
.head 8 -  Set sSQL = "select 
		A.NOMBRE 
	from
		SERVICIOS A , 
		CATEG_SERVICIOS  B 
	where
		A.COD_CATEGORIA=B.COD_CATEGORIA  AND
 		A.COD_CATEGORIA =:tbl1.colCategoria AND
		A.EN_USO = 1" 
.head 8 -  Call SalListPopulate( tbl1.colcmbServi, hSql1,  sSQL)
.head 8 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 8 -  !
.head 7 +  On SAM_Validate
.head 8 -  ! Call SalSendClassMessage(SAM_Validate,0,0)
.head 8 +  If colcmbServi = STRING_Null
.head 9 -  !
.head 9 -  Return FALSE
.head 8 -  !
.head 8 +  If SalListSelectString(hWndItem,-1,MyValue)=LB_Err
.head 9 -  Call SalMessageBox("Dato no existe en la lista","ERROR",MB_Ok)
.head 9 -  Call SalSetFocus(hWndItem)
.head 9 -  Return FALSE
.head 8 +  Else
.head 9 -  !
.head 9 -  Set sSQL = "select 
		cod_servicio 
	from 
		servicios
	where 
		cod_categoria	=:tbl1.colCategoria	and
		nombre		=:tbl1.colcmbServi and 
		en_uso 		= 1
	into	
		:tbl1.colcmbServi.sCodigos"
.head 9 -  Call SqlImmediate(sSQL)
.head 9 -  Call SqlClearImmediate()
.head 8 -  !
.head 8 -  Set tbl1.colServicio=tbl1.colcmbServi.sCodigos
.head 5 +  Column: colCantidad
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cantidad
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.017"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colOrden
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Orden
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.017"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 -  Message Actions
.head 3 -  Frame
.head 4 -  Resource Id: 34979
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.983"
.head 5 -  Top:    0.988"
.head 5 -  Width:  10.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.833"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Solid
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 +  Pushbutton: pbAgregarServicio
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbChAgregarChiquito
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    1.155"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\edit_add15.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Inicializar las variables de instancia del boton
.head 6 -  Set pbAgregarServicio.hWndFila=tbl1.colCategoria
.head 6 -  Set pbAgregarServicio.hWndTabla=tbl1
.head 5 +  On SAM_Click
.head 6 -  ! Al hacer click en este botón se agrega una nueva linea en el detalle
y automaticamente le genera un correlativo con la funcion Identity
.head 6 -  Call SalSendClassMessage(SAM_Click,0,0)
.head 6 -  Set tbl1.colUnico=Identity(713)
.head 3 +  Pushbutton: pbBorrarServicio
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbChBorrarChiquito
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    1.655"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\edit_remove15.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set pbBorrarServicio.hWndFila=tbl1.colServicio
.head 6 -  Set pbBorrarServicio.hWndTabla=tbl1
.head 3 +  Pushbutton: pbBuscarServicio
.data CLASSPROPSSIZE
0000: 2000
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F7300000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    2.202"
.head 5 -  Width:  0.633"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F5
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\info.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set sRegresaServ= ''
.head 6 -  Set sRegresaCateg=''
.head 6 +  If SalIsNull(tbl1.colUnico)
.head 7 -  !
.head 7 -  Return FALSE
.head 6 -  Call SalModalDialog( dlgConsultaServicios, hWndForm,2,sRegresaServ, sRegresaCateg)
.head 6 +  If sRegresaCateg !='' and sRegresaServ !=''
.head 7 -  ! Call Limpiar()
.head 7 -  Set tbl1.colServicio=sRegresaServ
.head 7 -  Set tbl1.colCategoria=sRegresaCateg
.head 7 -  Call SalSendMsg(tbl1.colCategoria, SAM_Validate,0,0)
.head 7 -  Call SalSendMsg(tbl1.colServicio, SAM_Validate,0,0)
.head 7 +  ! If cmbCateg.sCodigos='6' or cmbCateg.sCodigos='11'
.head 8 -  Call DeshabilitarTodo(  )
.head 3 -  Background Text: Codigo
.head 4 -  Resource Id: 34981
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    0.262"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCodigo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.083"
.head 6 -  Top:    0.238"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Descripcion
.head 4 -  Resource Id: 34982
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.583"
.head 5 -  Top:    0.262"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfDescripcion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.783"
.head 6 -  Top:    0.238"
.head 6 -  Width:  6.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_AnyEdit
.head 6 -  Call SalTblPopulate( tbl2, hSql1, "select
				distinct
				COD_PLANTILLA,
				DESC_PLANTILLA
			from
				PLANTILLAS_INVENTARIO
			where
				DESC_PLANTILLA  like '" || dfDescripcion || "%'  "
,TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  !
.head 3 +  Pushbutton: pb7
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.483"
.head 5 -  Top:    0.155"
.head 5 -  Width:  0.65"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 -  Group Box: Plantillas Existentes (Doble Click para cargar sus datos)
.head 4 -  Resource Id: 7187
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    4.905"
.head 5 -  Width:  11.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.833"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 53691
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    5.155"
.head 5 -  Width:  10.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Solid
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 +  Child Table: tbl2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatChildTable
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.483"
.head 6 -  Top:    5.238"
.head 6 -  Width:  10.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 1.333"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: Class Default
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colCodPlantilla
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Código
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.383"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDescPlantilla
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripción
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  8.217"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 +  Window Variables
.head 5 -  Number: nFilita
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  !
.head 6 -  Call MTblSubClass( hWndForm )
.head 6 -  Call MTblEnableMWheelScroll( hWndForm, TRUE )
.head 5 +  On SAM_DoubleClick
.head 6 -  !
.head 6 -  Call SalTblQueryFocus(tbl2,nFilita,tbl2.colCodPlantilla)
.head 6 -  Call SalTblSetContext(tbl2,nFilita)
.head 6 -  Set dfCodigo=tbl2.colCodPlantilla
.head 6 -  !
.head 6 -  Call CargarDatos()
.head 2 +  Functions
.head 3 +  Function: LoadDefaultValues
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set dfCodigo = Identity(712)
.head 5 -  Set bNuevaPlantilla = TRUE
.head 5 -  !
.head 3 +  Function: ResetControls
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Window Handle: hWndChild
.head 5 -  Number: nHwndChild
.head 5 -  Number: nType
.head 4 +  Actions
.head 5 -  Set hWndChild = SalGetFirstChild( hWndForm, TYPE_Any )
.head 5 +  While hWndChild != hWndNULL
.head 6 -  Set nHwndChild = SalWindowHandleToNumber( hWndChild )
.head 6 -  Set nType = SalGetType( hWndChild )
.head 6 +  If nType = TYPE_ChildTable
.head 7 -  Call SalTblReset( hWndChild )
.head 6 +  Else If nType = TYPE_DataField or nType = TYPE_MultilineText or nType = TYPE_CheckBox or nType = TYPE_ComboBox
.head 7 -  Call SalClearField( hWndChild )
.head 6 -  Set hWndChild = SalGetNextChild( hWndChild, TYPE_Any )
.head 5 -  !
.head 5 -  !
.head 3 +  Function: CargarDatos
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  !
.head 5 -  Call SqlImmediate("SELECT DISTINCT DESC_PLANTILLA FROM PLANTILLAS_INVENTARIO WHERE COD_PLANTILLA = :dfCodigo INTO :dfDescripcion")
.head 5 -  Call SqlClearImmediate()
.head 5 -  !
.head 5 -  Call SalTblPopulate(tbl1,hSql1,"
select	
	A.CORRELATIVO ,
                C.COD_CATEGORIA,
                C.NOMBRE,
                A.COD_SERVICIO,
                B.NOMBRE,           
                A.CANTIDAD,               
                A.ORDEN
               
from	 
	PLANTILLAS_INVENTARIO 	A,
	SERVICIOS 		B, 
	CATEG_SERVICIOS 	C
where	
	A.COD_PLANTILLA	=:dfCodigo  and
	A.COD_SERVICIO		=B.COD_SERVICIO 	AND
	B.COD_CATEGORIA	=C.COD_CATEGORIA	AND 
	A.COD_CATEGORIA	=B.COD_CATEGORIA
order by 
	A.ORDEN,
	B.NOMBRE ",TBL_FillAll)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  !
.head 5 -  !
.head 5 -  Call SalWaitCursor(FALSE)
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: sSQL
.head 3 -  !
.head 3 -  String: sRegresaCateg
.head 3 -  String: sRegresaServ
.head 3 -  !
.head 3 -  Boolean: bExistsPlantilla
.head 3 -  Boolean: bNuevaPlantilla
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  Set bNuevaPlantilla=FALSE
.head 4 -  Call SalCenterWindow( hWndForm )
.head 3 +  On SAM_Destroy
.head 4 -  !
.head 4 +  If bNuevaPlantilla
.head 5 -  !
.head 5 -  Set sSQL = "   SELECT
			*
		FROM
			PLANTILLAS_INVENTARIO
		WHERE
			COD_PLANTILLA   =   :dfCodigo"
.head 5 -  Call SqlExists (sSQL, bExistsPlantilla)
.head 5 -  Call SqlClearImmediate()
.head 5 +  If not bExistsPlantilla
.head 6 -  !
.head 6 -  Set sSQL = 'DELETE FROM
		 IDENTITYS 
	WHERE 
		cod_tabla = 712 AND
		MAXIMO = :dfCodigo'
.head 6 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  !
.head 1 +  Dialog Box: dlgConsultaFacturas
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Consulta de Facturas
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  14.8"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 7.048"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.183"
.head 6 -  Top:    1.738"
.head 6 -  Width:  14.3"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 2.917"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 8
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: Cod_Factura
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: #Factura
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.217"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Descripcion
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripcion
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.967"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Cod_Paciente
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod. Pac
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.933"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Correl_Paciente
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Corr.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Nombre
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Nombre Paciente
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.017"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Fecha_Registro
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha Reg
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Date/Time
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.483"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: DateTime
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Total
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Total Fac.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.267"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Honorarios
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Honorarios
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.017"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 +  Window Variables
.head 5 -  Number: nFilita
.head 4 +  Message Actions
.head 5 +  On SAM_DoubleClick
.head 6 +  If nCaso=2
.head 7 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.Cod_Factura)
.head 7 -  Call SalTblSetContext(tbl1,nFilita)
.head 7 -  Set nRegresa=tbl1.Cod_Factura
.head 7 -  Call SalEndDialog(dlgConsultaFacturas,TRUE)
.head 3 -  Group Box: Criterios de Busqueda
.head 4 -  Resource Id: 10785
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    0.071"
.head 5 -  Width:  12.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.583"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pb2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbSalir
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 11.283"
.head 5 -  Top:    1.095"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbBuscar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.483"
.head 5 -  Top:    1.095"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F3
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalWaitCursor( TRUE )
.head 6 -  Set dfQuery = ArmarQuery()
.head 6 -  ! Call SalMessageBox(dfQuery,'Sql',MB_Ok)
.head 6 -  Call SalTblPopulate( tbl1, hSqlInterno, dfQuery, TBL_FillAll)
.head 6 -  ! Call SqlPrepareAndExecute(hSqlInterno,"commit")
.head 6 -  Set dfTotal=ContarFilas( tbl1 )
.head 6 -  Set dfSumatoria = SalTblColumnSum( tbl1, 7, 0, 0 )
.head 6 -  Set dfSumatoriaHon = SalTblColumnSum( tbl1, 8, 0, 0 )

.head 6 -  Set dfGrantotal = dfSumatoria + dfSumatoriaHon
.head 6 -  Call SalWaitCursor( FALSE )
.head 3 -  Background Text: Descripción
.head 4 -  Resource Id: 10786
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.983"
.head 5 -  Top:    0.512"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Factura:
.head 4 -  Resource Id: 10787
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.983"
.head 5 -  Top:    0.286"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfDescripcion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.283"
.head 6 -  Top:    0.488"
.head 6 -  Width:  7.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfOculto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.083"
.head 6 -  Top:    4.905"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Posicionese sobre el Medicamento en Particular y presione doble click para cargarlo
.head 4 -  Resource Id: 10788
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.183"
.head 5 -  Top:    5.095"
.head 5 -  Width:  8.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Total Facturas
.head 4 -  Resource Id: 10789
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.083"
.head 5 -  Top:    4.762"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.31"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTotal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.883"
.head 6 -  Top:    4.738"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: #0
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb4
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbLimpia
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.683"
.head 5 -  Top:    1.095"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb6
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbImprimir
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.883"
.head 5 -  Top:    1.071"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  ! On SAM_Click
.head 6 +  ! If cb1=TRUE
.head 7 -  Call SalCreateWindow( frmImprimir, hWndForm,
"Listado de Medicamentos",
strRepPath || "\\MEDICAMENTOS.QRP",
":s1,:s2,:n1,:n2,
:s3,:s4,:n3,:n4",
"A.COD_MEDICAMENTO,A.DESP,A.EXISTENCIA,A.COSTO,
C.NOMBRE,B.NOMBRE,A.P_MINIMO,A.P_MAXIMO",
sConsulta2||"	
into
:s1,:s2,:n1,:n2,
:s3,:s4,:n3,:n4",'')
.head 6 +  Else 
.head 7 -  Call SalCreateWindow( frmImprimir, hWndForm,
"Listado de Medicamentos",
strRepPath || "\\MEDICAMENTOS_GENERAL.QRP",
":s1,:s2,:n1,:n2,
:s3,:s4,:n3,:n4",
"A.COD_MEDICAMENTO,A.DESP,A.EXISTENCIA,A.COSTO,
C.NOMBRE,B.NOMBRE,A.P_MINIMO,A.P_MAXIMO",
sConsulta2||"	
into
:s1,:s2,:n1,:n2,
:s3,:s4,:n3,:n4",'')
.head 3 -  Background Text: Nombre Paciente
.head 4 -  Resource Id: 10790
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.583"
.head 5 -  Top:    0.762"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfNombre
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.283"
.head 6 -  Top:    0.738"
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Fecha Registro
.head 4 -  Resource Id: 10791
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    1.345"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaI
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.283"
.head 6 -  Top:    1.321"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFechaF
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.783"
.head 6 -  Top:    1.321"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: <
.head 4 -  Resource Id: 10792
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.083"
.head 5 -  Top:    1.345"
.head 5 -  Width:  0.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: 10
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: >
.head 4 -  Resource Id: 10793
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.383"
.head 5 -  Top:    1.345"
.head 5 -  Width:  0.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: 10
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Apellido Paciente
.head 4 -  Resource Id: 10794
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.283"
.head 5 -  Top:    0.762"
.head 5 -  Width:  1.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfApellido
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.983"
.head 6 -  Top:    0.738"
.head 6 -  Width:  3.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Sumatoria Facturas
.head 4 -  Resource Id: 10795
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.983"
.head 5 -  Top:    4.76"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.31"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfSumatoria
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.883"
.head 6 -  Top:    4.74"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Sumatoria Honorarios
.head 4 -  Resource Id: 10796
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.95"
.head 5 -  Top:    4.786"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.31"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfSumatoriaHon
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.983"
.head 6 -  Top:    4.738"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Gran Total
.head 4 -  Resource Id: 10797
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.217"
.head 5 -  Top:    4.81"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.31"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfGrantotal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.183"
.head 6 -  Top:    4.738"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Multiline Field: dfQuery
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  String Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Border? Yes
.head 5 -  Word Wrap? No
.head 5 -  Vertical Scroll? Yes
.head 5 -  Window Location and Size
.head 6 -  Left: 0.183"
.head 6 -  Top:    5.321"
.head 6 -  Width:  13.3"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.083"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? No
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfCodigo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.283"
.head 6 -  Top:    0.238"
.head 6 -  Width:  2.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  !
.head 6 -  Call SalSendMsg(pbBuscar, SAM_Click, 0, 0)
.head 3 -  Background Text: Medico
.head 4 -  Resource Id: 10798
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.717"
.head 5 -  Top:    1.048"
.head 5 -  Width:  1.367"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbMedicos
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.283"
.head 5 -  Top:    1.012"
.head 5 -  Width:  5.4"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.357"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Yes
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbMedicos.nCaso=1
.head 6 -  Set cmbMedicos.sTabla='MEDICOS'
.head 6 -  Set cmbMedicos.sNombre='NOMBRE'
.head 6 -  Set cmbMedicos.sCodigo='COD_MEDICO'
.head 2 +  Functions
.head 3 +  Function: ArmarQuery
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sConsulta
.head 4 +  Actions
.head 5 -  Set sConsulta="Select A.COD_FACTURA,A.DESCRIPCION,A.COD_PACIENTE,
                         A.CORREL_PACIENTE,B.PRIMER_NOM+'   ' +B.PRIMER_APE,
                         convert(varchar(12),A.FECHA_REGISTRO,103), A.TOTAL, A.MONTO_HONORARIOS
		
		from	 FACTURAS A,PACIENTES B

		where	A.COD_PACIENTE=B.COD_PACIENTE AND
                                                A.CORREL_PACIENTE=B.CORREL_PACIENTE"

.head 5 +  If not SalIsNull(dfCodigo)
.head 6 -  Set sConsulta=sConsulta||"	AND	A.COD_FACTURA  = :dfCodigo"
.head 5 +  If not SalIsNull(cmbMedicos)
.head 6 -  !
.head 6 -  Set sConsulta = sConsulta || " AND A.COD_MEDICO = :cmbMedicos.nCodigo"
.head 6 -  !
.head 5 +  If dfDescripcion!=''
.head 6 -  Set sConsulta=sConsulta||"	AND	A.DESCRIPCION  like '%"||dlgConsultaFacturas.dfDescripcion||"%'"
.head 5 +  If dfNombre !=''
.head 6 -  Set sConsulta=sConsulta||"	AND	B.PRIMER_NOM   like '%"||dlgConsultaFacturas.dfNombre||"%'"
.head 5 +  If dfApellido !=''
.head 6 -  Set sConsulta=sConsulta||"	AND	B.PRIMER_APE   like '%"||dlgConsultaFacturas.dfApellido||"%'"
.head 5 +  If dfFechaI != DATETIME_Null and dfFechaF !=DATETIME_Null
.head 6 -  Set sConsulta=sConsulta||"	AND	A.FECHA_REGISTRO >= :dlgConsultaFacturas.dfFechaI and 
                                                A.FECHA_REGISTRO <=  :dlgConsultaFacturas.dfFechaF "

.head 5 -  Set sConsulta=sConsulta||"	order	by	A.COD_FACTURA"
.head 5 -  Set sConsulta2=sConsulta
.head 5 -  Return sConsulta
.head 3 +  Function: Sumar
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: suma
.head 5 -  Window Handle: hWndHijo
.head 4 +  Actions
.head 5 -  Call SalTblSetContext(tbl1,0)
.head 5 -  Set suma=0
.head 5 +  While SalTblFindNextRow(tbl1,nFila,0,0)
.head 6 -  Set suma = suma + tbl1.Total
.head 5 -  Return suma
.head 3 +  Function: ConectarCursorInterno
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  ! Setear temporalmente las variables de conexion
.head 5 -  Set SqlDatabase = sGlobalDB
.head 5 -  Set SqlUser = 'sa'
.head 5 -  Set SqlPassword = 'asaber'
.head 5 -  !
.head 5 -  Call ConectarCursores(hSqlInterno)
.head 2 +  Window Parameters
.head 3 -  Number: nCaso
.head 3 -  Receive Number: nRegresa
.head 2 +  Window Variables
.head 3 -  String: sConsulta2
.head 3 -  String: sConsultaImp
.head 3 -  Sql Handle: hSqlInterno
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 +  If nCaso=2
.head 5 -  Call SalShowWindowAndLabel( dfOculto )
.head 5 -  Call SalHideWindow(pb6 )
.head 4 +  Else
.head 5 +  If nCaso=1
.head 6 -  Call SalHideWindowAndLabel( dfOculto )
.head 6 -  Call SalShowWindow(pb6 )
.head 4 -  Call SalHideWindow(dfOculto)
.head 4 -  !
.head 4 -  Call ConectarCursorInterno()
.head 4 -  Call SalBringWindowToTop(dlgConsultaFacturas)
.head 3 +  On SAM_Destroy
.head 4 -  !
.head 4 -  Call SqlDisconnect(hSqlInterno)
.head 1 +  Dialog Box: dlgConsultaRecibosAvanzada
.head 2 -  Class: cQuickTabsDialog
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Class Default
.head 2 -  Display Settings
.head 3 -  Display Style? Class Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Class Default
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  12.05"
.head 4 -  Width Editable? Class Default
.head 4 -  Height: 8.262"
.head 4 -  Height Editable? Class Default
.head 3 -  Absolute Screen Location? Class Default
.head 3 -  Font Name: Class Default
.head 3 -  Font Size: Class Default
.head 3 -  Font Enhancement: Class Default
.head 3 -  Text Color: Class Default
.head 3 -  Background Color: Class Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 1.845"
.head 4 -  Size Editable? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 3 +  Contents
.head 4 +  Pushbutton: pbBuscar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbBusqueda
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 8.833"
.head 6 -  Top:    1.143"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 -  Call SalWaitCursor(TRUE)
.head 7 -  !
.head 7 -  Set dfFechaDesde = ccFechaDesde.GetSystemTime()
.head 7 -  Set dfFechaHasta = ccFechaHasta.GetSystemTime()
.head 7 -  !
.head 7 -  ! Call SalMessageBox(sConsulta,'SQL',MB_Ok)
.head 7 -  Call ConstruirSQL()
.head 7 -  Call SalTblPopulate(tbl1,hSql1,sConsulta,TBL_FillAll)
.head 7 -  Set dfTotalRecibos=ContarFilas( tbl1 )
.head 7 -  !
.head 7 -  Call ConstruirSQL2()
.head 7 -  Call SalTblPopulate(tbl3,hSql1,sConsulta2,TBL_FillAll)
.head 7 -  Set dfTotalFacturas=ContarFilas( tbl3 )
.head 7 -  !
.head 7 -  Call SalWaitCursor(FALSE)
.head 4 +  Data Field: dfTexto
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatDataField
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: String
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 0.5"
.head 7 -  Top:    0.429"
.head 7 -  Width:  4.683"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Uppercase
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 -  Group Box: Texto a buscar:
.head 5 -  Resource Id: 5462
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.35"
.head 6 -  Top:    0.179"
.head 6 -  Width:  4.933"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.583"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Check Box: cbNomPac
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Primer Nombre del Paciente
.head 5 -  Window Location and Size
.head 6 -  Left: 5.783"
.head 6 -  Top:    0.488"
.head 6 -  Width:  2.633"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Message Actions
.head 4 +  Check Box: cbApellidoPac
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Primer Apellido del Paciente
.head 5 -  Window Location and Size
.head 6 -  Left: 5.783"
.head 6 -  Top:    0.738"
.head 6 -  Width:  2.533"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Message Actions
.head 4 +  Check Box: cbCanceladoPor
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Cancelado Por
.head 5 -  Window Location and Size
.head 6 -  Left: 5.783"
.head 6 -  Top:    0.988"
.head 6 -  Width:  2.433"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Message Actions
.head 4 +  Check Box: cbDescRecibo
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Descripción de Recibo
.head 5 -  Window Location and Size
.head 6 -  Left: 5.783"
.head 6 -  Top:    1.238"
.head 6 -  Width:  2.233"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Message Actions
.head 4 -  Group Box: Buscar en
.head 5 -  Resource Id: 5463
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 5.55"
.head 6 -  Top:    0.179"
.head 6 -  Width:  3.233"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.476"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Group Box: Fecha Registro
.head 5 -  Resource Id: 5464
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.35"
.head 6 -  Top:    0.821"
.head 6 -  Width:  5.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.833"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Check Box: cbFechaDesde
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Desde
.head 5 -  Window Location and Size
.head 6 -  Left: 0.417"
.head 6 -  Top:    1.012"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Message Actions
.head 4 +  Check Box: cbFechaHasta
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Hasta
.head 5 -  Window Location and Size
.head 6 -  Left: 0.417"
.head 6 -  Top:    1.286"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Message Actions
.head 4 +  Custom Control: ccFechaDesde
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cDateTimePickerDateLong
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Display Settings
.head 6 -  DLL Name:
.head 6 -  MS Windows Class Name:
.head 6 -  Style:  Class Default
.head 6 -  ExStyle:  Class Default
.head 6 -  Title:
.head 6 -  Window Location and Size
.head 7 -  Left: 1.35"
.head 7 -  Top:    1.012"
.head 7 -  Width:  3.9"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Etched Border? Class Default
.head 6 -  Hollow? Class Default
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Horizontal Scroll? Class Default
.head 6 -  Tab Stop? Class Default
.head 6 -  Tile To Parent? Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  DLL Settings
.head 5 -  Message Actions
.head 4 +  Custom Control: ccFechaHasta
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cDateTimePickerDateLong
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Display Settings
.head 6 -  DLL Name:
.head 6 -  MS Windows Class Name:
.head 6 -  Style:  Class Default
.head 6 -  ExStyle:  Class Default
.head 6 -  Title:
.head 6 -  Window Location and Size
.head 7 -  Left: 1.35"
.head 7 -  Top:    1.286"
.head 7 -  Width:  3.9"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Etched Border? Class Default
.head 6 -  Hollow? Class Default
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Horizontal Scroll? Class Default
.head 6 -  Tab Stop? Class Default
.head 6 -  Tile To Parent? Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  DLL Settings
.head 5 -  Message Actions
.head 2 +  Contents
.head 3 +  Picture: picTabs
.data CLASSPROPS
0000: 5461624F7269656E 746174696F6E000A 00546162734F6E54 6F7000005461624C
0020: 6566744D61726769 6E00020030000054 616243757272656E 740006004E616D65
0040: 3100005461625269 6768744D61726769 6E00020030000054 61624E616D657300
0060: 0C004E616D653009 4E616D6531000054 61624C6162656C73 0011005265636962
0080: 6F73094661637475 7261730000546162 50616765436F756E 7400020031000054
00A0: 6162426F74746F6D 4D617267696E0005 00302E3435000054 6162447261775374
00C0: 796C65000B005769 6E33315374796C65 0000546162466F72 6D50616765730002
00E0: 0009000054616254 6F704D617267696E 0002003000000000 0000000000000000
0100: 0000000000000000 00000000
.enddata
.data CLASSPROPSSIZE
0000: 0C01
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 1
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQuickTabsDialog
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: Class Default
.head 5 -  Top:    Class Default
.head 5 -  Width:  11.2"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 5.81"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  File Name:
.head 4 -  Storage: Class Default
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Fit: Class Default
.head 4 -  Scaling
.head 5 -  Width:  Class Default
.head 5 -  Height:  Class Default
.head 4 -  Corners: Class Default
.head 4 -  Border Style: Solid
.head 4 -  Border Thickness: Class Default
.head 4 -  Tile To Parent? Yes
.head 4 -  Border Color: System Frame Color
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfRecibo
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.55"
.head 6 -  Top:    2.929"
.head 6 -  Width:  1.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Child Table: tbl2
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.317"
.head 6 -  Top:    3.31"
.head 6 -  Width:  11.067"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.604"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? No
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 1000000
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colFactura
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Factura No.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.086"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colPago
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Pago No.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.086"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMonto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.643"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFecha
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.55"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDescrip
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripción
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.643"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colTipo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Pago de
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.429"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 +  Message Actions
.head 5 +  ! On SAM_DoubleClick
.head 6 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.colPago)
.head 6 -  Call SalTblSetContext(tbl1,nFilita)
.head 6 -  Set dfPago=tbl1.colPago
.head 6 -  Set dfMonto=tbl1.colMonto
.head 6 -  Set dfFechaPago=tbl1.colFecha
.head 6 -  Set cmbPago.nCodigo=tbl1.colTipo_pago
.head 6 -  Set dfDocumento=tbl1.colDocumento
.head 6 -  Set dfDescrip=tbl1.colDescrip
.head 6 -  Set dfRecibo=tbl1.colRecibo
.head 6 -  Set dfRecibide=tbl1.colRecibide
.head 6 -  Set dfstrMonto=tbl1.colStrMonto
.head 6 -  Call cmbPago.Actualizar()
.head 3 +  Child Table: tbl1
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatChildTable
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.25"
.head 6 -  Top:    0.571"
.head 6 -  Width:  11.033"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 2.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 1000000
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colRecibo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Recibo No.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: String
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.986"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFecha
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.117"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDescripcion
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripción
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  4.083"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMonto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Right
.head 6 -  Width:  1.471"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ########000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colRecibide
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Pagado por
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.671"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set dfRecibo = tbl1.colRecibo
.head 6 -  Call SalTblPopulate(tbl2,hSql1,"
select	
	A.COD_FACTURA,
	A.NUMERO_PAGO,
	A.MONTO,
               convert(varchar(10) ,A.FECHA,103),
	A.DESCRIPCION,
	'FACTURAS'
               
from	
	PAGOS  A  
where 
	A.RECIBO = :dfRecibo 

union 

select	
	A.COD_FACTURA,
	A.NUMERO_PAGO,
	A.MONTO,
                convert(varchar(10) ,A.FECHA,103),
	A.DESCRIPCION,
	'HONORARIOS'               
from	 
	PAGOS_HON  A 
where 
	A.RECIBO = :dfRecibo", TBL_FillAll)
.head 6 -  Set dfTotalFactRecibo=ContarFilas( tbl2 )
.head 3 -  Frame
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 5458
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.25"
.head 5 -  Top:    3.238"
.head 5 -  Width:  11.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.774"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Dark Gray
.head 3 -  Frame
.data CLASSPROPSSIZE
0000: 1900
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6530000000 00
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 5459
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.217"
.head 5 -  Top:    0.512"
.head 5 -  Width:  11.167"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.393"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Dark Gray
.head 3 -  Background Text: Facturas afectadas por el recibo
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 5460
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    3.012"
.head 5 -  Width:  3.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Child Table: tbl3
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65310000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.283"
.head 6 -  Top:    0.679"
.head 6 -  Width:  11.3"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 3.893"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 8
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: Cod_Factura
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Factura No.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Descripcion
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripción
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.967"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Cod_Paciente
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod. Pac
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.933"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Nombre
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Nombre Paciente
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.017"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Fecha_Registro
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha Reg
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Date/Time
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.483"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: DateTime
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Total
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Total Fac.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.267"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: Honorarios
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Honorarios
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.017"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 +  Window Variables
.head 5 -  Number: nFilita
.head 4 +  Message Actions
.head 5 +  ! On SAM_DoubleClick
.head 6 +  If nCaso=2
.head 7 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.Cod_Factura)
.head 7 -  Call SalTblSetContext(tbl1,nFilita)
.head 7 -  Set nRegresa=tbl1.Cod_Factura
.head 7 -  Call SalEndDialog(dlgConsultaFacturas,TRUE)
.head 3 -  Frame
.data CLASSPROPSSIZE
0000: 1900
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6531000000 00
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 5461
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.571"
.head 5 -  Width:  11.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 4.083"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Dark Gray
.head 3 +  Data Field: dfFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.783"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.983"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Total Recibos:
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 49621
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.183"
.head 5 -  Top:    2.929"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Total Facturas por Recibo
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 49622
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.383"
.head 5 -  Top:    5.095"
.head 5 -  Width:  2.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTotalRecibos
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 9.683"
.head 6 -  Top:    2.905"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfTotalFactRecibo
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 9.583"
.head 6 -  Top:    5.071"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Total Facturas:
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65310000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 37738
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.783"
.head 5 -  Top:    4.929"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTotalFacturas
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65310000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 8.083"
.head 6 -  Top:    4.905"
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 2 +  Functions
.head 3 +  Function: ConstruirSQL
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  ! Select A.COD_FACTURA,A.DESCRIPCION,A.COD_PACIENTE,
                         A.CORREL_PACIENTE,B.PRIMER_NOM+'   ' +B.PRIMER_APE,
                         convert(varchar(12),A.FECHA_REGISTRO,103), A.TOTAL, A.MONTO_HONORARIOS
		
		from	 FACTURAS A,PACIENTES B

		where	A.COD_PACIENTE=B.COD_PACIENTE AND
                                                A.CORREL_PACIENTE=B.CORREL_PACIENTE
.head 5 -  Set sConsultaBase = " 
		select 
			A.COD_RECIBO,
			A.FECHA,
			A.DESCRIPCION,
               			A.MONTO,
			A.RECIBIDE			
		from	
			RECIBOS A
		where 			
			(
        				(:cbFechaDesde = 0) OR		
        				(:cbFechaDesde = 1 AND A.FECHA >= :dfFechaDesde)
        							
        			) AND
        			(
        				(:cbFechaHasta = 0) OR		
        				(:cbFechaHasta = 1 AND A.FECHA <= :dfFechaHasta)
        							
        			) " 			
.head 5 -  !
.head 5 -  Set sConsulta = sConsultaBase || " AND
			:cbDescRecibo 	= 0 	AND 
			:cbCanceladoPor 	= 0 	AND
			:cbNomPac	= 0	AND
			:cbApellidoPac	= 0 "
.head 5 +  If SalIsButtonChecked(cbDescRecibo)
.head 6 -  !
.head 6 -  Set sConsulta =sConsulta || " 
UNION 
" || sConsultaBase || " AND 
			A.DESCRIPCION LIKE '%" || dfTexto || "%' " 
.head 5 -  !
.head 5 +  If SalIsButtonChecked(cbCanceladoPor)
.head 6 -  !
.head 6 -  Set sConsulta = sConsulta || " 
UNION 
" || sConsultaBase || " AND 
			A.RECIBIDE LIKE '%" || dfTexto|| "%'  " 
.head 5 -  !
.head 5 +  If SalIsButtonChecked(cbNomPac)
.head 6 -  !
.head 6 -  Set sConsulta = sConsulta || " 
UNION 
" || sConsultaBase || " AND 
			A.COD_RECIBO in 
							(select RECIBO from pagos where cod_factura in 
								(select F.cod_factura from facturas F, pacientes P where P.primer_nom like '%" || dfTexto || "%' and F.cod_paciente = P.cod_paciente and F.correl_paciente 
								= P.correl_paciente)) " 
.head 5 +  If SalIsButtonChecked(cbApellidoPac)
.head 6 -  !
.head 6 -  Set sConsulta = sConsulta || " 
UNION 
" || sConsultaBase || " AND 
			A.COD_RECIBO in 
							(select RECIBO from pagos where cod_factura in 
							(select F.cod_factura from facturas F, pacientes P where P.primer_ape like '%" || dfTexto || "%' and F.cod_paciente = P.cod_paciente and F.correl_paciente = P.correl_paciente))" 
.head 5 -  Set sConsulta=sConsulta||" INTO 
				:tbl1.colRecibo,
				:tbl1.colFecha,
				:tbl1.colDescripcion,
				:tbl1.colMonto,
				:tbl1.colRecibide "
.head 5 -  Set sConsulta=sConsulta||" ORDER BY 
				A.FECHA "
.head 3 +  Function: ConstruirSQL2
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set sConsultaBase2 = " 
		Select 
			A.COD_FACTURA,
			A.DESCRIPCION,
			A.COD_PACIENTE,
			B.PRIMER_NOM + '   ' + B.PRIMER_APE,
                         		A.FECHA_REGISTRO,
			A.TOTAL, 
			A.MONTO_HONORARIOS		
		from	 
			FACTURAS A,
			PACIENTES B
		where	
			A.COD_PACIENTE		= B.COD_PACIENTE AND
                                                A.CORREL_PACIENTE	= B.CORREL_PACIENTE AND			
			(
        				(:cbFechaDesde = 0) OR		
        				(:cbFechaDesde = 1 AND A.FECHA_REGISTRO >= :dfFechaDesde)
        							
        			) AND
        			(
        				(:cbFechaHasta = 0) OR		
        				(:cbFechaHasta = 1 AND A.FECHA_REGISTRO <= :dfFechaHasta)
        							
        			) " 			
.head 5 -  !
.head 5 -  Set sConsulta2 = sConsultaBase2 || " AND
			:cbDescRecibo 	= 0 	AND 
			:cbCanceladoPor 	= 0 	AND
			:cbNomPac	= 0	AND
			:cbApellidoPac	= 0 "
.head 5 +  If SalIsButtonChecked(cbNomPac)
.head 6 -  !
.head 6 -  Set sConsulta2 =sConsulta2 || " 
UNION 
" || sConsultaBase2 || " AND 
			B.PRIMER_NOM LIKE '%" || dfTexto || "%' " 
.head 5 -  !
.head 5 +  If SalIsButtonChecked(cbApellidoPac)
.head 6 -  !
.head 6 -  Set sConsulta2 = sConsulta2 || " 
UNION 
" || sConsultaBase2 || " AND 
			B.PRIMER_APE LIKE '%" || dfTexto|| "%'  " 
.head 5 -  !
.head 5 +  If SalIsButtonChecked(cbDescRecibo)
.head 6 -  !
.head 6 -  Set sConsulta2 = sConsulta2 || " 
UNION 
" || sConsultaBase2 || " AND 
			A.COD_FACTURA in 
							(select  cod_factura from pagos where RECIBO in 
								(select R.COD_RECIBO from RECIBOS R where R.DESCRIPCION like '%" || dfTexto || "%' )) " 
.head 5 +  If SalIsButtonChecked(cbCanceladoPor)
.head 6 -  !
.head 6 -  Set sConsulta2 = sConsulta2 || " 
UNION 
" || sConsultaBase2 || " AND 
			A.COD_FACTURA in 
							(select  cod_factura from pagos where RECIBO in 
								(select R.COD_RECIBO from RECIBOS R where R.RECIBIDE like '%" || dfTexto || "%' )) " 
.head 5 -  Set sConsulta2=sConsulta2||" INTO 
				:tbl3.Cod_Factura,
				:tbl3.Descripcion,
				:tbl3.Cod_Paciente,
				:tbl3.Nombre,
				:tbl3.Fecha_Registro,
				:tbl3.Total,
				:tbl3.Honorarios "
.head 5 -  Set sConsulta2=sConsulta2||" ORDER BY 
				A.FECHA_REGISTRO "
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: sConsulta
.head 3 -  String: sConsultaBase
.head 3 -  String: sConsulta2
.head 3 -  String: sConsultaBase2
.head 2 -  Message Actions
.head 1 +  Form Window: frmOrdenesServicio
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Emision de Ordenes de Servicio
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  11.417"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 9.286"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 +  Menu
.head 3 +  Popup Menu: Opciones
.head 4 -  Resource Id: 885
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 4 +  Menu Item: Nueva Orden
.head 5 -  Resource Id: 886
.head 5 -  Keyboard Accelerator: Ctrl+N
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbNuevo, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Guardar Orden
.head 5 -  Resource Id: 887
.head 5 -  Keyboard Accelerator: Ctrl+S
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbGuardar, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Cerrar Orden
.head 5 -  Resource Id: 888
.head 5 -  Keyboard Accelerator: Ctrl+R
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbCerrarOrden, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Etched
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.845"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 +  Contents
.head 4 +  Pushbutton: pbGuardar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.983"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.6"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filesave.bmp
.head 5 -  Picture Transparent Color: White
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 -  !
.head 7 -  !
.head 7 +  If SalIsNull(dfOrden)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe especificar el No de Orden", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 8 -  Return FALSE
.head 7 +  If SalIsNull(cmbCuidades)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe seleccionar una ciudad!", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 8 -  Call SalSetFocus(cmbCuidades)
.head 8 -  Return FALSE
.head 7 +  If SalIsNull(dfPaciente)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe especificar el codigo del paciente", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 8 -  Call SalSetFocus(dfPaciente)
.head 8 -  Return FALSE
.head 7 +  Else
.head 8 -  !
.head 8 -  ! -----Cuando es codigo temporal siempre se debe especificar el nombre del paciente
.head 8 +  If dfPaciente = 'TEMPCOD'
.head 9 -  !
.head 9 +  If SalIsNull(dfNombre)
.head 10 -  !
.head 10 -  Call SalMessageBox( "Debe especificar el nombre del paciente temporal", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 10 -  Call SalSetFocus(dfNombre)
.head 10 -  Return FALSE
.head 7 +  If SalIsNull(dfPacienteCorrel)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe especificar el correlativo del paciente", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 8 -  Call SalSetFocus(dfPacienteCorrel)
.head 8 -  Return FALSE
.head 7 +  If SalIsNull(cmbMedicosOS)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe seleccionar el medico/destino", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 8 -  Call SalSetFocus(cmbMedicosOS)
.head 8 -  Return FALSE
.head 7 +  If SalIsNull(cmbCategServiciosOS)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe seleccionar la categoria de servicio", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 8 -  Call SalSetFocus(cmbCategServiciosOS)
.head 8 -  Return FALSE
.head 7 +  If SalIsNull(cmbServicios)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe seleccionar el servicio", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 8 -  Call SalSetFocus(cmbServicios)
.head 8 -  Return FALSE
.head 7 +  ! If SalIsNull(dfPrecio)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe especificar el precio", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 8 -  Call SalSetFocus(dfPrecio)
.head 8 -  Return FALSE
.head 7 +  If SalIsNull(cmbUsuariosOS)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe especificar el precio.", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 8 -  Call SalSetFocus(cmbUsuariosOS)
.head 8 -  Return FALSE
.head 7 +  If rbCheque
.head 8 -  !
.head 8 +  If SalIsNull(dfCheque)
.head 9 -  !
.head 9 -  Call SalMessageBox( "Debe especificar el # de Cheque", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 9 -  Return FALSE
.head 7 -  !
.head 7 -  ! --------------Verificar si la orden ya existe
.head 7 -  Set sSQL = "   SELECT
			*
		FROM
			ORDENES_SERVICIO
		WHERE
			CODIGO   =   :dfOrden"
.head 7 -  Call SqlExists (sSQL, bExistsOrder)
.head 7 -  Call SqlClearImmediate()
.head 7 -  !
.head 7 -  ! --------Preparar los datos a guardar
.head 7 +  If not PrepareData()
.head 8 -  Return FALSE
.head 7 -  !
.head 7 -  ! ----------Ejecutar la actualizacion o insercion
.head 7 +  If bExistsOrder
.head 8 -  !
.head 8 -  ! ---------Verificar que el numero de orden no haya sido tomada por otro usuario (Asegurar la concurrencia)
.head 8 +  If bNuevaOrden=TRUE
.head 9 -  Set dfOrden=Identity(702)
.head 9 -  Call SalMessageBox( 'El Numero de Orden ya existe. Se reasiganara al siguiente NUMERO : '||SalNumberToStrX( dfOrden ,0 ) ,
'Advertencia', MB_Ok )
.head 8 -  !
.head 8 -  Call DoUpdate(  )
.head 7 +  Else
.head 8 -  !
.head 8 -  Call DoInsert(  )
.head 7 -  !
.head 7 -  Set bNuevaOrden=FALSE
.head 7 -  !
.head 7 -  Call CargarDatosOrden()
.head 7 -  Return TRUE
.head 4 +  Pushbutton: pbBuscarOrden
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 2.283"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.6"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: F3
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 +  If bNuevaOrden
.head 8 -  !
.head 8 -  Set sSQL = "   SELECT
			*
		FROM
			ORDENES_SERVICIO
		WHERE
			CODIGO   =   :dfOrden"
.head 8 -  Call SqlExists (sSQL, bExistsOrder)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If SalMessageBox("Ha seleccionado crear una nueva orden. Desea guardar los cambios antes de salir?","Atencion",MB_YesNo)=IDYES
.head 9 -  !
.head 9 -  Call SalSendMsg (pbGuardar, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  !
.head 9 +  If not bExistsOrder
.head 10 -  !
.head 10 -  Set sSQL = 'DELETE FROM
		 IDENTITYS 
	WHERE 
		cod_tabla = 702 AND
		MAXIMO = :dfOrden'
.head 10 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 10 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 10 -  !
.head 10 -  Set bNuevaOrden =FALSE
.head 10 -  Set nRegresaOrden= NUMBER_Null
.head 10 -  Call SalModalDialog( dlgConsultaOrdenes, hWndForm,nRegresaOrden, 1)
.head 10 +  If nRegresaOrden != NUMBER_Null
.head 11 -  !
.head 11 -  Set dfOrden =nRegresaOrden
.head 11 -  Call CargarDatosOrden()
.head 7 +  Else
.head 8 -  !
.head 8 -  Set bNuevaOrden =FALSE
.head 8 -  Set nRegresaOrden= NUMBER_Null
.head 8 -  Call SalModalDialog( dlgConsultaOrdenes, hWndForm,nRegresaOrden, 1)
.head 8 +  If nRegresaOrden != NUMBER_Null
.head 9 -  !
.head 9 -  Set dfOrden =nRegresaOrden
.head 9 -  Call CargarDatosOrden()
.head 4 +  Pushbutton: pbImprimir
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 7.983"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.6"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Set params[0] = SalNumberToStrX(dfOrden,0)
.head 7 -  Set strRepTitle = " Ordenes de Servicio"
.head 7 -  Set strReportName = strRepPath||"\\OrdenesServicio.rpt"
.head 7 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 6 +  ! On SAM_Click
.head 7 -  Call SalCreateWindow( frmImprimir, hWndForm,
"Orden de Servicio",
strRepPath || "\\ORDEN_SERVICIO.QRP"," :n1,:s1,:s2,:s3,:s4,:s5,:s6,:s7,:n2, :s8, :s9, :ls1",
"O.CODIGO,        		
CIUDAD,
COD_PACIENTE,
NOMBRE_PACIENTE,        		
EMPRESA,        		
MEDICO,        			
CATEGORIA_SERVICIO,
DETALLE_SERVICIO,        		
O.TOTAL,
OBSERVACIONES,        		
AUTORIZACION,
DIRECCION_DESTINO",

"SELECT
        			O.CODIGO,        		
        			C.NOMBRE AS CIUDAD,
		                O.COD_PACIENTE + '-' + O.CORREL_PACIENTE AS COD_PACIENTE,
        			(CASE                    
                            			WHEN O.COD_PACIENTE = 'TEMPCOD' THEN O.NOMBRE_TMP
                            			ELSE P.PRIMER_NOM + ' ' + P.SEGUNDO_NOM + ' ' + P.PRIMER_APE  + ' ' + P.SEGUNDO_APE
                        		 END )AS NOMBRE_PACIENTE,        		
        			E.NOMBRE AS EMPRESA,        		
        			M.NOMBRE AS MEDICO,        			
        			R.NOMBRE AS CATEGORIA_SERVICIO,
        			O.DETALLE_SERVICIO AS DETALLE_SERVICIO,        		
        			O.TOTAL,
        			O.OBSERVACIONES AS OBSERVACIONES,        		
        			U.NOMBREFIRMA AS AUTORIZACION,
			M.DIRECCION AS DIRECCION_DESTINO
	FROM
        			ORDENES_SERVICIO    	O,
        			CIUDADES_GEO        	C,
        			PACIENTES           		P,
        			EMPRESAS            		E,
        			MEDICOS          		M,
        			ESPECIALIDAD     		I,
        			SERVICIOS 		R,					
        			USUARIOS_OS         	U
	WHERE
        			O.CODIGO 			=:frmOrdenesServicio.dfOrden       	AND        			    
        			O.CODIGO_CIUDAD_GEO 				*= C.CODIGO   	AND 
        			O.COD_PACIENTE + O.CORREL_PACIENTE 		*= P.COD_PACIENTE + P.CORREL_PACIENTE AND 
        			P.COD_EMPRESA 				*= E.COD_EMPRESA  	AND 
        			O.CODIGO_MEDICO 			*= M.COD_MEDICO 	AND
        			M.COD_ESPECIALIDAD 			*= I.COD_ESPECIALIDAD  	AND
			O.CODIGO_SERVICIO 			*= R.COD_SERVICIO 	AND  
			O.COD_CATEGORIA			*= R.COD_CATEGORIA 	AND  					
        			O.AUTORIZADO_POR 			*= U.CODIGO 	

	INTO
			 :n1,:s1,:s2,:s3,:s4,:s5,:s6,:s7,:n2, :s8, :s9, :ls1",'', FALSE)
.head 4 +  Pushbutton: pbQuickPrint
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 8.7"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.6"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filequickprint.bmp
.head 5 -  Picture Transparent Color: None
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Set params[0] = SalNumberToStrX(dfOrden,0)
.head 7 -  Set strRepTitle = " Ordenes de Servicio"
.head 7 -  Set strReportName = strRepPath||"\\OrdenesServicio.rpt"
.head 7 -  Call SalCreateWindow( frmCrystalRptPrint, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 6 +  ! On SAM_Click
.head 7 -  Call SalCreateWindow( frmImprimir, hWndForm,
"Orden de Servicio",
strRepPath || "\\ORDEN_SERVICIO.QRP"," :n1,:s1,:s2,:s3,:s4,:s5,:s6,:s7,:n2, :s8, :s9, :ls1",
"O.CODIGO,        		
CIUDAD,
COD_PACIENTE,
NOMBRE_PACIENTE,        		
EMPRESA,        		
MEDICO,        			
CATEGORIA_SERVICIO,
DETALLE_SERVICIO,        		
O.TOTAL,
OBSERVACIONES,        		
AUTORIZACION,
DIRECCION_DESTINO",

"SELECT
        			O.CODIGO,        		
        			C.NOMBRE AS CIUDAD,
		                O.COD_PACIENTE + '-' + O.CORREL_PACIENTE AS COD_PACIENTE,
        			(CASE                    
                            			WHEN O.COD_PACIENTE = 'TEMPCOD' THEN O.NOMBRE_TMP
                            			ELSE P.PRIMER_NOM + ' ' + P.SEGUNDO_NOM + ' ' + P.PRIMER_APE  + ' ' + P.SEGUNDO_APE
                        		 END )AS NOMBRE_PACIENTE,        		
        			E.NOMBRE AS EMPRESA,        		
        			M.NOMBRE AS MEDICO,        			
        			R.NOMBRE AS CATEGORIA_SERVICIO,
        			O.DETALLE_SERVICIO AS DETALLE_SERVICIO,        		
        			O.TOTAL,
        			O.OBSERVACIONES AS OBSERVACIONES,        		
        			U.NOMBREFIRMA AS AUTORIZACION,
			M.DIRECCION AS DIRECCION_DESTINO
	FROM
        			ORDENES_SERVICIO    	O,
        			CIUDADES_GEO        	C,
        			PACIENTES           		P,
        			EMPRESAS            		E,
        			MEDICOS          		M,
        			ESPECIALIDAD     		I,
        			SERVICIOS 		R,					
        			USUARIOS_OS         	U
	WHERE
        			O.CODIGO 			=:frmOrdenesServicio.dfOrden       	AND        			    
        			O.CODIGO_CIUDAD_GEO 				*= C.CODIGO   	AND 
        			O.COD_PACIENTE + O.CORREL_PACIENTE 		*= P.COD_PACIENTE + P.CORREL_PACIENTE AND 
        			P.COD_EMPRESA 				*= E.COD_EMPRESA  	AND 
        			O.CODIGO_MEDICO 			*= M.COD_MEDICO 	AND
        			M.COD_ESPECIALIDAD 			*= I.COD_ESPECIALIDAD  	AND
			O.CODIGO_SERVICIO 			*= R.COD_SERVICIO 	AND  
			O.COD_CATEGORIA			*= R.COD_CATEGORIA 	AND  					
        			O.AUTORIZADO_POR 			*= U.CODIGO 	

	INTO
			 :n1,:s1,:s2,:s3,:s4,:s5,:s6,:s7,:n2, :s8, :s9, :ls1",'', TRUE)
.head 4 +  Pushbutton: pbPuestt
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Deptos.
.head 5 -  Window Location and Size
.head 6 -  Left: 7.283"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.6"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\pacientes.bmp
.head 5 -  Picture Transparent Color: None
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 +  If dfPaciente = "TEMPCOD"
.head 8 -  Call SalMessageBox( "Debe ingresar el paciente con codigo temporal en el maestro de Pacientes" , "Error", MB_Ok )
.head 8 -  Return FALSE
.head 7 -  !
.head 7 +  If not ActualizarPaciente()
.head 8 -  Call SalMessageBox( "Codigo invalido" , "Error", MB_Ok )
.head 8 -  Return FALSE
.head 7 -  !
.head 7 -  Set nDepto = NUMBER_Null
.head 7 -  Call SalModalDialog( dlgDeptosMaquila, hWndForm, nDepto, sRegresaDepto)
.head 7 +  If nDepto = NUMBER_Null
.head 8 -  !
.head 8 -  Call SalMessageBox( "No existe el departamento. Debe guardarlo en el maestro de Departamentos" , "Error", MB_Ok )
.head 8 -  Return FALSE
.head 7 -  !
.head 7 -  Set dfDepto = sRegresaDepto
.head 7 -  Call UpdateDept()
.head 7 -  ! Call CargarDatosOrden()
.head 4 +  Pushbutton: pbCerrarOrden
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 6.583"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.6"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\decrypted.bmp
.head 5 -  Picture Transparent Color: White
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 -  Call CerrarOrden(  )
.head 7 -  Call CargarDatosOrden()
.head 4 +  Pushbutton: pbNuevo
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.283"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.6"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filenew.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 +  If bNuevaOrden
.head 8 -  !
.head 8 -  Set sSQL = "   SELECT
			*
		FROM
			ORDENES_SERVICIO
		WHERE
			CODIGO   =   :dfOrden"
.head 8 -  Call SqlExists (sSQL, bExistsOrder)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If SalMessageBox("Ha seleccionado crear una nueva orden. Desea guardar los cambios antes de continuar?","Atencion",MB_YesNo)=IDYES
.head 9 -  !
.head 9 -  Call SalSendMsg (pbGuardar, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  !
.head 9 +  If not bExistsOrder
.head 10 -  !
.head 10 -  Set sSQL = 'DELETE FROM
		 IDENTITYS 
	WHERE 
		cod_tabla = 702 AND
		MAXIMO = :dfOrden'
.head 10 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 10 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 10 -  !
.head 10 -  Call ResetControls()
.head 10 -  Call LoadDefaultValues()
.head 10 -  ! !
.head 10 -  Call SalDisableWindow ( dfCheque )
.head 10 -  Call SalDisableWindow ( dfNombre )
.head 10 -  Call SalSetFocus( dfOrden )
.head 7 +  Else
.head 8 -  !
.head 8 -  Call SalClearField(dfEstado)
.head 8 -  Call SalClearField(dfCreadoPor)
.head 8 -  Call SalClearField(dfModificadoPor)
.head 8 -  Call ResetControls()
.head 8 -  Call LoadDefaultValues()
.head 8 -  ! !
.head 8 -  Call SalDisableWindow ( dfCheque )
.head 8 -  Call SalDisableWindow ( dfNombre )
.head 8 -  Call SalSetFocus( dfOrden )
.head 4 +  Pushbutton: pbEliminar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.683"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.6"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\editdelete.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 -  Call AnularOrden(  )
.head 7 -  Call CargarDatosOrden()
.head 4 +  Pushbutton: pb9
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 9.683"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.6"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 +  If bNuevaOrden
.head 8 -  !
.head 8 -  Set sSQL = "   SELECT
			*
		FROM
			ORDENES_SERVICIO
		WHERE
			CODIGO   =   :dfOrden"
.head 8 -  Call SqlExists (sSQL, bExistsOrder)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If SalMessageBox("Ha seleccionado crear una nueva orden. Desea guardar los cambios antes de salir?","Atencion",MB_YesNo)=IDYES
.head 9 -  !
.head 9 -  Call SalSendMsg (pbGuardar, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  !
.head 9 +  If not bExistsOrder
.head 10 -  !
.head 10 -  Set sSQL = 'DELETE FROM
		 IDENTITYS 
	WHERE 
		cod_tabla = 702 AND
		MAXIMO = :dfOrden'
.head 10 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 10 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 10 -  !
.head 10 -  Call SalSendClassMessage ( SAM_Click, 0, 0)
.head 7 +  Else
.head 8 -  !
.head 8 -  Call SalSendClassMessage ( SAM_Click, 0, 0)
.head 4 +  Data Field: dfEstado
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatDataField
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: String
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 4.583"
.head 7 -  Top:    0.571"
.head 7 -  Width:  1.9"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Center
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Bold
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfModificadoPor
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatDataField
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: String
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 4.583"
.head 7 -  Top:    0.325"
.head 7 -  Width:  1.9"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Center
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Bold
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfCreadoPor
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatDataField
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: String
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 4.583"
.head 7 -  Top:    -0.012"
.head 7 -  Width:  1.9"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Center
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Bold
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 -  Background Text: Creado por
.head 5 -  Resource Id: 914
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 3.183"
.head 6 -  Top:    0.095"
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: Modificado por:
.head 5 -  Resource Id: 915
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 2.983"
.head 6 -  Top:    0.369"
.head 6 -  Width:  1.467"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: Estado
.head 5 -  Resource Id: 916
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 3.617"
.head 6 -  Top:    0.643"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 2 +  Contents
.head 3 -  Background Text: No. Orden :
.head 4 -  Resource Id: 889
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.083"
.head 5 -  Top:    0.429"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Fecha de Emision
.head 4 -  Resource Id: 890
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.883"
.head 5 -  Top:    0.429"
.head 5 -  Width:  4.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Medico
.head 4 -  Resource Id: 891
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.583"
.head 5 -  Top:    2.75"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Especialidad
.head 4 -  Resource Id: 892
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.583"
.head 5 -  Top:    2.524"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Categoria de servicio
.head 4 -  Resource Id: 893
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.017"
.head 5 -  Top:    3.048"
.head 5 -  Width:  1.667"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Detalle de Servicio:
.head 4 -  Resource Id: 894
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.983"
.head 5 -  Top:    3.595"
.head 5 -  Width:  1.667"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Empresa
.head 4 -  Resource Id: 895
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.183"
.head 5 -  Top:    1.679"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Paciente
.head 4 -  Resource Id: 896
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.183"
.head 5 -  Top:    1.452"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Ciudad de Emision
.head 4 -  Resource Id: 897
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.917"
.head 5 -  Top:    0.429"
.head 5 -  Width:  2.967"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfOrden
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.083"
.head 6 -  Top:    0.571"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Yes
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: 3D Face Color
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  !
.head 6 +  If not SalIsNull(dfOrden)
.head 7 -  !
.head 7 -  ! ------------Informacion General de la Orden
.head 7 -  !
.head 7 -  Call CargarDatosOrden(  )
.head 3 +  Custom Control: ccFecha
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 2.883"
.head 6 -  Top:    0.595"
.head 6 -  Width:  4.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Combo Box: cmbCuidades
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.083"
.head 5 -  Top:    0.595"
.head 5 -  Width:  2.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbCuidades.nCaso=1
.head 6 -  Set cmbCuidades.sTabla='CIUDADES_GEO'
.head 6 -  Set cmbCuidades.sNombre='NOMBRE'
.head 6 -  Set cmbCuidades.sCodigo='CODIGO'
.head 3 +  Data Field: dfPaciente
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.283"
.head 6 -  Top:    1.321"
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.31"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_KillFocus
.head 6 -  !
.head 6 +  If dfPaciente = "TEMPCOD"
.head 7 -  !
.head 7 -  Set dfPacienteCorrel = '0'
.head 7 -  Call SalEnableWindow(dfNombre)
.head 7 -  Call SalSetFocus(dfNombre)
.head 6 +  Else
.head 7 -  !
.head 7 -  Call SalDisableWindow(dfNombre)
.head 3 +  Data Field: dfPacienteCorrel
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.583"
.head 6 -  Top:    1.321"
.head 6 -  Width:  0.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.31"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Call ActualizarPaciente()
.head 3 +  Data Field: dfNombre
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.083"
.head 6 -  Top:    1.321"
.head 6 -  Width:  5.033"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.298"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Combo Box: cmbEspecialidad
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.783"
.head 5 -  Top:    2.429"
.head 5 -  Width:  6.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEspecialidad.nCaso = 1
.head 6 -  Set cmbEspecialidad.sTabla = 'ESPECIALIDAD'
.head 6 -  Set cmbEspecialidad.sNombre='NOMBRE'
.head 6 -  Set cmbEspecialidad.sCodigo='COD_ESPECIALIDAD'
.head 5 +  On SAM_Validate
.head 6 -  Set sSQL = "
			SELECT
				NOMBRE
			FROM
				MEDICOS
			WHERE
				COD_ESPECIALIDAD = :cmbEspecialidad.nCodigo
			ORDER BY
				NOMBRE"
.head 6 -  Call SalListClear(cmbMedicosOS)
.head 6 -  Call SalListPopulate(cmbMedicosOS, hSql1, sSQL)
.head 6 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 3 +  Data Field: dfCodMedico
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.783"
.head 6 -  Top:    2.738"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_KillFocus
.head 6 -  !
.head 6 +  If not SalIsNull (dfCodMedico)
.head 7 -  !
.head 7 -  Set sSQL = "SELECT 
    		M.NOMBRE,
    		M.COD_ESPECIALIDAD,
    		E.NOMBRE    
	FROM
    		MEDICOS M,
    		ESPECIALIDAD E
	WHERE
    		M.COD_MEDICO = :dfCodMedico AND
    		E.COD_ESPECIALIDAD = M.COD_ESPECIALIDAD
	INTO 
		:cmbMedicosOS,
		:cmbEspecialidad.nCodigo , 
		:cmbEspecialidad" 
.head 7 -  Call SqlExists(sSQL , bExists)
.head 7 -  Call SqlClearImmediate()
.head 7 +  If not bExists
.head 8 -  Call SalMessageBox("Medico no existe","ERROR",MB_Ok)
.head 8 -  Set dfCodMedico=NUMBER_Null
.head 8 -  Set cmbMedicosOS=''
.head 3 +  Combo Box: cmbMedicosOS
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatComboBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.483"
.head 5 -  Top:    2.714"
.head 5 -  Width:  6.1"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_DropDown
.head 6 -  !
.head 6 -  ! -----------------Los medicos pueden ser desplegados con/sin filtro de especialidad
.head 6 +  If not SalIsNull(cmbEspecialidad)
.head 7 -  !
.head 7 -  Set sMedico = cmbMedicosOS
.head 7 -  Set sSQL = "
			SELECT
				NOMBRE
			FROM
				MEDICOS
			WHERE
				COD_ESPECIALIDAD = :cmbEspecialidad.nCodigo
			ORDER BY
				NOMBRE"
.head 7 -  ! Call SalListClear(cmbMedicosOS)
.head 7 -  Call SalListPopulate(cmbMedicosOS, hSql1, sSQL)
.head 7 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 7 -  !
.head 7 -  Call SalListSelectString( hWndItem, -1,sMedico)
.head 6 +  Else
.head 7 -  !
.head 7 -  !
.head 7 -  Set sMedico = cmbMedicosOS
.head 7 -  Set sSQL = "
			SELECT
				NOMBRE
			FROM
				MEDICOS
			ORDER BY
				NOMBRE"
.head 7 -  ! Call SalListClear(cmbMedicosOS)
.head 7 -  Call SalListPopulate(cmbMedicosOS, hSql1, sSQL)
.head 7 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 7 -  !
.head 7 -  Call SalListSelectString( hWndItem, -1,sMedico)
.head 6 -  !
.head 5 +  On SAM_Validate
.head 6 -  !
.head 6 -  !
.head 6 -  Set sSQL = "
	SELECT 
    		M.COD_MEDICO,
    		M.COD_ESPECIALIDAD,
    		E.NOMBRE    
	FROM
    		MEDICOS M,
    		ESPECIALIDAD E
	WHERE
    		M.NOMBRE = :cmbMedicosOS AND
    		E.COD_ESPECIALIDAD = M.COD_ESPECIALIDAD
	INTO 
		:dfCodMedico,
		:cmbEspecialidad.nCodigo , 
		:cmbEspecialidad
	"
.head 6 -  Call SqlImmediate(sSQL)
.head 6 -  Call SqlClearImmediate( )
.head 3 +  Data Field: dfCodCategoria
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.783"
.head 6 -  Top:    2.988"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_KillFocus
.head 6 -  !
.head 6 +  If not SalIsNull (dfCodCategoria)
.head 7 -  !
.head 7 -  Set sSQL = "select 
		A.COD_CATEGORIA,
		A.NOMBRE  
	from 
		CATEG_SERVICIOS A 
	where 
		A.COD_CATEGORIA=:dfCodCategoria
	into 
		:cmbCategServiciosOS.sCodigos , 
		:cmbCategServiciosOS" 
.head 7 -  Call SqlExists(sSQL , bExists)
.head 7 -  Call SqlClearImmediate()
.head 7 +  If not bExists
.head 8 -  Call SalMessageBox("Categoria no existe","ERROR",MB_Ok)
.head 8 -  Set dfCodCategoria=''
.head 8 -  Set cmbCategServiciosOS=''
.head 7 +  Else
.head 8 -  !
.head 8 -  Call SalSendMsg ( cmbCategServiciosOS, SAM_DropDown, 0, 0 )
.head 3 +  Combo Box: cmbCategServiciosOS
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.483"
.head 5 -  Top:    2.964"
.head 5 -  Width:  6.1"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbCategServiciosOS.nCaso = 2
.head 6 -  Set cmbCategServiciosOS.sTabla = 'CATEG_SERVICIOS'
.head 6 -  Set cmbCategServiciosOS.sNombre='NOMBRE'
.head 6 -  Set cmbCategServiciosOS.sCodigo='COD_CATEGORIA'
.head 5 +  On SAM_Validate
.head 6 -  !
.head 6 -  ! ----------Cargar los servicios de la categoria seleccionada
.head 6 -  Set sSQL = "
			SELECT
				NOMBRE
			FROM
				SERVICIOS
			WHERE
				COD_CATEGORIA = :cmbCategServiciosOS.sCodigos AND
				EN_USO = 1
			ORDER BY
				NOMBRE"
.head 6 -  Call SalListClear(cmbServicios)
.head 6 -  Call SalListPopulate(cmbServicios, hSql1, sSQL)
.head 6 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 6 -  !
.head 6 -  Set dfCodCategoria=cmbCategServiciosOS.sCodigos
.head 3 +  Data Field: dfCodServicio
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.783"
.head 6 -  Top:    3.238"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_KillFocus
.head 6 -  !
.head 6 -  ! ------Se debe especificar antes la categoria de servicio
.head 6 +  If not SalIsNull (dfCodServicio)
.head 7 -  !
.head 7 +  If not SalIsNull(cmbCategServiciosOS)
.head 8 -  !
.head 8 -  Set sSQL = "select 
		A.NOMBRE
	from 
		SERVICIOS A
	where 
		A.COD_SERVICIO 		=:dfCodServicio and 
		A.COD_CATEGORIA	=:cmbCategServiciosOS.sCodigos and 
		A.EN_USO 		= 1
  	into 
		:cmbServicios"
.head 8 -  Call SqlExists(sSQL ,bExists)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If not bExists
.head 9 -  Call SalMessageBox("Servicio no existe o ha sido desactivado","ERROR",MB_Ok)
.head 9 -  Set dfCodServicio=''
.head 9 -  Set cmbServicios=''
.head 9 -  Call SalSetFocus(dfCodServicio)
.head 7 +  Else
.head 8 -  !
.head 8 -  Call SalMessageBox("Debe especificar la categoria de servicio","ADVERTENCIA",MB_Ok)
.head 3 +  Combo Box: cmbServicios
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatComboBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.483"
.head 5 -  Top:    3.238"
.head 5 -  Width:  6.1"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_DropDown
.head 6 -  !
.head 6 -  ! ---------------Antes de especificar el servicio se debe especificar la categoria
.head 6 +  If not SalIsNull(cmbCategServiciosOS)
.head 7 -  !
.head 7 -  ! -----------Cargar los servicios de la categoria seleccionada
.head 7 -  Set sServicio = cmbServicios
.head 7 -  Set sSQL = "
			SELECT
				NOMBRE
			FROM
				SERVICIOS
			WHERE
				COD_CATEGORIA = :cmbCategServiciosOS.sCodigos AND
				EN_USO = 1
			ORDER BY
				NOMBRE"
.head 7 -  Call SalListClear(cmbServicios)
.head 7 -  Call SalListPopulate(cmbServicios, hSql1, sSQL)
.head 7 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 7 -  !
.head 7 -  Call SalListSelectString( hWndItem, -1,sServicio)
.head 6 -  !
.head 5 +  On SAM_Validate
.head 6 -  !
.head 6 -  ! --------Obtener el codigo del servicio solo si se ha especificado la categoria
.head 6 +  If not SalIsNull(cmbCategServiciosOS)
.head 7 -  !
.head 7 -  Set sSQL = "select
		COD_SERVICIO
    	from
		SERVICIOS
	where
		COD_CATEGORIA = :cmbCategServiciosOS.sCodigos AND
		EN_USO = 1 AND
		NOMBRE = :cmbServicios 
  	into
		:dfCodServicio"
.head 7 -  Call SqlImmediate(sSQL)
.head 7 -  Call SqlClearImmediate( )
.head 6 +  Else
.head 7 -  !
.head 7 -  Call SalMessageBox("Debe especificar la categoria de servicio","ADVERTENCIA",MB_Ok)
.head 3 -  Background Text: Servicio
.head 4 -  Resource Id: 898
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.017"
.head 5 -  Top:    3.321"
.head 5 -  Width:  1.667"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbGenerarDetalle
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.183"
.head 5 -  Top:    3.786"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F2
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\abiword_abi.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  ! -----Generar el detalle
.head 6 -  Set dfFecha = ccFecha.GetSystemTime()
.head 6 -  Call SalFmtFieldToStr ( dfFecha, sFecha, TRUE )
.head 6 -  Set mlDetalleServicio = 'Favor dar consulta al paciente '  || dfNombre || ' el dia '  || sFecha || ' a las '
.head 3 +  Multiline Field: mlDetalleServicio
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  String Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Border? Yes
.head 5 -  Word Wrap? No
.head 5 -  Vertical Scroll? Yes
.head 5 -  Window Location and Size
.head 6 -  Left: 2.783"
.head 6 -  Top:    3.571"
.head 6 -  Width:  6.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.714"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cbPagada
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Pagada
.head 4 -  Window Location and Size
.head 5 -  Left: 1.283"
.head 5 -  Top:    4.988"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 -  Group Box: Forma de Pago
.head 4 -  Resource Id: 899
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.883"
.head 5 -  Top:    4.738"
.head 5 -  Width:  3.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.75"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Radio Button: rbEfectivo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Efectivo
.head 4 -  Window Location and Size
.head 5 -  Left: 3.083"
.head 5 -  Top:    4.905"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If rbEfectivo
.head 7 -  !
.head 7 -  Call SalClearField(dfCheque)
.head 7 -  Call SalDisableWindow ( dfCheque )
.head 6 +  Else
.head 7 -  !
.head 7 -  Call SalEnableWindow ( dfCheque )
.head 3 +  Radio Button: rbCheque
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Cheque
.head 4 -  Window Location and Size
.head 5 -  Left: 3.083"
.head 5 -  Top:    5.155"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If rbCheque
.head 7 -  !
.head 7 -  Call SalEnableWindow ( dfCheque )
.head 6 +  Else
.head 7 -  !
.head 7 -  Call SalDisableWindow ( dfCheque )
.head 3 +  Data Field: dfCheque
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.383"
.head 6 -  Top:    5.155"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfCantidad
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.383"
.head 6 -  Top:    4.738"
.head 6 -  Width:  2.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  !
.head 6 +  If SalIsNull(dfCantidad) or dfCantidad =0
.head 7 -  Set dfCantidad = 1
.head 3 +  Data Field: dfPrecio
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.383"
.head 6 -  Top:    4.988"
.head 6 -  Width:  2.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  !
.head 6 -  Call SalSendMsg (dfCantidad, SAM_Validate, 0, 0)
.head 6 +  If SalIsNull(dfPrecio)
.head 7 -  Set dfPrecio = 0
.head 6 -  Set dfTotal = dfCantidad * dfPrecio
.head 3 +  Data Field: dfTotal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.383"
.head 6 -  Top:    5.238"
.head 6 -  Width:  2.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Combo Box: cmbUsuariosOS
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.05"
.head 5 -  Top:    6.488"
.head 5 -  Width:  3.533"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.048"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Yes
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbUsuariosOS.nCaso = 1
.head 6 -  Set cmbUsuariosOS.sTabla = 'USUARIOS_OS'
.head 6 -  Set cmbUsuariosOS.sNombre='NOMBREFIRMA'
.head 6 -  Set cmbUsuariosOS.sCodigo='CODIGO'
.head 6 -  !
.head 6 -  !
.head 3 +  Multiline Field: mlObservaciones
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatMultilineField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  String Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Border? Class Default
.head 5 -  Word Wrap? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Window Location and Size
.head 6 -  Left: 4.983"
.head 6 -  Top:    6.321"
.head 6 -  Width:  4.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.667"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 -  Group Box: Datos Paciente
.head 4 -  Resource Id: 900
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.883"
.head 5 -  Top:    1.155"
.head 5 -  Width:  9.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.917"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Servicios Medicos
.head 4 -  Resource Id: 901
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.883"
.head 5 -  Top:    2.238"
.head 5 -  Width:  9.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Datos Generales
.head 4 -  Resource Id: 902
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.883"
.head 5 -  Top:    0.155"
.head 5 -  Width:  9.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.833"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 903
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.383"
.head 5 -  Top:    4.655"
.head 5 -  Width:  2.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.417"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Raised-Shadow
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 904
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    0.071"
.head 5 -  Width:  10.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 7.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Raised-Shadow
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Especificacion de Pago
.head 4 -  Resource Id: 905
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.883"
.head 5 -  Top:    4.488"
.head 5 -  Width:  9.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.417"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Total
.head 4 -  Resource Id: 906
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.583"
.head 5 -  Top:    5.262"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfDisponible
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.383"
.head 6 -  Top:    5.488"
.head 6 -  Width:  2.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Monto Disponible
.head 4 -  Resource Id: 907
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.783"
.head 5 -  Top:    5.536"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Precio
.head 4 -  Resource Id: 908
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.65"
.head 5 -  Top:    5.036"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Cantidad
.head 4 -  Resource Id: 909
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.617"
.head 5 -  Top:    4.81"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Observaciones Adicionales
.head 4 -  Resource Id: 910
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.883"
.head 5 -  Top:    6.071"
.head 5 -  Width:  5.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.0"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Firma y Autorizacion
.head 4 -  Resource Id: 911
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.883"
.head 5 -  Top:    6.071"
.head 5 -  Width:  3.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.0"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: #
.head 4 -  Resource Id: 912
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.383"
.head 5 -  Top:    5.012"
.head 5 -  Width:  1.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Puesto
.head 4 -  Resource Id: 913
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.45"
.head 5 -  Top:    1.679"
.head 5 -  Width:  0.633"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfDepto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.183"
.head 6 -  Top:    1.655"
.head 6 -  Width:  2.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfEmpresa
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.283"
.head 6 -  Top:    1.655"
.head 6 -  Width:  3.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbBuscarPaciente
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.083"
.head 5 -  Top:    1.321"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F1
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\access.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Single
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set sRegresaPac=''
.head 6 -  Set sRegresaCor=''
.head 6 -  Call SalModalDialog( dlgConsultaPacientesO, hWndForm,sRegresaPac,sRegresaCor, 3, 1, 1 )
.head 6 +  If sRegresaPac!=''
.head 7 -  Set dfPaciente 		=sRegresaPac
.head 7 -  Set dfPacienteCorrel 	=sRegresaCor
.head 7 -  Call ActualizarPaciente()
.head 3 +  Data Field: dfFecha
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.683"
.head 6 -  Top:    0.988"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 2 +  Functions
.head 3 +  Function: ActualizarPaciente
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Boolean: bExistsPacient
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set sSQL = "select
		A.PRIMER_NOM + ' ' +A.SEGUNDO_NOM + ' ' + A.PRIMER_APE  + ' ' + A.SEGUNDO_APE,
  		A.COD_EMPRESA	,
		A.CODIGO_DEPTO
    	from
		PACIENTES A
	where
		A.COD_PACIENTE  	=:dfPaciente  and
		A.CORREL_PACIENTE	=:dfPacienteCorrel and
		A.ESTADO_PAC != 1
  	into
		:dfNombre,
		:nEmpresa,
		:nPuesto"
.head 5 -  Call SqlExists(  sSQL, bExistsPacient)
.head 5 -  Call SqlClearImmediate( )
.head 5 +  If not bExistsPacient
.head 6 -  Call SalMessageBox( "Codigo inválido" , "Error", MB_Ok )
.head 6 -  Set dfPaciente=''
.head 6 -  Set dfPacienteCorrel = ''
.head 6 -  Call SalSetFocus(dfPaciente)
.head 6 -  Return FALSE
.head 5 -  !
.head 5 -  ! Cargar la empresa a la que pertenece el empleado
.head 5 -  ! ----
.head 5 -  Set sSQL = "select
		A.NOMBRE
	from
		EMPRESAS A
	where
		COD_EMPRESA=:nEmpresa
	into
		:dfEmpresa"
.head 5 -  Call SqlImmediate( sSQL)
.head 5 -  Call SqlClearImmediate( )
.head 5 -  !
.head 5 -  ! ------------Cargar el puesto del empleado
.head 5 -  Set sSQL = "select
		A.NOMBRE
	from
		DEPTOS_MAQUILA A
	where
		CODIGO = :nPuesto
	into
		:dfDepto"
.head 5 -  Call SqlImmediate( sSQL)
.head 5 -  Call SqlClearImmediate( )
.head 5 -  Return TRUE
.head 3 +  Function: ResetControls
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Window Handle: hWndChild
.head 5 -  Number: nHwndChild
.head 5 -  Number: nType
.head 4 +  Actions
.head 5 -  Set hWndChild = SalGetFirstChild( hWndForm, TYPE_Any )
.head 5 +  While hWndChild != hWndNULL
.head 6 -  Set nHwndChild = SalWindowHandleToNumber( hWndChild )
.head 6 -  Set nType = SalGetType( hWndChild )
.head 6 +  If nType = TYPE_ChildTable
.head 7 -  Call SalTblReset( hWndChild )
.head 6 +  Else If nType = TYPE_DataField or nType = TYPE_MultilineText or nType = TYPE_CheckBox or nType = TYPE_ComboBox
.head 7 -  Call SalClearField( hWndChild )
.head 6 -  Set hWndChild = SalGetNextChild( hWndChild, TYPE_Any )
.head 5 -  !
.head 5 -  !
.head 3 +  Function: LoadDefaultValues
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  ! Set sSQL = "SELECT
        				ISNULL(MAX(CODIGO),0) + 1
		FROM
       			ORDENES_SERVICIO
		INTO
			:dfOrden"
.head 5 -  ! Call SqlImmediate ( sSQL )
.head 5 -  ! Call SqlClearImmediate ()
.head 5 -  !
.head 5 -  ! Call ccFecha.SetSystemTime(GDT_VALID, SalDateCurrent ( ))
.head 5 -  Set dfCantidad = 1
.head 5 -  Set dfPrecio = 0
.head 5 -  Set dfTotal = 0
.head 5 -  Set rbEfectivo = TRUE
.head 5 -  Set dfOrden = Identity(702)
.head 5 -  Set bNuevaOrden = TRUE
.head 5 -  !
.head 5 -  ! ------------Seleccionar el usuario actual como autorizador de la orden
.head 5 -  Set sSQL= "SELECT 
			A.CODIGO,
        			A.NOMBREFIRMA
		FROM
        			USUARIOS_OS A,
        			USUARIOS B
		WHERE
        			B.NOMBRE = :sNombreUsuario AND
        			A.CODIGO = B.COD_USU   
		INTO
			:cmbUsuariosOS.nCodigo,
			:cmbUsuariosOS"
.head 5 -  Call SqlImmediate (sSQL)
.head 5 -  Call SqlClearImmediate()
.head 5 -  !
.head 5 -  ! ---------------Seleccionar la ciudad 
.head 5 -  Set sSQL= "SELECT
        		CODIGO,
        		NOMBRE
	FROM
        		CIUDADES_GEO
	WHERE
        		NOMBRE = :strCiudad
	INTO
		:cmbCuidades.nCodigo,
		:cmbCuidades"
.head 5 -  Call SqlImmediate (sSQL)
.head 5 -  Call SqlClearImmediate()
.head 3 +  Function: CargarDatosOrden
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  Set sSQL = "SELECT
			O.ESTADO,
        			O.FECHA,
        			O.CODIGO_CIUDAD_GEO,
        			C.NOMBRE,
			O.COD_PACIENTE,
        			O.CORREL_PACIENTE,
        			(CASE
                            			WHEN O.COD_PACIENTE = 'TEMPCOD' THEN O.NOMBRE_TMP
                            			ELSE P.PRIMER_NOM + ' ' + P.SEGUNDO_NOM + ' ' + P.PRIMER_APE  + ' ' + P.SEGUNDO_APE
                        		 END ),
        			P.COD_EMPRESA,
        			E.NOMBRE,
			P.CODIGO_DEPTO,
			D.NOMBRE,
        			O.CODIGO_MEDICO,
        			M.NOMBRE,
        			M.COD_ESPECIALIDAD,
        			I.NOMBRE,
        			O.CODIGO_SERVICIO,
        			R.NOMBRE,
			O.COD_CATEGORIA,
			G.NOMBRE,
        			O.DETALLE_SERVICIO,
        			O.PAGADA,
        			O.FORMA_PAGO,
        			O.NO_CHEQUE,
        			O.CANTIDAD,
			O.PRECIO,
        			O.TOTAL,
        			O.OBSERVACIONES,
        			O.AUTORIZADO_POR,
        			U.NOMBREFIRMA,
			P.DISPONIBLE
	FROM
        			ORDENES_SERVICIO    	O,
        			CIUDADES_GEO        	C,
        			PACIENTES           		P,
        			EMPRESAS            		E,
			DEPTOS_MAQUILA 	D,
        			MEDICOS          		M,
        			ESPECIALIDAD    		I,
        			SERVICIOS 		R,
			CATEG_SERVICIOS	G,
        			USUARIOS_OS         	U
	WHERE
        			O.CODIGO 				= :dfOrden        AND
        			O.CODIGO_CIUDAD_GEO 			*= C.CODIGO   AND
        			O.COD_PACIENTE + O.CORREL_PACIENTE 	*= P.COD_PACIENTE + P.CORREL_PACIENTE AND
        			P.COD_EMPRESA 				*= E.COD_EMPRESA  	AND
			P.CODIGO_DEPTO 			*= D.CODIGO 		AND
        			O.CODIGO_MEDICO 			*= M.COD_MEDICO 	AND
        			M.COD_ESPECIALIDAD 			*= I.COD_ESPECIALIDAD  	AND
			O.CODIGO_SERVICIO 			*= R.COD_SERVICIO 	AND
			O.COD_CATEGORIA			*= R.COD_CATEGORIA 	AND
			R.COD_CATEGORIA 			*= G.COD_CATEGORIA	AND
        			O.AUTORIZADO_POR 			*= U.CODIGO

			
	INTO
			:nEstado,
			:dfFecha,
			:cmbCuidades.nCodigo,
			:cmbCuidades,
			:dfPaciente,
			:dfPacienteCorrel,
			:dfNombre,
			:nEmpresa,
			:dfEmpresa,
			:nDepto,
			:dfDepto,
			:nMedico,
			:cmbMedicosOS
			:cmbEspecialidad.nCodigo,
			:cmbEspecialidad,
			:sCodServicio,
			:cmbServicios,
			:cmbCategServiciosOS.sCodigos,
			:cmbCategServiciosOS,
			:mlDetalleServicio,
			:cbPagada,
			:nFormaPago,
			:dfCheque,
			:dfCantidad,
			:dfPrecio,
			:dfTotal,
			:mlObservaciones,
			:cmbUsuariosOS.nCodigo,
			:cmbUsuariosOS,
			:dfDisponible"
.head 5 -  Call SqlImmediate ( sSQL )
.head 5 -  Call SqlClearImmediate ()
.head 5 -  !
.head 5 -  Set sSQL = "SELECT
		U.NOMBRE
	FROM
		USUARIOS U,
		ORDENES_SERVICIO O
	WHERE
		O.CODIGO = :dfOrden        AND
		U.COD_USU = O.CREADO_POR 
	INTO
		:dfCreadoPor"
.head 5 -  Call SqlImmediate ( sSQL )
.head 5 -  Call SqlClearImmediate ()
.head 5 -  !
.head 5 -  Set sSQL = "SELECT
		U.NOMBRE
	FROM
		USUARIOS U,
		ORDENES_SERVICIO O
	WHERE
		O.CODIGO = :dfOrden        AND
		U.COD_USU = O.MODIFICADO_POR 
	INTO
		:dfModificadoPor"
.head 5 -  Call SqlImmediate ( sSQL )
.head 5 -  Call SqlClearImmediate ()
.head 5 -  !
.head 5 +  Select Case nEstado
.head 6 +  Case 0
.head 7 -  Set dfEstado='EN PROCESO'
.head 7 -  Break
.head 6 +  Case 1
.head 7 -  Set dfEstado='CERRADA'
.head 7 -  Break
.head 6 +  Case 2
.head 7 -  Set dfEstado='ANULADA'
.head 7 -  Break
.head 5 -  ! --------Setear valores
.head 5 -  Call ccFecha.SetSystemTime(GDT_VALID, dfFecha)
.head 5 -  !
.head 5 +  If nFormaPago = 1
.head 6 -  Set rbEfectivo = TRUE
.head 6 -  Call SalDisableWindow(dfCheque)
.head 5 +  Else
.head 6 -  Set rbCheque = TRUE
.head 6 -  Call SalEnableWindow(dfCheque)
.head 5 -  !
.head 5 -  Set dfCodMedico = nMedico
.head 5 -  Set dfCodServicio = sCodServicio
.head 5 -  Set dfCodCategoria = cmbCategServiciosOS.sCodigos
.head 5 -  !
.head 5 -  Call SalWaitCursor(FALSE)
.head 3 +  Function: DoUpdate
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Date/Time: dtHoy
.head 4 +  Actions
.head 5 -  !
.head 5 +  If nEstado = 0
.head 6 -  !
.head 6 -  Call SalWaitCursor(TRUE)
.head 6 -  Set dtHoy = SalDateCurrent()
.head 6 -  Set sSQL = 'UPDATE
		ORDENES_SERVICIO
	SET
		FECHA                     		=	:dfFecha,
		CODIGO_CIUDAD_GEO         	=	:cmbCuidades.nCodigo,
		COD_PACIENTE              		=	:dfPaciente,
    		CORREL_PACIENTE           		=	:dfPacienteCorrel,
		NOMBRE_TMP			=	:dfNombre,
    		CODIGO_MEDICO            		= 	:nMedico,
		COD_CATEGORIA			=	:cmbCategServiciosOS.sCodigos,
    		CODIGO_SERVICIO           		=	:sCodServicio,
    		DETALLE_SERVICIO		=	:mlDetalleServicio,
		PAGADA				=	:cbPagada,
		FORMA_PAGO			= 	:nFormaPago,
		NO_CHEQUE			=	:dfCheque,
    		CANTIDAD                  		=	:dfCantidad,
    		PRECIO                    		=	:dfPrecio,
		TOTAL                     		=	:dfTotal,
    		AUTORIZADO_POR            		=	:cmbUsuariosOS.nCodigo,
    		OBSERVACIONES             		=	:mlObservaciones,
		MODIFICADO_POR		=	:nUser,
		FECHA_MODIFICACION		=	:dtHoy
	WHERE
		CODIGO = :dfOrden'
.head 6 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  Call SalWaitCursor(FALSE)
.head 6 -  !
.head 5 +  Else If nEstado = 1
.head 6 -  !
.head 6 -  !
.head 6 -  Call SalMessageBox ("La orden esta cerrada. No puede actualizarla.","MENSAJE",MB_Ok)
.head 6 -  ! Call SalWaitCursor(TRUE)
.head 6 -  ! Set dtHoy = SalDateCurrent()
.head 6 -  ! Set sSQL = 'UPDATE
		ORDENES_SERVICIO
	SET	
		CANTIDAD			=	:dfCantidad,			
    		PRECIO                    		=	:dfPrecio,
		TOTAL				=	:dfTotal,
		MODIFICADO_POR		=	:nUser,
		FECHA_MODIFICACION		=	:dtHoy
	WHERE
		CODIGO = :dfOrden'
.head 6 -  ! Call SqlPrepareAndExecute(hSql1, sSQL)
.head 6 -  ! Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  ! Call SalWaitCursor(FALSE)
.head 5 +  Else If nEstado = 2
.head 6 -  !
.head 6 -  !
.head 6 -  Call SalMessageBox ("La orden esta anulada. No puede actualizarla.","MENSAJE",MB_Ok)
.head 4 +  !
.head 5 -  -----------Actualizar la orden existente
.head 4 -  ! Set sSQL = 'UPDATE
		ORDENES_SERVICIO
	SET
		FECHA                     		=,
    		PACIENTE                  		=,
    		CODIGO_MEDICO            		= ,
    		CODIGO_ESPECIALIDAD       	=,
    		CODIGO_CATEGORIA_SERVICIO 	=,
    		CODIGO_SERVICIO           		=,
    		CODIGO_EMPRESA            		=,
    		CODIGO_DEPTO_MAQUILA      	=,
    		CODIGO_DEPTO_GEO          	=,
    		CODIGO_CIUDAD_GEO         	=,
    		CANTIDAD                  		=,
    		PRECIO                    		=,
    		AUTORIZADO_POR            		=,
    		OBSERVACIONES             		=,
    		TOTAL                     		=,
    		CODIGO_COMP_SERVICIO      	=,
    		COD_PACIENTE              		=,
    		CORREL_PACIENTE           		=
	WHERE
		CODIGO = :dfOrden'
.head 4 -  ! Call SqlPrepareAndExecute(hSql1, sSQL)
.head 4 -  ! Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 +  !
.head 5 -  -----------Actualizar la orden existente
.head 4 -  ! Set sSQL = 'UPDATE
		ORDENES_SERVICIO
	SET
		FECHA                     		=,
    		PACIENTE                  		=,
    		CODIGO_MEDICO            		= ,
    		CODIGO_ESPECIALIDAD       	=,
    		CODIGO_CATEGORIA_SERVICIO 	=,
    		CODIGO_SERVICIO           		=,
    		CODIGO_EMPRESA            		=,
    		CODIGO_DEPTO_MAQUILA      	=,
    		CODIGO_DEPTO_GEO          	=,
    		CODIGO_CIUDAD_GEO         	=,
    		CANTIDAD                  		=,
    		PRECIO                    		=,
    		AUTORIZADO_POR            		=,
    		OBSERVACIONES             		=,
    		TOTAL                     		=,
    		CODIGO_COMP_SERVICIO      	=,
    		COD_PACIENTE              		=,
    		CORREL_PACIENTE           		=
	WHERE
		CODIGO = :dfOrden'
.head 4 -  ! Call SqlPrepareAndExecute(hSql1, sSQL)
.head 4 -  ! Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  ! Set sSQL = 'UPDATE
		ORDENES_SERVICIO
	SET
		FECHA                     		=,
    		PACIENTE                  		=,
    		CODIGO_MEDICO            		= ,
    		CODIGO_ESPECIALIDAD       	=,
    		CODIGO_CATEGORIA_SERVICIO 	=,
    		CODIGO_SERVICIO           		=,
    		CODIGO_EMPRESA            		=,
    		CODIGO_DEPTO_MAQUILA      	=,
    		CODIGO_DEPTO_GEO          	=,
    		CODIGO_CIUDAD_GEO         	=,
    		CANTIDAD                  		=,
    		PRECIO                    		=,
    		AUTORIZADO_POR            		=,
    		OBSERVACIONES             		=,
    		TOTAL                     		=,
    		CODIGO_COMP_SERVICIO      	=,
    		COD_PACIENTE              		=,
    		CORREL_PACIENTE           		=
	WHERE
		CODIGO = :dfOrden'
.head 4 -  ! Call SqlPrepareAndExecute(hSql1, sSQL)
.head 4 -  ! Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  ! Set sSQL = 'UPDATE
		ORDENES_SERVICIO
	SET
		FECHA                     		=,
    		PACIENTE                  		=,
    		CODIGO_MEDICO            		= ,
    		CODIGO_ESPECIALIDAD       	=,
    		CODIGO_CATEGORIA_SERVICIO 	=,
    		CODIGO_SERVICIO           		=,
    		CODIGO_EMPRESA            		=,
    		CODIGO_DEPTO_MAQUILA      	=,
    		CODIGO_DEPTO_GEO          	=,
    		CODIGO_CIUDAD_GEO         	=,
    		CANTIDAD                  		=,
    		PRECIO                    		=,
    		AUTORIZADO_POR            		=,
    		OBSERVACIONES             		=,
    		TOTAL                     		=,
    		CODIGO_COMP_SERVICIO      	=,
    		COD_PACIENTE              		=,
    		CORREL_PACIENTE           		=
	WHERE
		CODIGO = :dfOrden'
.head 4 -  ! Call SqlPrepareAndExecute(hSql1, sSQL)
.head 4 -  ! Call SqlPrepareAndExecute(hSql1,"commit")
.head 3 +  Function: DoInsert
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set sSQL = "INSERT INTO
		ORDENES_SERVICIO
			(
    				CODIGO,
    				FECHA,
    				CODIGO_MEDICO,
				COD_CATEGORIA,
    				CODIGO_SERVICIO,
    				CODIGO_CIUDAD_GEO,
    				CANTIDAD,
    				PRECIO,
    				TOTAL,
    				AUTORIZADO_POR,
    				OBSERVACIONES,
    				COD_PACIENTE,
    				CORREL_PACIENTE,
				NOMBRE_TMP,
    				DETALLE_SERVICIO,
    				PAGADA,
    				FORMA_PAGO,
    				NO_CHEQUE,
				CREADO_POR
			)
		VALUES
			(
				:dfOrden,
				:dfFecha,
				:nMedico,
				:cmbCategServiciosOS.sCodigos,
				:sCodServicio,
				:cmbCuidades.nCodigo,
				:dfCantidad,
				:dfPrecio,
				:dfTotal,
				:cmbUsuariosOS.nCodigo,
				:mlObservaciones,
				:dfPaciente,
				:dfPacienteCorrel,
				:dfNombre,
				:mlDetalleServicio,
				:cbPagada,
				:nFormaPago,
				:dfCheque,
				:nUser
									
			)"
.head 5 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 3 +  Function: PrepareData
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Boolean: bExistsMedico
.head 5 -  Boolean: bExistsServicio
.head 4 +  Actions
.head 5 -  !
.head 5 +  If dfPaciente = "TEMPCOD"
.head 6 -  !
.head 6 -  Set dfPacienteCorrel = '0'
.head 5 -  !
.head 5 -  Set dfFecha = ccFecha.GetSystemTime()
.head 5 -  !
.head 5 +  If rbEfectivo
.head 6 -  Set nFormaPago = 1
.head 5 +  Else
.head 6 -  Set nFormaPago = 0
.head 5 -  !
.head 5 +  If dfCantidad = 0 or SalIsNull(dfCantidad)
.head 6 -  Set dfCantidad = 1
.head 5 +  If SalIsNull(dfPrecio)
.head 6 -  Set dfPrecio = 0
.head 5 -  Set dfTotal = dfCantidad * dfPrecio
.head 5 +  ! If SalIsNull(dfTotal)
.head 6 -  !
.head 6 -  Set dfTotal = dfCantidad * dfPrecio
.head 5 -  !
.head 5 -  ! -------Obtener el codigo medico
.head 5 -  Set sSQL = "select
		COD_MEDICO
    	from
		MEDICOS
	where
		NOMBRE = :cmbMedicosOS
  	into
		:nMedico"
.head 5 -  Call SqlExists(  sSQL, bExistsMedico)
.head 5 -  Call SqlClearImmediate( )
.head 5 +  If not bExistsMedico
.head 6 -  Call SalMessageBox( "Medico no existe. Debe ingresarlo desde el maestro de Medicos" , "Error", MB_Ok )
.head 6 -  Set cmbMedicosOS=''
.head 6 -  Return FALSE
.head 5 -  !
.head 5 -  !
.head 5 -  ! -------Obtener el codigo servicio
.head 5 -  Set sSQL = "select
		COD_SERVICIO
    	from
		SERVICIOS
	where
		COD_CATEGORIA = :cmbCategServiciosOS.sCodigos AND
		EN_USO = 1 AND
		NOMBRE = :cmbServicios 
  	into
		:sCodServicio"
.head 5 -  Call SqlExists(  sSQL, bExistsServicio)
.head 5 -  Call SqlClearImmediate( )
.head 5 +  If not bExistsServicio
.head 6 -  Call SalMessageBox( "Servicio no existe. Debe ingresarlo desde el maestro de Servicios" , "Error", MB_Ok )
.head 6 -  Set cmbServicios=''
.head 6 -  Return FALSE
.head 5 -  !
.head 5 -  !
.head 5 -  ! -------Obtener el codigo del usuario que ha creado/modificado la orden
.head 5 -  Set sSQL = "select
		COD_USU
    	from
		USUARIOS
	where
		NOMBRE = :sNombreUsuario
  	into
		:nUser"
.head 5 -  Call SqlImmediate(  sSQL)
.head 5 -  Call SqlClearImmediate( )
.head 5 -  !
.head 5 -  Return TRUE
.head 3 +  Function: UpdateDept
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  Set sSQL = 'UPDATE
		PACIENTES
	SET
		CODIGO_DEPTO = :nDepto
	WHERE
		COD_PACIENTE = :dfPaciente AND
		CORREL_PACIENTE = :dfPacienteCorrel'
.head 5 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  Call SalWaitCursor(FALSE)
.head 3 +  Function: VerificarCambios
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 -  Actions
.head 3 +  Function: AnularOrden
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Boolean: bExisteOrden
.head 5 -  Number: nEstadoOrden
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set sSQL = "select
		A.ESTADO
    	from
		ORDENES_SERVICIO  A
	where
		A.CODIGO  =:dfOrden
  	into
		:nEstadoOrden "
.head 5 -  Call SqlExists( sSQL,bExisteOrden)
.head 5 -  Call SqlClearImmediate( )
.head 5 +  If not bExisteOrden
.head 6 -  Call SalMessageBox( "La orden no existe" , "Error", MB_Ok )
.head 5 +  Else
.head 6 +  Select Case nEstadoOrden
.head 7 +  Case 0
.head 8 -  Call SalMessageBox( "La Orden no se puede Anular, esta en PROCESO", "Error", MB_Ok )
.head 8 -  Break
.head 8 -  !
.head 7 +  Case 1
.head 8 +  If SalMessageBox( "Esta seguro de anular la Orden?", "Advertencia", MB_YesNo )=IDYES
.head 9 -  !
.head 9 -  Set sSQL = "update
		ORDENES_SERVICIO
                 set
		ESTADO	=2
	where
		CODIGO  = :dfOrden"
.head 9 -  Call SqlPrepareAndExecute( hSql1,  sSQL)
.head 9 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 9 -  Call SalMessageBox ("La Orden ha sido ANULADA","MENSAJE",MB_Ok)
.head 8 -  Break
.head 8 -  !
.head 7 +  Case 2
.head 8 -  Call SalMessageBox( "La Orden ya fue anulada", "Error", MB_Ok )
.head 8 -  Break
.head 8 -  !
.head 3 +  Function: CerrarOrden
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Boolean: bExisteOrden
.head 5 -  Number: nEstadoOrden
.head 5 -  Boolean: bExistePacienteAseg
.head 5 -  Number: nTipoPaciente
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set sSQL = "select
		A.ESTADO
    	from
		ORDENES_SERVICIO  A
	where
		A.CODIGO  =:dfOrden
  	into
		:nEstadoOrden "
.head 5 -  Call SqlExists( sSQL,bExisteOrden)
.head 5 -  Call SqlClearImmediate( )
.head 5 +  If not bExisteOrden
.head 6 -  Call SalMessageBox( "La orden no existe" , "Error", MB_Ok )
.head 5 +  Else
.head 6 +  Select Case nEstadoOrden
.head 7 +  Case 0
.head 8 -  !
.head 8 +  If SalMessageBox( "Esta seguro de Cerrar la Orden?", "Advertencia", MB_YesNo )=IDYES
.head 9 -  !
.head 9 -  Call SybExecuteProc( hSql6, "CERRAR_ORDEN_SERVICIO " || SalNumberToStrX (dfOrden, 0) , STRING_Null)
.head 9 -  !
.head 9 -  Call SalMessageBox ("La Orden ha sido CERRADA","MENSAJE",MB_Ok)
.head 8 -  !
.head 8 -  Break
.head 7 +  Case 1
.head 8 -  Call SalMessageBox( "La Orden ya fue  cerrada ", "Error", MB_Ok )
.head 8 -  Break
.head 7 +  ! Case 2
.head 8 -  Call SalMessageBox( "La Factura esta Anulada, no puede cerrarse", "Error", MB_Ok )
.head 8 -  Break
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: sSQL
.head 3 -  Boolean: bExistsOrder
.head 3 -  String: sRegresaPac
.head 3 -  String: sRegresaCor
.head 3 -  String: sFecha
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 3 -  Number: nEmpresa
.head 3 -  Number: nMedico
.head 3 -  String: sMedico
.head 3 -  String: sServicio
.head 3 -  Number: nFormaPago
.head 3 -  Number: nRegresaOrden
.head 3 -  Number: nDepto
.head 3 -  String: sRegresaDepto
.head 3 -  String: sCodServicio
.head 3 -  Number: nPuesto
.head 3 -  Boolean: bNuevaOrden
.head 3 -  Number: nUser
.head 3 -  Number: nEstado
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  ! Call DeshabilitarTodo(  )
.head 4 -  ! Call SalDisableWindow(pbGrabar)
.head 4 -  Call SalCenterWindow(frmOrdenesServicio)
.head 4 -  Set bNuevaOrden=FALSE
.head 3 +  On SAM_Destroy
.head 4 -  !
.head 4 +  If bNuevaOrden
.head 5 -  !
.head 5 -  Set sSQL = "   SELECT
			*
		FROM
			ORDENES_SERVICIO
		WHERE
			CODIGO   =   :dfOrden"
.head 5 -  Call SqlExists (sSQL, bExistsOrder)
.head 5 -  Call SqlClearImmediate()
.head 5 +  If not bExistsOrder
.head 6 -  !
.head 6 -  Set sSQL = 'DELETE FROM
		 IDENTITYS 
	WHERE 
		cod_tabla = 702 AND
		MAXIMO = :dfOrden'
.head 6 -  Call SqlPrepareAndExecute(hSql1, sSQL)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  !
.head 1 +  Dialog Box: dlgConsultaOrdenes
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Consulta de Ordenes de Servicio
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  11.15"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 7.262"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Frame
.head 4 -  Resource Id: 57248
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.155"
.head 5 -  Width:  10.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 6.583"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Raised-Shadow
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 +  Check Box: cbTitulares
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Solo Titulares?
.head 4 -  Window Location and Size
.head 5 -  Left: 1.75"
.head 5 -  Top:    3.179"
.head 5 -  Width:  1.833"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbImprimir
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.75"
.head 5 -  Top:    0.97"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If not SalIsNull(dfOrden)
.head 7 -  ! Set sConsulta = sConsulta || " AND O.CODIGO = :dfOrden"
.head 7 -  Set params[0] = '1'
.head 7 -  Set params[1] = SalNumberToStrX(dfOrden,0)
.head 6 +  Else
.head 7 -  Set params[0] = '0'
.head 6 +  If not SalIsNull(cmbUsuariosOS)
.head 7 -  ! Set sConsulta = sConsulta || " AND O.AUTORIZADO_POR = :cmbUsuariosOS.nCodigo"
.head 7 -  Set params[2] = '1'
.head 7 -  Set params[3] = SalNumberToStrX(cmbUsuariosOS.nCodigo,0)
.head 6 +  Else
.head 7 -  Set params[2] = '0'
.head 6 +  If not SalIsNull(cmbCiudades)
.head 7 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_CIUDAD_GEO = :cmbCiudades.nCodigo"
.head 7 -  Set params[4] = '1'
.head 7 -  Set params[5] = SalNumberToStrX(cmbCiudades.nCodigo,0)
.head 6 +  Else
.head 7 -  Set params[4] = '0'
.head 6 +  If not SalIsNull(cmbEspecialidad)
.head 7 -  !
.head 7 -  ! Set sConsulta = sConsulta || " AND M.COD_ESPECIALIDAD = :cmbEspecialidad.nCodigo"
.head 7 -  Set params[6] = '1'
.head 7 -  Set params[7] = SalNumberToStrX(cmbEspecialidad.nCodigo,0)
.head 6 +  Else
.head 7 -  Set params[6] = '0'
.head 6 +  If not SalIsNull(cmbMedicosOS)
.head 7 -  ! -------Obtener el codigo medico
.head 7 -  Set sSQL = "select
		COD_MEDICO
    	from
		MEDICOS
	where
		NOMBRE = :cmbMedicosOS
  	into
		:nMedico"
.head 7 -  Call SqlImmediate(  sSQL)
.head 7 -  Call SqlClearImmediate( )
.head 7 -  !
.head 7 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_MEDICO = :nMedico"
.head 7 -  Set params[8] = '1'
.head 7 -  Set params[9] = SalNumberToStrX(nMedico,0)
.head 6 +  Else
.head 7 -  Set params[8] = '0'
.head 6 +  If not SalIsNull(cmbCategServiciosOS)
.head 7 -  !
.head 7 -  ! Set sConsulta = sConsulta || " AND O.COD_CATEGORIA = :cmbCategServiciosOS.sCodigos"
.head 7 -  Set params[10] = '1'
.head 7 -  Set params[11] = cmbCategServiciosOS.sCodigos
.head 6 +  Else
.head 7 -  Set params[10] = '0'
.head 6 +  If not SalIsNull(cmbServicios)
.head 7 -  !
.head 7 -  ! -------Obtener el codigo del servicio
.head 7 -  Set sSQL = "select
		COD_SERVICIO
    	from
		SERVICIOS
	where
		COD_CATEGORIA = :cmbCategServiciosOS.sCodigos AND
		EN_USO = 1 AND
		NOMBRE = :cmbServicios
  	into
		:sServicio"
.head 7 -  Call SqlImmediate(  sSQL)
.head 7 -  Call SqlClearImmediate( )
.head 7 -  !
.head 7 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_SERVICIO = :sServicio"
.head 7 -  Set params[12] = '1'
.head 7 -  Set params[13] = sServicio
.head 6 +  Else
.head 7 -  Set params[12] = '0'
.head 6 +  If not SalIsNull(dfPaciente)
.head 7 -  ! Set sConsulta = sConsulta || " AND O.COD_PACIENTE = :dfPaciente"
.head 7 -  Set params[14] = '1'
.head 7 -  Set params[15] = dfPaciente
.head 6 +  Else
.head 7 -  Set params[14] = '0'
.head 6 +  If not SalIsNull(dfPacienteCorrel)
.head 7 -  ! Set sConsulta = sConsulta || " AND O.CORREL_PACIENTE = :dfPacienteCorrel"
.head 7 -  Set params[16] = '1'
.head 7 -  Set params[17] = dfPacienteCorrel
.head 6 +  Else
.head 7 -  Set params[16] = '0'
.head 6 +  If not SalIsNull(dfNombre)
.head 7 -  ! Set sConsulta=sConsulta || "	AND	P.PRIMER_NOM   like '%" || dfNombre || "%' "
.head 7 -  Set params[18] = '1'
.head 7 -  Set params[19] = dfNombre
.head 6 +  Else
.head 7 -  Set params[18] = '0'
.head 6 +  If not SalIsNull(dfApellido)
.head 7 -  ! Set sConsulta=sConsulta || "	AND	P.PRIMER_APE   like '%" || dfApellido || "%' "
.head 7 -  Set params[20] = '1'
.head 7 -  Set params[21] = dfApellido
.head 6 +  Else
.head 7 -  Set params[20] = '0'
.head 6 +  If not SalIsNull(cmbEmpresa)
.head 7 -  ! Set sConsulta=sConsulta || "	AND	P.COD_EMPRESA = :cmbEmpresa.nCodigo "
.head 7 -  Set params[22] = '1'
.head 7 -  Set params[23] = SalNumberToStrX(cmbEmpresa.nCodigo,0)
.head 6 +  Else
.head 7 -  Set params[22] = '0'
.head 6 +  If SalIsButtonChecked(cbFechaDesde)
.head 7 -  !
.head 7 -  Set dfFechaDesde = ccFechaDesde.GetSystemTime()
.head 7 -  ! Set sConsulta=sConsulta || "	AND	O.FECHA >= :dfFechaDesde "

.head 7 -  Set params[24] = '1'
.head 7 -  Set params[25] = SalFmtFormatDateTime ( dfFechaDesde, 'dd/MM/yyyy' )
.head 6 +  Else
.head 7 -  Set params[24] = '0'
.head 6 +  If SalIsButtonChecked(cbFechaHasta)
.head 7 -  !
.head 7 -  Set dfFechaHasta = ccFechaHasta.GetSystemTime()
.head 7 -  ! Set sConsulta=sConsulta || "	AND O.FECHA <=  :dfFechaHasta "
.head 7 -  Set params[26] = '1'
.head 7 -  Set params[27] = SalFmtFormatDateTime ( dfFechaHasta, 'dd/MM/yyyy' )
.head 6 +  Else
.head 7 -  Set params[26] = '0'
.head 6 +  If not SalIsNull(cmbDepto)
.head 7 -  ! Set sConsulta=sConsulta || "	AND	P.CODIGO_DEPTO = :cmbDepto.nCodigo "
.head 7 -  Set params[28] = '1'
.head 7 -  Set params[29] = SalNumberToStrX(cmbDepto.nCodigo ,0)
.head 6 +  Else
.head 7 -  Set params[28] = '0'
.head 7 -  Set params[29] = SalNumberToStrX(cmbDepto.nCodigo ,0)
.head 6 -  !
.head 6 -  Set strRepTitle = " Reporte Estadistico - Ordenes de Servicio"
.head 6 -  Set strReportName = strRepPath||"\\OSEstadisticoS.rpt"
.head 6 -  !
.head 6 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 3 -  Background Text: Medico/Destino
.head 4 -  Resource Id: 57249
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.583"
.head 5 -  Top:    1.024"
.head 5 -  Width:  1.367"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Especialidad
.head 4 -  Resource Id: 57250
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.85"
.head 5 -  Top:    0.798"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Sumatoria Ordenes:
.head 4 -  Resource Id: 57251
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.183"
.head 5 -  Top:    6.476"
.head 5 -  Width:  1.733"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Total Ordenes:
.head 4 -  Resource Id: 57252
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.65"
.head 5 -  Top:    6.452"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Criterios de Busqueda
.head 4 -  Resource Id: 57253
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    0.238"
.head 5 -  Width:  9.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfOrden
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.883"
.head 6 -  Top:    0.655"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Combo Box: cmbUsuariosOS
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.883"
.head 5 -  Top:    0.929"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Yes
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbUsuariosOS.nCaso = 1
.head 6 -  Set cmbUsuariosOS.sTabla = 'USUARIOS_OS'
.head 6 -  Set cmbUsuariosOS.sNombre='NOMBREFIRMA'
.head 6 -  Set cmbUsuariosOS.sCodigo='CODIGO'
.head 3 +  Combo Box: cmbCiudades
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.883"
.head 5 -  Top:    1.179"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbCiudades.nCaso=1
.head 6 -  Set cmbCiudades.sTabla='CIUDADES_GEO'
.head 6 -  Set cmbCiudades.sNombre='NOMBRE'
.head 6 -  Set cmbCiudades.sCodigo='CODIGO'
.head 3 -  Background Text: Nombre
.head 4 -  Resource Id: 57254
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.883"
.head 5 -  Top:    2.119"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Codigo
.head 4 -  Resource Id: 57255
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.883"
.head 5 -  Top:    1.893"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfPaciente
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.783"
.head 6 -  Top:    1.738"
.head 6 -  Width:  1.867"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.31"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_KillFocus
.head 6 -  !
.head 6 +  If dfPaciente = "TEMPCOD"
.head 7 -  !
.head 7 -  Set dfPacienteCorrel = '0'
.head 3 +  Data Field: dfPacienteCorrel
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.683"
.head 6 -  Top:    1.738"
.head 6 -  Width:  0.533"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.31"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfNombre
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.783"
.head 6 -  Top:    2.071"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: No. Orden
.head 4 -  Resource Id: 57256
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    0.726"
.head 5 -  Width:  0.967"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfApellido
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.783"
.head 6 -  Top:    2.321"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  ! cmbBaseCodigo: cmbEmpresa
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 3 +  Combo Box: cmbEmpresa
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigoFiltrado
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.783"
.head 5 -  Top:    2.62"
.head 5 -  Width:  2.5"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.512"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 6 -  Set cmbEmpresa.sNombreFiltro='ESTADO'
.head 6 -  Set cmbEmpresa.nValorFiltro=1
.head 3 +  Combo Box: cmbDepto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.783"
.head 5 -  Top:    2.893"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbDepto.nCaso=1
.head 6 -  Set cmbDepto.sTabla='DEPTOS_MAQUILA'
.head 6 -  Set cmbDepto.sNombre='NOMBRE'
.head 6 -  Set cmbDepto.sCodigo='CODIGO'
.head 3 -  Background Text: Apellido
.head 4 -  Resource Id: 57257
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    2.369"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Fecha
.head 4 -  Resource Id: 57258
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.483"
.head 5 -  Top:    2.071"
.head 5 -  Width:  5.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.417"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Datos del Paciente
.head 4 -  Resource Id: 57259
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    1.571"
.head 5 -  Width:  3.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.917"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Datos Medicos
.head 4 -  Resource Id: 57260
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.483"
.head 5 -  Top:    0.488"
.head 5 -  Width:  5.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 57261
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    3.905"
.head 5 -  Width:  9.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.333"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 -  Group Box: Datos de Emision
.head 4 -  Resource Id: 57262
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    0.488"
.head 5 -  Width:  3.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.083"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Ciudad:
.head 4 -  Resource Id: 57263
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.817"
.head 5 -  Top:    1.202"
.head 5 -  Width:  0.933"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Autoriza:
.head 4 -  Resource Id: 57264
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.883"
.head 5 -  Top:    0.976"
.head 5 -  Width:  0.933"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Empresa
.head 4 -  Resource Id: 57265
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    2.643"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Depto
.head 4 -  Resource Id: 57266
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    2.917"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.783"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.983"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Combo Box: cmbEspecialidad
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.05"
.head 5 -  Top:    0.702"
.head 5 -  Width:  3.333"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEspecialidad.nCaso = 1
.head 6 -  Set cmbEspecialidad.sTabla = 'ESPECIALIDAD'
.head 6 -  Set cmbEspecialidad.sNombre='NOMBRE'
.head 6 -  Set cmbEspecialidad.sCodigo='COD_ESPECIALIDAD'
.head 5 +  On SAM_Validate
.head 6 -  Set sSQL = "
			SELECT
				NOMBRE
			FROM
				MEDICOS
			WHERE
				COD_ESPECIALIDAD = :cmbEspecialidad.nCodigo
			ORDER BY
				NOMBRE"
.head 6 -  Call SalListClear(cmbMedicosOS)
.head 6 -  Call SalListPopulate(cmbMedicosOS, hSql1, sSQL)
.head 6 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 3 +  Combo Box: cmbMedicosOS
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatComboBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.05"
.head 5 -  Top:    0.988"
.head 5 -  Width:  3.333"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_DropDown
.head 6 -  !
.head 6 +  If not SalIsNull(cmbEspecialidad)
.head 7 -  !
.head 7 -  Set sMedico = cmbMedicosOS
.head 7 -  Set sSQL = "
			SELECT
				NOMBRE
			FROM
				MEDICOS
			WHERE
				COD_ESPECIALIDAD = :cmbEspecialidad.nCodigo
			ORDER BY
				NOMBRE"
.head 7 -  ! Call SalListClear(cmbMedicosOS)
.head 7 -  Call SalListPopulate(cmbMedicosOS, hSql1, sSQL)
.head 7 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 7 -  !
.head 7 -  Call SalListSelectString( hWndItem, -1,sMedico)
.head 3 +  Combo Box: cmbCategServiciosOS
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.05"
.head 5 -  Top:    1.405"
.head 5 -  Width:  3.333"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbCategServiciosOS.nCaso = 2
.head 6 -  Set cmbCategServiciosOS.sTabla = 'CATEG_SERVICIOS'
.head 6 -  Set cmbCategServiciosOS.sNombre='NOMBRE'
.head 6 -  Set cmbCategServiciosOS.sCodigo='COD_CATEGORIA'
.head 5 +  On SAM_Validate
.head 6 -  !
.head 6 -  ! ----------Cargar los servicios de la categoria seleccionada
.head 6 -  Set sSQL = "
			SELECT
				NOMBRE
			FROM
				SERVICIOS
			WHERE
				COD_CATEGORIA = :cmbCategServiciosOS.sCodigos AND
				EN_USO = 1
			ORDER BY
				NOMBRE"
.head 6 -  Call SalListClear(cmbServicios)
.head 6 -  Call SalListPopulate(cmbServicios, hSql1, sSQL)
.head 6 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 6 -  !
.head 3 +  Combo Box: cmbServicios
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatComboBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.05"
.head 5 -  Top:    1.679"
.head 5 -  Width:  3.333"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_DropDown
.head 6 -  !
.head 6 -  ! ---------------Antes de especificar el servicio se debe especificar la categoria
.head 6 +  If not SalIsNull(cmbCategServiciosOS)
.head 7 -  !
.head 7 -  ! -----------Cargar los servicios de la categoria seleccionada
.head 7 -  Set sServicio = cmbServicios
.head 7 -  Set sSQL = "
			SELECT
				NOMBRE
			FROM
				SERVICIOS
			WHERE
				COD_CATEGORIA = :cmbCategServiciosOS.sCodigos AND
				EN_USO = 1
			ORDER BY
				NOMBRE"
.head 7 -  Call SalListClear(cmbServicios)
.head 7 -  Call SalListPopulate(cmbServicios, hSql1, sSQL)
.head 7 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 7 -  !
.head 7 -  Call SalListSelectString( hWndItem, -1,sServicio)
.head 6 -  !
.head 5 +  On SAM_Validate
.head 6 -  !
.head 6 -  ! --------Validar la categoria
.head 6 +  If SalIsNull(cmbCategServiciosOS)
.head 7 -  !
.head 7 -  Call SalMessageBox("Debe especificar antes la categoria de servicio","ADVERTENCIA",MB_Ok)
.head 3 -  Background Text: Categoria
.head 4 -  Resource Id: 57267
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.283"
.head 5 -  Top:    1.405"
.head 5 -  Width:  1.667"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Servicio
.head 4 -  Resource Id: 57268
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.783"
.head 5 -  Top:    1.679"
.head 5 -  Width:  1.167"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Check Box: cbFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Desde
.head 4 -  Window Location and Size
.head 5 -  Left: 4.55"
.head 5 -  Top:    2.405"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cbFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Hasta
.head 4 -  Window Location and Size
.head 5 -  Left: 4.55"
.head 5 -  Top:    2.929"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Custom Control: ccFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 5.483"
.head 6 -  Top:    2.405"
.head 6 -  Width:  3.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Custom Control: ccFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 5.483"
.head 6 -  Top:    2.929"
.head 6 -  Width:  3.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb3
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.767"
.head 5 -  Top:    1.56"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F3
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalWaitCursor( TRUE )
.head 6 -  Set sSQL = ConstructQuery()
.head 6 -  ! Call SalMessageBox(sSQL,'Sql',MB_Ok)
.head 6 -  Call SalTblPopulate( tblOrdenes, hSql1, sSQL, TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  Set dfTotal=ContarFilas( tblOrdenes )
.head 6 -  Set dfSumatoria = SalTblColumnSum( tblOrdenes, 6, 0, 0 )
.head 6 -  Call SalWaitCursor( FALSE )
.head 3 +  Child Table: tblOrdenes
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatChildTable
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.583"
.head 6 -  Top:    3.988"
.head 6 -  Width:  9.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 2.167"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colOrden
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: No. Orden
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Left
.head 6 -  Width:  1.083"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCodigoPaciente
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod Paciente
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  Default
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCorrelativoPaciente
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cor
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colNombrePaciente
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Nombre Paciente
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFechaEmision
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  Default
.head 6 -  Width Editable? Yes
.head 6 -  Format: dd/mm/yyyy
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMonto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Right
.head 6 -  Width:  1.317"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDestino
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Medico/Destino
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 +  Window Variables
.head 5 -  Number: nFila
.head 4 +  Message Actions
.head 5 +  On SAM_DoubleClick
.head 6 -  !
.head 6 +  If nFlag = 1
.head 7 -  !
.head 7 -  Call SalTblQueryFocus(tblOrdenes,nFila,tblOrdenes.colOrden)
.head 7 -  Call SalTblSetContext(tblOrdenes,nFila)
.head 7 -  Set nRegresa=tblOrdenes.colOrden
.head 7 -  Call SalEndDialog(dlgConsultaOrdenes,TRUE)
.head 5 +  On SAM_Create
.head 6 -  !
.head 6 -  Call MTblSubClass( hWndForm )
.head 6 -  Call MTblEnableMWheelScroll( hWndForm, TRUE )
.head 3 +  Data Field: dfTotal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.283"
.head 6 -  Top:    6.405"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: #0
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfSumatoria
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.983"
.head 6 -  Top:    6.405"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Frame
.head 4 -  Resource Id: 57269
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.683"
.head 5 -  Top:    0.905"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.083"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbCopiar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Copiar
.head 4 -  Window Location and Size
.head 5 -  Left: 9.783"
.head 5 -  Top:    2.226"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.679"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F5
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\editpaste.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call SalTblCopyRows(tblOrdenes,0,0)
.head 6 -  Call SalMessageBox('Datos copiados','Atencion',MB_Ok)
.head 6 -  ! Set nLanguage = MTE_LNG_ENGLISH
.head 6 -  ! Set sStartCell = "Cod_Paciente"
.head 6 -  ! Set nExcelFlags = MTE_EXCEL_RUNNING_INSTANCE | MTE_EXCEL_NEW_INSTANCE | MTE_EXCEL_NEW_WORKSHEET
.head 6 -  ! Set nExportFlags = MTE_COL_HEADERS | MTE_COLORS | MTE_FONTS | MTE_GRID | MTE_SPLIT_ROWS | MTE_SHOW_STATUS
.head 6 -  ! Set nRowFlagsOn = 0
.head 6 -  ! Set nRowFlagsOff = ROW_Hidden
.head 6 -  ! Set nColFlagsOn = COL_Visible
.head 6 -  ! Set nColFlagsOff = 0
.head 6 -  ! Call MTblExportToExcel(tbl1, nLanguage, sStartCell, nExcelFlags, nExportFlags, nRowFlagsOn, nRowFlagsOff, nColFlagsOn, nColFlagsOff )
.head 2 +  Functions
.head 3 +  Function: ConstructQuery
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sConsulta
.head 4 +  Actions
.head 5 -  Set sConsulta="Select
			O.CODIGO,
			O.COD_PACIENTE,
        			O.CORREL_PACIENTE,
        			(CASE
                            			WHEN O.COD_PACIENTE = 'TEMPCOD' THEN O.NOMBRE_TMP
                            			ELSE P.PRIMER_NOM +  ' ' + P.PRIMER_APE
                        		 END ) AS NOMBRE,
			CONVERT(VARCHAR(12), O.FECHA,103),
        			O.TOTAL,
			M.NOMBRE AS DESTINO
		
		from
			ORDENES_SERVICIO O,
        			PACIENTES           P,
            			MEDICOS           M
		where
        			O.COD_PACIENTE 	= P.COD_PACIENTE   AND
            			O.CORREL_PACIENTE 	= P.CORREL_PACIENTE AND
            			O.CODIGO_MEDICO     	= M.COD_MEDICO "

.head 5 +  ! If dfDescripcion!=''
.head 6 -  Set sConsulta=sConsulta||"	AND	A.DESCRIPCION  like '%"||dlgConsultaFacturas.dfDescripcion||"%'"
.head 5 +  If not SalIsNull(dfOrden)
.head 6 -  Set sConsulta = sConsulta || " AND O.CODIGO = :dfOrden"
.head 5 +  If not SalIsNull(cmbUsuariosOS)
.head 6 -  Set sConsulta = sConsulta || " AND O.AUTORIZADO_POR = :cmbUsuariosOS.nCodigo"
.head 5 +  If not SalIsNull(cmbCiudades)
.head 6 -  Set sConsulta = sConsulta || " AND O.CODIGO_CIUDAD_GEO = :cmbCiudades.nCodigo"
.head 5 +  If not SalIsNull(cmbEspecialidad)
.head 6 -  !
.head 6 -  Set sConsulta = sConsulta || " AND M.COD_ESPECIALIDAD = :cmbEspecialidad.nCodigo"
.head 5 +  If not SalIsNull(cmbMedicosOS)
.head 6 -  ! -------Obtener el codigo medico
.head 6 -  Set sSQL = "select
		COD_MEDICO
    	from
		MEDICOS
	where
		NOMBRE = :cmbMedicosOS
  	into
		:nMedico"
.head 6 -  Call SqlImmediate(  sSQL)
.head 6 -  Call SqlClearImmediate( )
.head 6 -  !
.head 6 -  Set sConsulta = sConsulta || " AND O.CODIGO_MEDICO = :nMedico"
.head 5 +  If not SalIsNull(cmbCategServiciosOS)
.head 6 -  !
.head 6 -  Set sConsulta = sConsulta || " AND O.COD_CATEGORIA = :cmbCategServiciosOS.sCodigos"
.head 5 +  If not SalIsNull(cmbServicios)
.head 6 -  !
.head 6 -  ! -------Obtener el codigo del servicio
.head 6 -  Set sSQL = "select
		COD_SERVICIO
    	from
		SERVICIOS
	where
		COD_CATEGORIA = :cmbCategServiciosOS.sCodigos AND
		EN_USO = 1 AND
		NOMBRE = :cmbServicios
  	into
		:sServicio"
.head 6 -  Call SqlImmediate(  sSQL)
.head 6 -  Call SqlClearImmediate( )
.head 6 -  !
.head 6 -  Set sConsulta = sConsulta || " AND O.CODIGO_SERVICIO = :sServicio"
.head 5 +  If not SalIsNull(dfPaciente)
.head 6 -  Set sConsulta = sConsulta || " AND O.COD_PACIENTE = :dfPaciente"
.head 5 +  If not SalIsNull(dfPacienteCorrel)
.head 6 -  Set sConsulta = sConsulta || " AND O.CORREL_PACIENTE = :dfPacienteCorrel"
.head 5 +  If not SalIsNull(dfNombre)
.head 6 -  Set sConsulta=sConsulta || "	AND	P.PRIMER_NOM   like '%" || dfNombre || "%' "
.head 5 +  If not SalIsNull(dfApellido)
.head 6 -  Set sConsulta=sConsulta || "	AND	P.PRIMER_APE   like '%" || dfApellido || "%' "
.head 5 +  If not SalIsNull(cmbEmpresa)
.head 6 -  Set sConsulta=sConsulta || "	AND	P.COD_EMPRESA = :cmbEmpresa.nCodigo "
.head 5 +  If not SalIsNull(cmbDepto)
.head 6 -  Set sConsulta=sConsulta || "	AND	P.CODIGO_DEPTO = :cmbDepto.nCodigo "
.head 5 +  If SalIsButtonChecked(cbFechaDesde)
.head 6 -  !
.head 6 -  Set dfFechaDesde = ccFechaDesde.GetSystemTime()
.head 6 -  Set sConsulta=sConsulta || "	AND	O.FECHA >= :dfFechaDesde "

.head 5 +  If SalIsButtonChecked(cbFechaHasta)
.head 6 -  !
.head 6 -  Set dfFechaHasta = ccFechaHasta.GetSystemTime()
.head 6 -  Set sConsulta=sConsulta || "	AND O.FECHA <=  :dfFechaHasta "
.head 5 +  If cbTitulares=TRUE
.head 6 -  Set sConsulta=sConsulta||"	AND	P.CORREL_PACIENTE='0'"
.head 5 -  Set sConsulta=sConsulta||"	order	by	NOMBRE"
.head 5 -  Return sConsulta
.head 3 +  Function: ResetControls
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Window Handle: hWndChild
.head 5 -  Number: nHwndChild
.head 5 -  Number: nType
.head 4 +  Actions
.head 5 -  Set hWndChild = SalGetFirstChild( hWndForm, TYPE_Any )
.head 5 +  While hWndChild != hWndNULL
.head 6 -  Set nHwndChild = SalWindowHandleToNumber( hWndChild )
.head 6 -  Set nType = SalGetType( hWndChild )
.head 6 +  If nType = TYPE_ChildTable
.head 7 -  Call SalTblReset( hWndChild )
.head 6 +  Else If nType = TYPE_DataField or nType = TYPE_MultilineText or nType = TYPE_CheckBox or nType = TYPE_ComboBox
.head 7 -  Call SalClearField( hWndChild )
.head 6 -  Set hWndChild = SalGetNextChild( hWndChild, TYPE_Any )
.head 5 -  !
.head 5 -  !
.head 3 +  Function: ConstructParams
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 +  If not SalIsNull(dfOrden)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CODIGO = :dfOrden"
.head 6 -  Set params[0] = SalNumberToStrX(dfOrden,0)
.head 5 +  Else
.head 6 -  Set params[0] = STRING_Null
.head 5 +  If not SalIsNull(cmbUsuariosOS)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.AUTORIZADO_POR = :cmbUsuariosOS.nCodigo"
.head 6 -  Set params[1] = SalNumberToStrX(cmbUsuariosOS.nCodigo,0)
.head 5 +  Else
.head 6 -  Set params[1] = STRING_Null
.head 5 +  If not SalIsNull(cmbCiudades)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_CIUDAD_GEO = :cmbCiudades.nCodigo"
.head 6 -  Set params[2] = SalNumberToStrX(cmbCiudades.nCodigo,0)
.head 5 +  Else
.head 6 -  Set params[2] = STRING_Null
.head 5 +  If not SalIsNull(cmbEspecialidad)
.head 6 -  !
.head 6 -  ! Set sConsulta = sConsulta || " AND M.COD_ESPECIALIDAD = :cmbEspecialidad.nCodigo"
.head 6 -  Set params[3] = SalNumberToStrX(cmbEspecialidad.nCodigo,0)
.head 5 +  Else
.head 6 -  Set params[3] = STRING_Null
.head 5 +  If not SalIsNull(cmbMedicosOS)
.head 6 -  ! -------Obtener el codigo medico
.head 6 -  Set sSQL = "select
		COD_MEDICO
    	from
		MEDICOS
	where
		NOMBRE = :cmbMedicosOS
  	into
		:nMedico"
.head 6 -  Call SqlImmediate(  sSQL)
.head 6 -  Call SqlClearImmediate( )
.head 6 -  !
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_MEDICO = :nMedico"
.head 6 -  Set params[4] = SalNumberToStrX(nMedico,0)
.head 5 +  Else
.head 6 -  Set params[4] = STRING_Null
.head 5 +  If not SalIsNull(cmbCategServiciosOS)
.head 6 -  !
.head 6 -  ! Set sConsulta = sConsulta || " AND O.COD_CATEGORIA = :cmbCategServiciosOS.sCodigos"
.head 6 -  Set params[5] = cmbCategServiciosOS.sCodigos
.head 5 +  Else
.head 6 -  Set params[5] = STRING_Null
.head 5 +  If not SalIsNull(cmbServicios)
.head 6 -  !
.head 6 -  ! -------Obtener el codigo del servicio
.head 6 -  Set sSQL = "select
		COD_SERVICIO
    	from
		SERVICIOS
	where
		COD_CATEGORIA = :cmbCategServiciosOS.sCodigos AND
		EN_USO = 1 AND
		NOMBRE = :cmbServicios
  	into
		:sServicio"
.head 6 -  Call SqlImmediate(  sSQL)
.head 6 -  Call SqlClearImmediate( )
.head 6 -  !
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_SERVICIO = :sServicio"
.head 6 -  Set params[6] = sServicio
.head 5 +  Else
.head 6 -  Set params[6] = STRING_Null
.head 5 +  If not SalIsNull(dfPaciente)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.COD_PACIENTE = :dfPaciente"
.head 6 -  Set params[7] = dfPaciente
.head 5 +  Else
.head 6 -  Set params[7] = STRING_Null
.head 5 +  If not SalIsNull(dfPacienteCorrel)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CORREL_PACIENTE = :dfPacienteCorrel"
.head 6 -  Set params[8] = dfPacienteCorrel
.head 5 +  Else
.head 6 -  Set params[8] = STRING_Null
.head 5 +  If not SalIsNull(dfNombre)
.head 6 -  ! Set sConsulta=sConsulta || "	AND	P.PRIMER_NOM   like '%" || dfNombre || "%' "
.head 6 -  Set params[9] = dfNombre
.head 5 +  Else
.head 6 -  Set params[9] = STRING_Null
.head 5 +  If not SalIsNull(dfApellido)
.head 6 -  ! Set sConsulta=sConsulta || "	AND	P.PRIMER_APE   like '%" || dfApellido || "%' "
.head 6 -  Set params[10] = dfApellido
.head 5 +  Else
.head 6 -  Set params[10] = STRING_Null
.head 5 +  If not SalIsNull(cmbEmpresa)
.head 6 -  ! Set sConsulta=sConsulta || "	AND	P.COD_EMPRESA = :cmbEmpresa.nCodigo "
.head 6 -  Set params[11] = SalNumberToStrX(cmbEmpresa.nCodigo,0)
.head 5 +  Else
.head 6 -  Set params[11] = STRING_Null
.head 5 +  If not SalIsNull(cmbDepto)
.head 6 -  ! Set sConsulta=sConsulta || "	AND	P.CODIGO_DEPTO = :cmbDepto.nCodigo "
.head 6 -  Set params[12] = SalNumberToStrX(cmbDepto.nCodigo ,0)
.head 5 +  Else
.head 6 -  Set params[12] = STRING_Null
.head 5 +  If SalIsButtonChecked(cbFechaDesde)
.head 6 -  !
.head 6 -  Set dfFechaDesde = ccFechaDesde.GetSystemTime()
.head 6 -  ! Set sConsulta=sConsulta || "	AND	O.FECHA >= :dfFechaDesde "

.head 6 -  Set params[13] = SalFmtFormatDateTime ( dfFechaDesde, 'dd/MM/yyyy' )
.head 5 +  Else
.head 6 -  Set params[13] = STRING_Null
.head 5 +  If SalIsButtonChecked(cbFechaHasta)
.head 6 -  !
.head 6 -  Set dfFechaHasta = ccFechaHasta.GetSystemTime()
.head 6 -  ! Set sConsulta=sConsulta || "	AND O.FECHA <=  :dfFechaHasta "
.head 6 -  Set params[14] = SalFmtFormatDateTime ( dfFechaHasta, 'dd/MM/yyyy' )
.head 5 +  Else
.head 6 -  Set params[14] = STRING_Null
.head 2 +  Window Parameters
.head 3 -  Receive Number: nRegresa
.head 3 -  Number: nFlag
.head 2 +  Window Variables
.head 3 -  String: sSQL
.head 3 -  Number: nMedico
.head 3 -  String: sMedico
.head 3 -  String: sServicio
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalCenterWindow(dlgConsultaOrdenes)
.head 1 +  Form Window: frmAjustesInventario
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Ajustes a Inventario
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: 0.088"
.head 4 -  Top:    0.188"
.head 4 -  Width:  14.217"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 7.738"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 +  Menu
.head 3 +  Popup Menu: Tablita
.head 4 -  Resource Id: 31216
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 4 +  Menu Item: (Inserta Fila)
.head 5 -  Resource Id: 31217
.head 5 -  Keyboard Accelerator: Ins
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg(pbAgregar,SAM_Click,0,0)
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: (Marca para Borrar Fila)
.head 5 -  Resource Id: 31218
.head 5 -  Keyboard Accelerator: -
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg(pbBorrar,SAM_Click,0,0)
.head 5 -  Menu Item Name:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.845"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 +  Contents
.head 4 +  Pushbutton: pb1
.data CLASSPROPSSIZE
0000: 2C00
.enddata
.data CLASSPROPS
0000: 544F4F4C5449505F 5374617475730001 000000544F4F4C54 49505F5469700006
0020: 0053616C69720000 00000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 11.383"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.595"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbNuevaSalida
.data CLASSPROPSSIZE
0000: 2E00
.enddata
.data CLASSPROPS
0000: 544F4F4C5449505F 5374617475730001 000000544F4F4C54 49505F5469700008
0020: 0041677265676172 000000000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbMas
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.283"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.6"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filenew.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 -  Call ResetControls()
.head 7 -  Call LoadDefaultValues()
.head 4 +  Pushbutton: pbGuardarSalida
.data CLASSPROPSSIZE
0000: 2E00
.enddata
.data CLASSPROPS
0000: 544F4F4C5449505F 5374617475730001 000000544F4F4C54 49505F5469700008
0020: 0047756172646172 000000000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbGrabar
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.983"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.595"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filesave.bmp
.head 5 -  Picture Transparent Color: White
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 +  If SalIsNull(dfCodigo)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe especificar el No de Salida", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 8 -  Return FALSE
.head 7 +  If SalIsNull(cmbBodega)
.head 8 -  !
.head 8 -  Call SalMessageBox( "Debe especificar el almacen", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 8 -  Call SalSetFocus(cmbBodega)
.head 8 -  Return FALSE
.head 7 +  If not RevisarTablas(tbl1)
.head 8 -  !
.head 8 -  Return FALSE
.head 7 -  !
.head 7 -  ! --------Preparar los datos a guardar
.head 7 -  Call PrepareData()
.head 7 -  !
.head 7 -  ! ----------Ejecutar la actualizacion o insercion
.head 7 +  If bExistsSalida
.head 8 -  !
.head 7 +  Else
.head 8 -  !
.head 8 -  Call DoInsert(  )
.head 7 -  !
.head 7 -  !
.head 7 -  Return TRUE
.head 4 +  Pushbutton: pbImprimirSalida
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbImprimir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 5.183"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  ! On SAM_Click
.head 7 -  Call SqlExists("Select	COD_SALIDA
from	SALIDA_MEDI
where	COD_SALIDA=:dfCodigo",bExists)
.head 7 -  Call SqlClearImmediate( )
.head 7 +  If bExists
.head 8 -  Call SalCreateWindow( frmImprimir, hWndForm,
"Recibo de Salida",
strRepPath || "\\RECIBO_SALIDA.QRP",
":s1,:s2,:n1,:s3,
:s4,:s5,:n2,:n3,:n4,
:s6,:s7,:s8,:dt1",

"E.NOMBRE,F.NOMBRE,A.COD_VARIA,A.COD_MEDICAMENTO,
B.DESP,C.NOMBRE,A.CANT,A.COSTO,Formula,
D.NOMBRE,A.COD_SALIDA,H.NOMBRE,G.FECHA",

"select	E.NOMBRE,F.NOMBRE,A.COD_VARIA,A.COD_MEDICAMENTO,
	B.DESP,C.NOMBRE,A.CANT,A.COSTO,A.CANT*A.COSTO,
	D.NOMBRE,A.COD_SALIDA,H.NOMBRE,G.FECHA
from	VARIAS_SALIDAS	A,MEDICAMENTOS B,TIPOS_PRESEN C,DESTINOS D,
                GRUPOS_MED  E,PROVEEDOR F,SALIDA_MEDI G,BODEGAS H
where
	A.COD_SALIDA=:frmSalidas.dfCodigo		and
	G.COD_SALIDA=:frmSalidas.dfCodigo		and
	A.COD_SALIDA=G.COD_SALIDA		and
	
	H.COD_BODEGA=G.COD_BODEGA	and

	B.COD_MEDICAMENTO=A.COD_MEDICAMENTO and
	C.COD_PRESEN=B.COD_PRESEN	and
                A.COD_GRUPO=E.COD_GRUPO and A.COD_PROVEEDOR=F.COD_PROVEEDOR
                AND D.COD_DESTINO=A.COD_DESTINO
into	:s1,:s2,:n1,:s3,
	:s4,:s5,:n2,:n3,:n4,
	:s6,:s7,:s8,:dt1",

'')
.head 7 +  Else 
.head 8 -  Call SalMessageBox("Salida no existe","ERROR",MB_Ok)
.head 4 +  Data Field: dfCreadoPor
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 6.383"
.head 7 -  Top:    0.071"
.head 7 -  Width:  2.3"
.head 7 -  Width Editable? Yes
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Yes
.head 6 -  Visible? Yes
.head 6 -  Border? Yes
.head 6 -  Justify: Left
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Font Name: Default
.head 6 -  Font Size: Default
.head 6 -  Font Enhancement: Bold
.head 6 -  Text Color: Default
.head 6 -  Background Color: Default
.head 6 -  Input Mask: Unformatted
.head 5 -  Message Actions
.head 4 +  Data Field: dfModificadoPor
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 6.383"
.head 7 -  Top:    0.345"
.head 7 -  Width:  2.3"
.head 7 -  Width Editable? Yes
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Yes
.head 6 -  Visible? Yes
.head 6 -  Border? Yes
.head 6 -  Justify: Left
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Font Name: Default
.head 6 -  Font Size: Default
.head 6 -  Font Enhancement: Bold
.head 6 -  Text Color: Default
.head 6 -  Background Color: Default
.head 6 -  Input Mask: Unformatted
.head 5 -  Message Actions
.head 4 +  Data Field: dfEstado
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 6.383"
.head 7 -  Top:    0.595"
.head 7 -  Width:  2.3"
.head 7 -  Width Editable? Yes
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Yes
.head 6 -  Visible? Yes
.head 6 -  Border? Yes
.head 6 -  Justify: Left
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Font Name: Default
.head 6 -  Font Size: Default
.head 6 -  Font Enhancement: Bold
.head 6 -  Text Color: Default
.head 6 -  Background Color: Default
.head 6 -  Input Mask: Unformatted
.head 5 -  Message Actions
.head 4 -  Background Text: Creado por
.head 5 -  Resource Id: 31226
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 5.05"
.head 6 -  Top:    0.095"
.head 6 -  Width:  1.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: Estado
.head 5 -  Resource Id: 31227
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 5.05"
.head 6 -  Top:    0.595"
.head 6 -  Width:  1.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: Modificado por
.head 5 -  Resource Id: 31228
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 4.783"
.head 6 -  Top:    0.369"
.head 6 -  Width:  1.467"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 2 +  Contents
.head 3 -  Background Text: No. Salida
.head 4 -  Resource Id: 31219
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    1.012"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: No. Entrada
.head 4 -  Resource Id: 11109
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.15"
.head 5 -  Top:    1.036"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCodigo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 8
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.383"
.head 6 -  Top:    1.012"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfCodigoEntrada
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 8
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.25"
.head 6 -  Top:    1.012"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Fecha
.head 4 -  Resource Id: 31220
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.783"
.head 5 -  Top:    0.179"
.head 5 -  Width:  1.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaIngreso
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.783"
.head 6 -  Top:    0.405"
.head 6 -  Width:  2.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Almacen
.head 4 -  Resource Id: 31221
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    0.179"
.head 5 -  Width:  4.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbBodega
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    0.405"
.head 5 -  Width:  4.5"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.893"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbBodega.nCaso=1
.head 6 -  Set cmbBodega.sTabla='BODEGAS'
.head 6 -  Set cmbBodega.sNombre='NOMBRE'
.head 6 -  Set cmbBodega.sCodigo='COD_BODEGA'
.head 5 +  On SAM_SetFocus
.head 6 -  !
.head 6 -  Call SalPostMsg( hWndItem, CB_SHOWDROPDOWN, TRUE, 0 )
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call SalSendClassMessage ( SAM_Click, 0, 0 )
.head 3 +  Multiline Field: mlObs
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  String Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Border? Yes
.head 5 -  Word Wrap? Yes
.head 5 -  Vertical Scroll? Yes
.head 5 -  Window Location and Size
.head 6 -  Left: 7.55"
.head 6 -  Top:    0.321"
.head 6 -  Width:  5.233"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.917"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbAplicarPlantilla
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.45"
.head 5 -  Top:    0.988"
.head 5 -  Width:  0.633"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.393"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\ok.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If SalIsNull(cmbBodega)
.head 7 -  !
.head 7 -  Call SalMessageBox( "Debe especificar el almacen", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 7 -  Call SalSetFocus(cmbBodega)
.head 7 -  Return FALSE
.head 6 -  !
.head 6 -  Call CargarInventario()
.head 3 +  Pushbutton: pbBuscar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.25"
.head 5 -  Top:    2.452"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F1
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\info.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set sRegresaServ= ''
.head 6 -  Set sRegresaCateg=''
.head 6 +  If SalIsNull(tbl1.colUnico)
.head 7 -  !
.head 7 -  Return FALSE
.head 7 -  !
.head 6 -  Call SalModalDialog( dlgConsultaServicios, hWndForm,2,sRegresaServ, sRegresaCateg)
.head 6 +  If sRegresaCateg !='' and sRegresaServ !=''
.head 7 -  !
.head 7 -  Set tbl1.colServicio=sRegresaServ
.head 7 -  Set tbl1.colCategoria=sRegresaCateg
.head 7 -  Call SalSendMsg(tbl1.colCategoria, SAM_Validate,0,0)
.head 7 -  Call SalSendMsg(tbl1.colServicio, SAM_Validate,0,0)
.head 7 -  !
.head 3 -  Group Box: Datos Generales
.head 4 -  Resource Id: 31222
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.071"
.head 5 -  Width:  6.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.583"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 31223
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.883"
.head 5 -  Top:    1.655"
.head 5 -  Width:  12.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.917"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 +  Pushbutton: pbBorrar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbChBorrarChiquito
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.25"
.head 5 -  Top:    2.119"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\edit_remove15.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set pbBorrar.hWndFila=tbl1.colCategoria
.head 6 -  Set pbBorrar.hWndTabla=tbl1
.head 3 +  Pushbutton: pbAgregar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbChAgregarChiquito
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.25"
.head 5 -  Top:    1.786"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\edit_add15.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set pbAgregar.hWndFila=tbl1.colCategoria
.head 6 -  Set pbAgregar.hWndTabla=tbl1
.head 5 +  On SAM_Click
.head 6 -  Call SalSendClassMessage(SAM_Click,0,0)
.head 6 -  Set tbl1.colUnico=Identity(15)
.head 6 -  Set tbl1.colUnicoEntrada=Identity(16)
.head 3 +  Child Table: tbl1
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.983"
.head 6 -  Top:    1.702"
.head 6 -  Width:  11.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 2.786"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colUnico
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Correl
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.583"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCategoria
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod Categ.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.617"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  !
.head 8 -  ! Con el codigo de categoria obtener la descripcion de la misma
.head 8 -  Call SqlExists( "
	select 
		A.COD_CATEGORIA,
		A.NOMBRE  
	from 
		CATEG_SERVICIOS A 
	where
		A.COD_CATEGORIA=:tbl1.colCategoria  
	into 
		:colcmbCateg.sCodigos , 
		:colcmbCateg  " 
,bExists)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If not bExists
.head 9 -  Call SalMessageBox("Categoria  no existe","ERROR",MB_Ok)
.head 9 -  Set tbl1.colCategoria=''
.head 9 -  Set tbl1.colcmbCateg=''
.head 5 +  Column: colcmbCateg
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsCbCodigo
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Categoria
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set colcmbCateg.nCaso=2
.head 8 -  Set colcmbCateg.sTabla='CATEG_SERVICIOS'
.head 8 -  Set colcmbCateg.sNombre='NOMBRE'
.head 8 -  Set colcmbCateg.sCodigo='COD_CATEGORIA'
.head 7 +  On SAM_Validate
.head 8 -  Call SalSendClassMessage(SAM_Validate,0,0)
.head 8 -  !
.head 8 -  ! Una vez seleccionada la categoria desplegar el codigo de la misma
.head 8 -  Set tbl1.colCategoria=tbl1.colcmbCateg.sCodigos
.head 5 +  Column: colServicio
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod. Producto
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.85"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  !
.head 8 -  ! -----Luego de especificar el codigo de producto, obtener su nombre, la presentacion y su existencia
.head 8 -  !
.head 8 -  Call SqlExists( "
	select 
		A.NOMBRE,
		C.NOMBRE,
		A.COSTO_REAL
		
	from 
		SERVICIOS 		A,	
		TIPOS_PRESEN 	  	C 
	where
		A.COD_SERVICIO 		= :tbl1.colServicio 		and
		A.COD_CATEGORIA	= :tbl1.colCategoria 		and 
		A.EN_USO 		= 1 			and 
		A.COD_PRESEN 		= C.COD_PRESEN
  	into 
		:colcmbServi,
		:colUnidad,
		:colCosto
		"
,bExists)
.head 8 -  Call SqlClearImmediate()
.head 8 -  !
.head 8 +  If not bExists
.head 9 -  Call SalMessageBox("Servicio no existe o ha sido desactivado","ERROR",MB_Ok)
.head 9 -  Set tbl1.colServicio=''
.head 9 -  Set tbl1.colcmbServi=''
.head 9 -  Return FALSE
.head 8 -  !
.head 8 -  ! Call VerificarExistencia()
.head 5 +  Column: colcmbServi
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsCbCodigoFiltrado
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Producto
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.217"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set colcmbServi.nCaso=2
.head 8 -  Set colcmbServi.sTabla='SERVICIOS'
.head 8 -  Set colcmbServi.sNombre='NOMBRE'
.head 8 -  Set colcmbServi.sCodigo='COD_SERVICIO'
.head 8 -  Set colcmbServi.sNombreFiltro='EN_USO'
.head 8 -  Set colcmbServi.nValorFiltro=1
.head 7 +  On SAM_DropDown
.head 8 -  !
.head 8 -  ! ---------------Desplegar solo los servicios de la categoria ya especificada
.head 8 -  Call SalListPopulate( tbl1.colcmbServi, hSql1, "select 
					A.NOMBRE
				from
					SERVICIOS 	   A 
				where
					A.COD_CATEGORIA =:tbl1.colCategoria and
					A.EN_USO	   = 1"  )
.head 8 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 7 +  On SAM_Validate
.head 8 -  !
.head 8 -  ! Al seleccionar el  servicio del combo(y ya especificada la categoria) se
procede a cargar la presentacion , tambien
verifica que exista el codigo de servicio.
.head 8 -  !
.head 8 +  If SalListSelectString(hWndItem,-1,MyValue)=LB_Err
.head 9 -  Call SalMessageBox("Dato no existe en la lista","ERROR",MB_Ok)
.head 9 -  Call SalSetFocus(hWndItem)
.head 9 -  Return FALSE
.head 8 +  Else
.head 9 -  Call SqlPrepareAndExecute(hSql1,"
			select 
				cod_servicio 
			from 
				servicios
			where 
				cod_categoria	=:tbl1.colCategoria	and
				nombre		=:tbl1.colcmbServi 	and 
				en_uso 		= 1
			into	
				:tbl1.colcmbServi.sCodigos")
.head 9 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 8 -  !
.head 8 -  Set tbl1.colServicio=tbl1.colcmbServi.sCodigos
.head 8 -  !
.head 8 -  Call SqlImmediate( "select 
			C.NOMBRE,
			A.COSTO_REAL			  
		from 
			SERVICIOS  		A,
			TIPOS_PRESEN 	  	C  
		where
			A.COD_SERVICIO 		= :tbl1.colServicio 	and 
			A.COD_CATEGORIA	=:tbl1.colCategoria  and 
			A.EN_USO 		= 1 		and 
			A.COD_PRESEN 		= C.COD_PRESEN
		into 
			:colUnidad,
			:colCosto" )
.head 8 -  Call SqlClearImmediate()
.head 8 -  !
.head 8 -  Call VerificarExistencia()
.head 5 +  Column: colUnidad
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Presentacion
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colExistencia
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Exist. Sistema
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.25"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  !
.head 8 -  Set tbl1.colSubTotal=tbl1.colCosto*tbl1.colExistencia
.head 8 -  Call GenerarTotal()
.head 8 -  ! Set tbl1.colFecha=FechaHoy(2)
.head 5 +  Column: colCosto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Costo
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.25"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###0000000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCantidad
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Exist Real
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.917"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  !
.head 8 -  Set tbl1.colSubTotalReal=tbl1.colCosto*tbl1.colCantidad
.head 8 -  Call GenerarTotal()
.head 8 -  ! Set tbl1.colFecha=FechaHoy(2)
.head 5 +  Column: colSubTotal
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: SubTotal
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.267"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 5 +  Column: colSubTotalReal
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: SubTotal
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.267"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 5 +  Column: colUnicoEntrada
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Correl
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.583"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 -  Message Actions
.head 3 +  Data Field: dfTotal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 8.883"
.head 6 -  Top:    4.821"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Data Field: dfTotalReal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 11.45"
.head 6 -  Top:    4.821"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Right
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Total Real:
.head 4 -  Resource Id: 31224
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 11.417"
.head 5 -  Top:    4.643"
.head 5 -  Width:  1.667"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Total Sistema:
.head 4 -  Resource Id: 31404
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.883"
.head 5 -  Top:    4.667"
.head 5 -  Width:  1.667"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Observaciones
.head 4 -  Resource Id: 31225
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.283"
.head 5 -  Top:    0.071"
.head 5 -  Width:  5.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.333"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Otros Datos
.head 4 -  Resource Id: 5908
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.738"
.head 5 -  Width:  6.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.75"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 2 +  Functions
.head 3 +  ! Function: Anular_Salida
.head 4 -  Description: 
.head 4 -  Returns 
.head 4 -  Parameters 
.head 4 -  Static Variables 
.head 4 +  Local variables 
.head 5 -  String: Cod_Partida
.head 5 -  Number: nSumarizada
.head 5 -  Boolean: bExist
.head 4 +  Actions 
.head 5 -  Call SqlExists( "SELECT cod_salida FROM salidas WHERE cod_salida=:dfCodigo", bExist )
.head 5 -  Call SqlClearImmediate( )
.head 5 +  If bExist
.head 6 -  Set Cod_Partida = 'PSAL' || dfCodigo
.head 6 -  Call SqlPrepareAndExecute( hSql1, "SELECT sumarizada FROM partidas WHERE cod_partida=:Cod_Partida INTO :nSumarizada" )
.head 6 -  Call SqlFetchNext( hSql1, nSig )
.head 6 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 6 +  If nSumarizada = 1
.head 7 -  Call SalMessageBox("No puede anular esta salida porque la partida correspondiente ya ha sido mayorizada", "Error!", MB_Ok)
.head 6 +  Else 
.head 7 -  Call SqlPrepareAndExecute( hSql1, "DELETE FROM det_partidas WHERE cod_partida = :Cod_Partida")
.head 7 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 7 -  Call SqlPrepareAndExecute( hSql1, "DELETE FROM partidas WHERE cod_partida = :Cod_Partida")
.head 7 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 7 -  Call SqlPrepareAndExecute( hSql1, "DELETE FROM detalle_salidas WHERE cod_salida = :dfCodigo")
.head 7 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 7 -  Call SqlPrepareAndExecute( hSql1, "DELETE FROM salidas WHERE cod_salida = :dfCodigo")
.head 7 -  Call SqlPrepareAndExecute( hSql1, "commit" )
.head 7 -  Call SalMessageBox("La salida ha sido anulada", "Mensaje", MB_Ok)
.head 3 +  Function: ResetControls
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Window Handle: hWndChild
.head 5 -  Number: nHwndChild
.head 5 -  Number: nType
.head 4 +  Actions
.head 5 -  Set hWndChild = SalGetFirstChild( hWndForm, TYPE_Any )
.head 5 +  While hWndChild != hWndNULL
.head 6 -  Set nHwndChild = SalWindowHandleToNumber( hWndChild )
.head 6 -  Set nType = SalGetType( hWndChild )
.head 6 +  If nType = TYPE_ChildTable
.head 7 -  Call SalTblReset( hWndChild )
.head 6 +  Else If nType = TYPE_DataField or nType = TYPE_MultilineText or nType = TYPE_CheckBox or nType = TYPE_ComboBox
.head 7 -  Call SalClearField( hWndChild )
.head 6 -  Set hWndChild = SalGetNextChild( hWndChild, TYPE_Any )
.head 5 -  !
.head 5 -  !
.head 3 +  Function: LoadDefaultValues
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  !
.head 5 -  Set dfTotal = 0
.head 5 -  Set dfFechaIngreso = FechaHoy(2)
.head 5 -  Set dfCodigo=SalNumberToStrX(Identity( 14 ),0)
.head 5 -  Set dfCodigoEntrada=SalNumberToStrX(Identity( 13 ),0)
.head 3 +  Function: GenerarTotal
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nSubTotal
.head 4 +  Actions
.head 5 -  !
.head 5 -  !
.head 5 -  Set dfTotal = SalTblColumnSum( tbl1, 10, 0, 0 ) 
.head 5 -  Set dfTotalReal = SalTblColumnSum( tbl1, 11, 0, 0 ) 
.head 5 -  !
.head 5 -  !
.head 3 +  Function: PrepareData
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Boolean: bExistsMedico
.head 5 -  Boolean: bExistsServicio
.head 4 +  Actions
.head 5 -  !
.head 5 -  !
.head 5 -  ! -------Obtener el codigo del usuario que ha creado/modificado la orden
.head 5 -  Set sSQL = "select
		COD_USU
    	from
		USUARIOS
	where
		NOMBRE = :sNombreUsuario
  	into
		:nUser"
.head 5 -  Call SqlImmediate(  sSQL)
.head 5 -  Call SqlClearImmediate( )
.head 5 -  !
.head 5 -  Return TRUE
.head 3 +  Function: DoInsert
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nTipoSalida
.head 5 -  Number: nBodega
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"begin tran")
.head 5 -  !
.head 5 -  Set nTipoSalida = 6
.head 5 -  Set nBodega= cmbBodega.nCodigo
.head 5 -  !
.head 5 -  Call SqlPrepareAndExecute(hSql1,
	"INSERT INTO 
		SALIDAS(
			COD_SALIDA,
			COD_BODEGA,
			FECHA,
			OBS,
			COD_TIPO_SALIDA,
			TOTAL_SALIDA,
			CREADO_POR)
		values(	
			:dfCodigo,
			:nBodega,
			:dfFechaIngreso,
			:mlObs,
			:nTipoSalida,
			:dfTotal,
			:nUser)")
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  !
.head 5 -  ! -----------Insertar detalle de entrada por factura
.head 5 -  !
.head 5 -  Call SqlPrepare(	hSql1,
		"INSERT INTO 
			detalle_salidas( 
				COD_VARIA,
				COD_CATEGORIA,
				COD_MEDICAMENTO, 
				COD_SALIDA,
		  		CANTIDAD,
				COSTO,
				COD_BODEGA,
				COD_TIPO_SALIDA
				)
			VALUES(	
				:tbl1.colUnico,
				:tbl1.colCategoria,
				:tbl1.colServicio,
				:dfCodigo,
				:tbl1.colExistencia,
				:tbl1.colCosto,
				:nBodega,
				:nTipoSalida
				)
")
.head 5 -  Call SalTblDoInserts(tbl1,hSql1,FALSE)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  !
.head 5 -  Set nBodega= cmbBodega.nCodigo
.head 5 -  Call SqlPrepareAndExecute(hSql1,
	"INSERT INTO
		entradas(
			COD_ENTRADA,
			COD_BODEGA,
			FECHA,
			OBS,			
			TOTAL_FACTURA,
			DESCUENTO,
			ISV,
			CREADO_POR,
			COD_TIPO_ENTRADA,
			INCLUYE_COSTOS)
		values(
			:dfCodigoEntrada,
			:nBodega,
			:dfFechaIngreso,
			:mlObs,
			:dfTotalReal,
			0,
			0,
			:nUser,
			2,
			0)")
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  !
.head 5 -  ! -----------Insertar detalle de entrada por factura
.head 5 -  !
.head 5 -  Call SqlPrepare(	hSql1,
		"INSERT INTO
			detalle_entradas(
				COD_VARIA,
				COD_CATEGORIA,
				COD_MEDICAMENTO,
				COD_ENTRADA,
		  		CANTIDAD,
				CANTIDAD_BONIFICADA,
				COSTO,
				COD_BODEGA,
				INCLUYE_COSTOS
				)
			VALUES(
				:tbl1.colUnicoEntrada,
				:tbl1.colCategoria,
				:tbl1.colServicio,
				:dfCodigoEntrada,
				:tbl1.colCantidad,
				0,
				:tbl1.colCosto,
				:nBodega,
				0
				)
")
.head 5 -  Call SalTblDoInserts(tbl1,hSql1,TRUE)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  !
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 5 -  !
.head 5 -  Call SalWaitCursor(FALSE)
.head 3 +  Function: VerificarExistencia
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nCompuesto
.head 5 -  String: sCodMedicamento_I
.head 5 -  String: sCodCategoria_I
.head 5 -  Number: nBodega_I
.head 5 -  Number: nExistencia_I
.head 5 -  Number: nUnidades
.head 5 -  Boolean: bExistsProducto
.head 5 -  String: strIntoList
.head 5 -  String: strStatements
.head 5 -  Number: nRetVal
.head 4 +  Actions
.head 5 -  !
.head 5 -  ! ----------Veriricar si es producto es compuesto, y en ese caso obtener su padre
.head 5 -  Call SqlImmediate ("
		SELECT
			COMPUESTO,
			COD_SERVICIO_PARENT,
			COD_CATEGORIA_PARENT,
			UNIDADES_PARENT
		FROM
			SERVICIOS
		WHERE
			COD_SERVICIO= :tbl1.colServicio AND
			COD_CATEGORIA = :tbl1.colCategoria
		INTO
			:nCompuesto,
			:sCodMedicamento_I,
			:sCodCategoria_I,
			:nUnidades
			")
.head 5 -  Call SqlClearImmediate()
.head 5 -  !
.head 5 +  If nCompuesto != 1
.head 6 -  !
.head 6 -  ! ----El producto es el mismo padre
.head 6 -  !
.head 6 -  Set sCodMedicamento_I = tbl1.colServicio 
.head 6 -  Set sCodCategoria_I = tbl1.colCategoria
.head 6 -  Set nUnidades = 1
.head 5 -  !
.head 5 -  ! Verificar que el producto este registrado en la bodega seleccionada
.head 5 -  !
.head 5 -  Call SalSendMsg(cmbBodega, SAM_Click, 0, 0)
.head 5 -  !
.head 5 -  Set nBodega_I = cmbBodega.nCodigo
.head 5 -  Call SqlExists("Select		
			A.COD_MEDICAMENTO
		from	
			INVENTARIO_MED 	A
		where
			A.COD_BODEGA 		= :nBodega_I AND
			A.COD_MEDICAMENTO 	= :sCodMedicamento_I AND
			A.COD_CATEGORIA 	= :sCodCategoria_I
		
			", bExistsProducto)
.head 5 -  Call SqlClearImmediate()
.head 5 +  If not bExistsProducto
.head 6 -  !
.head 6 -  Set tbl1.colServicio=''
.head 6 -  Set tbl1.colcmbServi=''
.head 6 -  Set tbl1.colUnidad = ''
.head 6 -  Set tbl1.colCosto = NUMBER_Null
.head 6 -  Call SalMessageBox ("El producto no ha sido registrado en la bodega seleccionada. No podra efectuar su salida!","MENSAJE",MB_Ok)
.head 6 -  Return FALSE
.head 5 -  !
.head 5 -  ! -----Calcular existencia en la bodega seleccionada
.head 5 -  !
.head 5 -  Set strStatements = "CALCULAR_EXISTENCIA " || SalNumberToStrX (nBodega_I, 0) || ", '" ||  sCodMedicamento_I || "', '" || sCodCategoria_I || "', " || SalNumberToStrX (nUnidades, 0)
.head 5 -  Set strIntoList = " :nExistencia_I"
.head 5 +  If not SybPrepareProc( hSql6, strStatements, strIntoList)
.head 6 -  ! !
.head 6 -  Return FALSE
.head 5 +  If not SqlExecute ( hSql6)
.head 6 -  !
.head 6 -  Return FALSE
.head 5 -  Call SqlFetchNext ( hSql6, nRetVal)							
.head 5 -  !
.head 5 -  !
.head 5 -  Set tbl1.colExistencia = nExistencia_I
.head 3 +  Function: CargarInventario
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nSig
.head 5 -  String: sCodCategPlantilla
.head 5 -  String: sCodServicioPlantilla
.head 5 -  Number: nExistencia
.head 5 -  Number: nExistenciaReal
.head 5 -  Number: nBodega
.head 5 -  Number: nCosto
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  !
.head 5 -  Set nBodega = cmbBodega.nCodigo
.head 5 -  Call SqlPrepareAndExecute( hSql1, "
			SELECT 
				I.COD_MEDICAMENTO,
    				I.COD_CATEGORIA,    				
    				I.EXISTENCIA,
				R.EXISTENCIA
			FROM
				INVENTARIO_MED I,
				INVENTARIO_REAL R
			WHERE
				I.COD_BODEGA= :nBodega AND				
				I.COD_MEDICAMENTO = R.COD_MEDICAMENTO AND
				I.COD_CATEGORIA = R.COD_CATEGORIA
			INTO 
				:sCodServicioPlantilla,
				:sCodCategPlantilla,
				:nExistencia,
				:nExistenciaReal")
.head 5 -  Call SqlFetchNext( hSql1, nSig )
.head 5 +  While nSig!=FETCH_EOF
.head 6 -  !
.head 6 -  Call SalSendMsg(pbAgregar, SAM_Click, 0, 0)
.head 6 -  Set tbl1.colServicio=sCodServicioPlantilla
.head 6 -  Set tbl1.colCategoria=sCodCategPlantilla
.head 6 -  Set tbl1.colExistencia=nExistencia
.head 6 -  Set tbl1.colCantidad =nExistenciaReal
.head 6 -  Call SalSendMsg(tbl1.colCategoria, SAM_Validate,0,0)
.head 6 -  Call SalSendMsg(tbl1.colServicio, SAM_Validate,0,0)
.head 6 -  Call SalSendMsg(tbl1.colExistencia, SAM_Validate,0,0)
.head 6 -  Call SalSendMsg(tbl1.colCantidad, SAM_Validate,0,0)
.head 6 -  !
.head 6 -  Call SqlFetchNext( hSql1, nSig )
.head 5 -  !
.head 5 -  Call SalWaitCursor(FALSE)
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: sRegresaCateg
.head 3 -  String: sRegresaServ
.head 3 -  String: sSQL
.head 3 -  Boolean: bExistsSalida
.head 3 -  Number: nCodigo
.head 3 -  Number: nEstado
.head 3 -  Number: nUser
.head 3 -  !
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalCenterWindow( hWndForm )
.head 4 -  !
.head 1 +  Dialog Box: dlgReporteMarcas
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Informe de Marcaciones de Reloj
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  7.417"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 1.679"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  ! cmbBaseCodigo: cmbEmpresa
.winattr class Combo Box:
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.55"
.head 5 -  Top:    0.143"
.head 5 -  Width:  3.933"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.738"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.end
.head 4 -  List Initialization 
.head 4 +  Message Actions 
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 3 +  Custom Control: ccFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.45"
.head 6 -  Top:    0.179"
.head 6 -  Width:  3.933"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Custom Control: ccFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.45"
.head 6 -  Top:    0.452"
.head 6 -  Width:  3.933"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbImprimir
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.517"
.head 5 -  Top:    0.155"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  !
.head 6 -  Set dfFechaDesde = ccFechaDesde.GetSystemTime()
.head 6 -  Set dfFechaHasta = ccFechaHasta.GetSystemTime()
.head 6 +  ! If
.head 7 -  !
.head 7 -  Call SalMessageBox( "Especifique ambas fechas!", "Fin", 0 )
.head 7 -  Return FALSE
.head 6 +  If SqlPrepareAndExecute(hSql1, "DELETE FROM DET_Asistencia WHERE fecha between :dfFechaDesde AND :dfFechaHasta"  )
.head 7 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 7 -  !
.head 7 -  ! Set strPathFile = dfFilePath
.head 7 +  If not SalFileOpen( fPlani, strPath, OF_Read )
.head 8 -  Call SalMessageBox( "Error", "Fin", 0 )
.head 8 -  Return FALSE
.head 7 -  !
.head 7 -  Set dtFechaI = dfFechaDesde
.head 7 -  Set dtFechaF = dfFechaHasta
.head 7 +  While SalFileGetStr( fPlani, sLinea, 3000 )
.head 8 -  Call SalStrTokenize( sLinea, '', ',', aLinea )
.head 8 -  Set nTH=SalStrToNumber( aLinea[2] )
.head 8 -  Set nCod=SalStrToNumber( aLinea[3] )
.head 8 -  Set nHora=SalStrToNumber( aLinea[5] )
.head 8 -  Set nMin=SalStrToNumber( aLinea[6] )
.head 8 -  Set nMes=SalStrToNumber( aLinea[7] )
.head 8 +  If nMes < 10
.head 9 -  Set aLinea[7]  = "0" ||  SalStrTrimX( aLinea[7] )
.head 8 -  Set nDia=SalStrToNumber( aLinea[8] )
.head 8 +  If nDia < 10
.head 9 -  Set aLinea[8]  = "0" || SalStrTrimX( aLinea[8] )
.head 8 -  Set nAnio=SalStrToNumber( aLinea[9] )+2000
.head 8 -  Set dtFecha=SalDateConstruct( nAnio, nMes, nDia, nHora, nMin, 0 )
.head 8 -  Set nHoraT=nHora+(nMin/60)
.head 8 +  If (dtFecha>=dtFechaI and dtFecha<=dtFechaF)
.head 9 -  Set nDia=SalDateWeekday( dtFecha )
.head 9 -  Call SqlPrepareAndExecute( hSql1, "
			INSERT INTO 
				DET_ASISTENCIA(
						COD_PLANILLA,
						COD_EMPLEADO,
						FECHA,
						HORAT,
						TIPO_HORA
						) 

				VALUES(
					0,
					:nCod,
					:dtFecha,
					:nHoraT,
					:nTH
					)
")
.head 9 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 9 -  ! Call Progress( dtFecha-dtFechaI, dtFechaF-dtFechaI )
.head 7 -  ! Call SalMessageBox( "La tarea se realizo satisfactorimante", "Fin", 0 )
.head 7 -  Call SalFileClose( fPlani )
.head 6 +  Else
.head 7 -  Call SalMessageBox( "Error al realizar la tarea", "Fin", 0 )
.head 6 -  !
.head 6 -  Set params[0] = SalFmtFormatDateTime ( dfFechaDesde, 'dd/MM/yyyy' )
.head 6 -  Set params[1] = SalFmtFormatDateTime ( dfFechaHasta, 'dd/MM/yyyy' )
.head 6 -  Set strRepTitle = "Entradas/Salidas de Empleados"
.head 6 -  Set strReportName = strRepPath||"\\MarcasReloj.rpt"
.head 6 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 3 +  Data Field: dfFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.783"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.983"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Frame
.head 4 -  Resource Id: 15310
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    0.071"
.head 5 -  Width:  6.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.083"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Solid
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbGetDataFile
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Obtener Datos Reloj
.head 4 -  Window Location and Size
.head 5 -  Left: 1.383"
.head 5 -  Top:    0.738"
.head 5 -  Width:  1.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.298"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: None
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 -  On SAM_Click
.head 3 -  Background Text: Desde
.head 4 -  Resource Id: 24235
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    0.262"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Hasta
.head 4 -  Resource Id: 24234
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.75"
.head 5 -  Top:    0.536"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbBuscarArchivo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Buscar Archivo
.head 4 -  Window Location and Size
.head 5 -  Left: 0.583"
.head 5 -  Top:    0.738"
.head 5 -  Width:  1.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call SalDlgOpenFile ( hWndNULL, 'Find File', strFilters, 2, nIndex, strFile, strPath)
.head 6 -  ! Set df4 = strPath
.head 6 -  ! Set df5 = strFile
.head 6 -  ! Set nLength = SalStrLength ( strFile )
.head 6 -  ! Set strPath2= SalStrRightX ( strPath, nLength )				
.head 6 -  ! Set df6 = strPath2
.head 6 -  Set dfFilePath = strPath
.head 3 +  Data Field: dfFilePath
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.283"
.head 6 -  Top:    0.738"
.head 6 -  Width:  4.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 3 -  !
.head 3 -  File Handle: fPlani
.head 3 -  String: sLinea
.head 3 -  Number: nAnio
.head 3 -  Number: nCod
.head 3 -  Number: nMes
.head 3 -  Number: nDia
.head 3 -  Number: nHora
.head 3 -  Number: nMin
.head 3 -  Number: nHora2
.head 3 -  Number: nHoraT
.head 3 -  Number: nHoraE
.head 3 -  Number: nHoraT2
.head 3 -  Number: nHoraTC
.head 3 -  Number: nMin2
.head 3 -  Number: nNum
.head 3 -  Number: nDepto
.head 3 -  Number: nComa
.head 3 -  String: sChar
.head 3 -  String: aLinea[*]
.head 3 -  Number: nFin
.head 3 -  Number: nDom
.head 3 -  Number: nHoraTT
.head 3 -  Number: nFin2
.head 3 -  Date/Time: dtFecha
.head 3 -  Date/Time: dtFechaI
.head 3 -  Date/Time: dtFechaF
.head 3 -  String: sql
.head 3 -  String: sql2
.head 3 -  String: sNombre
.head 3 -  Number: nTH
.head 3 -  Number: nFaltas
.head 3 -  !
.head 3 -  String: strFilters[*]
.head 3 -  Number: nIndex
.head 3 -  String: strFile
.head 3 -  String: strPath
.head 3 -  String: strPathFile
.head 3 -  String: strPath2
.head 3 -  Number: nLength
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  Call SalBringWindowToTop( hWndForm )
.head 4 -  Set strFilters[0] = 'Archivos de Texto'		
.head 4 -  Set strFilters[1] = '*.txt'
.head 1 +  Form Window: frmFact
.head 2 -  Class: cQuickTabsForm
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Registro de Facturas
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Class Default
.head 2 -  Display Settings
.head 3 -  Display Style? Class Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Maximized
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Class Default
.head 3 -  System Menu? Class Default
.head 3 -  Resizable? Class Default
.head 3 -  Window Location and Size
.head 4 -  Left: 0.013"
.head 4 -  Top:    0.896"
.head 4 -  Width:  16.1"
.head 4 -  Width Editable? Class Default
.head 4 -  Height: 8.238"
.head 4 -  Height Editable? Class Default
.head 3 -  Form Size
.head 4 -  Width:  Class Default
.head 4 -  Height: Class Default
.head 4 -  Number of Pages: Class Default
.head 3 -  Font Name: Class Default
.head 3 -  Font Size: Class Default
.head 3 -  Font Enhancement: Class Default
.head 3 -  Text Color: Class Default
.head 3 -  Background Color: Class Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 +  Menu
.head 3 +  Popup Menu: &Reportes
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 4 -  Resource Id: 13674
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 4 +  Menu Item: Estadistica de Medicos
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 13675
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalModalDialog(dlgEstadisticas, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: Facturas Pendientes
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Resource Id: 13676
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalModalDialog(dlgFacturas_pendientes, hWndForm)
.data CLASSPROPSSIZE
0000: 1600
.enddata
.data CLASSPROPS
0000: 4F4C455F4D454E55 5F47524F55500004 000000000000
.enddata
.head 5 -  Menu Item Name:
.head 3 +  Popup Menu: Opciones
.head 4 -  Resource Id: 13677
.head 4 -  Enabled when:
.head 4 -  Status Text:
.head 4 -  Menu Item Name:
.head 4 +  Menu Item: &Insertar
.head 5 -  Resource Id: 13678
.head 5 -  Keyboard Accelerator: Ins
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbAgregarServicio, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 4 +  Menu Item: &Borrar
.head 5 -  Resource Id: 13679
.head 5 -  Keyboard Accelerator: Shift+Del
.head 5 -  Status Text:
.head 5 +  Menu Settings
.head 6 -  Enabled when:
.head 6 -  Checked when:
.head 5 +  Menu Actions
.head 6 -  Call SalSendMsg( pbBorrarServicio, SAM_Click, 0, 0 )
.head 5 -  Menu Item Name:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Class Default
.head 4 -  Location? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Size: 3.012"
.head 4 -  Size Editable? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 3 +  Contents
.head 4 -  Background Text: Fecha Registro :
.head 5 -  Resource Id: 13703
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 3.386"
.head 6 -  Top:    0.762"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Center
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfFechaRegistro
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfFecha
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 3.386"
.head 7 -  Top:    0.988"
.head 7 -  Width:  1.7"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbAgregar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbMas
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.383"
.head 6 -  Top:    0.09"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filenew.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Inicializar las variables de instancia del boton
.head 7 -  Set pbAgregar.nOpcionh=1
.head 7 -  Set pbAgregar.hWndCampo=dfFactura
.head 6 +  On SAM_Click
.head 7 -  ! Al Hacer Click en el boton de Agregar , limpiar los campos
sugerir la fecha actual del sistema para el registro de la factura y
ademas obtener el ultimo numero de factura para que se sugiera el siguiente
.head 7 -  !
.head 7 +  If bNuevaFactura
.head 8 -  !
.head 8 -  Set sSQL = "select
		COD_FACTURA
	from
		FACTURAS
	where
		COD_FACTURA=:dfFactura"
.head 8 -  Call SqlExists (sSQL, bExistsFact)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If SalMessageBox("Ha seleccionado crear una nueva factura. Desea guardar los cambios antes de continuar?","Atencion",MB_YesNo)=IDYES
.head 9 -  !
.head 9 -  Call SalSendMsg (pbGrabar, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  !
.head 9 +  If not bExistsFact
.head 10 -  !
.head 10 -  Set sSQL = 'DELETE FROM
		 IDENTITYS
	WHERE
		cod_tabla = 23 AND
		MAXIMO = :dfFactura'
.head 10 -  Call SqlImmediate(sSQL)
.head 10 -  Call SqlClearImmediate()
.head 10 -  !
.head 10 -  Call SalSendClassMessage(SAM_Click,0,0)
.head 10 -  Set dfFechaRegistro=FechaHoy(2)
.head 10 -  Set dfFechaIngreso=FechaHoy(2)
.head 10 -  Call SalDateToStr( dfFechaRegistro, FECHA_REGISTRO )
.head 10 -  Call SalStrLeft (FECHA_REGISTRO, 10, FECHA_REGISTRO )
.head 10 -  Call SalEnableWindow( pbGrabar )
.head 10 -  Call SalClearField( mlDescripcion )
.head 10 -  Call SalClearField( dfPaciente )
.head 10 -  Call SalClearField( dfFactura )
.head 10 -  Call SalClearField( dfPacienteCorrel )
.head 10 -  Call SalClearField( dfGranTotal )
.head 10 -  Call SalClearField( dfESTADO_PROCESO_STRING )
.head 10 -  Call SalClearField( cmbTipo)
.head 10 -  Set dfMontoFactura=0
.head 10 -  Set cmbMedicos = ''
.head 10 -  Set rbMedico = FALSE
.head 10 -  Set rbHospital = FALSE
.head 10 -  Set dfHonorarios=0
.head 10 -  Set dfDescuento =0
.head 10 -  Set dfTotal =0
.head 10 -  Set dfPacienteCorrel ='0'
.head 10 -  Set dfNombre  =''
.head 10 -  Set dfFechaEgreso=DATETIME_Null
.head 10 -  Set dfFactura=Identity(23)
.head 10 -  Call SalSetFocus( mlDescripcion )
.head 10 -  Set bNuevaFactura=TRUE
.head 10 -  !
.head 7 +  Else
.head 8 -  !
.head 8 -  Call SalSendClassMessage(SAM_Click,0,0)
.head 8 -  Set dfFechaRegistro=FechaHoy(2)
.head 8 -  Set dfFechaIngreso=FechaHoy(2)
.head 8 -  Call SalDateToStr( dfFechaRegistro, FECHA_REGISTRO )
.head 8 -  Call SalStrLeft (FECHA_REGISTRO, 10, FECHA_REGISTRO )
.head 8 -  Call SalEnableWindow( pbGrabar )
.head 8 -  Call SalClearField( mlDescripcion )
.head 8 -  Call SalClearField( dfPaciente )
.head 8 -  Call SalClearField( dfFactura )
.head 8 -  Call SalClearField( dfPacienteCorrel )
.head 8 -  Call SalClearField( dfGranTotal )
.head 8 -  Call SalClearField( dfESTADO_PROCESO_STRING )
.head 8 -  Set dfMontoFactura=0
.head 8 -  Set cmbMedicos = ''
.head 8 -  Set rbMedico = FALSE
.head 8 -  Set rbHospital = FALSE
.head 8 -  Set dfHonorarios=0
.head 8 -  Set dfDescuento =0
.head 8 -  Set dfTotal =0
.head 8 -  Set dfPacienteCorrel ='0'
.head 8 -  Set dfNombre  =''
.head 8 -  Set dfFechaEgreso=DATETIME_Null
.head 8 -  Set dfFactura=Identity(23)
.head 8 -  Call SalSetFocus( mlDescripcion )
.head 8 -  Set bNuevaFactura=TRUE
.head 8 -  !
.head 4 +  Pushbutton: pbBorrar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbMenos
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.183"
.head 6 -  Top:    0.095"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\editdelete.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Inicializar las variables de instancia del boton
.head 7 -  Set pbBorrar.nOpcionh=1
.head 7 -  Set pbBorrar.sTitulo=' La Factura'
.head 4 +  Pushbutton: pbGrabar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbGrabar
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.983"
.head 6 -  Top:    0.095"
.head 6 -  Width:  0.85"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filesave.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  ! Inicializar las variables de instancia del boton
.head 7 -  Set pbGrabar.nOpcion=2
.head 7 -  Set pbGrabar.hWndTabla=tbl1
.head 6 +  On SAM_Click
.head 7 -  ! Al confirmar que se desea grabar primero se llama a la función que revisa si
se cumplen todas las condiciones para grabar necesarias, luego se revisa si
no se han dejado campos en blanco en el grid de detalle, luego se envia un
mensaje CLICK a la clase del boton el cual hara que se active el mensaje
MU_GRABAR, el cual posee el codigo real de dicha operación
.head 7 +  If VerSiPuedeGrabar(  )
.head 8 +  If RevisarTablas( tbl2 )
.head 9 -  Call SalSendClassMessage( SAM_Click, 0, 0 )
.head 4 +  Pushbutton: pbBuscar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbBusqueda
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 2.883"
.head 6 -  Top:    0.095"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 +  If bNuevaFactura
.head 8 -  !
.head 8 -  Set sSQL = "select
		COD_FACTURA
	from
		FACTURAS
	where
		COD_FACTURA=:dfFactura"
.head 8 -  Call SqlExists (sSQL, bExistsFact)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If SalMessageBox("Ha seleccionado crear una nueva factura. Desea guardar los cambios antes de continuar?","Atencion",MB_YesNo)=IDYES
.head 9 -  !
.head 9 -  Call SalSendMsg (pbGrabar, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  !
.head 9 +  If not bExistsFact
.head 10 -  !
.head 10 -  Set sSQL = 'DELETE FROM
		 IDENTITYS
	WHERE
		cod_tabla = 23 AND
		MAXIMO = :dfFactura'
.head 10 -  Call SqlImmediate(sSQL)
.head 10 -  Call SqlClearImmediate()
.head 10 -  !
.head 10 -  Set bNuevaFactura=FALSE
.head 10 -  Set nRegresa=0
.head 10 -  ! Llama a la Ventana de Dialogo para consulta de Facturas
si el valor que refresa en la variable nRegresa es diferente de 0 significa
que se ha escogido una factura valida y por lo tanto se procede a Actualizar
la ventana con la factura seleccionada
.head 10 -  Call SalModalDialog( dlgConsultaFacturas, hWndForm,2,nRegresa )
.head 10 +  If nRegresa!=0
.head 11 -  Set dfFactura =nRegresa
.head 11 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 11 -  Set bNuevaFactura=FALSE
.head 10 -  !
.head 7 +  Else
.head 8 -  !
.head 8 -  !
.head 8 -  Set bNuevaFactura=FALSE
.head 8 -  Set nRegresa=0
.head 8 -  ! Llama a la Ventana de Dialogo para consulta de Facturas
si el valor que refresa en la variable nRegresa es diferente de 0 significa
que se ha escogido una factura valida y por lo tanto se procede a Actualizar
la ventana con la factura seleccionada
.head 8 -  Call SalModalDialog( dlgConsultaFacturas, hWndForm,2,nRegresa )
.head 8 +  If nRegresa!=0
.head 9 -  Set dfFactura =nRegresa
.head 9 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 4 -  Background Text: #Factura :
.head 5 -  Resource Id: 13704
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.183"
.head 6 -  Top:    0.762"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.229"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Center
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfFactura
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Number
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 1.186"
.head 7 -  Top:    0.988"
.head 7 -  Width:  1.6"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 +  Message Actions
.head 6 -  ! Al salirse del campo de # de Factura se verifica si este existe o no, y si existe
se procede a cargar los datos de la misma ( ACTUALIZAR la ventana)
.head 6 +  On SAM_Validate
.head 7 -  Call SqlExists("Select	COD_FACTURA
from	FACTURAS
where	COD_FACTURA =:dfFactura",bExists)
.head 7 -  Call SqlClearImmediate( )
.head 7 +  If bExists
.head 8 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 7 -  Call SalSetFocus( mlDescripcion )
.head 4 -  Background Text: Descripcion
.head 5 -  Resource Id: 13705
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.017"
.head 6 -  Top:    1.345"
.head 6 -  Width:  1.1"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Multiline Field: mlDescripcion
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: mlBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: 60
.head 6 -  String Type: String
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Border? Class Default
.head 6 -  Word Wrap? Yes
.head 6 -  Vertical Scroll? Class Default
.head 6 -  Window Location and Size
.head 7 -  Left: 1.186"
.head 7 -  Top:    1.321"
.head 7 -  Width:  8.5"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.583"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 -  Background Text: Paciente
.head 5 -  Resource Id: 13706
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.317"
.head 6 -  Top:    2.012"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfPaciente
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 1.186"
.head 7 -  Top:    1.988"
.head 7 -  Width:  1.1"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.31"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Validate
.head 7 -  ! Al ingresar un codigo de paciente se llama a la función que carga info.
basica del paciente tal como ser el nombre y dirección del mismo.
.head 7 -  Call ActualizarPaciente()
.head 4 +  Data Field: dfNombre
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 2.586"
.head 7 -  Top:    1.988"
.head 7 -  Width:  3.7"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.31"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 +  Message Actions
.head 6 +  On MU_REVISAR
.head 7 -  Return TRUE
.head 4 +  Data Field: dfPacienteCorrel
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 2.286"
.head 7 -  Top:    1.988"
.head 7 -  Width:  0.3"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.31"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Validate
.head 7 -  ! Al ingresar un codigo de paciente se llama a la función que carga info.
basica del paciente tal como ser el nombre y dirección del mismo.
.head 7 -  Call ActualizarPaciente()
.head 4 +  Pushbutton: pb6
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 11.383"
.head 6 -  Top:    0.095"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 -  !
.head 7 +  If bNuevaFactura
.head 8 -  !
.head 8 -  Set sSQL = "select
		COD_FACTURA
	from
		FACTURAS
	where
		COD_FACTURA=:dfFactura"
.head 8 -  Call SqlExists (sSQL, bExistsFact)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If SalMessageBox("Ha seleccionado crear una nueva factura. Desea guardar los cambios antes de continuar?","Atencion",MB_YesNo)=IDYES
.head 9 -  !
.head 9 -  Call SalSendMsg (pbGrabar, SAM_Click, 0, 0)
.head 8 +  Else
.head 9 -  !
.head 9 +  If not bExistsFact
.head 10 -  !
.head 10 -  Set sSQL = 'DELETE FROM
		 IDENTITYS
	WHERE
		cod_tabla = 23 AND
		MAXIMO = :dfFactura'
.head 10 -  Call SqlImmediate(sSQL)
.head 10 -  Call SqlClearImmediate()
.head 10 -  !
.head 10 -  !
.head 10 -  Call SalSendClassMessage ( SAM_Click, 0, 0)
.head 10 -  !
.head 7 +  Else
.head 8 -  !
.head 8 -  !
.head 8 -  Call SalSendClassMessage ( SAM_Click, 0, 0)
.head 4 +  Pushbutton: pbCerrar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbBusqueda
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Cerrar
.head 5 -  Window Location and Size
.head 6 -  Left: 4.483"
.head 6 -  Top:    0.095"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\CENTURA\BITMAPS\cerrar.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  ! Al hacer Click en este boton se llama a la función que cierra una factura
luego son actualizados los datos en la ventana
.head 7 -  Call CerrarFactura(  )
.head 7 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 4 +  Pushbutton: pbImprimir
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbBusqueda
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 6.083"
.head 6 -  Top:    0.095"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\Printer.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Single
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  ! Al hacer click en el boton de imprimir se verifica el estado de la factura, si esta ha
sido cerrada o anulada se presenta un mensaje, pero luego se llama a la caja de
dialogo para imprimir la factura, antes no se permitía imprimir facturas anuladas o cerradas
pero por sugerencia de la gerencia esta opción fue cambiada.
.head 7 -  Call SqlExists("Select	ESTADO_PROCESO
from	FACTURAS
where	COD_FACTURA =:dfFactura into :wEstado  ",bExists)
.head 7 -  Call SqlClearImmediate( )
.head 7 +  If bExists
.head 8 +  If wEstado=0
.head 9 -  Call SalModalDialog( dlgImprimirFacturas, hWndForm )
.head 8 +  Else
.head 9 -  Call SalMessageBox("Esta Factura ya esta CERRADA o ANULADA","ADVERTENCIA",MB_Ok)
.head 9 -  Call SalModalDialog( dlgImprimirFacturas, hWndForm )
.head 7 +  Else
.head 8 -  Call SalMessageBox("Factura  no existe","ERROR",MB_Ok)
.head 4 +  Pushbutton: pbAnular
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbBusqueda
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Anular
.head 5 -  Window Location and Size
.head 6 -  Left: 5.283"
.head 6 -  Top:    0.095"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\ICONS\WRITING\Erase02.ico
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  ! Llama a la Función que anula una factura
.head 7 -  Call AnularFactura(  )
.head 7 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 4 -  Frame
.head 5 -  Resource Id: 13707
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 10.083"
.head 6 -  Top:    1.571"
.head 6 -  Width:  3.3"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.417"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Corners: Square
.head 5 -  Border Style: Etched
.head 5 -  Border Thickness: 1
.head 5 -  Border Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfGranTotal
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 11.486"
.head 7 -  Top:    2.655"
.head 7 -  Width:  1.7"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 -  Background Text: Gran Total :
.head 5 -  Resource Id: 13708
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 10.283"
.head 6 -  Top:    2.702"
.head 6 -  Width:  1.1"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.226"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Pushbutton: pbPac
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: >>
.head 5 -  Window Location and Size
.head 6 -  Left: 6.286"
.head 6 -  Top:    1.988"
.head 6 -  Width:  0.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.298"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: 10
.head 5 -  Font Enhancement: Bold
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Blue
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  ! Al hacer Click en este boton se llama a la caja de dialogo para busqueda de
pacientes, si los valores de regreso no son vacios entonces se procede a actualizar
los datos de la ventana
.head 7 -  Set sRegresaPac=''
.head 7 -  Set sRegresaCor=''
.head 7 -  Call SalModalDialog( dlgConsultaPacientesO, hWndForm,sRegresaPac,sRegresaCor, 1, 1, 1 )
.head 7 +  If sRegresaPac!=''
.head 8 -  Set dfPaciente =sRegresaPac
.head 8 -  Set dfPacienteCorrel =sRegresaCor
.head 8 -  ! Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 8 -  Call ActualizarPaciente()
.head 4 +  Pushbutton: pbCam
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: >>
.head 5 -  Window Location and Size
.head 6 -  Left: 5.271"
.head 6 -  Top:    2.702"
.head 6 -  Width:  0.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.298"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: 10
.head 5 -  Font Enhancement: Bold
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Blue
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  ! Al hacer Click en este boton se llama a la caja de dialogo para busqueda de
pacientes, si los valores de regreso no son vacios entonces se procede a actualizar
los datos de la ventana
.head 7 -  ! Set sCama=''
.head 7 -  ! Set nCodigo_cama=-1
.head 7 -  Call SalModalDialog( dlgSalidasCamas, hWndForm,cmbHabitacion,dfFechaIngreso,dfFechaEgreso,cmbHabitacion.nCodigo,dfNombre,dfFactura,1 )
.head 7 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 4 -  Background Text: Sub Total:
.head 5 -  Resource Id: 13709
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 10.383"
.head 6 -  Top:    1.679"
.head 6 -  Width:  1.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: Honorarios:
.head 5 -  Resource Id: 13710
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 10.383"
.head 6 -  Top:    1.929"
.head 6 -  Width:  1.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.226"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: Descuento:
.head 5 -  Resource Id: 13711
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 10.183"
.head 6 -  Top:    2.179"
.head 6 -  Width:  1.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.226"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: Total Factura:
.head 5 -  Resource Id: 13712
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 10.183"
.head 6 -  Top:    2.429"
.head 6 -  Width:  1.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.226"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfMontoFactura
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 11.486"
.head 7 -  Top:    1.655"
.head 7 -  Width:  1.7"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfHonorarios
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 11.486"
.head 7 -  Top:    1.905"
.head 7 -  Width:  1.7"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfDescuento
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Yes
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 11.486"
.head 7 -  Top:    2.155"
.head 7 -  Width:  1.7"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Validate
.head 7 -  ! Al introducir un descuento en la factura se actualiza los montos totales
.head 7 -  Call Actualizar_Montos(  )
.head 4 +  Data Field: dfTotal
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 11.486"
.head 7 -  Top:    2.405"
.head 7 -  Width:  1.7"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfEstadoProceso
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 12.583"
.head 7 -  Top:    0.905"
.head 7 -  Width:  0.5"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? No
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfEstadoImpresa
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 12.583"
.head 7 -  Top:    1.238"
.head 7 -  Width:  0.5"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? No
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfEstadoPago
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 12.583"
.head 7 -  Top:    1.571"
.head 7 -  Width:  0.5"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? No
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfFechaCierre
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfFecha
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 12.583"
.head 7 -  Top:    1.905"
.head 7 -  Width:  0.6"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? No
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfESTADO_PROCESO_STRING
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 7.486"
.head 7 -  Top:    0.323"
.head 7 -  Width:  2.5"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Red
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfFechaIngreso
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfFecha
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Yes
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 5.586"
.head 7 -  Top:    0.988"
.head 7 -  Width:  1.6"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Data Field: dfFechaEgreso
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfFecha
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Yes
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 7.886"
.head 7 -  Top:    0.988"
.head 7 -  Width:  1.6"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 +  Message Actions
.head 6 +  On MU_REVISAR
.head 7 -  Return TRUE
.head 4 -  Background Text: Fecha Ingreso
.head 5 -  Resource Id: 13713
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 5.586"
.head 6 -  Top:    0.762"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Center
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: Fecha Salida
.head 5 -  Resource Id: 13714
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 7.886"
.head 6 -  Top:    0.762"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Center
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: Tipo de Atención
.head 5 -  Resource Id: 13715
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 9.75"
.head 6 -  Top:    0.762"
.head 6 -  Width:  3.733"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Center
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Radio Button: rbComodin
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 4.083"
.head 6 -  Top:    2.321"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? No
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Message Actions
.head 4 +  Combo Box: cmbMedicos
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cmbBaseCodigo
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Window Location and Size
.head 6 -  Left: 6.683"
.head 6 -  Top:    2.738"
.head 6 -  Width:  3.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 1.048"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Editable? Class Default
.head 5 -  String Type: Class Default
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Sorted? Yes
.head 5 -  Always Show List? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 5 -  List Initialization
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set cmbMedicos.nCaso=1
.head 7 -  Set cmbMedicos.sTabla='MEDICOS'
.head 7 -  Set cmbMedicos.sNombre='NOMBRE'
.head 7 -  Set cmbMedicos.sCodigo='COD_MEDICO'
.head 4 -  Background Text: Medico
.head 5 -  Resource Id: 13716
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 5.983"
.head 6 -  Top:    2.762"
.head 6 -  Width:  0.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: Estado
.head 5 -  Resource Id: 13717
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 7.486"
.head 6 -  Top:    0.094"
.head 6 -  Width:  2.5"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Center
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: 3D Shadow Color
.head 4 -  Group Box: Paciente
.head 5 -  Resource Id: 13718
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 6.886"
.head 6 -  Top:    1.905"
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.417"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Radio Button: rbHospital
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Del Hospital
.head 5 -  Window Location and Size
.head 6 -  Left: 6.986"
.head 6 -  Top:    2.071"
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: 8
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Message Actions
.head 4 +  Radio Button: rbMedico
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: Del Medico
.head 5 -  Window Location and Size
.head 6 -  Left: 8.386"
.head 6 -  Top:    2.071"
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Message Actions
.head 4 -  Background Text: Cama
.head 5 -  Resource Id: 13719
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.283"
.head 6 -  Top:    2.762"
.head 6 -  Width:  0.829"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Combo Box: cmb2
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cmbBaseCodigo
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Window Location and Size
.head 6 -  Left: 3.743"
.head 6 -  Top:    3.031"
.head 6 -  Width:  4.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 1.438"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Editable? Class Default
.head 5 -  String Type: Class Default
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Sorted? Class Default
.head 5 -  Always Show List? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 5 -  List Initialization
.head 5 -  Message Actions
.head 4 +  Combo Box: cmb3
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cmbBaseCodigo
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Window Location and Size
.head 6 -  Left: 4.929"
.head 6 -  Top:    3.49"
.head 6 -  Width:  2.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 1.604"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Editable? Class Default
.head 5 -  String Type: Class Default
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Sorted? Class Default
.head 5 -  Always Show List? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 5 -  List Initialization
.head 5 -  Message Actions
.head 4 +  Combo Box: cmbHabitacion
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cmbBaseCodigo
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.186"
.head 6 -  Top:    2.738"
.head 6 -  Width:  3.971"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 1.048"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Editable? Class Default
.head 5 -  String Type: Class Default
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Sorted? No
.head 5 -  Always Show List? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 5 -  List Initialization
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set cmbHabitacion.nCaso=1
.head 7 -  Set cmbHabitacion.sTabla='CAMAS'
.head 7 -  Set cmbHabitacion.sNombre='DESCRIPCION'
.head 7 -  Set cmbHabitacion.sCodigo='CODIGO'
.head 6 +  ! On SAM_Validate
.head 7 -  Call SalSendClassMessage( SAM_Validate, wParam, lParam )
.head 7 -  Set sCad = SalNumberToStrX( cmbPrueba.nCodigo, 0 )
.head 7 -  Call SalMessageBox(sCad, "Codigo", MB_Ok)
.head 6 +  On MU_REVISAR
.head 7 -  Return TRUE
.head 4 +  Pushbutton: pb9
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 10.483"
.head 6 -  Top:    0.095"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\CardHolder 2.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 +  If SalMessageBox( "Esta seguro de generar nuevo recibo?", "Advertencia", MB_YesNo )=IDYES
.head 8 -  !
.head 8 -  !
.head 8 -  Call SqlExists( "select
		A.COD_FACTURA
    	from
		FACTURAS  A
	where
		A.COD_FACTURA  =:dfFactura" ,bExists)
.head 8 -  Call SqlClearImmediate( )
.head 8 +  If not bExists
.head 9 -  Call SalMessageBox( "Factura no existe!" , "Error", MB_Ok )
.head 9 -  Return FALSE
.head 8 -  !
.head 8 -  Call SalCreateWindow( frmRecibosCancFactura, hWndForm, 2, dfFactura, dfNombre)
.head 4 +  Combo Box: cmbTipo
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatComboBox
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Window Location and Size
.head 6 -  Left: 9.983"
.head 6 -  Top:    0.988"
.head 6 -  Width:  3.567"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Editable? Class Default
.head 5 -  String Type: Class Default
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Sorted? Class Default
.head 5 -  Always Show List? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 5 -  List Initialization
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Call SalListAdd( cmbTipo, "CONSULTA EXTERNA" )
.head 7 -  Call SalListAdd( cmbTipo, "HOSPITALIZACION" )
.head 7 -  Call SalListAdd( cmbTipo, "LABORATORIO")
.head 7 -  Call SalListAdd( cmbTipo, "RAYOS X")
.head 7 -  Call SalListAdd( cmbTipo, "AMBULATORIO")
.head 4 -  Frame
.head 5 -  Resource Id: 13720
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.183"
.head 6 -  Top:    0.047"
.head 6 -  Width:  13.3"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.607"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Corners: Round
.head 5 -  Border Style: Etched
.head 5 -  Border Thickness: 1
.head 5 -  Border Color: Default
.head 5 -  Background Color: 3D Shadow Color
.head 4 +  Data Field: dfCodAutorizacion
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 1.183"
.head 7 -  Top:    2.405"
.head 7 -  Width:  1.5"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 +  Message Actions
.head 6 +  On MU_REVISAR
.head 7 -  Return TRUE
.head 4 +  Data Field: dfResponsable
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 2.683"
.head 7 -  Top:    2.405"
.head 7 -  Width:  6.6"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 +  Message Actions
.head 6 +  On MU_REVISAR
.head 7 -  Return TRUE
.head 4 +  Pushbutton: pbResponsable
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: >>
.head 5 -  Window Location and Size
.head 6 -  Left: 9.35"
.head 6 -  Top:    2.345"
.head 6 -  Width:  0.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.298"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: 10
.head 5 -  Font Enhancement: Bold
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Blue
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  ! Al hacer Click en este boton se llama a la caja de dialogo para busqueda de
autorizaciones, si los valores de regreso no son vacios entonces se procede a actualizar
los datos de la ventana
.head 7 -  Set nRegresaCodAutorizacion = NUMBER_Null
.head 7 -  Call SalModalDialog( dlgConsultaAutorizacionPago, hWndForm, 2, nRegresaCodAutorizacion )
.head 7 +  If nRegresaCodAutorizacion != NUMBER_Null
.head 8 -  Set dfCodAutorizacion =nRegresaCodAutorizacion
.head 8 -  Call Actualizar_Responsable()
.head 4 -  Background Text: Responsable
.head 5 -  Resource Id: 13721
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.083"
.head 6 -  Top:    2.452"
.head 6 -  Width:  1.1"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 2 +  Contents
.head 3 +  Pushbutton: pbAgregarServicio
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbChAgregarChiquito
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    0.643"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\edit_add15.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Inicializar las variables de instancia del boton
.head 6 -  Set pbAgregarServicio.hWndFila=tbl1.colCategoria
.head 6 -  Set pbAgregarServicio.hWndTabla=tbl1
.head 5 +  On SAM_Click
.head 6 -  ! Al hacer click en este botón se agrega una nueva linea en el detalle
y automaticamente le genera un correlativo con la funcion Identity
.head 6 -  Call SalSendClassMessage(SAM_Click,0,0)
.head 6 -  Set tbl1.colUnico=Identity(21)
.head 3 +  Pushbutton: pbBorrarServicio
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbChBorrarChiquito
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    1.06"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\edit_remove15.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set pbBorrarServicio.hWndFila=tbl1.colServicio
.head 6 -  Set pbBorrarServicio.hWndTabla=tbl1
.head 3 +  Child Table: tbl1
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.986"
.head 6 -  Top:    0.821"
.head 6 -  Width:  14.1"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 2.833"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colUnico
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Correl
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.583"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCategoria
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod Categ.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.457"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  ! Al salirse de este campo del grid  se carga los datos de la categoria
seleccionada y se actualiza el nombre en el combo correspondiente
.head 8 -  Call SqlExists( "select A.NOMBRE from CATEG_SERVICIOS A where
A.COD_CATEGORIA=:tbl1.colCategoria  into :colcmbCateg  " ,bExists)
.head 8 -  Call SqlClearImmediate()
.head 8 +  If not bExists
.head 9 -  Call SalMessageBox("Categoria  no existe","ERROR",MB_Ok)
.head 9 -  Set tbl1.colCategoria=''
.head 9 -  Set tbl1.colcmbCateg=''
.head 8 +  Else
.head 9 -  Set tbl1.colcmbCateg.sCodigos=tbl1.colCategoria
.head 5 +  Column: colcmbCateg
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsCbCodigo
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Categoria
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.133"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  ! Inicializar las variables de instancia del boton
.head 8 -  Set colcmbCateg.nCaso=2
.head 8 -  Set colcmbCateg.sTabla='CATEG_SERVICIOS'
.head 8 -  Set colcmbCateg.sNombre='NOMBRE'
.head 8 -  Set colcmbCateg.sCodigo='COD_CATEGORIA'
.head 7 +  On SAM_Validate
.head 8 -  ! Al salirse del combo se actualiza el codigo de la categoria
.head 8 -  Call SalSendClassMessage(SAM_Validate,0,0)
.head 8 -  Set tbl1.colCategoria=tbl1.colcmbCateg.sCodigos
.head 5 +  Column: colServicio
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod. Servi.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.429"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  ! Al introducir el codigo de servicio y luego salirse del campo se
procede a cargar todos los costos asociados a es servicio, Estos costos
son agregados en una columna de grid la cual es un combo, para que
el usuario decida el costo a seleccionar de todos los propuestos, tambien
verifica que exista el codigo de servicio.
.head 8 -  Call SqlExists( "select A.NOMBRE,A.COSTO,A.COSTO1,A.COSTO2,A.COSTO3  from SERVICIOS A,CATEG_SERVICIOS B where
A.COD_SERVICIO =:tbl1.colServicio and A.COD_CATEGORIA=B.COD_CATEGORIA and
A.COD_CATEGORIA=:tbl1.colCategoria and A.EN_USO = 1
  into :colcmbServi,:nCosto,:nCosto1,:nCosto2,:nCosto3" ,bExists)
.head 8 -  Call SqlClearImmediate()
.head 8 -  Call SalListClear( tbl1.colCosto )
.head 8 -  Call SalListAdd( tbl1.colCosto, SalFmtFormatNumber( nCosto,'000000.00' ))
.head 8 -  Call SalListAdd( tbl1.colCosto, SalFmtFormatNumber( nCosto1,'000000.00' ) )
.head 8 -  Call SalListAdd( tbl1.colCosto,SalFmtFormatNumber (nCosto2 ,'000000.00' ))
.head 8 -  Call SalListAdd( tbl1.colCosto, SalFmtFormatNumber(nCosto3,'000000.00'  ))
.head 8 -  Call SalListSetSelect( tbl1.colCosto, 0 )
.head 8 +  If not bExists
.head 9 -  Call SalMessageBox("Servicio no existe o ha sido desactivado ","ERROR",MB_Ok)
.head 9 -  Set tbl1.colServicio=''
.head 9 -  Set tbl1.colcmbServi=''
.head 5 +  Column: colcmbServi
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsCbCodigoFiltrado
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Servicio
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.657"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set colcmbServi.nCaso=2
.head 8 -  Set colcmbServi.sTabla='SERVICIOS'
.head 8 -  Set colcmbServi.sNombre='NOMBRE'
.head 8 -  Set colcmbServi.sCodigo='COD_SERVICIO'
.head 8 -  Set colcmbServi.sNombreFiltro = 'EN_USO'
.head 8 -  Set colcmbServi.nValorFiltro = 1
.head 7 +  On SAM_DropDown
.head 8 -  ! Cuando se despliega el combo de servicios se filtran de tal forma
que solo presente servicios asociados con la categoria seleccionada
.head 8 -  Set sSQL = "select
		A.NOMBRE
	from
		SERVICIOS A ,
		CATEG_SERVICIOS  B
	where
		A.COD_CATEGORIA=B.COD_CATEGORIA  AND
 		A.COD_CATEGORIA =:tbl1.colCategoria AND
		A.EN_USO = 1"
.head 8 -  Call SalListPopulate( tbl1.colcmbServi, hSqlInterno,  sSQL)
.head 8 -  Call SqlPrepareAndExecute(hSqlInterno,"commit")
.head 8 -  !
.head 7 +  On SAM_Validate
.head 8 -  ! Al seleccionar el  servicio del combo y luego salirse del campo se
procede a cargar todos los costos asociados a es servicio, Estos costos
son agregados en una columna de grid la cual es un combo, para que
el usuario decida el costo a seleccionar de todos los propuestos, tambien
verifica que exista el codigo de servicio.
.head 8 -  ! Call SalSendClassMessage(SAM_Validate,0,0)
.head 8 +  If colcmbServi = STRING_Null
.head 9 -  !
.head 9 -  Return FALSE
.head 8 -  !
.head 8 +  If SalListSelectString(hWndItem,-1,MyValue)=LB_Err
.head 9 -  Call SalMessageBox("Dato no existe en la lista","ERROR",MB_Ok)
.head 9 -  Call SalSetFocus(hWndItem)
.head 9 -  Return FALSE
.head 8 +  Else
.head 9 -  !
.head 9 -  Set sSQL = "select
		cod_servicio
	from
		servicios
	where
		cod_categoria	=:tbl1.colCategoria	and
		nombre		=:tbl1.colcmbServi and
		en_uso 		= 1
	into
		:tbl1.colcmbServi.sCodigos"
.head 9 -  Call SqlImmediate(sSQL)
.head 9 -  Call SqlClearImmediate()
.head 8 -  !
.head 8 -  Set tbl1.colServicio=tbl1.colcmbServi.sCodigos
.head 8 -  Call SqlImmediate( "select A.COSTO,A.COSTO1,A.COSTO2,A.COSTO3  from SERVICIOS  A,CATEG_SERVICIOS  B where
A.COD_SERVICIO = :tbl1.colServicio and A.COD_CATEGORIA=:tbl1.colCategoria  into :nCosto,:nCosto1,:nCosto2,:nCosto3 " )
.head 8 -  Call SqlClearImmediate()
.head 8 -  Call SalListClear( tbl1.colCosto )
.head 8 -  Call SalListAdd( tbl1.colCosto, SalFmtFormatNumber( nCosto,'000000.00' ))
.head 8 -  Call SalListAdd( tbl1.colCosto, SalFmtFormatNumber( nCosto1,'000000.00'  ))
.head 8 -  Call SalListAdd( tbl1.colCosto,SalFmtFormatNumber (nCosto2 ,'000000.00' ))
.head 8 -  Call SalListAdd( tbl1.colCosto, SalFmtFormatNumber(nCosto3,'000000.00'  ))
.head 8 -  Call SalListSetSelect( tbl1.colCosto, 0)
.head 5 +  Column: colCosto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Costo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.333"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Drop Down List
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? No
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  ! Al salirse del campo de costo se actualiza el subtotal de la linea y
ademas sugiere la fecha del sistema en la que se llevo a cabo el servicio
.head 8 -  Set tbl1.colSubTotal=tbl1.colCosto*tbl1.colCantidad
.head 8 -  Call Actualizar_Montos(  )
.head 8 -  Set tbl1.colFecha=FechaHoy(2)
.head 7 +  On SAM_DropDown
.head 8 -  !
.head 8 -  !
.head 8 +  If not SalIsNull(colServicio) and not SalIsNull(colCategoria)
.head 9 -  !
.head 9 -  Call SqlExists( "select
		A.COSTO,
		A.COSTO1,
		A.COSTO2,
		A.COSTO3
	from
		SERVICIOS 	  A
	where
		A.COD_SERVICIO 		= :tbl1.colServicio and
		A.COD_CATEGORIA	= :tbl1.colCategoria and
		A.EN_USO = 1
  into
		
		:nCosto,
		:nCosto1,
		:nCosto2,
		:nCosto3" ,bExists)
.head 9 -  Call SqlClearImmediate()
.head 9 -  Call SalListClear( tbl1.colCosto )
.head 9 -  Call SalListAdd( tbl1.colCosto, SalFmtFormatNumber( nCosto,'000000.00' ))
.head 9 -  Call SalListAdd( tbl1.colCosto, SalFmtFormatNumber( nCosto1,'000000.00' ) )
.head 9 -  Call SalListAdd( tbl1.colCosto,SalFmtFormatNumber (nCosto2 ,'000000.00' ))
.head 9 -  Call SalListAdd( tbl1.colCosto, SalFmtFormatNumber(nCosto3,'000000.00'  ))
.head 9 -  Call SalListSetSelect( tbl1.colCosto, 0 )
.head 8 -  !
.head 5 +  Column: colCantidad
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cantidad
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.233"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  ! Al salirse del campo de cantidad se actualiza el subtotal de la linea y
ademas sugiere la fecha del sistema en la que se llevo a cabo el servicio
.head 8 -  Set tbl1.colSubTotal=tbl1.colCosto*tbl1.colCantidad
.head 8 -  Call Actualizar_Montos(  )
.head 8 -  Set tbl1.colFecha=FechaHoy(2)
.head 8 -  Call SalDateToStr( tbl1.colFecha , tbl1.colFechaString  )
.head 8 -  Call SalStrLeft ( tbl1.colFechaString, 10,  tbl1.colFechaString )
.head 5 +  Column: colFecha
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Date/Time
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.467"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  ! Al salirse del campo de fecha esta es convertida a formato string ya que
el SQL Server entiende las fechas como que fueran Strings
.head 8 -  Call SalDateToStr( tbl1.colFecha , tbl1.colFechaString  )
.head 8 -  Call SalStrLeft ( tbl1.colFechaString, 10,  tbl1.colFechaString )
.head 5 +  Column: colSubTotal
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: SubTotal
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.467"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 5 +  Column: colFechaString
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: colFechaString
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.65"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbAgregarHon
.data CLASSPROPSSIZE
0000: 1F00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000C00 746162486F6E6172 696F7300000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbChAgregarChiquito
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.25"
.head 5 -  Top:    0.667"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set pbAgregarHon.hWndFila=tbl2.colCodDoctor
.head 6 -  Set pbAgregarHon.hWndTabla=tbl2
.head 5 +  On SAM_Click
.head 6 -  ! Al hacer Click en este boton se agrega una nueva linea en el detalle de honorarios
y sugiere un correlativo, el cual es calculado con la funcion identity
.head 6 -  Call SalSendClassMessage(SAM_Click,0,0)
.head 6 -  Set tbl2.colUnicoHon=Identity(22)
.head 6 -  Set tbl2.colPagar=1
.head 3 +  Child Table: tbl2
.data CLASSPROPSSIZE
0000: 1D00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000C00 746162486F6E6172 696F730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.983"
.head 6 -  Top:    0.488"
.head 6 -  Width:  11.5"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 2.75"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? No
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: 1
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 1000
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colUnicoHon
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: CorrelHon
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCodDoctor
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod. Med
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.483"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colcmbMedico
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsCbCodigo
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Medico
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Create
.head 8 -  Set tbl2.colcmbMedico.nCaso=1
.head 8 -  Set tbl2.colcmbMedico.sTabla='MEDICOS'
.head 8 -  Set tbl2.colcmbMedico.sNombre='NOMBRE'
.head 8 -  Set tbl2.colcmbMedico.sCodigo='COD_MEDICO'
.head 7 +  On SAM_Validate
.head 8 -  ! Al salirse del combo de medico se actualizar el codigo del mismo
.head 8 -  Call SalSendClassMessage(SAM_Validate,0,0)
.head 8 -  Set tbl2.colCodDoctor =tbl2.colcmbMedico.nCodigo
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 5 +  Column: colDescripcion
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripcion
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 5 +  Column: colCosto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Costo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.433"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 5 +  Column: colFecha
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.517"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  ! Al salirse del campo de fecha esta es convertida a formato string ya que
el SQL Server entiende las fechas como que fueran Strings
.head 8 -  Call SalDateToStr( tbl2.colFecha , tbl2.colFechaString  )
.head 8 -  Call SalStrLeft ( tbl2.colFechaString, 10,  tbl2.colFechaString )
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 5 +  Column: colPagar
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: No Pagar?
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.033"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Check Box
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value: 0
.head 8 -  Uncheck Value: 1
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 -  On SAM_Validate
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 5 +  Column: colFechaString
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: colFechaString
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On MU_REVISAR
.head 8 -  Return TRUE
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 -  Message Actions
.head 3 +  Picture: Tabs
.data CLASSPROPS
0000: 5461624C6566744D 617267696E000200 3000005461624375 7272656E74000D00
0020: 7461625365727669 63696F7300005461 62426F74746F6D4D 617267696E000200
0040: 3000005461625061 6765436F756E7400 0200310000546162 4C6162656C730041
0060: 0020202020536572 766963696F732020 2020092020202048 6F6E6F726172696F
0080: 7320202020092020 2020436C69656E74 6520202020095265 73706F6E7361626C
00A0: 6500005461624E61 6D65730032007461 6253657276696369 6F7309746162486F
00C0: 6E6172696F730974 6162436C69656E74 6509746162526573 706F6E73616C6500
00E0: 0054616252696768 744D617267696E00 0200300000546162 447261775374796C
0100: 65000B0057696E39 355374796C650000 546162466F726D50 6167657300040009
0120: 0909000054616254 6F704D617267696E 0002003000005461 624F7269656E7461
0140: 74696F6E00010000 0000000000000000 0000000000000000 00000000000000
.enddata
.data CLASSPROPSSIZE
0000: 5F01
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 1
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQuickTabsForm
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: -0.114"
.head 5 -  Top:    0.073"
.head 5 -  Width:  15.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 3.667"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  File Name:
.head 4 -  Storage: Class Default
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Fit: Class Default
.head 4 -  Scaling
.head 5 -  Width:  Class Default
.head 5 -  Height:  Class Default
.head 4 -  Corners: Class Default
.head 4 -  Border Style: Class Default
.head 4 -  Border Thickness: Class Default
.head 4 -  Tile To Parent? No
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Face Color
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbBuscarServicio
.data CLASSPROPSSIZE
0000: 2000
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F7300000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.25"
.head 5 -  Top:    1.429"
.head 5 -  Width:  0.633"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: F5
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\info.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set sRegresaServ= ''
.head 6 -  Set sRegresaCateg=''
.head 6 +  If SalIsNull(tbl1.colUnico)
.head 7 -  !
.head 7 -  Return FALSE
.head 6 -  Call SalModalDialog( dlgConsultaServicios, hWndForm,2,sRegresaServ, sRegresaCateg)
.head 6 +  If sRegresaCateg !='' and sRegresaServ !=''
.head 7 -  ! Call Limpiar()
.head 7 -  Set tbl1.colServicio=sRegresaServ
.head 7 -  Set tbl1.colCategoria=sRegresaCateg
.head 7 -  Call SalSendMsg(tbl1.colCategoria, SAM_Validate,0,0)
.head 7 -  Call SalSendMsg(tbl1.colServicio, SAM_Validate,0,0)
.head 7 +  ! If cmbCateg.sCodigos='6' or cmbCateg.sCodigos='11'
.head 8 -  Call DeshabilitarTodo(  )
.head 3 +  Child Table: tbl3
.data CLASSPROPSSIZE
0000: 2000
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F7300000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.686"
.head 6 -  Top:    9.74"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.583"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? Yes
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: Default
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colPartida
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title:
.head 6 -  Visible? Class Default
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCuenta
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title:
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colNombre
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title:
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCargo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title:
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Decimal
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCredito
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title:
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Decimal
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCerrada
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title:
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colSumarizada
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title:
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colEstado
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title:
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colConcepto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Concepto
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCorrelativo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Correlativo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbBorrarHon
.data CLASSPROPSSIZE
0000: 1F00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000C00 746162486F6E6172 696F7300000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbChBorrarChiquito
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.25"
.head 5 -  Top:    1.083"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set pbBorrarHon.hWndFila=tbl2.colCodDoctor
.head 6 -  Set pbBorrarHon.hWndTabla=tbl2
.head 3 +  Data Field: dfPrimer_Nom
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.883"
.head 6 -  Top:    0.762"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Data Field: dfSegundo_Nom
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.483"
.head 6 -  Top:    0.738"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Primer Nombre :
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 13680
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    0.762"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Segundo Nombre:
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 13681
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.683"
.head 5 -  Top:    0.762"
.head 5 -  Width:  1.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Primer Apellido :
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 13682
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    1.071"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfPrimer_Ape
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.883"
.head 6 -  Top:    1.071"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Segundo Apelido :
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 13683
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.883"
.head 5 -  Top:    1.071"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfSegundo_Ape
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.483"
.head 6 -  Top:    1.071"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Dirección :
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 13684
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    2.429"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Multiline Field: mlDireccion
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: mlBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  String Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Border? Class Default
.head 5 -  Word Wrap? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Window Location and Size
.head 6 -  Left: 1.883"
.head 6 -  Top:    2.405"
.head 6 -  Width:  7.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 1.0"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfSexo
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.483"
.head 6 -  Top:    1.405"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Sexo :
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 13685
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.583"
.head 5 -  Top:    1.405"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Estado Civil :
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 13686
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.283"
.head 5 -  Top:    1.738"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfEstadoCivil
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.483"
.head 6 -  Top:    1.738"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Identidad :
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 13687
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    1.738"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfIdentidad
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.883"
.head 6 -  Top:    1.738"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Telefono :
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 13688
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    2.095"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTelefono
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.883"
.head 6 -  Top:    2.071"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Tipo de Paciente:
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 13689
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    0.488"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTipo
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.883"
.head 6 -  Top:    0.488"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Empresa/Maquila
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 13690
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.883"
.head 5 -  Top:    0.488"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfEmpresa
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.483"
.head 6 -  Top:    0.488"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Fecha Nacimiento:
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 13691
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    1.405"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFecha_Nac
.data CLASSPROPSSIZE
0000: 1C00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000B00 746162436C69656E 74650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.883"
.head 6 -  Top:    1.405"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: 99/99/9999
.head 4 -  Message Actions
.head 3 +  Check Box: cbEmpleadoR
.data CLASSPROPSSIZE
0000: 1F00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000E00 746162526573706F 6E73616C650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Responde Empleado
.head 4 -  Window Location and Size
.head 5 -  Left: 6.05"
.head 5 -  Top:    0.345"
.head 5 -  Width:  2.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfCodEmpleadoR
.data CLASSPROPSSIZE
0000: 1F00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000E00 746162526573706F 6E73616C650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 8.183"
.head 6 -  Top:    0.369"
.head 6 -  Width:  0.867"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Data Field: dfNomResponde
.data CLASSPROPSSIZE
0000: 1F00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000E00 746162526573706F 6E73616C650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.75"
.head 6 -  Top:    0.679"
.head 6 -  Width:  7.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? No
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Identidad
.data CLASSPROPSSIZE
0000: 1F00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000E00 746162526573706F 6E73616C650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 13692
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.883"
.head 5 -  Top:    0.976"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfIdentidadR
.data CLASSPROPSSIZE
0000: 1F00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000E00 746162526573706F 6E73616C650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.75"
.head 6 -  Top:    0.952"
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? No
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Fecha Nacimiento
.data CLASSPROPSSIZE
0000: 1F00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000E00 746162526573706F 6E73616C650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 13693
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.683"
.head 5 -  Top:    0.976"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaNacR
.data CLASSPROPSSIZE
0000: 1F00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000E00 746162526573706F 6E73616C650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.35"
.head 6 -  Top:    0.952"
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Nacionalidad
.data CLASSPROPSSIZE
0000: 1F00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000E00 746162526573706F 6E73616C650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 13694
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.65"
.head 5 -  Top:    1.25"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfNacionalidadR
.data CLASSPROPSSIZE
0000: 1F00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000E00 746162526573706F 6E73616C650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.75"
.head 6 -  Top:    1.226"
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? No
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Pasaporte
.data CLASSPROPSSIZE
0000: 1F00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000E00 746162526573706F 6E73616C650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 13695
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.45"
.head 5 -  Top:    1.25"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfPasaporteR
.data CLASSPROPSSIZE
0000: 1F00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000E00 746162526573706F 6E73616C650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.35"
.head 6 -  Top:    1.226"
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? No
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Profesión u oficio
.data CLASSPROPSSIZE
0000: 1F00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000E00 746162526573706F 6E73616C650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 13696
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.75"
.head 5 -  Top:    1.524"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.321"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfProfesionR
.data CLASSPROPSSIZE
0000: 1F00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000E00 746162526573706F 6E73616C650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.75"
.head 6 -  Top:    1.5"
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? No
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: E-Mail
.data CLASSPROPSSIZE
0000: 1F00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000E00 746162526573706F 6E73616C650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 13697
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.517"
.head 5 -  Top:    1.524"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCorreoR
.data CLASSPROPSSIZE
0000: 1F00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000E00 746162526573706F 6E73616C650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.35"
.head 6 -  Top:    1.5"
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Nombre
.data CLASSPROPSSIZE
0000: 1F00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000E00 746162526573706F 6E73616C650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 13698
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.65"
.head 5 -  Top:    0.667"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Tel. Casa
.data CLASSPROPSSIZE
0000: 1F00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000E00 746162526573706F 6E73616C650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 13699
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.517"
.head 5 -  Top:    1.845"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTelCasaR
.data CLASSPROPSSIZE
0000: 1F00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000E00 746162526573706F 6E73616C650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.35"
.head 6 -  Top:    1.821"
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? No
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Multiline Field: mlDomicilioR
.data CLASSPROPSSIZE
0000: 1F00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000E00 746162526573706F 6E73616C650000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: mlBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 254
.head 5 -  String Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Border? Yes
.head 5 -  Word Wrap? Yes
.head 5 -  Vertical Scroll? Yes
.head 5 -  Window Location and Size
.head 6 -  Left: 1.683"
.head 6 -  Top:    2.143"
.head 6 -  Width:  7.5"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.012"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? No
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Dirección :
.data CLASSPROPSSIZE
0000: 2100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000E00 746162526573706F 6E73616C65000000
0020: 00
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 13700
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    2.202"
.head 5 -  Width:  1.167"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Estado Civil :
.data CLASSPROPSSIZE
0000: 2100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000E00 746162526573706F 6E73616C65000000
0020: 00
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 13701
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.55"
.head 5 -  Top:    1.845"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfEstadoCivilR
.data CLASSPROPSSIZE
0000: 2100
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000E00 746162526573706F 6E73616C65000000
0020: 00
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.75"
.head 6 -  Top:    1.821"
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Pushbutton: pbAplicarPlantilla
.data CLASSPROPSSIZE
0000: 2000
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F7300000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.383"
.head 5 -  Top:    0.369"
.head 5 -  Width:  0.65"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.452"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\ok.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If SalIsNull(cmbPlantilla)
.head 7 -  !
.head 7 -  !
.head 7 -  Call SalMessageBox( "Debe especificar la plantilla a aplicar", "MESSAGE", MB_Ok|MB_IconExclamation )
.head 7 -  Call SalSetFocus(cmbPlantilla)
.head 7 -  Return FALSE
.head 6 -  !
.head 6 -  Call AplicarPlantilla()
.head 3 -  Background Text: Plantilla a aplicar:
.data CLASSPROPSSIZE
0000: 2000
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F7300000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 13702
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.417"
.head 5 -  Top:    0.476"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbPlantilla
.data CLASSPROPSSIZE
0000: 2000
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F7300000000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatComboBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.917"
.head 5 -  Top:    0.452"
.head 5 -  Width:  3.5"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.893"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_DropDown
.head 6 -  !
.head 6 -  Set sPlantilla= cmbPlantilla
.head 6 -  Set sSQL = "
			SELECT
				DISTINCT
				DESC_PLANTILLA
			FROM
				PLANTILLAS_INVENTARIO
			ORDER BY
				DESC_PLANTILLA"
.head 6 -  Call SalListPopulate(cmbPlantilla, hSqlInterno, sSQL)
.head 6 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 6 -  !
.head 6 -  Call SalListSelectString( hWndItem, -1,sPlantilla)
.head 6 -  !
.head 5 +  On SAM_Validate
.head 6 -  !
.head 6 -  !
.head 6 -  ! Set sSQL = "
	SELECT
    		M.COD_MEDICO,
    		M.COD_ESPECIALIDAD,
    		E.NOMBRE
	FROM
    		MEDICOS M,
    		ESPECIALIDAD E
	WHERE
    		M.NOMBRE = :cmbMedicosOS AND
    		E.COD_ESPECIALIDAD = M.COD_ESPECIALIDAD
	INTO
		:dfCodMedico,
		:cmbEspecialidad.nCodigo ,
		:cmbEspecialidad
	"
.head 6 -  ! Call SqlImmediate(sSQL)
.head 6 -  ! Call SqlClearImmediate( )
.head 3 +  Pushbutton: pbAplicarSalida
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 11.083"
.head 5 -  Top:    0.369"
.head 5 -  Width:  0.65"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.45"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\leftjust.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set sRegresaSalida= ''
.head 6 -  Call SalModalDialog( dlgConsultaSalida, hWndForm,2, sRegresaSalida)
.head 6 +  If sRegresaSalida != ''
.head 7 -  !
.head 7 -  Call AplicarSalida()
.head 2 +  Functions
.head 3 +  Function: VerSiPuedeBorrar
.head 4 -  Description: Esta función recupera el estado de la factura y revisa si se puede borrar
Si la factura esta cerrada entonces no se puede borrar.
Si la factura esta anulada entonces no se puede borrar
Si la factura ha sido impresa entonces no se puede borrar
.head 4 +  Returns
.head 5 -  ! Esta función regresa TRUE o FALSE, TRUE si no se cumple ninguna de las condiciones
anteriores y FALSE de lo contrario
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nEst
.head 5 -  Number: nImp
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set sSQL = "select
		ESTADO_PROCESO,
		ESTADO_IMPRESA
	from
		FACTURAS
	where
		COD_FACTURA=:dfFactura
	into
		:nEst,
		:nImp"
.head 5 -  Call SqlImmediate(sSQL)
.head 5 -  Call SqlClearImmediate( )
.head 5 -  !
.head 5 -  ! nEst=0 En proceso nEst=1 Cerrada, nEst=2 Anulada
.head 5 +  Select Case nEst
.head 6 +  Case 1
.head 7 -  Call SalMessageBox( "No se puede Borrar
                                 una Factura que ha sido cerrada ", "Error", MB_Ok )
.head 7 -  Return FALSE
.head 6 +  Case 2
.head 7 -  Call SalMessageBox( "No se puede Borrar
                                 una Factura que ha sido anulada ", "Error", MB_Ok )
.head 7 -  Return FALSE
.head 5 +  Select Case nImp
.head 6 +  Case 1
.head 7 -  Call SalMessageBox( "No se puede Borrar
                                 una Factura que ha sido impresa ", "Error", MB_Ok )
.head 7 -  Return FALSE
.head 5 -  Return TRUE
.head 3 +  Function: Actualizar_Montos
.head 4 -  Description: Esta función actualiza los montos de la factura, especialmente los totales.
Esto se hace cuando se cambia la cantidad de algun detalle o el precio o
se cambia el descuento, o se agregan nuevas lineas al detalle
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nEst
.head 5 -  Number: nImp
.head 5 -  Number: nFila
.head 4 +  Actions
.head 5 -  Set dfMontoFactura=SalTblColumnSum(tbl1,9,0,32)
.head 5 -  Set dfHonorarios=SalTblColumnSum(tbl2,5,0,32)
.head 5 -  Set dfGranTotal=dfMontoFactura+dfHonorarios-dfDescuento
.head 5 -  Set nFila=-1
.head 5 +  While SalTblFindNextRow(tbl2,nFila,0,0)
.head 6 -  Call SalTblSetContext(tbl2,nFila)
.head 6 +  If tbl2.colPagar =0
.head 7 +  If not SalTblQueryRowFlags(tbl2,nFila,ROW_MarkDeleted)
.head 8 -  Set dfHonorarios=dfHonorarios-tbl2.colCosto
.head 5 -  Set dfTotal=dfMontoFactura  - dfDescuento
.head 5 -  Call SalDateToStr( dfFechaRegistro, FECHA_REGISTRO )
.head 5 -  Call SalStrLeft (FECHA_REGISTRO, 10, FECHA_REGISTRO )
.head 5 -  Call SalDateToStr( dfFechaIngreso, FECHA_INGRESO )
.head 5 -  Call SalStrLeft (FECHA_INGRESO, 10, FECHA_INGRESO )
.head 5 +  If dfFechaEgreso!=DATETIME_Null
.head 6 -  Call SalDateToStr( dfFechaEgreso, FECHA_EGRESO )
.head 6 -  Call SalStrLeft (FECHA_EGRESO, 10, FECHA_EGRESO )
.head 5 +  Else
.head 6 -  Set FECHA_EGRESO=STRING_Null
.head 3 +  Function: VerSiPuedeGrabar
.head 4 -  Description: Esta función revisa si una factura se puede modificar.
Una factura anulada no se puede modificar
Una factura cerrada no se puede modificar
.head 4 +  Returns
.head 5 -  ! Regresa TRUE o FALSE , TRUE sino se cumple ninguna de las condiciones anteriores y
FALSE lo contrario
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nEst
.head 5 -  Number: nImp
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set sSQL = "select
		ESTADO_PROCESO,
		ESTADO_IMPRESA
	from
		FACTURAS
	where
		COD_FACTURA=:dfFactura
	into
		:nEst,
		:nImp"
.head 5 -  Call SqlImmediate(sSQL)
.head 5 -  Call SqlClearImmediate()
.head 5 -  !
.head 5 -  ! nEst=0 En proceso nEst=1 Cerrada, nEst=2 Anulada
.head 5 +  Select Case nEst
.head 6 +  Case 1
.head 7 -  Call SalMessageBox( "No se puede Modificar
                                 una Factura que ha sido cerrada ", "Error", MB_Ok )
.head 7 -  Return FALSE
.head 6 +  Case 2
.head 7 -  Call SalMessageBox( "No se puede Modificar
                                 una Factura que ha sido anulada ", "Error", MB_Ok )
.head 7 -  Return FALSE
.head 5 -  Return TRUE
.head 3 +  Function: ActualizarPaciente
.head 4 -  Description: Esta función solamente recupera los datos del paciente y los actualiza en pantalla
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nTipo
.head 5 -  Number: nEstado
.head 5 -  String: nSexo
.head 5 -  Number: nEstado_Pac
.head 5 -  Date/Time: nFecha
.head 5 -  Date/Time: nFechaHoy
.head 5 -  Number: nEmpresa
.head 4 +  Actions
.head 5 -  Call LimpiarCliente()
.head 5 -  Call SqlExists( "select
		A.PRIMER_NOM + ' ' + A.PRIMER_APE,
   		A.DIRECCION,
		A.TIPO,A.IDENTIDAD,
   		A.SEXO,
		A.ESTADO_CIVIL,
		A.TELEFONO_CASA,
		A.PRIMER_NOM,
   		A.SEGUNDO_NOM,
		A.PRIMER_APE,
		A.SEGUNDO_APE,
		A.ESTADO_PAC,
		A.FEC_FCONTRATO,
   		A.COD_EMPRESA,
		A.TIPO_S,
		FECHA_NAC
    	from
		PACIENTES A
	where
		A.COD_PACIENTE  =:dfPaciente  and
		A.CORREL_PACIENTE=:dfPacienteCorrel
  	into
		:dfNombre ,
		:mlDireccion,
		:nTipo,
		:dfIdentidad,
		:nSexo,
		:nEstado,
		:dfTelefono,
		:dfPrimer_Nom,
		:dfSegundo_Nom,
		:dfPrimer_Ape,
		:dfSegundo_Ape,
		:nEstado_Pac,
		:nFecha,
		:nEmpresa,
		:dfTipo,
		:dfFecha_Nac " ,bExists)
.head 5 -  Call SqlClearImmediate( )
.head 5 +  If not bExists
.head 6 -  Call SalMessageBox( "Paciente no existe." , "Error", MB_Ok )
.head 6 -  Set dfPaciente=''
.head 5 +  Else
.head 6 -  ! Call SqlClearImmediate()
.head 6 -  Call SqlExists( "select A.NOMBRE from EMPRESAS A where COD_EMPRESA=:nEmpresa
into :dfEmpresa",bExists)
.head 6 -  Call SqlClearImmediate( )
.head 6 +  If nEstado_Pac=1
.head 7 -  Call SalMessageBox( "Paciente esta Inactivo por lo tanto no se le puede
                                    generar factura " , "Error", MB_Ok )
.head 7 -  Set dfPaciente=''
.head 7 -  Return 0
.head 6 +  If nSexo='M'
.head 7 -  Set dfSexo='Masculino'
.head 6 +  Else
.head 7 -  Set dfSexo='Femenino'
.head 6 +  Select Case nEstado
.head 7 +  Case 0
.head 8 -  Set dfEstadoCivil='Soltero'
.head 8 -  Break
.head 7 +  Case 1
.head 8 -  Set dfEstadoCivil='Casado'
.head 8 -  Break
.head 7 +  Case 2
.head 8 -  Set dfEstadoCivil='Divorciado'
.head 8 -  Break
.head 3 +  Function: LimpiarCliente
.head 4 -  Description: Esta función limpia los campos asociados con el paciente
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Set dfPrimer_Nom=''
.head 5 -  Set dfSegundo_Nom=''
.head 5 -  Set dfPrimer_Ape=''
.head 5 -  Set dfSegundo_Ape=''
.head 5 -  Set mlDireccion= ''
.head 5 -  Set dfEstadoCivil =''
.head 5 -  Set dfIdentidad =''
.head 5 -  Set dfEmpresa=''
.head 5 -  Set dfTipo=''
.head 5 -  Set dfSexo=''
.head 5 -  Set dfTelefono=''
.head 3 +  Function: CerrarFactura
.head 4 -  Description: Esta función cierra una factura. Cuando una factura se cierra se genera automaticamente
un campo donde se lleva el monto de lo que debe el paciente, ademas al cerrarse
debe generarse una partida contable que entre a cuentas por cobrar. La partida
actualmente no se genera ya que no se ha especificado por parte del  cliente las
cuentas que realmente afectará
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nEstadoProceso
.head 5 -  Number: nEstadoImpresa
.head 5 -  String: nfechahoy
.head 5 -  Number: nTipo
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set sSQL = "select
		A.ESTADO_PROCESO,
		A.ESTADO_IMPRESA
from
		FACTURAS  A
where
		A.COD_FACTURA  =:dfFactura
into
		:nEstadoProceso,
		:nEstadoImpresa "
.head 5 -  Call SqlExists( sSQL, bExists)
.head 5 -  Call SqlClearImmediate( )
.head 5 -  !
.head 5 +  If not bExists
.head 6 -  Call SalMessageBox( "Factura no Existe" , "Error", MB_Ok )
.head 5 +  Else
.head 6 +  Select Case nEstadoProceso
.head 7 +  Case 1
.head 8 -  Call SalMessageBox( "La Factura ya fue  cerrada ", "Error", MB_Ok )
.head 8 -  Return 0
.head 7 +  Case 2
.head 8 -  Call SalMessageBox( "La Factura esta Anulada, no puede cerrarse", "Error", MB_Ok )
.head 8 -  Return 0
.head 7 +  Case 0
.head 8 -  !
.head 8 -  Set sSQL = "select
		A.TIPO
	from
		PACIENTES  A
	where
		A.COD_PACIENTE  =:dfPaciente and
		A.CORREL_PACIENTE=:dfPacienteCorrel
 	into
		:nTipo "
.head 8 -  Call SqlExists( sSQL, bExists)
.head 8 -  Call SqlClearImmediate( )
.head 8 -  !
.head 8 -  Call SalDateToStr( FechaHoy(2), nfechahoy )
.head 8 -  Call SalStrLeft (nfechahoy, 10, nfechahoy )
.head 8 +  Select Case nTipo
.head 9 +  Case 1
.head 10 +  If SalMessageBox( "Esta seguro de Cerrar la Factura ?", "Advertencia", MB_YesNo )=IDYES
.head 11 +  If SalMessageBox( "Desea generar partida automatica?" ,"Confirmacion", MB_YesNo | MB_IconQuestion ) = IDYES
.head 12 -  !
.head 12 -  Call SqlPrepareAndExecute(hSqlInterno,"begin tran")
.head 12 -  Call SqlPrepareAndExecute( hSqlInterno, " update
				facturas
                 		set
				ESTADO_PROCESO=1,
                  			ESTADO_PAGO=0,
                  			FECHA_CIERRE=:nfechahoy
			where
                  			COD_FACTURA=:dfFactura " )
.head 12 -  !
.head 12 -  Call GenerarPartida(  )
.head 12 -  Call SqlPrepareAndExecute(hSqlInterno,"commit tran")
.head 12 -  !
.head 11 +  Else
.head 12 -  !
.head 12 -  Call SqlPrepareAndExecute( hSqlInterno, " update
				facturas
                 		set
				ESTADO_PROCESO=1,
                  			ESTADO_PAGO=0,
                  			FECHA_CIERRE=:nfechahoy
			where
                  			COD_FACTURA=:dfFactura " )
.head 12 -  !
.head 11 -  Call SalMessageBox ("La Factura ha sido CERRADA " || sRegresa ,"MENSAJE",MB_Ok)
.head 10 -  Break
.head 3 +  Function: AnularFactura
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nEstadoProceso
.head 5 -  Number: nEstadoImpresa
.head 5 -  String: nfechahoy
.head 5 -  Number: nTipo
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set sSQL = "select
		A.ESTADO_PROCESO,
		A.ESTADO_IMPRESA
from
		FACTURAS  A
where
		A.COD_FACTURA  =:dfFactura
into
		:nEstadoProceso,
		:nEstadoImpresa "
.head 5 -  Call SqlExists( sSQL, bExists)
.head 5 -  Call SqlClearImmediate( )
.head 5 -  !
.head 5 +  If not bExists
.head 6 -  Call SalMessageBox( "Factura no Existe" , "Error", MB_Ok )
.head 5 +  Else
.head 6 +  Select Case nEstadoProceso
.head 7 +  Case 2
.head 8 -  Call SalMessageBox( "La Factura esta Anulada, no puede cerrarse", "Error", MB_Ok )
.head 8 -  Break
.head 7 +  Case 0
.head 8 -  Call SalMessageBox( "La Factura no se puede Anular, esta en PROCESO", "Error", MB_Ok )
.head 8 -  Break
.head 7 +  Case 1
.head 8 -  !
.head 8 -  Set sSQL = "select
		A.TIPO
	from
		PACIENTES  A
	where
		A.COD_PACIENTE  =:dfPaciente and
		A.CORREL_PACIENTE=:dfPacienteCorrel
 	into
		:nTipo "
.head 8 -  Call SqlExists( sSQL, bExists)
.head 8 -  Call SqlClearImmediate( )
.head 8 -  !
.head 8 +  Select Case nTipo
.head 9 +  Case 1
.head 10 +  If SalMessageBox( "Esta seguro de Anular la Factura ?", "Advertencia", MB_YesNo )=IDYES
.head 11 -  !
.head 11 -  Call SqlPrepareAndExecute( hSqlInterno, " update
					facturas
                 			set
					ESTADO_PROCESO=2,
                  				ESTADO_PAGO=0,
                  				MONTO_PAGADO=0,
                  				MONTO_DEBE=0
                   			where
                  				COD_FACTURA=:dfFactura " )
.head 11 -  !
.head 11 -  Call SqlPrepareAndExecute(hSqlInterno,"commit")
.head 11 -  !
.head 11 -  Call EliminarPartida()
.head 11 -  !
.head 11 -  Call SalMessageBox ("La Factura ha sido ANULADA","MENSAJE",MB_Ok)
.head 11 -  Break
.head 9 +  Case 0
.head 10 +  If SalMessageBox( "Esta seguro de Anular la Factura ?", "Advertencia", MB_YesNo )=IDYES
.head 11 -  Call SqlPrepareAndExecute( hSqlInterno, " update
					facturas
                 			set
					ESTADO_PROCESO=2,
                  				ESTADO_PAGO=0,
                  				MONTO_PAGADO=0,
                  				MONTO_DEBE=0
                   			where
                  				COD_FACTURA=:dfFactura " )
.head 11 -  Call SqlPrepareAndExecute(hSqlInterno,"commit")
.head 11 -  !
.head 11 -  Call SqlPrepareAndExecute(hSqlInterno, " update
					pacientes
				set
					disponible=disponible+:dfTotal
				where
					cod_paciente=:dfPaciente  ")
.head 11 -  Call SqlPrepareAndExecute(hSqlInterno,"commit")
.head 11 -  !
.head 11 -  Call SalMessageBox ("La Factura ha sido ANULADA","MENSAJE",MB_Ok)
.head 11 -  Break
.head 9 +  Case 2
.head 10 +  If SalMessageBox( "Esta seguro de Anular la Factura ?", "Advertencia", MB_YesNo )=IDYES
.head 11 -  Call SqlPrepareAndExecute( hSqlInterno, " update
					facturas
                 			set
					ESTADO_PROCESO=2,
                  				ESTADO_PAGO=0,
                  				MONTO_PAGADO=0,
                  				MONTO_DEBE=0
                   			where
                  				COD_FACTURA=:dfFactura " )
.head 11 -  Call SqlPrepareAndExecute(hSqlInterno,"commit")
.head 11 -  !
.head 11 -  Call SqlPrepareAndExecute(hSqlInterno, " update
					empresas
				set
					monto_debe =monto_debe -:dfTotal
				where
					cod_empresa =:dfcodEmpresa  ")
.head 11 -  Call SqlPrepareAndExecute(hSqlInterno,"commit")
.head 11 -  !
.head 11 -  Call SalMessageBox ("La Factura ha sido ANULADA","MENSAJE",MB_Ok)
.head 10 -  Break
.head 3 +  Function: LimpiarFactura
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Set dfTotal=NUMBER_Null
.head 5 -  Set dfDescuento=NUMBER_Null
.head 5 -  Set dfMontoFactura=NUMBER_Null
.head 5 -  Set dfHonorarios=NUMBER_Null
.head 5 -  Set mlDescripcion= ''
.head 5 -  Set dfESTADO_PROCESO_STRING =''
.head 5 -  Set dfFechaCierre =DATETIME_Null
.head 5 -  Set dfFechaRegistro =DATETIME_Null
.head 5 -  Set dfFechaIngreso =DATETIME_Null
.head 5 -  Set dfFechaEgreso =DATETIME_Null
.head 5 -  Set dfEstadoProceso=NUMBER_Null
.head 5 -  Set dfFactura=NUMBER_Null
.head 5 -  Set dfPaciente=''
.head 5 -  Set dfPacienteCorrel=''
.head 5 -  Set dfNombre=''
.head 3 +  Function: Actualizar_Debe
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: M_DEBE
.head 5 -  Number: M_PAGADO
.head 5 -  Number: TOTAL
.head 5 -  Number: M_HON_DEBE
.head 5 -  Number: M_HON_PAGADO
.head 5 -  Number: M_HONORARIOS
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set sSQL = "select
		MONTO_DEBE,
		MONTO_PAGADO,
		TOTAL,
		DEBE_HONORARIOS,
		PAGADO_HONORARIOS,
		MONTO_HONORARIOS
	from
		facturas
	where
		COD_FACTURA=:dfFactura
	into
		:M_DEBE,
		:M_PAGADO,
		:TOTAL,
		:M_HON_DEBE,
		:M_HON_PAGADO,
		:M_HONORARIOS "
.head 5 -  Call SqlPrepareAndExecute( hSqlInterno, sSQL)
.head 5 -  Call SqlFetchNext( hSqlInterno, nSiguiente )
.head 5 -  !
.head 5 -  If M_DEBE=0 and  M_PAGADO=0
.head 5 +  Else
.head 6 -  Set M_DEBE= TOTAL-M_PAGADO
.head 6 -  !
.head 6 -  Call SqlPrepareAndExecute(hSqlInterno,"update
					facturas
				set
					MONTO_DEBE = :M_DEBE
				where
					COD_FACTURA= :dfFactura " )
.head 6 -  ! Call SqlPrepareAndExecute(hSqlInterno,"commit")
.head 5 -  If M_HON_DEBE=0 and M_HON_PAGADO
.head 5 +  Else
.head 6 -  Set M_HON_DEBE= M_HONORARIOS-M_HON_PAGADO
.head 6 -  !
.head 6 -  Call SqlPrepareAndExecute(hSqlInterno,"update
					facturas
				set
					DEBE_HONORARIOS = :M_HON_DEBE
				where
					COD_FACTURA=:dfFactura " )
.head 6 -  ! Call SqlPrepareAndExecute(hSqlInterno,"commit")
.head 3 +  Function: RevisarMontos
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: monto_pagado
.head 4 +  Actions
.head 5 -  Set monto_pagado=0
.head 5 -  Call SqlPrepareAndExecute( hSqlInterno, "select
					sum(monto)
				from
					pagos
				where
					cod_factura=:dfFactura
				into
					:monto_pagado ")
.head 5 -  Call SqlFetchNext( hSqlInterno, nSiguiente )
.head 5 -  ! Call SqlPrepareAndExecute(hSqlInterno,"commit")
.head 5 -  !
.head 5 +  If monto_pagado=NUMBER_Null
.head 6 -  Set monto_pagado=0
.head 5 -  !
.head 5 -  Call SqlPrepareAndExecute( hSqlInterno,"update
					facturas
				set
					monto_debe=total-(:monto_pagado),
					monto_pagado=:monto_pagado
				where
					cod_factura=:dfFactura  ")
.head 5 -  ! Call SqlPrepareAndExecute(hSqlInterno,"commit")
.head 3 +  Function: GenerarPartida
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nCorrelativo
.head 5 -  String: sCodCuenta
.head 5 -  String: sNomCuenta
.head 4 +  Actions
.head 5 -  Set sRegresa='PFACT' || SalNumberToStrX( dfFactura,0)
.head 5 -  ! Insertar la cabesera de la partida
.head 5 -  Call SqlPrepareAndExecute(hSqlInterno,"insert INTO
					PARTIDAS (
						COD_PARTIDA,
						DESCRIPCION,
						FECHA,
						COD_TIPO,
						TOTAL_CARGO,
						TOTAL_DEBITO,
						ESTADO,
						SUMARIZADA,
						CERRADA)
					values(
						:sRegresa,
						:mlDescripcion ,
						:dfFechaEgreso,
						9,
						:dfGranTotal,
						:dfGranTotal,
						0,
						0,
						0)")
.head 5 -  ! ! Call SqlPrepareAndExecute(hSqlInterno,"commit")
.head 5 -  ! ! se ingresa la primera cuenta de la partida que es la cta de Clientes o la cta. de Empleados
.head 5 -  Set nCorrelativo = Identity(2)
.head 5 -  !
.head 5 +  If not SalIsNull(dfCodEmpleadoR)
.head 6 -  !
.head 6 -  Set sCodCuenta = '113-04-' || SalNumberToStrX(dfCodEmpleadoR, 0) || '-01'
.head 6 -  Set sNomCuenta = 'FACTURACION'
.head 5 +  Else
.head 6 -  !
.head 6 -  Set sCodCuenta = '113-10'
.head 6 -  Set sNomCuenta = 'CLIENTES'
.head 5 -  !
.head 5 -  Call SqlPrepareAndExecute(hSqlInterno,"insert into
				DET_PARTIDAS (
					COD_PARTIDA ,
					COD_CUENTA,
					NOMBRE,
					CARGO,
					CONCEPTO,
					CORRELATIVO)
			values(
					:sRegresa,
					:sCodCuenta,
					:sNomCuenta,
					:dfGranTotal,
					:dfNombre,
					:nCorrelativo
)")
.head 5 -  ! ! Call SqlPrepareAndExecute(hSqlInterno,"commit")
.head 5 -  ! ! --------------insertar la cuenta por descuento si lo hay
.head 5 +  If dfDescuento > 0
.head 6 -  !
.head 6 -  Set nCorrelativo = Identity(2)
.head 6 -  Call SqlPrepareAndExecute(hSqlInterno,"insert into
				DET_PARTIDAS (
					COD_PARTIDA ,
					COD_CUENTA,
					NOMBRE,
					CARGO,
					CONCEPTO,
					CORRELATIVO)
			values(
					:sRegresa,
					'421',
					'DESCUENTO DE PACIENTES',
					:dfDescuento,
					:dfNombre,
					:nCorrelativo
)")
.head 5 -  ! ! ----------------insertar la cuenta por honorarios medicos si los hay
.head 5 -  ! ! Se usa la cuenta 511-08 para honorarios medicos, 22/APR/2010 Analisis de Luis Sabillon
.head 5 +  If dfHonorarios > 0
.head 6 -  !
.head 6 -  Set nCorrelativo = Identity(2)
.head 6 -  Call SqlPrepareAndExecute(hSqlInterno,"insert into
				DET_PARTIDAS (
					COD_PARTIDA ,
					COD_CUENTA,
					NOMBRE,
					CREDITO,
					CONCEPTO,
					CORRELATIVO)
				values(
					:sRegresa,
					'511-08',
					'HONORARIOS  MEDICOS',
					:dfHonorarios,
					:dfNombre,
					:nCorrelativo
)")
.head 5 -  ! ---------------------Crear el detalle de partida
.head 5 -  Call Crear_detalle_partida()
.head 5 -  Call SqlPrepare(hSqlInterno,"insert into
		det_partidas (
			cod_partida,
			cod_cuenta,
			nombre,
			cargo,
			credito,
			cerrada,
			sumarizada,
			estado,
			concepto,
			correlativo)
		values (
			:tbl3.colPartida,
			:tbl3.colCuenta,
			:tbl3.colNombre,
			:tbl3.colCargo,
			:tbl3.colCredito,
			:tbl3.colCerrada,
			:tbl3.colSumarizada,
			:tbl3.colEstado,
			:tbl3.colConcepto,
			:tbl3.colCorrelativo) ")
.head 5 -  Call SalTblDoInserts(tbl3,hSqlInterno,TRUE)
.head 5 -  ! Call SqlPrepareAndExecute(hSqlInterno,"commit")
.head 5 -  Call SqlPrepareAndExecute( hSqlInterno,"update facturas set cod_partida=:sRegresa where cod_factura=:dfFactura ")
.head 5 -  ! Call SqlPrepareAndExecute(hSqlInterno,"commit")
.head 3 +  Function: Origen_Paciente
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Number:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 +  If rbHospital = TRUE
.head 6 -  Return 0
.head 5 +  Else If rbMedico
.head 6 -  Return 1
.head 5 -  Return 2
.head 3 +  Function: Crear_detalle_partida
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nCorrelativo
.head 5 -  String: sConcepto
.head 5 -  String: sPartida
.head 5 -  String: sSql
.head 5 -  Number: nRow
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set sPartida = 'PFACT' || SalNumberToStrX( dfFactura,0)
.head 5 -  Set sConcepto = dfNombre || " F #  " || SalNumberToStrX( dfFactura,0)
.head 5 -  Set sSql = "SELECT '" || sPartida || "', C.COD_CUENTA, D.DESCRIPCION, null, SUM(A.SUBTOTAL) ,0,0,0,'" || sConcepto || "' ,null
FROM DET_FACTURA A,SERVICIOS B, CATEG_SERVICIOS C,CUENTAS D

WHERE A.COD_FACTURA=:dfFactura
AND A.COD_SERVICIO=B.COD_SERVICIO AND A.COD_CATEGORIA=B.COD_CATEGORIA
AND A.COD_CATEGORIA=C.COD_CATEGORIA AND C.COD_CUENTA=D.COD_CUENTA

GROUP BY C.COD_CUENTA,D.DESCRIPCION"
.head 5 -  Call SalTblPopulate( tbl3,hSqlInterno,sSql, TBL_FillAll )
.head 5 -  ! Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  Set nRow = 0
.head 5 +  Loop
.head 6 +  If SalTblSetFocusRow(tbl3,nRow )
.head 7 -  Call SalTblSetColumnText( tbl3,10 , SalNumberToStrX(Identity(2),0) )
.head 7 -  Set nRow =nRow + 1
.head 6 +  Else
.head 7 -  Break
.head 5 -  Call SalTblSetFlagsAnyRows( tbl3, ROW_New,TRUE, 0, 0 )
.head 3 +  Function: ConectarCursorInterno
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  ! Setear temporalmente las variables de conexion
.head 5 -  Set SqlDatabase = 'hbetesda'
.head 5 -  Set SqlUser = 'sa'
.head 5 -  Set SqlPassword = 'asaber'
.head 5 -  !
.head 5 -  Call ConectarCursores(hSqlInterno)
.head 3 +  Function: EliminarPartida
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sPartida
.head 4 +  Actions
.head 5 -  !
.head 5 -  Set sPartida = 'PFACT' || SalNumberToStrX( dfFactura,0)
.head 5 -  !
.head 5 -  Call SybExecuteProc( hSqlInterno, "BORRAR_PARTIDA " || sPartida, STRING_Null)
.head 3 +  Function: Actualizar_Responsable
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nEstadoCivilR
.head 4 +  Actions
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  Call SqlImmediate ( "SELECT
			        			        			
			A.NOMBRE,
			A.IDENTIDAD,
			A.PASAPORTE,
			A.FECHA_NACIMIENTO,
			A.ESTADO_CIVIL,
			A.PROFESION,
			A.DIRECCION,
			A.TEL_CASA,
			A.CORREO,
			A.ES_EMPLEADO,
			A.COD_EMPLEADO
	FROM
        			AUTORIZACION_PAGO    	A
	WHERE
        			A.COD_AUTORIZACION			= :dfCodAutorizacion
	INTO
			:dfNomResponde,
			:dfIdentidadR,
			:dfPasaporteR,
			:dfFechaNacR,
			:nEstadoCivilR,
			:dfProfesionR,
			:mlDomicilioR,
			:dfTelCasaR,
			:dfCorreoR,
			:cbEmpleadoR,
			:dfCodEmpleadoR" )
.head 5 -  Call SqlClearImmediate ()
.head 5 +  Select Case nEstadoCivilR
.head 6 +  Case 0
.head 7 -  Set dfEstadoCivilR = "Soltero"
.head 7 -  Break
.head 6 +  Case 1
.head 7 -  Set dfEstadoCivilR ="Casado"
.head 7 -  Break
.head 6 +  Case 2
.head 7 -  Set dfEstadoCivilR ="Divorciado"
.head 7 -  Break
.head 6 +  Case 3
.head 7 -  Set dfEstadoCivilR = "Unión Libre"
.head 7 -  Break
.head 5 -  !
.head 5 -  Set dfResponsable = dfNomResponde
.head 5 -  Call SalWaitCursor(FALSE)
.head 3 +  Function: AplicarPlantilla
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nSig
.head 5 -  String: sCodCategPlantilla
.head 5 -  String: sCodServicioPlantilla
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  !
.head 5 -  Call SqlPrepareAndExecute( hSqlInterno, "
			SELECT
				COD_SERVICIO,
				COD_CATEGORIA
			FROM
				PLANTILLAS_INVENTARIO
			WHERE
				DESC_PLANTILLA = :cmbPlantilla
			INTO
				:sCodServicioPlantilla,
				:sCodCategPlantilla")
.head 5 -  Call SqlFetchNext( hSqlInterno, nSig )
.head 5 +  While nSig!=FETCH_EOF
.head 6 -  !
.head 6 -  Call SalSendMsg(pbAgregarServicio, SAM_Click, 0, 0)
.head 6 -  Set tbl1.colServicio=sCodServicioPlantilla
.head 6 -  Set tbl1.colCategoria=sCodCategPlantilla
.head 6 -  Call SalSendMsg(tbl1.colCategoria, SAM_Validate,0,0)
.head 6 -  Call SalSendMsg(tbl1.colServicio, SAM_Validate,0,0)
.head 6 -  !
.head 6 -  Call SqlFetchNext( hSqlInterno, nSig )
.head 5 -  !
.head 5 -  Call SalWaitCursor(FALSE)
.head 3 +  Function: AplicarSalida
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nSig
.head 5 -  String: sCodCategSalida
.head 5 -  String: sCodServicioSalida
.head 5 -  Number: nCantidadSalida
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SalWaitCursor(TRUE)
.head 5 -  !
.head 5 -  Call SqlPrepareAndExecute( hSqlInterno, "
			select
				A.COD_MEDICAMENTO,
				A.COD_CATEGORIA,
				A.CANTIDAD
			from
				DETALLE_SALIDAS  A
			where
				A.COD_SALIDA = :sRegresaSalida
			INTO
				:sCodServicioSalida,
				:sCodCategSalida,
				:nCantidadSalida
")
.head 5 -  Call SqlFetchNext( hSqlInterno, nSig )
.head 5 +  While nSig!=FETCH_EOF
.head 6 -  !
.head 6 -  Call SalSendMsg(pbAgregarServicio, SAM_Click, 0, 0)
.head 6 -  Set tbl1.colServicio=sCodServicioSalida
.head 6 -  Set tbl1.colCategoria=sCodCategSalida
.head 6 -  Set tbl1.colCantidad = nCantidadSalida
.head 6 -  Call SalSendMsg(tbl1.colCategoria, SAM_Validate,0,0)
.head 6 -  Call SalSendMsg(tbl1.colServicio, SAM_Validate,0,0)
.head 6 -  Call SalSendMsg(tbl1.colCantidad, SAM_Validate,0,0)
.head 6 -  !
.head 6 -  Call SqlFetchNext( hSqlInterno, nSig )
.head 5 -  !
.head 5 -  Call SalWaitCursor(FALSE)
.head 2 +  Window Parameters
.head 3 -  Number: nCaso
.head 3 -  String: sParamCodPaciente
.head 3 -  String: sParamCorrelPaciente
.head 2 +  Window Variables
.head 3 -  String: sRegresa
.head 3 -  String: FECHA_REGISTRO
.head 3 -  Number: wEstado
.head 3 -  Number: nRegresa
.head 3 -  String: sRegresaPac
.head 3 -  String: sRegresaCor
.head 3 -  Number: nRegresaCodAutorizacion
.head 3 -  String: FECHA_INGRESO
.head 3 -  String: FECHA_EGRESO
.head 3 -  Number: nCosto
.head 3 -  Number: nCosto1
.head 3 -  Number: nCosto2
.head 3 -  Number: nCosto3
.head 3 -  Number: nOrigen
.head 3 -  String: nfechahoy
.head 3 -  Number: nCodigo_cama
.head 3 -  String: sCama
.head 3 -  Boolean: bNuevaFactura
.head 3 -  Boolean: bExistsFact
.head 3 -  String: sSQL
.head 3 -  Date/Time: dtCurrentDate
.head 3 -  !
.head 3 -  String: sRegresaCateg
.head 3 -  String: sRegresaServ
.head 3 -  String: sRegresaSalida
.head 3 -  String: sPlantilla
.head 3 -  !
.head 3 -  Sql Handle: hSqlInterno
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalCenterWindow( hWndForm )
.head 4 -  Call ConectarCursorInterno()
.head 4 -  Call DeshabilitarTodo(  )
.head 4 -  Call SalDisableWindow(pbGrabar)
.head 4 -  Set rbMedico = FALSE
.head 4 -  Set rbHospital = FALSE
.head 4 -  Set rbComodin = TRUE
.head 4 -  Set bNuevaFactura=FALSE
.head 4 -  !
.head 4 +  If nCaso = 2
.head 5 -  !
.head 5 -  Call SalSendMsg(pbAgregar, SAM_Click, 0, 0)
.head 5 -  Set dfPaciente = sParamCodPaciente
.head 5 -  Set dfPacienteCorrel = sParamCorrelPaciente
.head 5 -  Call SalSendMsg(dfPaciente, SAM_Validate, 0, 0)
.head 4 -  !
.head 3 +  On SAM_Destroy
.head 4 -  !
.head 4 +  If bNuevaFactura
.head 5 -  !
.head 5 -  Set sSQL = "select
		COD_FACTURA
	from
		FACTURAS
	where
		COD_FACTURA=:dfFactura"
.head 5 -  Call SqlExists (sSQL, bExistsFact)
.head 5 -  Call SqlClearImmediate()
.head 5 +  If not bExistsFact
.head 6 -  !
.head 6 -  Set sSQL = 'DELETE FROM
		 IDENTITYS
	WHERE
		cod_tabla = 23 AND
		MAXIMO = :dfFactura'
.head 6 -  Call SqlImmediate(sSQL)
.head 6 -  Call SqlClearImmediate()
.head 6 -  !
.head 5 -  !
.head 4 -  Call SqlDisconnect(hSqlInterno)
.head 4 -  !
.head 3 +  On MU_BORRAR
.head 4 -  !
.head 4 -  Call SalMessageBox( "Esta opcion ha sido deshabilitada.", "Advertencia", MB_Ok )
.head 3 +  On MU_GRABAR
.head 4 -  Call Actualizar_Montos()
.head 4 -  !
.head 4 -  Set nOrigen = Origen_Paciente( )
.head 4 -  !
.head 4 -  Set dtCurrentDate=SalDateCurrent()
.head 4 -  !
.head 4 -  Call SqlExists("select	COD_FACTURA  from FACTURAS
where	COD_FACTURA=:dfFactura",bExists)
.head 4 -  Call SqlClearImmediate( )
.head 4 -  !
.head 4 +  If not bExists
.head 5 -  Call SqlPrepareAndExecute(hSqlInterno,"begin tran")
.head 5 +  If SqlPrepareAndExecute(hSqlInterno,"
insert INTO
FACTURAS (
COD_FACTURA,
COD_PACIENTE,
CORREL_PACIENTE,
DESCRIPCION,
TIPO,
FECHA_REGISTRO,
ESTADO_PROCESO,
ESTADO_IMPRESA,
MONTO_DEBE,
ESTADO_PAGO,
MONTO_PAGADO,
MONTO_FACTURA,
MONTO_HONORARIOS,
DESCUENTO,
TOTAL,
FECHA_INGRESO,
FECHA_EGRESO,
DEBE_HONORARIOS,
COD_MEDICO,
ORIGEN_PACIENTE,
CAMA,
COD_AUTORIZACION,
CREADO_POR,
CODIGO_CIUDAD_GEO)
values(
:dfFactura,
:dfPaciente,
:dfPacienteCorrel,
:mlDescripcion,
:cmbTipo,
:FECHA_REGISTRO,
0,
0,
:dfTotal,
0,
0,
:dfMontoFactura,
:dfHonorarios,
:dfDescuento,
:dfTotal,
:FECHA_INGRESO,
:FECHA_EGRESO,
:dfHonorarios,
:cmbMedicos.nCodigo,
:nOrigen,
:cmbHabitacion.nCodigo,
:dfCodAutorizacion,
:nCodUser,
:nCodCiudad)")
.head 6 -  Call SqlPrepare(hSqlInterno,"insert
DET_FACTURA (
CORREL ,
COD_SERVICIO,
COD_FACTURA,
COSTO,
FECHA,
CANTIDAD,
DESCRIPCION,
SUBTOTAL,
COD_CATEGORIA)
values(:tbl1.colUnico,
:tbl1.colServicio,
:dfFactura,
:tbl1.colCosto,
:tbl1.colFechaString,
:tbl1.colCantidad,
:tbl1.colcmbServi,
:tbl1.colSubTotal,
:tbl1.colCategoria)")
.head 6 -  Call SalTblDoInserts(tbl1,hSqlInterno,TRUE)
.head 6 -  !
.head 6 -  Call SqlPrepare(hSqlInterno,"insert
DET_HONORARIOS (
CORREL ,
COD_FACTURA,
COD_MEDICO,
COSTO,
FECHA,
DESCRIPCION,
ESTADO_PAGO,MONTO_DEBE)
values(:tbl2.colUnicoHon,
:dfFactura,
:tbl2.colCodDoctor,
:tbl2.colCosto,
:tbl2.colFechaString,
:tbl2.colDescripcion,
:tbl2.colPagar,:tbl2.colCosto)")
.head 6 -  Call SalTblDoInserts(tbl2,hSqlInterno,TRUE)
.head 6 -  !
.head 6 -  Call RevisarMontos(  )
.head 6 -  Call SqlPrepareAndExecute(hSqlInterno,"commit tran")
.head 6 -  Call SalDisableWindow(pbGrabar)
.head 4 +  Else
.head 5 -  !
.head 5 +  If bNuevaFactura=TRUE
.head 6 -  Set dfFactura= Identity(23)
.head 6 -  Call SalMessageBox( 'El numero de Factura ya Existe por lo que Esta Factura se Grabara con el siguiente NUMERO : '||SalNumberToStrX( dfFactura, 0 ) ,
'Advertencia', MB_Ok )
.head 5 -  !
.head 5 -  Call SqlPrepareAndExecute(hSqlInterno,"Begin tran")
.head 5 -  Call SqlPrepare(hSqlInterno,"insert
DET_FACTURA (
	CORREL ,
	COD_SERVICIO,
	COD_FACTURA,
	COSTO,
	FECHA,
	CANTIDAD,
	DESCRIPCION,
	SUBTOTAL,
	COD_CATEGORIA)
values(
	:tbl1.colUnico,
	:tbl1.colServicio,
	:dfFactura,
	:tbl1.colCosto,
	:tbl1.colFechaString,
	:tbl1.colCantidad,
	:tbl1.colcmbServi,
	:tbl1.colSubTotal,
	:tbl1.colCategoria)")
.head 5 -  Call SalTblDoInserts(tbl1,hSqlInterno,TRUE)
.head 5 -  !
.head 5 -  Call SqlPrepare(hSqlInterno,"update
			DET_FACTURA
		set
			COD_SERVICIO=:tbl1.colServicio,
			COD_FACTURA=:dfFactura,
			COSTO=:tbl1.colCosto,
			FECHA=:tbl1.colFechaString,
			CANTIDAD=:tbl1.colCantidad,
			DESCRIPCION=:tbl1.colcmbServi,
			SUBTOTAL=:tbl1.colSubTotal ,COD_CATEGORIA=:tbl1.colCategoria
		where
			correl = :tbl1.colUnico")
.head 5 -  Call SalTblDoUpdates(tbl1,hSqlInterno,TRUE)
.head 5 -  !
.head 5 -  Call SqlPrepare(hSqlInterno,"insert
DET_HONORARIOS (
	CORREL ,
	COD_FACTURA,
	COD_MEDICO,
	COSTO,
	FECHA,
	DESCRIPCION,
	ESTADO_PAGO,
	MONTO_DEBE)
values(
	:tbl2.colUnicoHon,
	:dfFactura,
	:tbl2.colCodDoctor,
	:tbl2.colCosto,
	:tbl2.colFechaString,
	:tbl2.colDescripcion,
	:tbl2.colPagar,
	:tbl2.colCosto)")
.head 5 -  Call SalTblDoInserts(tbl2,hSqlInterno,TRUE)
.head 5 -  !
.head 5 -  Call SqlPrepare(hSqlInterno,"delete from
		DET_FACTURA
	where	CORREL=:tbl1.colUnico")
.head 5 -  Call SalTblDoDeletes(tbl1,hSqlInterno,ROW_MarkDeleted)
.head 5 -  !
.head 5 -  Call SqlPrepare(hSqlInterno,"delete from
		DET_HONORARIOS
	where	CORREL=:tbl2.colUnicoHon")
.head 5 -  Call SalTblDoDeletes(tbl2,hSqlInterno,ROW_MarkDeleted)
.head 5 -  !
.head 5 -  Call SqlPrepareAndExecute(hSqlInterno,"
update
	FACTURAS
set
	COD_PACIENTE		=:dfPaciente,
	CORREL_PACIENTE	=:dfPacienteCorrel,
	DESCRIPCION		=:mlDescripcion,
	MONTO_FACTURA	=:dfMontoFactura,
	MONTO_HONORARIOS	=:dfHonorarios,
	DESCUENTO		=:dfDescuento,
	TIPO			=:cmbTipo,
	FECHA_INGRESO		=:FECHA_INGRESO,
	FECHA_EGRESO		=:FECHA_EGRESO,
	TOTAL			=:dfTotal,
	COD_MEDICO		=:cmbMedicos.nCodigo,
	ORIGEN_PACIENTE 	=:nOrigen,
	CAMA			=:cmbHabitacion.nCodigo,
	COD_AUTORIZACION	=:dfCodAutorizacion,
	MODIFICADO_POR 	=:nCodUser,
	FECHA_MODIFICACION	=:dtCurrentDate
WHERE
	COD_FACTURA		=:dfFactura " )
.head 5 -  !
.head 5 -  Call Actualizar_Debe()
.head 5 -  !
.head 5 -  Call RevisarMontos(  )
.head 5 -  !
.head 5 -  Call SqlPrepareAndExecute(hSqlInterno,"commit tran")
.head 5 -  Call SalDisableWindow(pbGrabar)
.head 4 -  !
.head 4 -  Set bNuevaFactura=FALSE
.head 4 -  !
.head 3 +  On MU_ACTUALIZAR
.head 4 -  Call SalClearField( tbl1 )
.head 4 -  Call Limpiar()
.head 4 -  Call SalClearField( tbl2 )
.head 4 -  Call SalWaitCursor(TRUE)
.head 4 -  Set sSQL = "
select
	COD_PACIENTE,
	CORREL_PACIENTE,
	DESCRIPCION,
	TIPO,
	FECHA_REGISTRO,
	ESTADO_PROCESO,
	ESTADO_IMPRESA,
	ESTADO_PAGO,
	MONTO_FACTURA,
	MONTO_HONORARIOS,
	DESCUENTO,
	FECHA_CIERRE,TOTAL,
	FECHA_INGRESO,
	FECHA_EGRESO,
	COD_MEDICO,
	ORIGEN_PACIENTE,
	CAMA,
	COD_AUTORIZACION
from
	FACTURAS
where
	COD_FACTURA= :dfFactura
into
	:dfPaciente,
	:dfPacienteCorrel,
	:mlDescripcion,
	:cmbTipo,
	:dfFechaRegistro,
	:dfEstadoProceso,
	:dfEstadoImpresa,
	:dfEstadoPago,
	:dfMontoFactura,
	:dfHonorarios,
	:dfDescuento,
	:dfFechaCierre,
	:dfTotal,
	:dfFechaIngreso,
	:dfFechaEgreso,
	:cmbMedicos.nCodigo,
	:nOrigen,
	:cmbHabitacion.nCodigo,
	:dfCodAutorizacion"
.head 4 -  Call SqlImmediate(sSQL)
.head 4 -  Call SqlClearImmediate()
.head 4 -  !
.head 4 -  Set dfGranTotal=dfTotal + dfHonorarios
.head 4 +  Select Case dfEstadoProceso
.head 5 +  Case 0
.head 6 -  Set dfESTADO_PROCESO_STRING='EN PROCESO'
.head 6 -  Break
.head 5 +  Case 1
.head 6 -  Set dfESTADO_PROCESO_STRING='CERRADA'
.head 6 -  Break
.head 5 +  Case 2
.head 6 -  Set dfESTADO_PROCESO_STRING='ANULADA'
.head 6 -  Break
.head 4 -  !
.head 4 -  Set rbMedico = FALSE
.head 4 -  Set rbHospital = FALSE
.head 4 -  Set rbComodin = TRUE
.head 4 -  !
.head 4 +  Select Case nOrigen
.head 5 -  ! Case 2
.head 5 +  ! Case NUMBER_Null
.head 6 -  Set rbMedico = FALSE
.head 6 -  Set rbHospital = FALSE
.head 6 -  Set rbComodin = TRUE
.head 6 -  Break
.head 5 +  Case 0
.head 6 -  Set rbHospital = TRUE
.head 6 -  Break
.head 5 +  Case 1
.head 6 -  Set rbMedico = TRUE
.head 6 -  Break
.head 4 -  Call SalTblPopulate(tbl1,hSqlInterno,"
select
	A.CORREL ,
                C.COD_CATEGORIA,
                C.NOMBRE,
                A.COD_SERVICIO,
                B.NOMBRE,
                A.COSTO,
                A.CANTIDAD,
                convert(varchar(10) ,A.FECHA,103),
	A.SUBTOTAL,
                A.FECHA
               
from
	DET_FACTURA A,
	SERVICIOS B,
	CATEG_SERVICIOS C
where
	A.COD_FACTURA=:dfFactura  and
	A.COD_SERVICIO=B.COD_SERVICIO AND
	B.COD_CATEGORIA=C.COD_CATEGORIA AND
	A.COD_CATEGORIA=B.COD_CATEGORIA
order by
	B.NOMBRE ",TBL_FillAll)
.head 4 -  Call SqlPrepareAndExecute(hSqlInterno,"commit")
.head 4 -  !
.head 4 -  Call SalTblPopulate(tbl2,hSqlInterno,"
select	A.CORREL ,
                A.COD_MEDICO,
                B.NOMBRE,
                A.DESCRIPCION,
                A.COSTO,
                 convert(varchar(10) ,A.FECHA,103),
	A.ESTADO_PAGO,
                A.FECHA
               
from	 DET_HONORARIOS A,
	MEDICOS  B
where
	A.COD_FACTURA=:dfFactura  and
	A.COD_MEDICO=B.COD_MEDICO
order by
	a.fecha  ",TBL_FillAll)
.head 4 -  Call SqlPrepareAndExecute(hSqlInterno,"commit")
.head 4 -  !
.head 4 -  Call DeshabilitarTodo(  )
.head 4 -  Call ActualizarPaciente(  )
.head 4 -  Call Actualizar_Responsable()
.head 4 -  Call cmbMedicos.Actualizar()
.head 4 -  Call cmbHabitacion.Actualizar()
.head 4 -  Call SalEnableWindow(tbl1)
.head 4 -  Call SalEnableWindow(tbl2)
.head 4 -  Call SalEnableWindow(dfPaciente)
.head 4 -  Call SalEnableWindow(dfPacienteCorrel)
.head 4 -  Call SalEnableWindow(mlDescripcion)
.head 4 -  Call SalEnableWindow(dfDescuento)
.head 4 -  Call SalEnableWindow(pbBorrar)
.head 4 -  Call SalEnableWindow(pbAgregar)
.head 4 -  Call SalEnableWindow(pbGrabar)
.head 4 -  Call SalEnableWindow(pbAgregarServicio)
.head 4 -  Call SalEnableWindow(pbBuscarServicio)
.head 4 -  Call SalEnableWindow(pbAgregarHon)
.head 4 -  Call SalEnableWindow(pbBorrarServicio)
.head 4 -  Call SalEnableWindow(pbBorrarHon)
.head 4 -  Call SalEnableWindow(tbl3)
.head 4 -  Call SalEnableWindow(cmbTipo)
.head 4 -  Call SalEnableWindow(pbAplicarPlantilla)
.head 4 -  Call SalEnableWindow(pbAplicarSalida)
.head 4 -  Call SalEnableWindow(cmbPlantilla)
.head 4 -  Call SalWaitCursor(FALSE)
.head 1 +  Dialog Box: dlgConsultaServicios
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Consulta de Servicios
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  12.75"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 5.917"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Background Text: Código
.head 4 -  Resource Id: 11780
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.15"
.head 5 -  Top:    0.369"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCodigo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.783"
.head 6 -  Top:    0.321"
.head 6 -  Width:  2.533"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Descripción
.head 4 -  Resource Id: 11781
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.55"
.head 5 -  Top:    0.595"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfDescripcion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.783"
.head 6 -  Top:    0.571"
.head 6 -  Width:  5.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_AnyEdit
.head 6 -  !
.head 6 -  Call SalSendMsg(pbBuscar, SAM_Click, 0, 0)
.head 3 -  Background Text: Categoria
.head 4 -  Resource Id: 11782
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.517"
.head 5 -  Top:    0.869"
.head 5 -  Width:  1.133"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbCateg
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.75"
.head 5 -  Top:    0.869"
.head 5 -  Width:  5.433"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbCateg.nCaso=2
.head 6 -  Set cmbCateg.sTabla='CATEG_SERVICIOS'
.head 6 -  Set cmbCateg.sNombre='NOMBRE'
.head 6 -  Set cmbCateg.sCodigo='COD_CATEGORIA'
.head 3 -  Background Text: Presentación
.head 4 -  Resource Id: 11783
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.45"
.head 5 -  Top:    1.179"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbPresentacion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.75"
.head 5 -  Top:    1.179"
.head 5 -  Width:  3.633"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbPresentacion.nCaso=1
.head 6 -  Set cmbPresentacion.sTabla='TIPOS_PRESEN'
.head 6 -  Set cmbPresentacion.sNombre='NOMBRE'
.head 6 -  Set cmbPresentacion.sCodigo='COD_PRESEN'
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.483"
.head 6 -  Top:    1.738"
.head 6 -  Width:  11.5"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 2.917"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 8
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colCodigo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Codigo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.033"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colNombre
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Nombre
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCategoria
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Categoria
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.733"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCostoReal
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Costo Real
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.25"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###00000000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCosto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Precio M/P
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.25"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colPresen
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Unidad
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCodCategoria
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod Categoria
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colEn_Uso
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Activo
.head 6 -  Visible? Yes
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Check Box
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value: 1
.head 8 -  Uncheck Value: 0
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colRevisado
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Revisado
.head 6 -  Visible? Yes
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.983"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Check Box
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value: 1
.head 8 -  Uncheck Value: 0
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 +  Window Variables
.head 5 -  Number: nFilita
.head 4 +  Message Actions
.head 5 +  On SAM_DoubleClick
.head 6 +  If nCaso=2
.head 7 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.colCodigo)
.head 7 -  Call SalTblSetContext(tbl1,nFilita)
.head 7 -  Set sRegresa=tbl1.colCodigo
.head 7 -  Set sRegresa2=tbl1.colCodCategoria
.head 7 -  Call SalEndDialog(dlgConsultaServicios,TRUE)
.head 5 +  On SAM_Create
.head 6 -  !
.head 6 -  Call MTblSubClass( hWndForm )
.head 6 -  Call MTblEnableMWheelScroll( hWndForm, TRUE )
.head 3 +  Pushbutton: pbCopiar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Copiar
.head 4 -  Window Location and Size
.head 5 -  Left: 7.75"
.head 5 -  Top:    0.75"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.679"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F5
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\editpaste.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call SalTblCopyRows(tbl1,0,0)
.head 6 -  Call SalMessageBox('Datos copiados','Atencion',MB_Ok)
.head 6 -  ! Set nLanguage = MTE_LNG_ENGLISH
.head 6 -  ! Set sStartCell = "Cod_Paciente"
.head 6 -  ! Set nExcelFlags = MTE_EXCEL_RUNNING_INSTANCE | MTE_EXCEL_NEW_INSTANCE | MTE_EXCEL_NEW_WORKSHEET
.head 6 -  ! Set nExportFlags = MTE_COL_HEADERS | MTE_COLORS | MTE_FONTS | MTE_GRID | MTE_SPLIT_ROWS | MTE_SHOW_STATUS
.head 6 -  ! Set nRowFlagsOn = 0
.head 6 -  ! Set nRowFlagsOff = ROW_Hidden
.head 6 -  ! Set nColFlagsOn = COL_Visible
.head 6 -  ! Set nColFlagsOff = 0
.head 6 -  ! Call MTblExportToExcel(tbl1, nLanguage, sStartCell, nExcelFlags, nExportFlags, nRowFlagsOn, nRowFlagsOff, nColFlagsOn, nColFlagsOff )
.head 3 +  Pushbutton: pbLimpiar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbLimpia
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.483"
.head 5 -  Top:    0.75"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.679"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\eraser.bmp
.head 4 -  Picture Transparent Color: White
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbBuscar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.283"
.head 5 -  Top:    0.75"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.679"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalWaitCursor( TRUE )
.head 6 -  Call SalTblPopulate( tbl1, hSql1, ArmarQuery() , TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  Set dfTotal=ContarFilas( tbl1 )
.head 6 -  !
.head 6 -  Call ColorearFilas(tbl1)
.head 6 -  Call SalWaitCursor( FALSE )
.head 3 +  Pushbutton: pbSalir
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbSalir
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.083"
.head 5 -  Top:    0.75"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.679"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfOculto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.083"
.head 6 -  Top:    4.905"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Posicionese sobre el Servicio en Particular y presione doble click para cargarlo
.head 4 -  Resource Id: 11784
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.183"
.head 5 -  Top:    5.095"
.head 5 -  Width:  8.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Total
.head 4 -  Resource Id: 11785
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.383"
.head 5 -  Top:    4.845"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTotal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.083"
.head 6 -  Top:    4.821"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: #0
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Frame
.head 4 -  Resource Id: 11786
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    0.071"
.head 5 -  Width:  11.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Raised-Shadow
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Criterios de Busqueda
.head 4 -  Resource Id: 11787
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    0.071"
.head 5 -  Width:  7.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.417"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 11788
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    1.655"
.head 5 -  Width:  11.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.107"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 -  Group Box: Observacion
.head 4 -  Resource Id: 11789
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.417"
.head 5 -  Top:    4.821"
.head 5 -  Width:  4.033"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Inactivo
.head 4 -  Resource Id: 11790
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.45"
.head 5 -  Top:    5.071"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Revisado
.head 4 -  Resource Id: 11791
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.25"
.head 5 -  Top:    5.071"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 11792
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.883"
.head 5 -  Top:    5.071"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: No Border
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Red
.head 3 -  Frame
.head 4 -  Resource Id: 11793
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.583"
.head 5 -  Top:    5.071"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: No Border
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Green
.head 3 +  Pushbutton: pbOculto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.783"
.head 5 -  Top:    0.405"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Keyboard Accelerator: Enter
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Call SalSendMsg(tbl1, SAM_DoubleClick, 0, 0)
.head 3 +  Check Box: cbRevisado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Revisado
.head 4 -  Window Location and Size
.head 5 -  Left: 5.85"
.head 5 -  Top:    0.286"
.head 5 -  Width:  1.333"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cbActivo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Activo
.head 4 -  Window Location and Size
.head 5 -  Left: 4.517"
.head 5 -  Top:    0.286"
.head 5 -  Width:  1.167"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 2 +  Functions
.head 3 +  Function: ArmarQuery
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sConsulta
.head 4 +  Actions
.head 5 -  Set sConsulta="Select          
			A.COD_SERVICIO,
			A.NOMBRE,
			C.NOMBRE,
			A.COSTO_REAL,
		             	A.COSTO,
			B.NOMBRE,
			A.COD_CATEGORIA,
			A.EN_USO,
			A.REVISADO		
		from	
			SERVICIOS  		A,
			TIPOS_PRESEN 		B,
			CATEG_SERVICIOS 	C
		where	
			B.COD_PRESEN		=A.COD_PRESEN AND
			A.COD_CATEGORIA 	=C.COD_CATEGORIA  "
                               
			
.head 5 +  If dfCodigo!=''
.head 6 -  Set sConsulta = sConsulta || " AND A.COD_SERVICIO = :dfCodigo"
.head 5 +  If dfDescripcion!=''
.head 6 -  Set sConsulta=sConsulta||"	AND	A.NOMBRE like '" || dfDescripcion || "%'  "
.head 5 +  If cmbPresentacion!=''
.head 6 -  Set sConsulta=sConsulta||"	AND	A.COD_PRESEN=:dlgConsultaServicios.cmbPresentacion.nCodigo"
.head 5 +  If cmbCateg!=''
.head 6 -  Set sConsulta=sConsulta||"	AND	A.COD_CATEGORIA =:dlgConsultaServicios.cmbCateg.sCodigos 
			and 	C.COD_CATEGORIA =:dlgConsultaServicios.cmbCateg.sCodigos"

.head 5 +  If cbRevisado=TRUE
.head 6 -  Set sConsulta=sConsulta||"	AND
			A.REVISADO=1"
.head 5 +  If cbActivo=TRUE
.head 6 -  Set sConsulta=sConsulta||"	AND
			A.EN_USO=1"
.head 5 -  Set sConsulta2=sConsulta || " order by C.NOMBRE,A.nombre"
.head 5 -  Set sConsulta=sConsulta||"	order	by  A.NOMBRE, A.COD_SERVICIO"
.head 5 -  Return sConsulta
.head 3 +  Function: ColorearFilas
.head 4 -  Description: Verifica si existe al menos 1 fila en una CHILD TABLE
.head 4 +  Returns
.head 5 -  Number:
.head 4 +  Parameters
.head 5 -  Window Handle: hWndTabla
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Window Handle: hWndHijo
.head 5 -  Number: nFila
.head 5 -  Number: nEdadIng
.head 5 -  Number: nEdadActual
.head 5 -  Date/Time: dtFechaHoy
.head 5 -  Number: nTiempoLab
.head 5 -  String: strFechaHoy
.head 5 -  String: strFechaIngreso
.head 4 +  Actions
.head 5 -  Call SalTblSetContext(hWndTabla,0)
.head 5 -  Set nFila=-1
.head 5 +  While SalTblFindNextRow(hWndTabla,nFila,0,0)
.head 6 -  Call SalTblSetContext(hWndTabla,nFila)
.head 6 +  If tbl1.colEn_Uso = 0
.head 7 -  !
.head 7 -  Call MTblSetRowBackColor( tbl1, nFila, COLOR_Red, MTSC_REDRAW )
.head 6 +  Else If tbl1.colRevisado = 1
.head 7 -  !
.head 7 -  Call MTblSetRowBackColor( tbl1, nFila, COLOR_Green, MTSC_REDRAW )
.head 5 -  Call SalTblSetContext(hWndTabla,0)
.head 5 -  Return nFila+1
.head 2 +  Window Parameters
.head 3 -  Number: nCaso
.head 3 -  Receive String: sRegresa
.head 3 -  Receive String: sRegresa2
.head 2 +  Window Variables
.head 3 -  String: sConsulta2
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 2 +  Message Actions
.head 3 +  ! On SAM_CreateComplete
.head 4 +  If nCaso=2
.head 5 -  Call SalShowWindowAndLabel( dfOculto )
.head 5 -  Call SalHideWindow(pb6 )
.head 4 +  Else 
.head 5 +  If nCaso=1
.head 6 -  Call SalHideWindowAndLabel( dfOculto )
.head 6 -  Call SalShowWindow(pb6 )
.head 4 -  Call SalHideWindow(dfOculto)
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalBringWindowToTop(dlgConsultaServicios)
.head 4 -  Set cbActivo =TRUE
.head 4 -  Call SalSetFocus(dfDescripcion)
.head 4 -  !
.head 1 +  Form Window: frmReportePresupuesto
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Informe Presupuesto
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  8.15"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 1.595"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  Pushbutton: pb1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbSalir
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.683"
.head 5 -  Top:    0.179"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Desde
.head 4 -  Resource Id: 24856
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.488"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Hasta
.head 4 -  Resource Id: 24857
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.15"
.head 5 -  Top:    0.488"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.883"
.head 6 -  Top:    0.488"
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Center
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.883"
.head 6 -  Top:    0.488"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Center
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbImprimir
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.95"
.head 5 -  Top:    0.179"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Set params[0] = SalFmtFormatDateTime ( dfDesde, 'dd/MM/yyyy' )
.head 6 -  Set params[1] = SalFmtFormatDateTime ( dfHasta, 'dd/MM/yyyy' )
.head 6 -  Set strRepTitle = " Informe de Presupuesto"
.head 6 -  Set strReportName = strRepPath||"\\Presupuesto.rpt"
.head 6 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 3 -  Group Box: Rango de Fecha:
.head 4 -  Resource Id: 24858
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    0.071"
.head 5 -  Width:  5.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.75"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: dd/MM/yyyy
.head 4 -  Resource Id: 24859
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.883"
.head 5 -  Top:    0.32"
.head 5 -  Width:  1.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: dd/MM/yyyy
.head 4 -  Resource Id: 24860
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.85"
.head 5 -  Top:    0.32"
.head 5 -  Width:  1.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 2 +  Functions
.head 3 +  Function: ArmarQuery
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sConsulta
.head 4 +  Actions
.head 5 -  Set sConsulta = "SELECT A.COD_PLANILLA, A.FECHAI,B.COD_EMPLEADO,C.PRIMER_NOM + ' ' + C.PRIMER_APE,B.SUELDO_PAGADO
             FROM PLANILLA A, DET_PLANILLA B, EMPLEADOS C
             WHERE A.COD_PLANILLA=B.COD_PLANILLA AND B.COD_EMPLEADO=C.COD_EMPLEADO "

.head 5 +  If dfDesde!=DATETIME_Null
.head 6 -  Set sConsulta = sConsulta || " AND FECHAI>=:dfDesde "
.head 5 +  If dfHasta!=DATETIME_Null
.head 6 -  Set sConsulta = sConsulta || " AND FECHAI<=:dfHasta "
.head 5 -  Set sConsulta = sConsulta || " ORDER BY A.COD_PLANILLA "
.head 5 -  Return sConsulta
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 2 +  Message Actions
.head 3 +  ! On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalCenterWindow( hWndForm )
.head 1 +  Dialog Box: dlgRptCajaIngresosXTipo
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Informe de Ingresos de Caja por Tipo de Pago
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  6.783"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 1.988"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Frame
.head 4 -  Resource Id: 38479
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    0.071"
.head 5 -  Width:  6.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.333"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Raised-Shadow
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbImprimir
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.417"
.head 5 -  Top:    0.488"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If SalIsButtonChecked(cbFechaDesde)
.head 7 -  !
.head 7 -  Set dfFechaDesde = ccFechaDesde.GetSystemTime()
.head 7 -  ! Set sConsulta=sConsulta || "	AND	O.FECHA >= :dfFechaDesde "

.head 7 -  Set params[0] = '1'
.head 7 -  Set params[1] = SalFmtFormatDateTime ( dfFechaDesde, 'dd/MM/yyyy' )
.head 6 +  Else
.head 7 -  Set params[0] = '0'
.head 6 +  If SalIsButtonChecked(cbFechaHasta)
.head 7 -  !
.head 7 -  Set dfFechaHasta = ccFechaHasta.GetSystemTime()
.head 7 -  ! Set sConsulta=sConsulta || "	AND O.FECHA <=  :dfFechaHasta "
.head 7 -  Set params[2] = '1'
.head 7 -  Set params[3] = SalFmtFormatDateTime ( dfFechaHasta, 'dd/MM/yyyy' )
.head 6 +  Else
.head 7 -  Set params[2] = '0'
.head 6 -  ! 11
.head 6 -  Set params[4] = '0'
.head 6 -  Set params[5] = ''
.head 6 -  !
.head 6 -  Set strRepTitle = "Informe de Ingresos de Caja por Tipo de Pago"
.head 6 -  Set strReportName = strRepPath||"\\CAJAINGRESOSXTIPO.rpt"
.head 6 -  !
.head 6 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 3 -  Group Box: Fecha
.head 4 -  Resource Id: 38480
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.35"
.head 5 -  Top:    0.321"
.head 5 -  Width:  5.033"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.917"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Check Box: cbFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Desde
.head 4 -  Window Location and Size
.head 5 -  Left: 0.417"
.head 5 -  Top:    0.595"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cbFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Hasta
.head 4 -  Window Location and Size
.head 5 -  Left: 0.417"
.head 5 -  Top:    0.869"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Custom Control: ccFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.35"
.head 6 -  Top:    0.595"
.head 6 -  Width:  3.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Custom Control: ccFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.35"
.head 6 -  Top:    0.869"
.head 6 -  Width:  3.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Data Field: dfFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.783"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.983"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 -  Window Variables
.head 2 -  Message Actions
.head 1 +  Dialog Box: dlgConsultaAdmisiones
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Consulta de Admisiones
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  11.15"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 7.262"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Frame
.head 4 -  Resource Id: 33389
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    0.155"
.head 5 -  Width:  10.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 6.583"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Raised-Shadow
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbImprimir
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.75"
.head 5 -  Top:    1.298"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  ! On SAM_Click
.head 6 -  !
.head 6 +  If not SalIsNull(dfOrden)
.head 7 -  ! Set sConsulta = sConsulta || " AND O.CODIGO = :dfOrden"
.head 7 -  Set params[0] = '1'
.head 7 -  Set params[1] = SalNumberToStrX(dfOrden,0)
.head 6 +  Else 
.head 7 -  Set params[0] = '0'
.head 6 +  If not SalIsNull(cmbServicios)
.head 7 -  !
.head 7 -  ! -------Obtener el codigo del servicio
.head 7 -  Set sSQL = "select
		COD_SERVICIO
    	from
		SERVICIOS
	where
		COD_CATEGORIA = :cmbCategServiciosOS.sCodigos AND
		EN_USO = 1 AND
		NOMBRE = :cmbServicios
  	into
		:sServicio"
.head 7 -  Call SqlImmediate(  sSQL)
.head 7 -  Call SqlClearImmediate( )
.head 7 -  !
.head 7 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_SERVICIO = :sServicio"
.head 7 -  Set params[12] = '1'
.head 7 -  Set params[13] = sServicio
.head 6 +  Else 
.head 7 -  Set params[12] = '0'
.head 6 +  If not SalIsNull(dfPaciente)
.head 7 -  ! Set sConsulta = sConsulta || " AND O.COD_PACIENTE = :dfPaciente"
.head 7 -  Set params[14] = '1'
.head 7 -  Set params[15] = dfPaciente
.head 6 +  Else 
.head 7 -  Set params[14] = '0'
.head 6 +  If not SalIsNull(dfPacienteCorrel)
.head 7 -  ! Set sConsulta = sConsulta || " AND O.CORREL_PACIENTE = :dfPacienteCorrel"
.head 7 -  Set params[16] = '1'
.head 7 -  Set params[17] = dfPacienteCorrel
.head 6 +  Else 
.head 7 -  Set params[16] = '0'
.head 6 +  If not SalIsNull(dfNombre)
.head 7 -  ! Set sConsulta=sConsulta || "	AND	P.PRIMER_NOM   like '%" || dfNombre || "%' "
.head 7 -  Set params[18] = '1'
.head 7 -  Set params[19] = dfNombre
.head 6 +  Else 
.head 7 -  Set params[18] = '0'
.head 6 +  If not SalIsNull(dfApellido)
.head 7 -  ! Set sConsulta=sConsulta || "	AND	P.PRIMER_APE   like '%" || dfApellido || "%' "
.head 7 -  Set params[20] = '1'
.head 7 -  Set params[21] = dfApellido
.head 6 +  Else 
.head 7 -  Set params[20] = '0'
.head 6 +  If SalIsButtonChecked(cbFechaDesde)
.head 7 -  !
.head 7 -  Set dfFechaDesde = ccFechaDesde.GetSystemTime()
.head 7 -  ! Set sConsulta=sConsulta || "	AND	O.FECHA >= :dfFechaDesde "

.head 7 -  Set params[24] = '1'
.head 7 -  Set params[25] = SalFmtFormatDateTime ( dfFechaDesde, 'dd/MM/yyyy' )
.head 6 +  Else 
.head 7 -  Set params[24] = '0'
.head 6 +  If SalIsButtonChecked(cbFechaHasta)
.head 7 -  !
.head 7 -  Set dfFechaHasta = ccFechaHasta.GetSystemTime()
.head 7 -  ! Set sConsulta=sConsulta || "	AND O.FECHA <=  :dfFechaHasta "
.head 7 -  Set params[26] = '1'
.head 7 -  Set params[27] = SalFmtFormatDateTime ( dfFechaHasta, 'dd/MM/yyyy' )
.head 6 +  Else 
.head 7 -  Set params[26] = '0'
.head 6 -  !
.head 6 -  Set strRepTitle = " Informe Estadistico - Gestion de Admisiones"
.head 6 -  Set strReportName = strRepPath||"\\OSEstadisticoS.rpt"
.head 6 -  !
.head 6 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 3 -  Background Text: Total Admisiones:
.head 4 -  Resource Id: 33390
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.35"
.head 5 -  Top:    6.369"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Criterios de Busqueda
.head 4 -  Resource Id: 33391
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    0.238"
.head 5 -  Width:  9.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.0"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: System Text Color
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfAdmision
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.683"
.head 6 -  Top:    0.738"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Primer Nombre
.head 4 -  Resource Id: 33392
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    2.452"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Codigo
.head 4 -  Resource Id: 33393
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.383"
.head 5 -  Top:    2.143"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfPaciente
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.083"
.head 6 -  Top:    2.071"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.31"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_KillFocus
.head 6 -  !
.head 6 +  If dfPaciente = "TEMPCOD"
.head 7 -  !
.head 7 -  Set dfPacienteCorrel = '0'
.head 3 +  Data Field: dfPacienteCorrel
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.683"
.head 6 -  Top:    2.071"
.head 6 -  Width:  0.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.31"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfNombre
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.083"
.head 6 -  Top:    2.405"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: No.
.head 4 -  Resource Id: 33394
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.183"
.head 5 -  Top:    0.81"
.head 5 -  Width:  0.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfApellido
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.083"
.head 6 -  Top:    2.655"
.head 6 -  Width:  2.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  ! cmbBaseCodigo: cmbEmpresa
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 3 -  Background Text: Primer Apellido
.head 4 -  Resource Id: 33395
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.783"
.head 5 -  Top:    2.702"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Datos del Paciente
.head 4 -  Resource Id: 33396
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    1.738"
.head 5 -  Width:  8.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.333"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Blue
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 33397
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    3.321"
.head 5 -  Width:  9.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.917"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Charcoal
.head 3 -  Group Box: Datos de Emision
.head 4 -  Resource Id: 33398
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    0.488"
.head 5 -  Width:  8.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Blue
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.783"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.983"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Check Box: cbFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Desde
.head 4 -  Window Location and Size
.head 5 -  Left: 4.25"
.head 5 -  Top:    0.738"
.head 5 -  Width:  0.833"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cbFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Hasta
.head 4 -  Window Location and Size
.head 5 -  Left: 4.25"
.head 5 -  Top:    1.012"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Custom Control: ccFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 5.083"
.head 6 -  Top:    0.738"
.head 6 -  Width:  4.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Custom Control: ccFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 5.083"
.head 6 -  Top:    1.012"
.head 6 -  Width:  4.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb3
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.767"
.head 5 -  Top:    0.714"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F3
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalWaitCursor( TRUE )
.head 6 -  Set sSQL = ConstructQuery()
.head 6 -  ! Call SalMessageBox(sSQL,'Sql',MB_Ok)
.head 6 -  Call SalTblPopulate( tblAdmisiones, hSql1, sSQL, TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  Set dfTotal=ContarFilas( tblAdmisiones )
.head 6 -  Call SalWaitCursor( FALSE )
.head 3 +  Child Table: tblAdmisiones
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatChildTable
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.583"
.head 6 -  Top:    3.405"
.head 6 -  Width:  9.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 2.75"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: 32000
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colAdmision
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: No. Admision
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: Number
.head 6 -  Justify: Left
.head 6 -  Width:  1.083"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCodigoPaciente
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod Paciente
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  Default
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCorrelativoPaciente
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cor
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colNombrePaciente
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Nombre Paciente
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFechaEmision
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  Default
.head 6 -  Width Editable? Yes
.head 6 -  Format: dd/mm/yyyy
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDestino
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Tipo de Atencion
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCama
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class:
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Habitacion
.head 6 -  Visible? Yes
.head 6 -  Editable? Yes
.head 6 -  Maximum Data Length: Default
.head 6 -  Data Type: String
.head 6 -  Justify: Left
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Yes
.head 6 -  Format: Unformatted
.head 6 -  Country: Default
.head 6 -  Input Mask: Unformatted
.head 6 -  Cell Options
.head 7 -  Cell Type? Standard
.head 7 -  Multiline Cell? No
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Yes
.head 8 -  Vertical Scroll? Yes
.head 8 -  Auto Drop Down? No
.head 8 -  Allow Text Editing? Yes
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Yes
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 +  Window Variables
.head 5 -  Number: nFila
.head 4 +  Message Actions
.head 5 +  On SAM_DoubleClick
.head 6 -  !
.head 6 +  If nFlag = 1
.head 7 -  !
.head 7 -  Call SalTblQueryFocus(tblAdmisiones,nFila,tblAdmisiones.colAdmision)
.head 7 -  Call SalTblSetContext(tblAdmisiones,nFila)
.head 7 -  Set nRegresa=tblAdmisiones.colAdmision
.head 7 -  Call SalEndDialog(dlgConsultaAdmisiones,TRUE)
.head 5 +  On SAM_Create
.head 6 -  !
.head 6 -  Call MTblSubClass( hWndForm )
.head 6 -  Call MTblEnableMWheelScroll( hWndForm, TRUE )
.head 3 +  Data Field: dfTotal
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.983"
.head 6 -  Top:    6.345"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? No
.head 5 -  Justify: Class Default
.head 5 -  Format: #0
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: 3D Face Color
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Frame
.head 4 -  Resource Id: 33399
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.583"
.head 5 -  Top:    0.571"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbTipoServicio
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatComboBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.683"
.head 5 -  Top:    1.036"
.head 5 -  Width:  2.5"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.571"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Call SalListAdd( cmbTipoServicio, "CONSULTA EXTERNA" )
.head 6 -  Call SalListAdd( cmbTipoServicio, "HOSPITALIZACION" )
.head 6 -  Call SalListAdd( cmbTipoServicio, "AMBULATORIO" )
.head 3 -  Background Text: Tipo de Atencion
.head 4 -  Resource Id: 33400
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.883"
.head 5 -  Top:    1.012"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.31"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbEmpresa
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigoFiltrado
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.083"
.head 5 -  Top:    2.071"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.036"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 6 -  Set cmbEmpresa.sNombreFiltro='ESTADO'
.head 6 -  Set cmbEmpresa.nValorFiltro=1
.head 3 -  Background Text: Empresa
.head 4 -  Resource Id: 33401
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.383"
.head 5 -  Top:    2.083"
.head 5 -  Width:  0.667"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Segundo Nombre
.head 4 -  Resource Id: 33402
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.583"
.head 5 -  Top:    2.393"
.head 5 -  Width:  1.467"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfNombre2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.05"
.head 6 -  Top:    2.405"
.head 6 -  Width:  2.633"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfApellido2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.05"
.head 6 -  Top:    2.655"
.head 6 -  Width:  2.633"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Uppercase
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Segundo Apellido
.head 4 -  Resource Id: 33403
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.583"
.head 5 -  Top:    2.643"
.head 5 -  Width:  1.467"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 2 +  Functions
.head 3 +  Function: ConstructQuery
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sConsulta
.head 4 +  Actions
.head 5 -  Set sConsulta="Select
			A.COD_ADMISION,
			A.COD_PACIENTE,
        			A.CORREL_PACIENTE,
        			P.PRIMER_NOM +  ' ' + P.SEGUNDO_NOM +  ' ' + P.PRIMER_APE  +  ' ' + P.SEGUNDO_APE  AS NOMBRE,
			CONVERT(VARCHAR(12), A.FECHA,103),
			A.TIPO_SERVICIO,
			M.DESCRIPCION
		
		from
			ADMISIONES 	A,
        			PACIENTES            P,
            			CAMAS           	M
		where
        			A.COD_PACIENTE 		*= P.COD_PACIENTE   AND
            			A.CORREL_PACIENTE 	*= P.CORREL_PACIENTE AND
            			A.COD_CAMA    		*= M.CODIGO "

.head 5 +  ! If dfDescripcion!=''
.head 6 -  Set sConsulta=sConsulta||"	AND	A.DESCRIPCION  like '%"||dlgConsultaFacturas.dfDescripcion||"%'"
.head 5 +  If not SalIsNull(dfAdmision)
.head 6 -  Set sConsulta = sConsulta || " AND A.COD_ADMISION= :dfAdmision"
.head 5 +  If not SalIsNull(cmbTipoServicio)
.head 6 -  !
.head 6 -  Set sConsulta = sConsulta || " AND A.TIPO_SERVICIO = :cmbServicios"
.head 5 +  If not SalIsNull(dfPaciente)
.head 6 -  Set sConsulta = sConsulta || " AND A.COD_PACIENTE = :dfPaciente"
.head 5 +  If not SalIsNull(dfPacienteCorrel)
.head 6 -  Set sConsulta = sConsulta || " AND A.CORREL_PACIENTE = :dfPacienteCorrel"
.head 5 +  If not SalIsNull(dfNombre)
.head 6 -  Set sConsulta=sConsulta || "	AND	P.PRIMER_NOM   like '%" || dfNombre || "%' "
.head 5 +  If not SalIsNull(dfApellido)
.head 6 -  Set sConsulta=sConsulta || "	AND	P.PRIMER_APE   like '%" || dfApellido || "%' "
.head 5 +  If not SalIsNull(dfNombre2)
.head 6 -  Set sConsulta=sConsulta || "	AND	P.SEGUNDO_NOM   like '%" || dfNombre2 || "%' "
.head 5 +  If not SalIsNull(dfApellido2)
.head 6 -  Set sConsulta=sConsulta || "	AND	P.SEGUNDO_APE   like '%" || dfApellido2 || "%' "
.head 5 +  If not SalIsNull(cmbEmpresa)
.head 6 -  Set sConsulta=sConsulta || "	AND	P.COD_EMPRESA = :cmbEmpresa.nCodigo "
.head 5 +  If SalIsButtonChecked(cbFechaDesde)
.head 6 -  !
.head 6 -  Set dfFechaDesde = ccFechaDesde.GetSystemTime()
.head 6 -  Set sConsulta=sConsulta || "	AND	A.FECHA >= :dfFechaDesde "

.head 5 +  If SalIsButtonChecked(cbFechaHasta)
.head 6 -  !
.head 6 -  Set dfFechaHasta = ccFechaHasta.GetSystemTime()
.head 6 -  Set sConsulta=sConsulta || "	AND A.FECHA <=  :dfFechaHasta "
.head 5 -  Set sConsulta=sConsulta||"	order	by	NOMBRE"
.head 5 -  Return sConsulta
.head 3 +  Function: ResetControls
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Window Handle: hWndChild
.head 5 -  Number: nHwndChild
.head 5 -  Number: nType
.head 4 +  Actions
.head 5 -  Set hWndChild = SalGetFirstChild( hWndForm, TYPE_Any )
.head 5 +  While hWndChild != hWndNULL
.head 6 -  Set nHwndChild = SalWindowHandleToNumber( hWndChild )
.head 6 -  Set nType = SalGetType( hWndChild )
.head 6 +  If nType = TYPE_ChildTable
.head 7 -  Call SalTblReset( hWndChild )
.head 6 +  Else If nType = TYPE_DataField or nType = TYPE_MultilineText or nType = TYPE_CheckBox or nType = TYPE_ComboBox
.head 7 -  Call SalClearField( hWndChild )
.head 6 -  Set hWndChild = SalGetNextChild( hWndChild, TYPE_Any )
.head 5 -  !
.head 5 -  !
.head 3 +  ! Function: ConstructParams
.head 4 -  Description: 
.head 4 -  Returns 
.head 4 -  Parameters 
.head 4 -  Static Variables 
.head 4 -  Local variables 
.head 4 +  Actions 
.head 5 -  !
.head 5 +  If not SalIsNull(dfOrden)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CODIGO = :dfOrden"
.head 6 -  Set params[0] = SalNumberToStrX(dfOrden,0)
.head 5 +  Else 
.head 6 -  Set params[0] = STRING_Null
.head 5 +  If not SalIsNull(cmbUsuariosOS)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.AUTORIZADO_POR = :cmbUsuariosOS.nCodigo"
.head 6 -  Set params[1] = SalNumberToStrX(cmbUsuariosOS.nCodigo,0)
.head 5 +  Else 
.head 6 -  Set params[1] = STRING_Null
.head 5 +  If not SalIsNull(cmbCiudades)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_CIUDAD_GEO = :cmbCiudades.nCodigo"
.head 6 -  Set params[2] = SalNumberToStrX(cmbCiudades.nCodigo,0)
.head 5 +  Else 
.head 6 -  Set params[2] = STRING_Null
.head 5 +  If not SalIsNull(cmbEspecialidad)
.head 6 -  !
.head 6 -  ! Set sConsulta = sConsulta || " AND M.COD_ESPECIALIDAD = :cmbEspecialidad.nCodigo"
.head 6 -  Set params[3] = SalNumberToStrX(cmbEspecialidad.nCodigo,0)
.head 5 +  Else 
.head 6 -  Set params[3] = STRING_Null
.head 5 +  If not SalIsNull(cmbMedicosOS)
.head 6 -  ! -------Obtener el codigo medico
.head 6 -  Set sSQL = "select
		COD_MEDICO
    	from
		MEDICOS
	where
		NOMBRE = :cmbMedicosOS
  	into
		:nMedico"
.head 6 -  Call SqlImmediate(  sSQL)
.head 6 -  Call SqlClearImmediate( )
.head 6 -  !
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_MEDICO = :nMedico"
.head 6 -  Set params[4] = SalNumberToStrX(nMedico,0)
.head 5 +  Else 
.head 6 -  Set params[4] = STRING_Null
.head 5 +  If not SalIsNull(cmbCategServiciosOS)
.head 6 -  !
.head 6 -  ! Set sConsulta = sConsulta || " AND O.COD_CATEGORIA = :cmbCategServiciosOS.sCodigos"
.head 6 -  Set params[5] = cmbCategServiciosOS.sCodigos
.head 5 +  Else 
.head 6 -  Set params[5] = STRING_Null
.head 5 +  If not SalIsNull(cmbServicios)
.head 6 -  !
.head 6 -  ! -------Obtener el codigo del servicio
.head 6 -  Set sSQL = "select
		COD_SERVICIO
    	from
		SERVICIOS
	where
		COD_CATEGORIA = :cmbCategServiciosOS.sCodigos AND
		EN_USO = 1 AND
		NOMBRE = :cmbServicios
  	into
		:sServicio"
.head 6 -  Call SqlImmediate(  sSQL)
.head 6 -  Call SqlClearImmediate( )
.head 6 -  !
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CODIGO_SERVICIO = :sServicio"
.head 6 -  Set params[6] = sServicio
.head 5 +  Else 
.head 6 -  Set params[6] = STRING_Null
.head 5 +  If not SalIsNull(dfPaciente)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.COD_PACIENTE = :dfPaciente"
.head 6 -  Set params[7] = dfPaciente
.head 5 +  Else 
.head 6 -  Set params[7] = STRING_Null
.head 5 +  If not SalIsNull(dfPacienteCorrel)
.head 6 -  ! Set sConsulta = sConsulta || " AND O.CORREL_PACIENTE = :dfPacienteCorrel"
.head 6 -  Set params[8] = dfPacienteCorrel
.head 5 +  Else 
.head 6 -  Set params[8] = STRING_Null
.head 5 +  If not SalIsNull(dfNombre)
.head 6 -  ! Set sConsulta=sConsulta || "	AND	P.PRIMER_NOM   like '%" || dfNombre || "%' "
.head 6 -  Set params[9] = dfNombre
.head 5 +  Else 
.head 6 -  Set params[9] = STRING_Null
.head 5 +  If not SalIsNull(dfApellido)
.head 6 -  ! Set sConsulta=sConsulta || "	AND	P.PRIMER_APE   like '%" || dfApellido || "%' "
.head 6 -  Set params[10] = dfApellido
.head 5 +  Else 
.head 6 -  Set params[10] = STRING_Null
.head 5 +  If not SalIsNull(cmbEmpresa)
.head 6 -  ! Set sConsulta=sConsulta || "	AND	P.COD_EMPRESA = :cmbEmpresa.nCodigo "
.head 6 -  Set params[11] = SalNumberToStrX(cmbEmpresa.nCodigo,0)
.head 5 +  Else 
.head 6 -  Set params[11] = STRING_Null
.head 5 +  If not SalIsNull(cmbDepto)
.head 6 -  ! Set sConsulta=sConsulta || "	AND	P.CODIGO_DEPTO = :cmbDepto.nCodigo "
.head 6 -  Set params[12] = SalNumberToStrX(cmbDepto.nCodigo ,0)
.head 5 +  Else 
.head 6 -  Set params[12] = STRING_Null
.head 5 +  If SalIsButtonChecked(cbFechaDesde)
.head 6 -  !
.head 6 -  Set dfFechaDesde = ccFechaDesde.GetSystemTime()
.head 6 -  ! Set sConsulta=sConsulta || "	AND	O.FECHA >= :dfFechaDesde "

.head 6 -  Set params[13] = SalFmtFormatDateTime ( dfFechaDesde, 'dd/MM/yyyy' )
.head 5 +  Else 
.head 6 -  Set params[13] = STRING_Null
.head 5 +  If SalIsButtonChecked(cbFechaHasta)
.head 6 -  !
.head 6 -  Set dfFechaHasta = ccFechaHasta.GetSystemTime()
.head 6 -  ! Set sConsulta=sConsulta || "	AND O.FECHA <=  :dfFechaHasta "
.head 6 -  Set params[14] = SalFmtFormatDateTime ( dfFechaHasta, 'dd/MM/yyyy' )
.head 5 +  Else 
.head 6 -  Set params[14] = STRING_Null
.head 2 +  Window Parameters
.head 3 -  Receive Number: nRegresa
.head 3 -  Number: nFlag
.head 2 +  Window Variables
.head 3 -  String: sSQL
.head 3 -  Number: nMedico
.head 3 -  String: sMedico
.head 3 -  String: sServicio
.head 3 -  String: params[*]
.head 3 -  String: strReportName
.head 3 -  String: strRepTitle
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalCenterWindow(dlgConsultaAdmisiones)
.head 1 +  Dialog Box: dlgRptFactPrivCategServicios
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Informe de Facturado por Area de Servicio
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  6.783"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 1.988"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Frame
.head 4 -  Resource Id: 26408
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    0.071"
.head 5 -  Width:  6.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.333"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Raised-Shadow
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbImprimir
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.417"
.head 5 -  Top:    0.488"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.6"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\fileprint.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If SalIsButtonChecked(cbFechaDesde)
.head 7 -  !
.head 7 -  Set dfFechaDesde = ccFechaDesde.GetSystemTime()
.head 7 -  ! Set sConsulta=sConsulta || "	AND	O.FECHA >= :dfFechaDesde "

.head 7 -  Set params[0] = '1'
.head 7 -  Set params[1] = SalFmtFormatDateTime ( dfFechaDesde, 'dd/MM/yyyy' )
.head 6 +  Else
.head 7 -  Set params[0] = '0'
.head 6 +  If SalIsButtonChecked(cbFechaHasta)
.head 7 -  !
.head 7 -  Set dfFechaHasta = ccFechaHasta.GetSystemTime()
.head 7 -  ! Set sConsulta=sConsulta || "	AND O.FECHA <=  :dfFechaHasta "
.head 7 -  Set params[2] = '1'
.head 7 -  Set params[3] = SalFmtFormatDateTime ( dfFechaHasta, 'dd/MM/yyyy' )
.head 6 +  Else
.head 7 -  Set params[2] = '0'
.head 6 -  Set params[4] = '0'
.head 6 -  Set params[5] = '0'
.head 6 -  ! 11
.head 6 -  Set strRepTitle = "Informe de Facturado por Categoria de Servicio"
.head 6 -  Set strReportName = strRepPath||"\\FactPrivCategServicios.rpt"
.head 6 -  !
.head 6 -  Call SalCreateWindow( frmCrystalReport, hWndForm, strRepTitle, strReportName, PARAM_ARRAY_Null, params )
.head 3 -  Group Box: Fecha
.head 4 -  Resource Id: 26409
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.35"
.head 5 -  Top:    0.321"
.head 5 -  Width:  5.033"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.917"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Check Box: cbFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Desde
.head 4 -  Window Location and Size
.head 5 -  Left: 0.417"
.head 5 -  Top:    0.595"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Check Box: cbFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Hasta
.head 4 -  Window Location and Size
.head 5 -  Left: 0.417"
.head 5 -  Top:    0.869"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Custom Control: ccFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.35"
.head 6 -  Top:    0.595"
.head 6 -  Width:  3.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Custom Control: ccFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cDateTimePickerDateLong
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  DLL Name:
.head 5 -  MS Windows Class Name:
.head 5 -  Style:  Class Default
.head 5 -  ExStyle:  Class Default
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.35"
.head 6 -  Top:    0.869"
.head 6 -  Width:  3.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Etched Border? Class Default
.head 5 -  Hollow? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Horizontal Scroll? Class Default
.head 5 -  Tab Stop? Class Default
.head 5 -  Tile To Parent? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  DLL Settings
.head 4 -  Message Actions
.head 3 +  Data Field: dfFechaDesde
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.783"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFechaHasta
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.983"
.head 6 -  Top:    6.155"
.head 6 -  Width:  0.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 2 -  Functions
.head 2 -  Window Parameters
.head 2 -  Window Variables
.head 2 -  Message Actions
.head 1 +  ! Dialog Box: dlgPagosNuevo
.winattr
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Movimientos de Pago a Cuenta
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: -0.013"
.head 4 -  Top:    -0.01"
.head 4 -  Width:  11.867"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 4.048"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.end
.head 2 -  Description: 
.head 2 +  Tool Bar 
.winattr
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.714"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Charcoal
.end
.head 3 +  Contents 
.head 4 +  Pushbutton: pbAgregar
.winattr class
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbMas
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.186"
.head 6 -  Top:    0.073"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 8
.head 5 -  Font Enhancement: None
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filenew.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Single
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.end
.head 5 +  Message Actions 
.head 6 +  On SAM_Create
.head 7 -  Set pbAgregar.nOpcionh=1
.head 7 -  Set pbAgregar.hWndCampo=dfPago
.head 6 +  On SAM_Click
.head 7 -  ! Call SalSendClassMessage( SAM_Click, 0, 0 )
.head 7 -  Call LimpiarCampos()
.head 7 -  Call SalEnableWindow(pbGrabar)
.head 7 -  Set dfFechaPago=FechaHoy(2)
.head 7 -  Call SalDateToStr( dfFechaPago, FECHA_PAGO )
.head 7 -  Call SalStrLeft (FECHA_PAGO, 10, FECHA_PAGO )
.head 7 -  Call SqlPrepareAndExecute(hSql1,"
select MAXIMO+1 from  IDENTITYS  where COD_TABLA=78 into :dfRecibo")
.head 7 -  Call SqlFetchNext( hSql1, nSiguiente )
.head 7 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 +  Pushbutton: pbGrabar
.winattr class
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbGrabar
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.983"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 8
.head 5 -  Font Enhancement: None
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filesave.bmp
.head 5 -  Picture Transparent Color: White
.head 5 -  Image Style: Single
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.end
.head 5 -  Message Actions 
.head 4 +  Pushbutton: pbSalir
.winattr class
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 10.783"
.head 6 -  Top:    0.155"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Keyboard Accelerator: (none)
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 8
.head 5 -  Font Enhancement: None
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\Logout.bmp
.head 5 -  Picture Transparent Color: White
.head 5 -  Image Style: Single
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.end
.head 5 +  Message Actions 
.head 6 +  On SAM_Click
.head 7 -  Call SalEndDialog( dlgPagos, TRUE )
.head 2 +  Contents 
.head 3 +  Data Field: dfRecibo
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.683"
.head 6 -  Top:    0.571"
.head 6 -  Width:  1.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.end
.head 4 -  Message Actions 
.head 3 +  Data Field: dfPago
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.283"
.head 6 -  Top:    0.571"
.head 6 -  Width:  0.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Center
.head 5 -  Format: #0
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.end
.head 4 +  Message Actions 
.head 5 +  On SAM_Validate
.head 6 -  Set dfFechaPago=FechaHoy(2)
.head 6 -  Call SalDateToStr( dfFechaPago, FECHA_PAGO )
.head 6 -  Call SalStrLeft (FECHA_PAGO, 10, FECHA_PAGO )
.head 3 +  Combo Box: cmbPago
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.85"
.head 5 -  Top:    0.595"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.262"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Editable? Yes
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? No
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Input Mask: Unformatted
.end
.head 4 -  List Initialization 
.head 4 +  Message Actions 
.head 5 +  On SAM_Create
.head 6 -  Set cmbPago.nCaso=1
.head 6 -  Set cmbPago.sTabla='TIPOS_PAGO'
.head 6 -  Set cmbPago.sNombre='NOMBRE'
.head 6 -  Set cmbPago.sCodigo='COD_PAGO'
.head 3 +  Data Field: dfFechaPago
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.483"
.head 6 -  Top:    0.571"
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Black
.head 5 -  Background Color: 3D Highlight Color
.head 5 -  Input Mask: 99/99/9999
.end
.head 4 +  Message Actions 
.head 5 +  On SAM_Validate
.head 6 -  Call SalDateToStr( dfFechaPago, FECHA_PAGO )
.head 6 -  Call SalStrLeft (FECHA_PAGO, 10, FECHA_PAGO )
.head 3 +  Data Field: dfMonto
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 11.083"
.head 6 -  Top:    3.405"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Center
.head 5 -  Format: ###000
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.end
.head 4 +  Message Actions 
.head 5 +  On SAM_Validate
.head 6 -  Set dfstrMonto="*" || NumToLetras( dfMonto ) || "********"
.head 3 +  Data Field: dfRecibide
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.083"
.head 6 -  Top:    1.571"
.head 6 -  Width:  7.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.end
.head 4 -  Message Actions 
.head 3 +  Data Field: dfstrMonto
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.083"
.head 6 -  Top:    1.821"
.head 6 -  Width:  7.914"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.end
.head 4 -  Message Actions 
.head 3 +  Data Field: dfDescrip
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.083"
.head 6 -  Top:    2.155"
.head 6 -  Width:  7.9"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.end
.head 4 -  Message Actions 
.head 3 +  Data Field: dfSaldoAnt
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.583"
.head 6 -  Top:    1.071"
.head 6 -  Width:  1.7"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.end
.head 4 +  Message Actions 
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Data Field: dfSaldoAct
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.683"
.head 6 -  Top:    1.071"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.end
.head 4 +  Message Actions 
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Data Field: dfDocumento
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 8.083"
.head 6 -  Top:    1.071"
.head 6 -  Width:  2.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.end
.head 4 +  Message Actions 
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Data Field: dfBanco
.winattr class
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.983"
.head 6 -  Top:    3.905"
.head 6 -  Width:  2.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.end
.head 4 +  Message Actions 
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Saldo Actual
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.333"
.head 5 -  Top:    1.119"
.head 5 -  Width:  1.35"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 -  Background Text: Doc. No
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.25"
.head 5 -  Top:    1.119"
.head 5 -  Width:  0.833"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 -  Background Text: Banco
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.383"
.head 5 -  Top:    3.952"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 -  Background Text: Saldo Anterior
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.45"
.head 5 -  Top:    1.071"
.head 5 -  Width:  1.133"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 -  Background Text: Pago No.
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.45"
.head 5 -  Top:    0.619"
.head 5 -  Width:  0.833"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 -  Background Text: Recibo No.
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.75"
.head 5 -  Top:    0.619"
.head 5 -  Width:  0.933"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 -  Group Box: Nuevo Movimiento de Pago a Cuenta
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    0.238"
.head 5 -  Width:  11.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.417"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 -  Background Text: Por Concepto de:
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.65"
.head 5 -  Top:    2.202"
.head 5 -  Width:  1.433"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 -  Background Text: Tipo Pago
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.883"
.head 5 -  Top:    0.619"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 -  Background Text: Fecha
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.883"
.head 5 -  Top:    0.619"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 -  Background Text: Recibi de:
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.083"
.head 5 -  Top:    1.595"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 -  Background Text: Monto
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.383"
.head 5 -  Top:    3.452"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 -  Background Text: La Cantidad de:
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.783"
.head 5 -  Top:    1.929"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 3 -  Frame 
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.483"
.head 5 -  Top:    1.405"
.head 5 -  Width:  9.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: 3D Shadow Color
.head 4 -  Background Color: 3D Face Color
.end
.head 3 +  Pushbutton: pbDepositos
.winattr
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Recibo
.head 4 -  Window Location and Size
.head 5 -  Left: 0.55"
.head 5 -  Top:    0.429"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: None
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.end
.head 4 +  Message Actions 
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If dfDebe <= 0
.head 7 -  !
.head 7 -  Call SalMessageBox ("La factura no tiene saldo, no podra efectuar pagos a la misma!", "AVISO", MB_Ok)
.head 7 -  Return FALSE
.head 6 -  !
.head 6 -  Set sRecibo=''
.head 6 -  Call SalModalDialog(dlgConsultaRecibosNuevos,hWndForm,sRecibo)
.head 6 +  If sRecibo !=''
.head 7 -  !
.head 7 -  ! ----------Revisar el monto por asignar del recibo
.head 7 -  !
.head 7 -  Call SqlPrepareAndExecute(hSql1,"select
				A.POR_ASIGNAR
			from
				RECIBOS  A
			where
				A.COD_RECIBO=:sRecibo
			into
				:xpor_asignar")
.head 7 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 7 +  If xpor_asignar <= 0
.head 8 -  Call SalMessageBox("El Recibo "|| sRecibo ||" no tiene valor por asignar, no podra efectuar el pago.","AVISO",MB_Ok)
.head 8 -  Set sRecibo=''
.head 8 -  Return FALSE
.head 7 -  !
.head 7 -  ! -----------Consultar datos del recibo
.head 7 -  !
.head 7 -  Call SqlPrepareAndExecute(hSql1,"select
				A.MONTO,
				A.FECHA,
				A.DOCUMENTO,
				A.COD_RECIBO,
				A.DESCRIPCION,
				A.COD_PAGO,
				B.NOMBRE,
				A.RECIBIDE,
				A.STRMONTO,
				A.BANCO
			from
				RECIBOS  	A,
	 			TIPOS_PAGO 	B
			where
				A.COD_RECIBO=:sRecibo AND
				A.COD_PAGO=B.COD_PAGO
			into
				:dfMonto,
				:dfFechaPago,
				:dfDocumento,
				:dfRecibo,
				:dfDescrip,
				:cmbPago.nCodigo,
				:cmbPago,
				:dfRecibide,
				:dfstrMonto,
				:dfBanco")
.head 7 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 7 -  !
.head 7 -  ! -----------------El sistema genera el nuevo numero de pago
.head 7 -  !
.head 7 -  Call SqlExists("Select
		max(NUMERO_PAGO)
	from
		PAGOS
	where
		COD_FACTURA=:dfFactura
	into
		:xno_pago",bExists)
.head 7 -  Call SqlClearImmediate( )
.head 7 +  If bExists
.head 8 -  Set xno_pago = xno_pago + 1
.head 7 +  Else 
.head 8 -  Set xno_pago = 1
.head 7 -  Set dfPago = xno_pago
.head 2 +  Functions 
.head 3 +  Function: ActualizarDebe
.head 4 -  Description: 
.head 4 -  Returns 
.head 4 -  Parameters 
.head 4 -  Static Variables 
.head 4 +  Local variables 
.head 5 -  Number: PAG
.head 4 +  Actions 
.head 5 -  ! Call SqlPrepareAndExecute(hSql1,"
select 	sum(monto) from PAGOS where cod_factura=:dfFactura 
 into :PAGADO ") 

.head 5 -  Set PAGADO=dfTotalPagado+dfMonto
.head 5 -  Set PAG=dfTotalPagado+dfMonto
.head 5 +  If dfTotal-PAGADO<=0
.head 6 -  Set ESTADO=1
.head 5 +  Else 
.head 6 -  Set ESTADO=0
.head 5 -  Set PAGADO=dfTotal-PAGADO
.head 5 +  If not SqlPrepareAndExecute(hSql1,"
update FACTURAS set MONTO_DEBE=:PAGADO, ESTADO_PAGO=:ESTADO,
MONTO_PAGADO=:PAG where
cod_factura=:dfFactura") 
.head 6 -  Return FALSE
.head 5 -  Return TRUE
.head 3 +  Function: LimpiarCampos
.head 4 -  Description: 
.head 4 -  Returns 
.head 4 -  Parameters 
.head 4 -  Static Variables 
.head 4 -  Local variables 
.head 4 +  Actions 
.head 5 -  Set dfPago=NUMBER_Null
.head 5 -  Set dfMonto=NUMBER_Null
.head 5 -  Set dfFechaPago=DATETIME_Null
.head 5 -  Set cmbPago=''
.head 5 -  Set dfDocumento=''
.head 5 -  Set dfRecibo=''
.head 5 -  Set dfDescrip=''
.head 5 -  Set dfRecibide=''
.head 5 -  Set dfstrMonto=''
.head 3 +  Function: GenerarPartida
.head 4 -  Description: 
.head 4 -  Returns 
.head 4 -  Parameters 
.head 4 -  Static Variables 
.head 4 +  Local variables 
.head 5 -  Number: nCorrelativo
.head 5 -  Boolean: bExistePartida
.head 4 +  Actions 
.head 5 -  Set sRegresa='PREC' || dfRecibo
.head 5 -  !
.head 5 -  ! --------------------Esto para el caso en que de un mismo recibo (PREC) se paguen multiples facturas
!-----------------------El header de la partida no debe re-insertarse 
.head 5 -  Call SqlExists ( "SELECT COD_PARTIDA FROM PARTIDAS WHERE COD_PARTIDA = :sRegresa", bExistePartida)
.head 5 +  If not bExistePartida
.head 6 -  !
.head 6 -  Call SqlPrepareAndExecute(hSql1,"insert INTO PARTIDAS (
				COD_PARTIDA,
				DESCRIPCION,
				FECHA,
				COD_TIPO,
				TOTAL_CARGO,
				TOTAL_DEBITO,
				ESTADO,
				SUMARIZADA,
				CERRADA)
			values(
				:sRegresa,
				:dfDescrip ,
				:dfFechaPago,
				10,
				:dfMonto,
				:dfMonto,
				0,
				0,
				0
)") 	
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  !
.head 5 -  ! ----Detalle de cuentas de la partida
.head 5 -  Set nCorrelativo =  Identity(2) 
.head 5 -  Call SqlPrepareAndExecute(hSql1,"insert into
			DET_PARTIDAS (
				COD_PARTIDA ,
				COD_CUENTA,
				NOMBRE,
				CREDITO,
				CONCEPTO,
				CORRELATIVO)
			values(
				:sRegresa,
				'113-10',
				'CLIENTES',
				:dfMonto,
				:dfDescrip,
				:nCorrelativo
)")	
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  !
.head 5 -  Set nCorrelativo =  Identity(2) 
.head 5 -  Call SqlPrepareAndExecute(hSql1,"insert into
			DET_PARTIDAS (
				COD_PARTIDA ,
				COD_CUENTA,
				NOMBRE,
				CARGO,
				CONCEPTO,
				CORRELATIVO)
			values(
				:sRegresa,
				'111-01',
				'CAJA GENERAL',
				:dfMonto,
				:dfDescrip,
				:nCorrelativo
)")	
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  Return TRUE
.head 3 +  Function: GenerarContraPartida
.head 4 -  Description: 
.head 4 -  Returns 
.head 4 -  Parameters 
.head 4 -  Static Variables 
.head 4 +  Local variables 
.head 5 -  Number: nCorrelativo
.head 5 -  Boolean: bExistePartida
.head 5 -  String: sCodCuenta
.head 5 -  String: sNombreCuenta
.head 4 +  Actions 
.head 5 -  Set sRegresa='PPAGOC-F' || SalNumberToStrX( dfFactura,0)
.head 5 -  !
.head 5 -  Call SqlExists ( "SELECT COD_PARTIDA FROM PARTIDAS WHERE COD_PARTIDA = :sRegresa", bExistePartida)
.head 5 +  If not bExistePartida
.head 6 -  !
.head 6 -  Call SqlPrepareAndExecute(hSql1,"
			insert 
				INTO PARTIDAS (
					COD_PARTIDA,
					DESCRIPCION,
					FECHA,
					COD_TIPO,
					TOTAL_CARGO,
					TOTAL_DEBITO,
					ESTADO,
					SUMARIZADA,
					CERRADA
					)
				values
					(:sRegresa,
					'Contrapartida generada por Anulacion de Pago ' ,
					:dfFechaPago,
					11,
					:dfMonto,
					:dfMonto,
					0,
					0,
					0)
") 	
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  !
.head 5 -  ! ----Detalle de cuentas de la partida
.head 5 -  Set nCorrelativo =  Identity(2) 
.head 5 -  Call SqlPrepareAndExecute(hSql1,"insert into
			DET_PARTIDAS (
				COD_PARTIDA ,
				COD_CUENTA,
				NOMBRE,
				CARGO,
				CONCEPTO,
				CORRELATIVO)
			values(
				:sRegresa,
				'113-10',
				'CLIENTES',
				:dfMonto,
				'Anulacion de pago a factura',
				:nCorrelativo
)")	
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  !
.head 5 -  Set nCorrelativo =  Identity(2) 
.head 5 +  If cmbPago.nCodigo != 4
.head 6 -  !
.head 6 -  Set sCodCuenta = '111-01'
.head 6 -  Set sNombreCuenta = 'CAJA GENERAL'
.head 5 +  Else 
.head 6 -  !
.head 6 -  Set sCodCuenta = '421'
.head 6 -  Set sNombreCuenta ='DESCUENTO DE PACIENTES'
.head 5 -  !
.head 5 -  Call SqlPrepareAndExecute(hSql1,"insert into
			DET_PARTIDAS (
				COD_PARTIDA ,
				COD_CUENTA,
				NOMBRE,
				CREDITO,
				CONCEPTO,
				CORRELATIVO)
			values(
				:sRegresa,
				:sCodCuenta,
				:sNombreCuenta,
				:dfMonto,
				'Anulacion de pago a factura',
				:nCorrelativo
)")	
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  !
.head 3 +  Function: GenerarSoloHaber
.head 4 -  Description: 
.head 4 -  Returns 
.head 4 -  Parameters 
.head 4 -  Static Variables 
.head 4 -  Local variables 
.head 4 -  Actions 
.head 3 +  Function: AnularPago
.head 4 -  Description: 
.head 4 -  Returns 
.head 4 -  Parameters 
.head 4 -  Static Variables 
.head 4 +  Local variables 
.head 5 -  Number: DEBE
.head 4 +  Actions 
.head 5 -  !
.head 5 -  ! -------------Eliminar el pago
.head 5 -  !
.head 5 -  Call SqlPrepareAndExecute(hSql1,"BEGIN TRAN")
.head 5 -  Call SqlPrepareAndExecute(hSql1,"DELETE
				FROM
					PAGOS
				WHERE
					NUMERO_PAGO = :dfPago AND
					COD_FACTURA   = :dfFactura")
.head 5 -  !
.head 5 -  ! -------------Actualizar el debe de la factura
.head 5 -  !
.head 5 -  Set PAGADO=dfTotalPagado - dfMonto
.head 5 -  Set DEBE = dfTotal-PAGADO
.head 5 +  If DEBE > 0
.head 6 -  Set ESTADO=0
.head 5 +  Else 
.head 6 -  Set ESTADO=1
.head 5 -  Call SqlPrepareAndExecute(hSql1," UPDATE 
					FACTURAS 
				SET
					MONTO_DEBE	=MONTO_DEBE + :dfMonto, 
					ESTADO_PAGO	=:ESTADO,
					MONTO_PAGADO	=MONTO_PAGADO - :dfMonto
				WHERE
					COD_FACTURA	=:dfFactura") 
.head 5 -  !
.head 5 -  ! -------------Actualizar el monto por asignar del recibo(excepto cuando es nota de credito)
.head 5 -  !
.head 5 +  If cmbPago.nCodigo != 4
.head 6 -  !
.head 6 -  Call SqlPrepareAndExecute(hSql1,"update 
					RECIBOS 
				set 
					POR_ASIGNAR 		= POR_ASIGNAR + :dfMonto, 
					FACTURAS_AFECTADAS	=FACTURAS_AFECTADAS - 1 
				where 
					COD_RECIBO 		=:dfRecibo")
.head 5 -  Call SqlPrepareAndExecute(hSql1,"COMMIT TRAN")
.head 2 +  Window Parameters 
.head 3 -  Number: pFactura
.head 3 -  String: sNomPaciente
.head 2 +  Window Variables 
.head 3 -  String: FECHA_PAGO
.head 3 -  Number: PAGADO
.head 3 -  Number: ESTADO
.head 3 -  Number: nFilita
.head 3 -  String: sRegresa
.head 3 -  String: sSql
.head 3 -  Number: nMaximo
.head 3 -  String: srecibo
.head 3 -  String: sfactura
.head 3 -  Number: max_en_tabla
.head 3 -  String: sRecibo
.head 3 -  String: misql
.head 3 -  Number: Total_Recibo_Previo
.head 3 -  String: Str_Total_Recibo_Previo
.head 3 -  Number: xno_pago
.head 3 -  Number: xpor_asignar
.head 2 +  Message Actions 
.head 3 +  On SAM_CreateComplete
.head 4 -  Call SalBringWindowToTop (dlgPagos)
.head 3 +  On MU_GRABAR
.head 4 -  Call SqlExists("Select	
		NUMERO_PAGO 
	from   
		PAGOS
	where	
		NUMERO_PAGO =:dfPago and 
		COD_FACTURA=:dfFactura ",bExists)
.head 4 -  Call SqlClearImmediate( )
.head 4 -  Call SalDateToStr( dfFechaPago, FECHA_PAGO )
.head 4 -  Call SalStrLeft (FECHA_PAGO, 10, FECHA_PAGO )
.head 4 +  If bExists
.head 5 -  ! No se debe poder modificar un recibo ya guardado
.head 5 -  Call SalMessageBox("El pago no puede ser modificado","Advertencia",MB_Ok)
.head 5 +  ! If not SqlPrepareAndExecute(hSql1,"
update	PAGOS
	set	
                FECHA=:FECHA_PAGO,
	DESCRIPCION =:dfDescrip,
	MONTO =:dfMonto,
	RECIBO=:dfRecibo,
	DOCUMENTO =:dfDocumento,
	COD_PAGO =:cmbPago.nCodigo


where	NUMERO_PAGO =:dfPago and COD_FACTURA=:dfFactura ")  or not
ActualizarDebe()


.head 6 -  Call SqlPrepareAndExecute(hSql1,"rollback")
.head 5 +  ! Else
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 +  Else 
.head 5 -  Call SqlPrepareAndExecute(hSql1,"
				select 
					MAXIMO 
				from  
					IDENTITYS  
				where 
					COD_TABLA=78 
				into 
					:max_en_tabla")
.head 5 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  ! Call SalMessageBox(SalNumberToStrX(max_en_tabla,0),'maximo en tabla',MB_Ok)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"Begin Tran")
.head 5 +  If SqlPrepareAndExecute(hSql1,"
insert 	PAGOS  ( 
	NUMERO_PAGO,
	COD_FACTURA,
	FECHA,
	DESCRIPCION,
	MONTO,
	RECIBO,
	DOCUMENTO,
	COD_PAGO,recibide,strmonto,banco,saldoant,saldoact,cod_partida

	 )
values(
	:dfPago,
	:dfFactura,
	:FECHA_PAGO,
	:dfDescrip,
	:dfMonto,
	:dfRecibo,
	:dfDocumento,
	:cmbPago.nCodigo,:dfRecibide,:dfstrMonto,:dfBanco,:dfSaldoAnt,:dfSaldoAct,
               'PREC" ||dfRecibo || "'
               )")
.head 6 +  If ActualizarDebe()
.head 7 -  Call GenerarPartida()
.head 7 -  Call SqlPrepareAndExecute(hSql1,"update RECIBOS set POR_ASIGNAR = POR_ASIGNAR - :dfMonto, FACTURAS_AFECTADAS=FACTURAS_AFECTADAS + 1 where COD_RECIBO =:dfRecibo")
.head 7 -  Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 7 -  ! ! ! Set nMaximo = SalStrToNumber( dfRecibo )
.head 7 -  ! Verificar si el numero de recibo a grabar es mayor al maximo existente
.head 7 +  ! If nMaximo > max_en_tabla
.head 8 -  Call SqlPrepareAndExecute(hSql1,"update identitys set maximo=:nMaximo where cod_tabla =78") 
.head 7 -  ! Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 7 -  ! Obtener el total si existia del recibo previo factura 
.head 7 -  ! Call SqlExists("Select MONTO from   PAGOS 
where RECIBO=:dfRecibo and COD_FACTURA=:-999 into :Total_Recibo_Previo",bExists)
.head 7 -  ! Call SqlClearImmediate(  )
.head 7 +  ! If bExists
.head 8 -  Set Str_Total_Recibo_Previo = SalNumberToStrX(Total_Recibo_Previo,2)
.head 8 -  Call SalMessageBox(Str_Total_Recibo_Previo,'Total recibo previo este registro',MB_Ok)
.head 8 -  Set Total_Recibo_Previo = Total_Recibo_Previo - dfMonto
.head 8 -  Set misql = "update pagos set monto =:Total_Recibo_Previo where recibo =:dfRecibo and cod_factura=-999"
.head 8 -  Call SqlPrepareAndExecute(hSql1,misql)
.head 8 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 8 -  Set Str_Total_Recibo_Previo = SalNumberToStrX(Total_Recibo_Previo,2)
.head 8 -  Call SalMessageBox(Str_Total_Recibo_Previo,'Total recibo luego del registro',MB_Ok)
.head 6 +  Else 
.head 7 -  Call SalMessageBox( 'Hubo un error al Registrar el Pago', 'Error', MB_Ok )
.head 1 +  Dialog Box: dlgPagosHonProv
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Pagos de Honorarios
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  12.9"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 7.198"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 1.917"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Contents
.head 4 +  Pushbutton: pbAgregar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbMas
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.186"
.head 6 -  Top:    0.094"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set pbAgregar.nOpcionh=1
.head 7 -  Set pbAgregar.hWndCampo=dfPago
.head 6 +  On SAM_Click
.head 7 -  ! Call SalSendClassMessage( SAM_Click, 0, 0 )
.head 7 -  Call LimpiarCampos()
.head 7 -  Call SalEnableWindow(pbGrabar)
.head 7 -  Set dfFechaPago=FechaHoy(2)
.head 7 -  Call SalDateToStr( dfFechaPago, FECHA_PAGO )
.head 7 -  Call SalStrLeft (FECHA_PAGO, 10, FECHA_PAGO )
.head 4 +  Pushbutton: pbBorrar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbMenos
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.986"
.head 6 -  Top:    0.094"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set pbBorrar.nOpcionh=1
.head 7 -  Set pbBorrar.sTitulo=' El Pago'
.head 6 +  On SAM_Click
.head 7 -  Call SqlExists("Select	NUMERO_PAGO
from	PAGOS_A_MED
where	NUMERO_PAGO =:dfPago  and correl = :dfCorrel",bExists)
.head 7 -  Call SqlClearImmediate( )
.head 7 +  If bExists
.head 8 -  Call SalSendClassMessage( SAM_Click, 0, 0 )
.head 8 -  Call SalSendMsg( dlgPagosHonProv, MU_ACTUALIZAR, 0, 0 )
.head 4 +  Pushbutton: pbGrabar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbGrabar
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.786"
.head 6 -  Top:    0.094"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 -  Group Box: Información de Factura
.head 5 -  Resource Id: 53171
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.143"
.head 6 -  Top:    0.76"
.head 6 -  Width:  12.333"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.06"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: #Factura :
.head 5 -  Resource Id: 53172
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.543"
.head 6 -  Top:    0.948"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.226"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfFactura
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Number
.head 6 -  Editable? Yes
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 0.571"
.head 7 -  Top:    1.094"
.head 7 -  Width:  1.6"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: 3D Face Color
.head 6 -  Input Mask: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Validate
.head 7 -  Call SqlExists("Select	COD_FACTURA
from	FACTURAS
where	COD_FACTURA =:dfFactura",bExists)
.head 7 -  Call SqlClearImmediate( )
.head 7 +  If not bExists
.head 8 -  Call SalMessageBox( "Factura no Existe","Advertencia", MB_Ok )
.head 4 -  Background Text: Total Honorarios
.head 5 -  Resource Id: 53173
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 8.443"
.head 6 -  Top:    0.948"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfTotal
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 8.443"
.head 7 -  Top:    1.115"
.head 7 -  Width:  1.7"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 -  Background Text: Se debe a Medico
.head 5 -  Resource Id: 53174
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 10.443"
.head 6 -  Top:    0.948"
.head 6 -  Width:  1.943"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfDebe
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 10.443"
.head 7 -  Top:    1.094"
.head 7 -  Width:  1.7"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Red
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbSalir
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 11.371"
.head 6 -  Top:    0.073"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Call SalEndDialog( dlgPagosHonProv, TRUE )
.head 4 -  Line
.head 5 -  Resource Id: 53175
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Coordinates
.head 6 -  Begin X:  0.071"
.head 6 -  Begin Y:  0.656"
.head 6 -  End X:  12.386"
.head 6 -  End Y:  0.656"
.head 5 -  Visible? Yes
.head 5 -  Line Style: Solid
.head 5 -  Line Thickness: 2
.head 5 -  Line Color: Default
.head 4 -  Background Text: Correl
.head 5 -  Resource Id: 53176
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 2.371"
.head 6 -  Top:    0.927"
.head 6 -  Width:  0.6"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfCorrel
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 2.371"
.head 7 -  Top:    1.094"
.head 7 -  Width:  0.9"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 -  Background Text: Medico
.head 5 -  Resource Id: 53177
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 3.371"
.head 6 -  Top:    0.927"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfNombre
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Yes
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 3.371"
.head 7 -  Top:    1.094"
.head 7 -  Width:  4.8"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: 3D Face Color
.head 6 -  Input Mask: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Validate
.head 7 -  Call SalSendMsg( hWndForm, MU_ACTUALIZAR, 0, 0 )
.head 6 +  On SAM_KillFocus
.head 7 -  Call SalSendMsg( hWndForm, MU_ACTUALIZAR, 0, 0 )
.head 4 -  Background Text: Descripción
.head 5 -  Resource Id: 53178
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.571"
.head 6 -  Top:    1.51"
.head 6 -  Width:  1.1"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfDes
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 1.771"
.head 7 -  Top:    1.49"
.head 7 -  Width:  6.4"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 -  Background Text: Fecha
.head 5 -  Resource Id: 53179
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 8.571"
.head 6 -  Top:    1.51"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfFec
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfFecha
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 9.571"
.head 7 -  Top:    1.49"
.head 7 -  Width:  1.3"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 2 +  Contents
.head 3 -  Group Box: Pagos A Medico
.head 4 -  Resource Id: 53160
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.829"
.head 5 -  Top:    -0.031"
.head 5 -  Width:  10.957"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.521"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: # de Pago
.head 4 -  Resource Id: 53161
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.129"
.head 5 -  Top:    0.24"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfPago
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.229"
.head 6 -  Top:    0.219"
.head 6 -  Width:  0.7"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Monto
.head 4 -  Resource Id: 53162
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.029"
.head 5 -  Top:    0.24"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.375"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfMonto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.329"
.head 6 -  Top:    0.219"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Fecha
.head 4 -  Resource Id: 53163
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.029"
.head 5 -  Top:    0.24"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaPago
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 9.729"
.head 6 -  Top:    0.135"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Call SalDateToStr( dfFechaPago, FECHA_PAGO )
.head 6 -  Call SalStrLeft (FECHA_PAGO, 10, FECHA_PAGO )
.head 3 -  Background Text: Tipo Pago
.head 4 -  Resource Id: 53164
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.129"
.head 5 -  Top:    0.573"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbPago
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.229"
.head 5 -  Top:    0.552"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.438"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbPago.nCaso=1
.head 6 -  Set cmbPago.sTabla='TIPOS_PAGO'
.head 6 -  Set cmbPago.sNombre='NOMBRE'
.head 6 -  Set cmbPago.sCodigo='COD_PAGO'
.head 3 -  Background Text: No.Documento
.head 4 -  Resource Id: 53165
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.029"
.head 5 -  Top:    0.573"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfDocumento
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.329"
.head 6 -  Top:    0.552"
.head 6 -  Width:  2.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Descripción
.head 4 -  Resource Id: 53166
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.129"
.head 5 -  Top:    0.906"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfDescrip
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.129"
.head 6 -  Top:    1.135"
.head 6 -  Width:  10.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Group Box: Pagos Efectuados por parte del cliente a honorarios
.head 4 -  Resource Id: 53167
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.157"
.head 5 -  Top:    3.073"
.head 5 -  Width:  12.529"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.667"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTotalPagado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.029"
.head 6 -  Top:    4.385"
.head 6 -  Width:  2.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.226"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: 10
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Total Pagado por el cliente
.head 4 -  Resource Id: 53168
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.686"
.head 5 -  Top:    4.385"
.head 5 -  Width:  3.271"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: 10
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.486"
.head 6 -  Top:    3.24"
.head 6 -  Width:  12.1"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.083"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: Default
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colPago
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: #Pago
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMonto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.417"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFecha
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.55"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colTipo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Tipo Pag.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.167"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDocumento
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: #Documento
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.783"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colRecibo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: #Recibo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.35"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDescrip
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripcion
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colTipo_pago
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: cod_pago
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.617"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 -  Message Actions
.head 3 +  Child Table: tbl2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.471"
.head 6 -  Top:    1.781"
.head 6 -  Width:  12.1"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.875"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: Default
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colPago
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: #Pago
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMonto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.417"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFecha
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.55"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colTipo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Tipo Pag.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.167"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDocumento
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: #Documento
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.783"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDescrip
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripcion
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.843"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colTipo_pago
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: cod_pago
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.617"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 +  Message Actions
.head 5 +  On SAM_DoubleClick
.head 6 -  Call SalTblQueryFocus(tbl2,nFilita,tbl2.colPago)
.head 6 -  Call SalTblSetContext(tbl2,nFilita)
.head 6 -  Set dfPago=tbl2.colPago
.head 6 -  Set dfMonto=tbl2.colMonto
.head 6 -  Set dfFechaPago=tbl2.colFecha
.head 6 -  Set cmbPago.nCodigo=tbl2.colTipo_pago
.head 6 -  Set cmbPago=tbl2.colTipo
.head 6 -  Set dfDocumento=tbl2.colDocumento
.head 6 -  Set dfDescrip=tbl2.colDescrip
.head 3 -  Group Box: Pagos Efectuados por parte de BETESDA a Medicos
.head 4 -  Resource Id: 53169
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.186"
.head 5 -  Top:    1.573"
.head 5 -  Width:  12.586"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.417"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Total Pagado por BETESDA
.head 4 -  Resource Id: 53170
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.671"
.head 5 -  Top:    2.677"
.head 5 -  Width:  3.414"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: 10
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTotalPagadoAMed
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.114"
.head 6 -  Top:    2.677"
.head 6 -  Width:  2.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.226"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: 10
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 2 +  Functions
.head 3 +  Function: ActualizarDebe
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: PAG
.head 4 +  Actions
.head 5 -  ! Call SqlPrepareAndExecute(hSql1,"
select 	sum(monto) from PAGOS where cod_factura=:dfFactura
 into :PAGADO ")

.head 5 -  Set PAGADO=dfTotalPagadoAMed+dfMonto
.head 5 +  If dfTotal-PAGADO<=0
.head 6 -  Set ESTADO='S'
.head 5 +  Else
.head 6 -  Set ESTADO='N'
.head 5 -  Set PAGADO=dfTotal-PAGADO
.head 5 +  If not SqlPrepareAndExecute(hSql1,"
update DET_HONORARIOS set MONTO_DEBE=MONTO_DEBE- (:dfMonto), PAGADO=:ESTADO,
MONTO_PAGADO = MONTO_PAGADO +  (:dfMonto) where
correl=:dfCorrel")
.head 6 -  Return FALSE
.head 5 +  ! If not SqlPrepareAndExecute(hSql1,"
update facturas set DEBE_HONORARIOS=DEBE_HONORARIOS - (:dfMonto ),
PAGADO_HONORARIOS=PAGADO_HONORARIOS + (:dfMonto) where
cod_factura=:dfFactura")
.head 6 -  Return FALSE
.head 5 -  Return TRUE
.head 3 +  Function: LimpiarCampos
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Set dfPago=NUMBER_Null
.head 5 -  Set dfMonto=NUMBER_Null
.head 5 -  Set dfFechaPago=DATETIME_Null
.head 5 -  Set cmbPago=''
.head 5 -  Set dfDocumento=''
.head 5 -  ! Set dfRecibo=''
.head 5 -  Set dfDescrip=''
.head 2 +  Window Parameters
.head 3 -  Number: correl
.head 3 -  Number: factura
.head 2 +  Window Variables
.head 3 -  String: FECHA_PAGO
.head 3 -  Number: PAGADO
.head 3 -  String: ESTADO
.head 3 -  Number: nFilita
.head 3 -  Number: nCorrelativo
.head 3 -  Number: nCod_med
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 +  If factura !=-1 and correl !=-1
.head 5 -  Set dfFactura=factura
.head 5 -  Set dfCorrel=correl
.head 5 -  Call SqlPrepareAndExecute( hSql1, "Select
     B.NOMBRE,A.COSTO,A.MONTO_DEBE,A.FECHA,A.DESCRIPCION
FROM DET_HONORARIOS A, MEDICOS B
WHERE A.CORREL=:dfCorrel and A.COD_MEDICO = B.COD_MEDICO into
:dfNombre,:dfTotal,:dfDebe,:dfFec,:dfDes " )
.head 5 -  Call SqlFetchNext( hSql1, nSiguiente )
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  Call SalSendMsg( hWndForm, MU_ACTUALIZAR, 0, 0 )
.head 3 +  On MU_ACTUALIZAR
.head 4 -  Call SqlPrepareAndExecute( hSql1, "Select A.CORREL,
     B.NOMBRE,A.COSTO,A.MONTO_DEBE,A.FECHA,A.DESCRIPCION
FROM DET_HONORARIOS A, MEDICOS B
WHERE  A.COD_FACTURA = :dfFactura and B.NOMBRE LIKE '" || dfNombre || "%'  and A.COD_MEDICO = B.COD_MEDICO into
:dfCorrel,:dfNombre,:dfTotal,:dfDebe,:dfFec,:dfDes " )
.head 4 -  Call SqlFetchNext( hSql1, nSiguiente )
.head 4 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  Call SalTblPopulate(tbl1,hSql1,"
select	A.NUMERO_PAGO,A.MONTO,
              convert(varchar(10) ,A.FECHA,103),B.NOMBRE,
               A.DOCUMENTO,A.RECIBO,A.DESCRIPCION,A.COD_PAGO
               
from	 PAGOS_HON  A, TIPOS_PAGO B

where	A.COD_PAGO=B.COD_PAGO AND A.CORREL=:dfCorrel

 order by A.FECHA",TBL_FillAll)
.head 4 -  ! Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  Set dfTotalPagado=SalTblColumnSum(tbl1,2 ,0,0)
.head 4 -  !
.head 4 -  ! Tabla de pagos a medicos
.head 4 -  Call SalTblPopulate(tbl2,hSql1,"
select	A.NUMERO_PAGO,A.MONTO,
              convert(varchar(10) ,A.FECHA,103),B.NOMBRE,
               A.DOCUMENTO,A.DESCRIPCION,A.COD_PAGO
               
from	 PAGOS_A_MED  A, TIPOS_PAGO B

where	A.COD_PAGO=B.COD_PAGO AND A.CORREL=:dfCorrel

 order by A.FECHA",TBL_FillAll)
.head 4 -  ! Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  Set dfTotalPagadoAMed=SalTblColumnSum(tbl2,2 ,0,0)
.head 4 -  Set dfDebe=dfTotal-dfTotalPagadoAMed
.head 3 +  On MU_BORRAR
.head 4 -  !
.head 4 -  Call SqlPrepareAndExecute(hSql1,"
	delete from	
		Pagos_A_med
	where	
		numero_pago  =:dfPago and  
		correl =:dfCorrel ")
.head 4 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  Call SalMessageBox( "Pago  ha sido Borrado", "Advertencia", MB_Ok )
.head 3 +  On MU_GRABAR
.head 4 -  Call SqlExists("Select	NUMERO_PAGO
from   PAGOS_A_MED where	NUMERO_PAGO =:dfPago and CORREL=:dfCorrel ",bExists)
.head 4 -  Call SqlClearImmediate( )
.head 4 -  Call SalDateToStr( dfFechaPago, FECHA_PAGO )
.head 4 -  Call SalStrLeft (FECHA_PAGO, 10, FECHA_PAGO )
.head 4 +  If bExists
.head 5 +  ! If not SqlPrepareAndExecute(hSql1,"
update	PAGOS
	set
                FECHA=:FECHA_PAGO,
	DESCRIPCION =:dfDescrip,
	MONTO =:dfMonto,
	RECIBO=:dfRecibo,
	DOCUMENTO =:dfDocumento,
	COD_PAGO =:cmbPago.nCodigo


where	NUMERO_PAGO =:dfPago and COD_FACTURA=:dfFactura ")  or not
ActualizarDebe()


.head 6 -  Call SqlPrepareAndExecute(hSql1,"rollback")
.head 5 +  ! Else
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 +  Else
.head 5 -  ! Call SqlPrepareAndExecute(hSql1,"Begin Tran")
.head 5 +  If SqlPrepareAndExecute(hSql1,"
insert 	PAGOS_A_MED  ( NUMERO_PAGO,
	COD_FACTURA,
	FECHA,
	DESCRIPCION,
	MONTO,
	
	DOCUMENTO,
	COD_PAGO,
	CORREL

	 )
values(
	:dfPago,
	:dfFactura,
	:FECHA_PAGO,
	:dfDescrip,
	:dfMonto,
	
	:dfDocumento,
	:cmbPago.nCodigo,
	:dfCorrel

               )")
.head 6 +  ! If ActualizarDebe()
.head 7 -  Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 6 -  Call ActualizarDebe()
.head 1 +  Dialog Box: dlgConsultaRecibosAnteriores
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Consulta de Recibos antes de 07/Sep/2004
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  9.757"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 5.115"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Background Text: # Recibo
.head 4 -  Resource Id: 17523
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.286"
.head 5 -  Top:    0.177"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfRecibo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.186"
.head 6 -  Top:    0.156"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Call SalSendMsg( hWndForm, MU_ACTUALIZAR, 0, 0 )
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatChildTable
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.186"
.head 6 -  Top:    0.99"
.head 6 -  Width:  9.3"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 3.667"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: Class Default
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colRecibo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: # Recibo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: String
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.914"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFecha
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDescripcion
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripcion
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMonto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colRecibide
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Pagado por
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colTipopago
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Tipo de pago
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 +  Message Actions
.head 5 +  ! On SAM_DoubleClick
.head 6 -  Set sRecibo = tbl1.colRecibo
.head 6 -  Call SalEndDialog(dlgRecibosPreviaFactura,TRUE)
.head 5 +  ! On SAM_Click
.head 6 -  Set dfRecibo=tbl1.colRecibo
.head 3 +  Radio Button: rbCE
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Consulta Externa
.head 4 -  Window Location and Size
.head 5 -  Left: 0.186"
.head 5 -  Top:    0.573"
.head 5 -  Width:  1.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbPF
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Pagos a facturas
.head 4 -  Window Location and Size
.head 5 -  Left: 2.271"
.head 5 -  Top:    0.573"
.head 5 -  Width:  1.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFI
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.186"
.head 6 -  Top:    0.573"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFF
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.871"
.head 6 -  Top:    0.573"
.head 6 -  Width:  1.514"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Fecha Fin
.head 4 -  Resource Id: 17524
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.886"
.head 5 -  Top:    0.594"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Fecha Ini
.head 4 -  Resource Id: 17525
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.271"
.head 5 -  Top:    0.594"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbBuscar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.671"
.head 5 -  Top:    0.031"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If rbPF
.head 7 -  Set sConsulta = "select A.RECIBO,convert(varchar(10) ,A.FECHA,103),A.DESCRIPCION,
               A.MONTO, A.RECIBIDE, B.NOMBRE
               
from	PAGOS A, TIPOS_PAGO B

where	A.COD_PAGO=B.COD_PAGO "
.head 7 +  If dfRecibo != ''
.head 8 -  !
.head 8 -  Set sConsulta=sConsulta||"	AND	A.RECIBO = :dfRecibo"

.head 6 +  If rbCE
.head 7 -  Set sConsulta = "select A.COD_RECIBO,convert(varchar(10) ,A.FECHA,103),A.DESCRIPCION,
               A.MONTO, A.RECIBIDE, ''
               
from	PAGOS_VARIOS A
where A.MONTO > -1 "
.head 7 +  If dfRecibo != ''
.head 8 -  !
.head 8 -  Set sConsulta=sConsulta||"	AND	A.COD_RECIBO = :dfRecibo"

.head 6 +  If dfFI != DATETIME_Null and dfFF !=DATETIME_Null
.head 7 -  Set sConsulta=sConsulta||"	AND	A.FECHA >= :dfFI and
                                                A.FECHA <=  :dfFF "

.head 6 -  Set sConsulta=sConsulta||" order by A.FECHA "
.head 6 -  ! Call SalMessageBox(sConsulta,'SQL',MB_Ok)
.head 6 -  Call SalTblPopulate(tbl1,hSql1,sConsulta,TBL_FillAll)
.head 2 -  Functions
.head 2 +  Window Parameters
.head 3 -  ! Receive String: sRecibo
.head 2 +  Window Variables
.head 3 -  String: sConsulta
.head 2 +  Message Actions
.head 3 +  On MU_ACTUALIZAR
.head 4 -  ! Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  ! Set dfTotalPagado=SalTblColumnSum(tbl1,2 ,0,0)
.head 4 -  ! Set dfDebe=dfTotal-dfTotalPagado
.head 3 -  ! cod de tabla 700 en identitys para recibos
.head 1 +  Form Window: frmPacAdmision
.head 2 -  Class: cQuickTabsForm
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Admision de Pacientes Privados
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Class Default
.head 2 -  Display Settings
.head 3 -  Display Style? Class Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Class Default
.head 3 -  Maximizable? Class Default
.head 3 -  Minimizable? Class Default
.head 3 -  System Menu? Class Default
.head 3 -  Resizable? Class Default
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  10.317"
.head 4 -  Width Editable? Class Default
.head 4 -  Height: 6.476"
.head 4 -  Height Editable? Class Default
.head 3 -  Form Size
.head 4 -  Width:  Class Default
.head 4 -  Height: Class Default
.head 4 -  Number of Pages: Class Default
.head 3 -  Font Name: Class Default
.head 3 -  Font Size: Class Default
.head 3 -  Font Enhancement: Class Default
.head 3 -  Text Color: Class Default
.head 3 -  Background Color: Class Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Class Default
.head 4 -  Location? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Size: 1.786"
.head 4 -  Size Editable? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 3 +  Contents
.head 4 -  Frame
.head 5 -  Resource Id: 46918
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.083"
.head 6 -  Top:    0.571"
.head 6 -  Width:  9.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.083"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Corners: Square
.head 5 -  Border Style: Etched
.head 5 -  Border Thickness: 1
.head 5 -  Border Color: Blue
.head 5 -  Background Color: Default
.head 4 -  Background Text: Segundo Nombre
.head 5 -  Resource Id: 46924
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 4.583"
.head 6 -  Top:    1.036"
.head 6 -  Width:  1.433"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.229"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfSegundoNom
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 6.083"
.head 7 -  Top:    0.988"
.head 7 -  Width:  2.7"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 +  Message Actions
.head 6 +  On MU_REVISAR
.head 7 -  Return TRUE
.head 4 -  Background Text: Segundo Apellido
.head 5 -  Resource Id: 46923
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 4.583"
.head 6 -  Top:    1.286"
.head 6 -  Width:  1.433"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.229"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfSegundoApe
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 6.083"
.head 7 -  Top:    1.238"
.head 7 -  Width:  2.7"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 +  Message Actions
.head 6 +  On MU_REVISAR
.head 7 -  Return TRUE
.head 4 -  Background Text: No.Admision(Cod)
.head 5 -  Resource Id: 46920
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.183"
.head 6 -  Top:    0.821"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfCodPaciente
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 1.583"
.head 7 -  Top:    0.738"
.head 7 -  Width:  2.7"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 +  Message Actions
.head 6 +  ! On SAM_Validate
.head 7 -  Call SqlExists("Select	TIPO
from	PACIENTES
where	COD_PACIENTE =:dfCodPaciente and CORREL_PACIENTE=:dfCorrel  into :nTipo  ",bExists)
.head 7 -  Call SqlClearImmediate( )
.head 7 +  If bExists
.head 8 +  If nTipo!=1
.head 9 -  Call SalMessageBox("El Paciente Existe pero no es Privado", "Advertencia",MB_Ok)
.head 9 -  Set dfCodPaciente=''
.head 8 +  Else 
.head 9 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 4 -  Background Text: Primer Nombre
.head 5 -  Resource Id: 46921
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.35"
.head 6 -  Top:    1.036"
.head 6 -  Width:  1.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.313"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfPrimerNom
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 1.583"
.head 7 -  Top:    0.988"
.head 7 -  Width:  2.7"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 -  Background Text: Primer Apellido
.head 5 -  Resource Id: 46922
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.35"
.head 6 -  Top:    1.286"
.head 6 -  Width:  1.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Right
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfPrimerApe
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 1.583"
.head 7 -  Top:    1.238"
.head 7 -  Width:  2.7"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 -  Background Text: Identidad
.head 5 -  Resource Id: 46919
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 5.217"
.head 6 -  Top:    0.786"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.226"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Left
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfIdentidad
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 6.083"
.head 7 -  Top:    0.738"
.head 7 -  Width:  2.7"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 2 +  Contents
.head 3 +  Picture: picTabs
.data CLASSPROPS
0000: 5461624C6566744D 617267696E000200 3000005461624375 7272656E74000600
0020: 4E616D6532000054 6162426F74746F6D 4D617267696E0002 0030000054616250
0040: 616765436F756E74 0002003100005461 624C6162656C7300 2B004461746F7320
0060: 47656E6572616C65 73094461746F7320 41646D6973696F6E 09526573706F6E73
0080: 61626C6500005461 624E616D65730012 004E616D6530094E 616D6531094E616D
00A0: 6532000054616252 696768744D617267 696E000200300000 5461624472617753
00C0: 74796C65000B0057 696E39355374796C 650000546162466F 726D506167657300
00E0: 0300090900005461 62546F704D617267 696E000200300000 0000000000000000
0100: 0000000000000000 00000000
.enddata
.data CLASSPROPSSIZE
0000: 0C01
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 1
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cQuickTabsForm
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: Class Default
.head 5 -  Top:    Class Default
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  File Name:
.head 4 -  Storage: Class Default
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Fit: Class Default
.head 4 -  Scaling
.head 5 -  Width:  Class Default
.head 5 -  Height:  Class Default
.head 4 -  Corners: Class Default
.head 4 -  Border Style: Class Default
.head 4 -  Border Thickness: Class Default
.head 4 -  Tile To Parent? Class Default
.head 4 -  Border Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Lugar de Trabajo
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 56533
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.15"
.head 5 -  Top:    1.81"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Domicilio
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 56534
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.317"
.head 5 -  Top:    2.226"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTelCasaR
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.217"
.head 6 -  Top:    2.202"
.head 6 -  Width:  1.467"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Trabajo
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 56535
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.717"
.head 5 -  Top:    2.226"
.head 5 -  Width:  0.667"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTelTrabajoR
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.383"
.head 6 -  Top:    2.202"
.head 6 -  Width:  1.467"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Cel.
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 56536
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.883"
.head 5 -  Top:    2.226"
.head 5 -  Width:  0.333"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTelCelularR
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.283"
.head 6 -  Top:    2.202"
.head 6 -  Width:  1.467"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Fax
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 56537
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.817"
.head 5 -  Top:    2.226"
.head 5 -  Width:  0.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTelFaxR
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.383"
.head 6 -  Top:    2.202"
.head 6 -  Width:  1.467"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Group Box: Teléfonos
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 56538
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    2.071"
.head 5 -  Width:  8.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.417"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Blue
.head 4 -  Background Color: Default
.head 3 +  Multiline Field: mlDomicilio
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: mlBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 254
.head 5 -  String Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Border? Yes
.head 5 -  Word Wrap? Yes
.head 5 -  Vertical Scroll? Yes
.head 5 -  Window Location and Size
.head 6 -  Left: 1.583"
.head 6 -  Top:    2.726"
.head 6 -  Width:  7.3"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.786"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Combo Box: cmbMedicoR
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65310000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.483"
.head 5 -  Top:    1.155"
.head 5 -  Width:  4.9"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.262"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Yes
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbMedicoR.nCaso=1
.head 6 -  Set cmbMedicoR.sTabla='MEDICOS'
.head 6 -  Set cmbMedicoR.sNombre='NOMBRE'
.head 6 -  Set cmbMedicoR.sCodigo='COD_MEDICO'
.head 3 +  Combo Box: cmbMedicoT
.data CLASSPROPSSIZE
0000: 1900
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6531000000 00
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.45"
.head 5 -  Top:    2.429"
.head 5 -  Width:  7.933"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.262"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Yes
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbMedicoR.nCaso=1
.head 6 -  Set cmbMedicoR.sTabla='MEDICOS'
.head 6 -  Set cmbMedicoR.sNombre='NOMBRE'
.head 6 -  Set cmbMedicoR.sCodigo='COD_MEDICO'
.head 3 -  Background Text: Medico Tratante
.data CLASSPROPSSIZE
0000: 1900
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6531000000 00
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 11754
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    2.476"
.head 5 -  Width:  0.9"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.345"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: E-Mail
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 46939
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.85"
.head 5 -  Top:    1.452"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCorreo
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.683"
.head 6 -  Top:    1.429"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Fecha Nacimiento
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 46934
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    1.702"
.head 5 -  Width:  1.533"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaNac
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.683"
.head 6 -  Top:    1.655"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Domicilio
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 46928
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.95"
.head 5 -  Top:    0.702"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTelefonoCasa
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.983"
.head 6 -  Top:    0.679"
.head 6 -  Width:  2.467"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Tel. Trabajo
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 46929
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.85"
.head 5 -  Top:    0.952"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTelefonoTrabajo
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.983"
.head 6 -  Top:    0.929"
.head 6 -  Width:  2.467"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Celular
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 46930
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.15"
.head 5 -  Top:    1.202"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCelular
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.983"
.head 6 -  Top:    1.179"
.head 6 -  Width:  2.467"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Fax
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 46931
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.35"
.head 5 -  Top:    1.452"
.head 5 -  Width:  0.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFax
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.983"
.head 6 -  Top:    1.429"
.head 6 -  Width:  2.467"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Group Box: Teléfonos
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 46932
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.683"
.head 5 -  Top:    0.488"
.head 5 -  Width:  4.067"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.274"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Blue
.head 4 -  Background Color: Default
.head 3 -  Background Text: Sexo
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 46926
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.083"
.head 5 -  Top:    0.679"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbSexo
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatComboBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.683"
.head 5 -  Top:    0.679"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.417"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 +  List Initialization
.head 5 -  Text: Femenino
.head 5 -  Text: Masculino
.head 4 -  Message Actions
.head 3 +  Combo Box: cmbEstadoCivil
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatComboBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.683"
.head 5 -  Top:    0.929"
.head 5 -  Width:  2.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.417"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 +  List Initialization
.head 5 -  Text: Soltero(a)
.head 5 -  Text: Casado(a)
.head 5 -  Text: Divorciado(a)
.head 5 -  Text: Union Libre
.head 4 -  Message Actions
.head 3 -  Background Text: Estado Civil
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 46927
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    0.929"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: df11
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.683"
.head 6 -  Top:    1.179"
.head 6 -  Width:  2.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Ocupacion/Oficio
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 46933
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    1.179"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Edad
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 46936
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.683"
.head 5 -  Top:    1.821"
.head 5 -  Width:  4.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.583"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: None
.head 4 -  Text Color: Blue
.head 4 -  Background Color: 3D Face Color
.head 3 +  Data Field: df13
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.283"
.head 6 -  Top:    2.071"
.head 6 -  Width:  0.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: df14
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.683"
.head 6 -  Top:    2.071"
.head 6 -  Width:  0.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: df15
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.983"
.head 6 -  Top:    2.071"
.head 6 -  Width:  0.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Anos
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 46937
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.783"
.head 5 -  Top:    2.095"
.head 5 -  Width:  0.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Meses
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 46935
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.083"
.head 5 -  Top:    2.095"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Dias
.data CLASSPROPSSIZE
0000: 1900
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6530000000 00
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 46938
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.45"
.head 5 -  Top:    2.095"
.head 5 -  Width:  0.433"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Direccion / Domicilio
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 46940
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.883"
.head 5 -  Top:    2.262"
.head 5 -  Width:  1.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Multiline Field: mlDireccion
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatMultilineField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  String Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Border? Class Default
.head 5 -  Word Wrap? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Window Location and Size
.head 6 -  Left: 1.683"
.head 6 -  Top:    2.488"
.head 6 -  Width:  7.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.917"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Habitacion
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65310000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 46941
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.55"
.head 5 -  Top:    0.702"
.head 5 -  Width:  0.829"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbHabitacion
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65310000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.483"
.head 5 -  Top:    0.655"
.head 5 -  Width:  4.9"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.262"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbHabitacion.nCaso=1
.head 6 -  Set cmbHabitacion.sTabla='CAMAS'
.head 6 -  Set cmbHabitacion.sNombre='DESCRIPCION'
.head 6 -  Set cmbHabitacion.sCodigo='CODIGO'
.head 5 +  ! On SAM_Validate
.head 6 -  Call SalSendClassMessage( SAM_Validate, wParam, lParam )
.head 6 -  Set sCad = SalNumberToStrX( cmbPrueba.nCodigo, 0 )
.head 6 -  Call SalMessageBox(sCad, "Codigo", MB_Ok)
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Combo Box: cmbTipoAtencion
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65310000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatComboBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.95"
.head 5 -  Top:    0.655"
.head 5 -  Width:  2.533"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.262"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 +  List Initialization
.head 5 -  Text: CONSULTA EXTERNA
.head 5 -  Text: HOSPITALIZACION
.head 4 -  Message Actions
.head 3 -  Background Text: Tipo de Atencion
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65310000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 46942
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.571"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.357"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Remite Paciente
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65310000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 46944
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    0.988"
.head 5 -  Width:  9.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Blue
.head 4 -  Background Color: Default
.head 3 -  Group Box: Diagnostico y Tratamiento
.data CLASSPROPSSIZE
0000: 1900
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6531000000 00
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 11752
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    1.679"
.head 5 -  Width:  9.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.143"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Blue
.head 4 -  Background Color: Default
.head 3 +  Radio Button: rbHospital
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65310000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: El Hospital
.head 4 -  Window Location and Size
.head 5 -  Left: 0.35"
.head 5 -  Top:    1.179"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Font Name: Default
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Radio Button: rbMedico
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65310000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: El Medico
.head 4 -  Window Location and Size
.head 5 -  Left: 1.75"
.head 5 -  Top:    1.179"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfCodDiagnostico
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65310000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.45"
.head 6 -  Top:    2.179"
.head 6 -  Width:  1.2"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? No
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Unformatted
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On SAM_KillFocus
.head 6 -  !
.head 6 +  If not SalIsNull (dfCodDiagnostico)
.head 7 -  !
.head 7 -  Set sSQL = "SELECT 
    		D.ID_DIAGNOSTICO,
		D.NOMBRE_DIAGNOSTICO 
	FROM
    		DIAGNOSTICO D
	WHERE
    		D.ID_DIAGNOSTICO = :dfCodDiagnostico
	INTO 
		:cmbDiagnostico.nCodigo,
		:cmbDiagnostico" 
.head 7 -  Call SqlExists(sSQL , bExists)
.head 7 -  Call SqlClearImmediate()
.head 7 +  If not bExists
.head 8 -  Call SalMessageBox("Diagnostico no existe","ERROR",MB_Ok)
.head 8 -  Set dfCodDiagnostico=NUMBER_Null
.head 8 -  Set cmbDiagnostico=''
.head 3 +  Combo Box: cmbDiagnostico
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65310000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.65"
.head 5 -  Top:    2.179"
.head 5 -  Width:  6.733"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.571"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Editable? Class Default
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbDiagnostico.nCaso = 1
.head 6 -  Set cmbDiagnostico.sTabla = 'DIAGNOSTICO'
.head 6 -  Set cmbDiagnostico.sNombre='NOMBRE_DIAGNOSTICO'
.head 6 -  Set cmbDiagnostico.sCodigo='ID_DIAGNOSTICO'
.head 5 +  On SAM_DropDown
.head 6 -  !
.head 6 -  ! ---------------Antes de especificar el diagnostico se debe especificar la categoria
.head 6 +  If not SalIsNull(cmbCategDiagnostico)
.head 7 -  !
.head 7 -  ! -----------Cargar los diagnosticos de la categoria seleccionada
.head 7 -  Set sDiagnostico = cmbDiagnostico
.head 7 -  Set sSQL = "
			SELECT
				NOMBRE_DIAGNOSTICO
			FROM
				DIAGNOSTICO
			WHERE
				ID_CATEG_DIAGNOSTICO = :cmbCategDiagnostico.nCodigo
			ORDER BY
				NOMBRE_DIAGNOSTICO"
.head 7 -  Call SalListClear(cmbDiagnostico)
.head 7 -  Call SalListPopulate(cmbDiagnostico, hSql1, sSQL)
.head 7 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 7 -  !
.head 7 -  Call SalListSelectString( hWndItem, -1,sDiagnostico)
.head 6 -  !
.head 5 +  On SAM_Validate
.head 6 -  !
.head 6 -  ! --------Obtener el codigo del DIAGNOSTICO 
.head 6 -  Set sSQL = "select
		ID_DIAGNOSTICO
    	from
		DIAGNOSTICO
	where		
		NOMBRE_DIAGNOSTICO = :cmbDiagnostico
  	into
		:dfCodDiagnostico"
.head 6 -  Call SqlImmediate(sSQL)
.head 6 -  Call SqlClearImmediate( )
.head 3 +  Data Field: dfCodCategoria
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65310000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.45"
.head 6 -  Top:    1.952"
.head 6 -  Width:  1.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_KillFocus
.head 6 -  !
.head 6 +  If not SalIsNull (dfCodCategoria)
.head 7 -  !
.head 7 -  Set sSQL = "select 
		A.ID_CATEG_DIAGNOSTICO,
		A.NOMBRE_CATEG_DIAGNOSTICO  
	from 
		CATEG_DIAGNOSTICO A 
	where 
		A.ID_CATEG_DIAGNOSTICO=:dfCodCategoria
	into 
		:cmbCategDiagnostico.nCodigo , 
		:cmbCategDiagnostico" 
.head 7 -  Call SqlExists(sSQL , bExists)
.head 7 -  Call SqlClearImmediate()
.head 7 +  If not bExists
.head 8 -  Call SalMessageBox("Categoria no existe","ERROR",MB_Ok)
.head 8 -  Set dfCodCategoria= NUMBER_Null
.head 8 -  Set cmbCategDiagnostico=''
.head 7 +  Else
.head 8 -  !
.head 8 -  Call SalSendMsg ( cmbCategDiagnostico, SAM_DropDown, 0, 0 )
.head 3 +  Combo Box: cmbCategDiagnostico
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65310000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.65"
.head 5 -  Top:    1.929"
.head 5 -  Width:  6.733"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.417"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? No
.head 4 -  Editable? Class Default
.head 4 -  String Type: String
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbCategDiagnostico.nCaso = 1
.head 6 -  Set cmbCategDiagnostico.sTabla = 'CATEG_DIAGNOSTICO'
.head 6 -  Set cmbCategDiagnostico.sNombre='NOMBRE_CATEG_DIAGNOSTICO'
.head 6 -  Set cmbCategDiagnostico.sCodigo='ID_CATEG_DIAGNOSTICO'
.head 5 +  On SAM_Validate
.head 6 -  !
.head 6 -  ! ----------Cargar los diagnosticos de la categoria seleccionada
.head 6 -  Set sSQL = "
			SELECT
				NOMBRE_DIAGNOSTICO
			FROM
				DIAGNOSTICO
			WHERE
				ID_CATEG_DIAGNOSTICO = :cmbCategDiagnostico.nCodigo 
			ORDER BY
				NOMBRE_DIAGNOSTICO"
.head 6 -  Call SalListClear(cmbDiagnostico)
.head 6 -  Call SalListPopulate(cmbDiagnostico, hSql1, sSQL)
.head 6 -  Call SqlPrepareAndExecute(hSql5,"commit")
.head 6 -  !
.head 6 -  Set dfCodCategoria=cmbCategDiagnostico.nCodigo
.head 3 -  Background Text: Categ. Diagnos
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65310000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 11750
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    2.012"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Diagnostico
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65310000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 11751
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    2.262"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Observaciones 
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65310000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 11753
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.25"
.head 5 -  Top:    2.798"
.head 5 -  Width:  1.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.298"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Multiline Field: mlObservaciones
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65310000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatMultilineField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  String Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Border? Yes
.head 5 -  Word Wrap? No
.head 5 -  Vertical Scroll? Yes
.head 5 -  Window Location and Size
.head 6 -  Left: 1.45"
.head 6 -  Top:    2.762"
.head 6 -  Width:  7.933"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.81"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? No
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Message Actions
.head 3 -  Background Text: Nombre
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65310000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 11755
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.683"
.head 5 -  Top:    1.179"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? No
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Responde Empresa
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 56525
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.417"
.head 5 -  Top:    0.583"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbEmpresa
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigoFiltrado
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.583"
.head 5 -  Top:    0.488"
.head 5 -  Width:  6.733"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.262"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbEmpresa.nCaso=1
.head 6 -  Set cmbEmpresa.sTabla='EMPRESAS'
.head 6 -  Set cmbEmpresa.sNombre='NOMBRE'
.head 6 -  Set cmbEmpresa.sCodigo='COD_EMPRESA'
.head 6 -  Set cmbEmpresa.sNombreFiltro='ESTADO'
.head 6 -  Set cmbEmpresa.nValorFiltro=1
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Data Field: dfNomResponde
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.583"
.head 6 -  Top:    0.738"
.head 6 -  Width:  6.733"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  Background Text: Nombre
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 56526
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.45"
.head 5 -  Top:    0.833"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCodEmpleado
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 8.983"
.head 6 -  Top:    0.786"
.head 6 -  Width:  0.467"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Yes
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  !
.head 6 -  Call SalFmtGetPicture ( dfCodEmpleado, sPicture )
.head 6 -  Call SalMessageBox ( sPicture, "Mensaje", MB_Ok )
.head 6 -  Call ActualizarEmpleado()
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Pushbutton: pbBuscarEmpleado
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.317"
.head 5 -  Top:    0.488"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: 14
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\mac.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 -  Set nRegresaEmpleado = NUMBER_Null
.head 6 -  Call SalModalDialog( dlgConsultaEmpleados, hWndForm,nRegresaEmpleado, 1)
.head 6 +  If nRegresaEmpleado != NUMBER_Null
.head 7 -  Set dfCodEmpleado	=nRegresaEmpleado
.head 7 -  Call ActualizarEmpleado()
.head 3 -  Background Text: Identidad
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 56527
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    1.31"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfIdentidadR
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.583"
.head 6 -  Top:    1.238"
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  Background Text: Fecha Nacimiento
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 56532
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.483"
.head 5 -  Top:    0.976"
.head 5 -  Width:  1.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaNacR
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Date/Time
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.083"
.head 6 -  Top:    0.988"
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Yes
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Nacionalidad
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 56531
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.05"
.head 5 -  Top:    1.25"
.head 5 -  Width:  1.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfNacionalidadR
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.083"
.head 6 -  Top:    1.238"
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  Background Text: Pasaporte No.
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 56530
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    1.5"
.head 5 -  Width:  1.167"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfPasaporteR
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.583"
.head 6 -  Top:    1.488"
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Profesión u oficio
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 56529
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.15"
.head 5 -  Top:    1.44"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.321"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfProfesionR
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.083"
.head 6 -  Top:    1.488"
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Border? Yes
.head 5 -  Justify: Left
.head 5 -  Format: Uppercase
.head 5 -  Country: Default
.head 5 -  Font Name: Arial
.head 5 -  Font Size: 9
.head 5 -  Font Enhancement: None
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  Input Mask: Unformatted
.head 4 -  Message Actions
.head 3 -  Background Text: E-Mail
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 56528
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.417"
.head 5 -  Top:    1.774"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCorreoR
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.083"
.head 6 -  Top:    1.738"
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Yes
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Sexo
.data CLASSPROPSSIZE
0000: 1900
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6532000000 00
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 56540
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.95"
.head 5 -  Top:    1.036"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbSexoR
.data CLASSPROPSSIZE
0000: 1900
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6532000000 00
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatComboBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.583"
.head 5 -  Top:    0.988"
.head 5 -  Width:  2.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.262"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 +  List Initialization
.head 5 -  Text: Femenino
.head 5 -  Text: Masculino
.head 4 -  Message Actions
.head 3 -  Background Text: Direccion Domicilio
.data CLASSPROPSSIZE
0000: 1900
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D6532000000 00
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 56541
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.75"
.head 5 -  Top:    2.536"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.476"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfLugarTrabajo
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65320000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.583"
.head 6 -  Top:    1.738"
.head 6 -  Width:  2.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Yes
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 2 +  Functions
.head 3 +  Function: ActualizarEmpleado
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  !
.head 5 -  Call SqlImmediate ("SELECT
			 E.PRIMER_NOM + ' ' + E.SEGUNDO_NOM + ' ' +  E.PRIMER_APE + ' ' + E.SEGUNDO_APE
		FROM
    			EMPLEADOS E
		WHERE
			COD_EMPLEADO = :dfCodEmpleado
		INTO
			:dfNomResponde
	")
.head 5 -  Call SqlClearImmediate()
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: sDiagnostico
.head 3 -  String: sSQL
.head 3 -  Number: nRegresaEmpleado
.head 3 -  String: sPicture
.head 2 -  Message Actions
.head 1 +  Dialog Box: dlgPagos
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Registrar Pagos a Factura
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: -0.013"
.head 4 -  Top:    -0.01"
.head 4 -  Width:  13.317"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 7.393"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 1.646"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Contents
.head 4 +  Pushbutton: pbAgregar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbMas
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.186"
.head 6 -  Top:    0.073"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set pbAgregar.nOpcionh=1
.head 7 -  Set pbAgregar.hWndCampo=dfPago
.head 6 +  On SAM_Click
.head 7 -  ! Call SalSendClassMessage( SAM_Click, 0, 0 )
.head 7 -  Call LimpiarCampos()
.head 7 -  Call SalEnableWindow(pbGrabar)
.head 7 -  Set dfFechaPago=FechaHoy(2)
.head 7 -  Call SalDateToStr( dfFechaPago, FECHA_PAGO )
.head 7 -  Call SalStrLeft (FECHA_PAGO, 10, FECHA_PAGO )
.head 7 -  Call SqlPrepareAndExecute(hSql1,"
select MAXIMO+1 from  IDENTITYS  where COD_TABLA=78 into :dfRecibo")
.head 7 -  Call SqlFetchNext( hSql1, nSiguiente )
.head 7 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 +  Pushbutton: pbBorrar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbMenos
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.986"
.head 6 -  Top:    0.073"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? No
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set pbBorrar.nOpcionh=1
.head 7 -  Set pbBorrar.sTitulo=' El Pago'
.head 6 +  On SAM_Click
.head 7 -  Call SalSendClassMessage( SAM_Click, 0, 0 )
.head 7 -  Call SalSendMsg( dlgPagos, MU_ACTUALIZAR, 0, 0 )
.head 4 +  Pushbutton: pbGrabar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbGrabar
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.583"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 -  Group Box: Información de Factura
.head 5 -  Resource Id: 6410
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.483"
.head 6 -  Top:    0.74"
.head 6 -  Width:  12.5"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.75"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 -  Background Text: #Factura :
.head 5 -  Resource Id: 6411
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.75"
.head 6 -  Top:    0.948"
.head 6 -  Width:  1.733"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.226"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Center
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfFactura
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfBase
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Number
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 0.786"
.head 7 -  Top:    1.156"
.head 7 -  Width:  1.7"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Validate
.head 7 -  Call SqlExists("Select	COD_FACTURA
from	FACTURAS
where	COD_FACTURA =:dfFactura",bExists)
.head 7 -  Call SqlClearImmediate( )
.head 7 +  If bExists
.head 8 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 4 -  Background Text: Fecha Registro :
.head 5 -  Resource Id: 6412
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 2.75"
.head 6 -  Top:    0.948"
.head 6 -  Width:  1.733"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.226"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Center
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfFechaRegistro
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfFecha
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 2.786"
.head 7 -  Top:    1.156"
.head 7 -  Width:  1.7"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 -  Background Text: Fecha Cierre
.head 5 -  Resource Id: 6413
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 4.757"
.head 6 -  Top:    0.948"
.head 6 -  Width:  1.733"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.226"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Center
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfFechaCierre
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfFecha
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 4.786"
.head 7 -  Top:    1.156"
.head 7 -  Width:  1.7"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 -  Background Text: Total
.head 5 -  Resource Id: 6414
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 6.75"
.head 6 -  Top:    0.948"
.head 6 -  Width:  1.833"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Center
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfTotal
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 6.683"
.head 7 -  Top:    1.156"
.head 7 -  Width:  1.9"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 -  Background Text: Monto DEBE
.head 5 -  Resource Id: 6415
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Window Location and Size
.head 6 -  Left: 8.85"
.head 6 -  Top:    0.948"
.head 6 -  Width:  2.033"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 0.167"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Justify: Center
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 4 +  Data Field: dfDebe
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: dfNumero
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? No
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 8.786"
.head 7 -  Top:    1.156"
.head 7 -  Width:  2.1"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: Class Default
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Bold
.head 6 -  Text Color: Red
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbSalir
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 11.683"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Call SalEndDialog( dlgPagos, TRUE )
.head 4 -  Line
.head 5 -  Resource Id: 6416
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class:
.head 5 -  Coordinates
.head 6 -  Begin X:  -0.117"
.head 6 -  Begin Y:  0.655"
.head 6 -  End X:  13.083"
.head 6 -  End Y:  0.655"
.head 5 -  Visible? Yes
.head 5 -  Line Style: Solid
.head 5 -  Line Thickness: 2
.head 5 -  Line Color: Default
.head 4 +  Pushbutton: pb5
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbImprimir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 3.383"
.head 6 -  Top:    0.071"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Set srecibo = dfRecibo
.head 7 -  Set sfactura =SalNumberToStrX ( dfFactura, 0 )
.head 7 -  Call SalCreateWindow( frmImprimir, hWndForm,
"Recibo",
strRepPath || "\\RECIBO.QRP",
":s1,:dt1,:s2,:n1,:n2,:s3,:s4,:s5,:n3,:n4,:s6",
"recibide2,fecha,descripcion,monto,cod_recibo,strmonto,cheque,banco,saldoant,saldoactual,cod_partida",
"select RECIBIDE,fecha,descripcion,monto,recibo,strmonto,documento,banco,saldoant,saldoact,cod_partida from PAGOS
WHERE cod_factura = " || sfactura || " and RECIBO ='" || srecibo || "'
into	:s1,:dt1,:s2,:n1,:n2,:s3,:s4,:s5,:n3,:n4,:s6",'', FALSE)
.head 4 +  Pushbutton: pbEliminar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 2.483"
.head 6 -  Top:    0.071"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\editdelete.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  !
.head 7 +  If SalIsNull (dfPago)
.head 8 -  !
.head 8 -  Call SalMessageBox ("Debe especificar el no. de pago!", "ERROR", MB_Ok)
.head 8 -  Return FALSE
.head 7 +  If SalMessageBox( "Esta seguro de eliminar el pago #" || SalNumberToStrX(dfPago, 0) || " correspondiente a F-" || SalNumberToStrX(dfFactura,0) || "?", "Advertencia", MB_YesNo )=IDYES
.head 8 -  !
.head 8 -  Call AnularPago( )
.head 8 -  ! Call GenerarContraPartida(  )
.head 8 -  Call SalSendMsg( dlgPagos, MU_ACTUALIZAR, 0, 0 )
.head 2 +  Contents
.head 3 +  Data Field: dfRecibo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.283"
.head 6 -  Top:    0.571"
.head 6 -  Width:  1.4"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfPago
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 3.783"
.head 6 -  Top:    0.571"
.head 6 -  Width:  1.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Set dfFechaPago=FechaHoy(2)
.head 6 -  Call SalDateToStr( dfFechaPago, FECHA_PAGO )
.head 6 -  Call SalStrLeft (FECHA_PAGO, 10, FECHA_PAGO )
.head 3 +  Combo Box: cmbPago
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.85"
.head 5 -  Top:    0.595"
.head 5 -  Width:  2.4"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Yes
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbPago.nCaso=1
.head 6 -  Set cmbPago.sTabla='TIPOS_PAGO'
.head 6 -  Set cmbPago.sNombre='NOMBRE'
.head 6 -  Set cmbPago.sCodigo='COD_PAGO'
.head 3 +  Data Field: dfFechaPago
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.283"
.head 6 -  Top:    0.571"
.head 6 -  Width:  1.3"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Call SalDateToStr( dfFechaPago, FECHA_PAGO )
.head 6 -  Call SalStrLeft (FECHA_PAGO, 10, FECHA_PAGO )
.head 3 +  Data Field: dfMonto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.783"
.head 6 -  Top:    2.238"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Set dfstrMonto="*" || NumToLetras( dfMonto ) || "********"
.head 3 +  Data Field: dfRecibide
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.583"
.head 6 -  Top:    1.155"
.head 6 -  Width:  7.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfstrMonto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.583"
.head 6 -  Top:    1.405"
.head 6 -  Width:  7.914"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfDescrip
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.583"
.head 6 -  Top:    1.738"
.head 6 -  Width:  7.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfSaldoAnt
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.783"
.head 6 -  Top:    1.155"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Data Field: dfSaldoAct
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.783"
.head 6 -  Top:    1.738"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Data Field: dfDocumento
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 8.583"
.head 6 -  Top:    0.571"
.head 6 -  Width:  2.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 +  Data Field: dfBanco
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.783"
.head 6 -  Top:    0.571"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: S. Actual
.head 4 -  Resource Id: 6394
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.833"
.head 5 -  Top:    1.536"
.head 5 -  Width:  1.45"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Documento
.head 4 -  Resource Id: 6395
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.65"
.head 5 -  Top:    0.369"
.head 5 -  Width:  2.133"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Banco
.head 4 -  Resource Id: 6396
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.783"
.head 5 -  Top:    0.369"
.head 5 -  Width:  1.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: S. Anterior
.head 4 -  Resource Id: 6397
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.85"
.head 5 -  Top:    0.905"
.head 5 -  Width:  1.533"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: # de Pago
.head 4 -  Resource Id: 6398
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.85"
.head 5 -  Top:    0.369"
.head 5 -  Width:  0.933"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Recibo No.
.head 4 -  Resource Id: 6399
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.35"
.head 5 -  Top:    0.369"
.head 5 -  Width:  1.333"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Datos del Actual Pago
.head 4 -  Resource Id: 6400
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.583"
.head 5 -  Top:    0.071"
.head 5 -  Width:  12.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Por Concepto de:
.head 4 -  Resource Id: 6401
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.05"
.head 5 -  Top:    1.786"
.head 5 -  Width:  1.433"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Tipo Pago
.head 4 -  Resource Id: 6402
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.85"
.head 5 -  Top:    0.369"
.head 5 -  Width:  2.333"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Group Box: Pagos Efectuados a la Factura
.head 4 -  Resource Id: 6403
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.383"
.head 5 -  Top:    2.655"
.head 5 -  Width:  12.567"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 2.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.65"
.head 6 -  Top:    2.906"
.head 6 -  Width:  12.0"
.head 6 -  Width Editable? Yes
.head 6 -  Height: 1.604"
.head 6 -  Height Editable? Yes
.head 5 -  Visible? Yes
.head 5 -  Font Name: Default
.head 5 -  Font Size: Default
.head 5 -  Font Enhancement: Default
.head 5 -  Text Color: Default
.head 5 -  Background Color: Default
.head 5 -  View: Table
.head 5 -  Allow Row Sizing? No
.head 5 -  Lines Per Row: Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: Default
.head 5 -  Discardable? Yes
.head 4 +  Contents
.head 5 +  Column: colPago
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: #Pago
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMonto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.417"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFecha
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.55"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: dd/MM/yyyy
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colTipo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Tipo Pag.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.167"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDocumento
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: #Documento
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.783"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colRecibo
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: #Recibo
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.35"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDescrip
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripcion
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colTipo_pago
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: cod_pago
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.617"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colRecibide
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Recibi de
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colStrMonto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title:
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 +  Message Actions
.head 5 +  On SAM_DoubleClick
.head 6 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.colPago)
.head 6 -  Call SalTblSetContext(tbl1,nFilita)
.head 6 -  Set dfPago=tbl1.colPago
.head 6 -  Set dfMonto=tbl1.colMonto
.head 6 -  Set dfFechaPago=tbl1.colFecha
.head 6 -  Set cmbPago.nCodigo=tbl1.colTipo_pago
.head 6 -  Set cmbPago=tbl1.colTipo
.head 6 -  Set dfDocumento=tbl1.colDocumento
.head 6 -  Set dfDescrip=tbl1.colDescrip
.head 6 -  Set dfRecibo=tbl1.colRecibo
.head 6 -  Set dfRecibide=tbl1.colRecibide
.head 6 -  Set dfstrMonto=tbl1.colStrMonto
.head 3 +  Data Field: dfTotalPagado
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 10.286"
.head 6 -  Top:    4.573"
.head 6 -  Width:  2.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: 8
.head 5 -  Font Enhancement: Bold
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On MU_REVISAR
.head 6 -  Return TRUE
.head 3 -  Background Text: Total Pagado
.head 4 -  Resource Id: 6404
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.783"
.head 5 -  Top:    4.594"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: 8
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Fecha
.head 4 -  Resource Id: 6405
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.35"
.head 5 -  Top:    0.369"
.head 5 -  Width:  1.233"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Center
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Recibi de:
.head 4 -  Resource Id: 6406
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.483"
.head 5 -  Top:    1.179"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Monto
.head 4 -  Resource Id: 6407
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.683"
.head 5 -  Top:    2.286"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: La Cantidad de:
.head 4 -  Resource Id: 6408
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.183"
.head 5 -  Top:    1.512"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pbDepositos
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Recibo
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    0.321"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: (none)
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: None
.head 4 -  Image Style: Single
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  !
.head 6 +  If dfDebe <= 0
.head 7 -  !
.head 7 -  Call SalMessageBox ("La factura no tiene saldo, no podra efectuar pagos a la misma!", "AVISO", MB_Ok)
.head 7 -  Return FALSE
.head 6 -  !
.head 6 -  Set sRecibo=''
.head 6 -  Call SalModalDialog(dlgConsultaRecibosNuevos,hWndForm,sRecibo)
.head 6 +  If sRecibo !=''
.head 7 -  !
.head 7 -  ! ----------Revisar el monto por asignar del recibo
.head 7 -  !
.head 7 -  Call SqlPrepareAndExecute(hSql1,"select
				A.POR_ASIGNAR
			from
				RECIBOS  A
			where
				A.COD_RECIBO=:sRecibo
			into
				:xpor_asignar")
.head 7 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 7 +  If xpor_asignar <= 0
.head 8 -  Call SalMessageBox("El Recibo "|| sRecibo ||" no tiene valor por asignar, no podra efectuar el pago.","AVISO",MB_Ok)
.head 8 -  Set sRecibo=''
.head 8 -  Return FALSE
.head 7 -  !
.head 7 -  ! -----------Consultar datos del recibo
.head 7 -  !
.head 7 -  Call SqlPrepareAndExecute(hSql1,"select
				A.MONTO,
				A.FECHA,
				A.DOCUMENTO,
				A.COD_RECIBO,
				A.DESCRIPCION,
				A.COD_PAGO,
				B.NOMBRE,
				A.RECIBIDE,
				A.STRMONTO,
				A.BANCO
			from
				RECIBOS  	A,
	 			TIPOS_PAGO 	B
			where
				A.COD_RECIBO=:sRecibo AND
				A.COD_PAGO=B.COD_PAGO
			into
				:dfMonto,
				:dfFechaPago,
				:dfDocumento,
				:dfRecibo,
				:dfDescrip,
				:cmbPago.nCodigo,
				:cmbPago,
				:dfRecibide,
				:dfstrMonto,
				:dfBanco")
.head 7 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 7 -  !
.head 7 -  ! -----------------El sistema genera el nuevo numero de pago
.head 7 -  !
.head 7 -  Call SqlExists("Select
		max(NUMERO_PAGO)
	from
		PAGOS
	where
		COD_FACTURA=:dfFactura
	into
		:xno_pago",bExists)
.head 7 -  Call SqlClearImmediate( )
.head 7 +  If bExists
.head 8 -  Set xno_pago = xno_pago + 1
.head 7 +  Else
.head 8 -  Set xno_pago = 1
.head 7 -  Set dfPago = xno_pago
.head 3 -  Frame
.head 4 -  Resource Id: 6409
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.983"
.head 5 -  Top:    0.988"
.head 5 -  Width:  9.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: 3D Shadow Color
.head 4 -  Background Color: 3D Face Color
.head 3 +  Pushbutton: pbGenerarDetalle
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.483"
.head 5 -  Top:    0.321"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F2
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\abiword_abi.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  ! -----Generar el detalle
.head 6 -  Set dfDescrip = "R-" || dfRecibo ||", CANCELACION F-" || SalNumberToStrX(dfFactura, 0) || ",  PAC. " || sNomPaciente
.head 2 +  Functions
.head 3 +  Function: ActualizarDebe
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: PAG
.head 4 +  Actions
.head 5 -  ! Call SqlPrepareAndExecute(hSql1,"
select 	sum(monto) from PAGOS where cod_factura=:dfFactura
 into :PAGADO ")

.head 5 -  Set PAGADO=dfTotalPagado+dfMonto
.head 5 -  Set PAG=dfTotalPagado+dfMonto
.head 5 +  If dfTotal-PAGADO<=0
.head 6 -  Set ESTADO=1
.head 5 +  Else
.head 6 -  Set ESTADO=0
.head 5 -  Set PAGADO=dfTotal-PAGADO
.head 5 +  If not SqlPrepareAndExecute(hSql1,"
update FACTURAS set MONTO_DEBE=:PAGADO, ESTADO_PAGO=:ESTADO,
MONTO_PAGADO=:PAG where
cod_factura=:dfFactura")
.head 6 -  Return FALSE
.head 5 -  Return TRUE
.head 3 +  Function: LimpiarCampos
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Set dfPago=NUMBER_Null
.head 5 -  Set dfMonto=NUMBER_Null
.head 5 -  Set dfFechaPago=DATETIME_Null
.head 5 -  Set cmbPago=''
.head 5 -  Set dfDocumento=''
.head 5 -  Set dfRecibo=''
.head 5 -  Set dfDescrip=''
.head 5 -  Set dfRecibide=''
.head 5 -  Set dfstrMonto=''
.head 3 +  Function: GenerarPartida
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nCorrelativo
.head 5 -  Boolean: bExistePartida
.head 4 +  Actions
.head 5 -  Set sRegresa='PREC' || dfRecibo
.head 5 -  !
.head 5 -  ! --------------------Esto para el caso en que de un mismo recibo (PREC) se paguen multiples facturas
!-----------------------El header de la partida no debe re-insertarse
.head 5 -  Call SqlExists ( "SELECT COD_PARTIDA FROM PARTIDAS WHERE COD_PARTIDA = :sRegresa", bExistePartida)
.head 5 +  If not bExistePartida
.head 6 -  !
.head 6 -  Call SqlPrepareAndExecute(hSql1,"insert INTO PARTIDAS (
				COD_PARTIDA,
				DESCRIPCION,
				FECHA,
				COD_TIPO,
				TOTAL_CARGO,
				TOTAL_DEBITO,
				ESTADO,
				SUMARIZADA,
				CERRADA)
			values(
				:sRegresa,
				:dfDescrip ,
				:dfFechaPago,
				10,
				:dfMonto,
				:dfMonto,
				0,
				0,
				0
)")
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  !
.head 5 -  ! ----Detalle de cuentas de la partida
.head 5 -  Set nCorrelativo =  Identity(2)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"insert into
			DET_PARTIDAS (
				COD_PARTIDA ,
				COD_CUENTA,
				NOMBRE,
				CREDITO,
				CONCEPTO,
				CORRELATIVO)
			values(
				:sRegresa,
				'113-10',
				'CLIENTES',
				:dfMonto,
				:dfDescrip,
				:nCorrelativo
)")
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  !
.head 5 -  Set nCorrelativo =  Identity(2)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"insert into
			DET_PARTIDAS (
				COD_PARTIDA ,
				COD_CUENTA,
				NOMBRE,
				CARGO,
				CONCEPTO,
				CORRELATIVO)
			values(
				:sRegresa,
				'111-01',
				'CAJA GENERAL',
				:dfMonto,
				:dfDescrip,
				:nCorrelativo
)")
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  Return TRUE
.head 3 +  Function: GenerarContraPartida
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: nCorrelativo
.head 5 -  Boolean: bExistePartida
.head 5 -  String: sCodCuenta
.head 5 -  String: sNombreCuenta
.head 4 +  Actions
.head 5 -  Set sRegresa='PPAGOC-F' || SalNumberToStrX( dfFactura,0)
.head 5 -  !
.head 5 -  Call SqlExists ( "SELECT COD_PARTIDA FROM PARTIDAS WHERE COD_PARTIDA = :sRegresa", bExistePartida)
.head 5 +  If not bExistePartida
.head 6 -  !
.head 6 -  Call SqlPrepareAndExecute(hSql1,"
			insert
				INTO PARTIDAS (
					COD_PARTIDA,
					DESCRIPCION,
					FECHA,
					COD_TIPO,
					TOTAL_CARGO,
					TOTAL_DEBITO,
					ESTADO,
					SUMARIZADA,
					CERRADA
					)
				values
					(:sRegresa,
					'Contrapartida generada por Anulacion de Pago ' ,
					:dfFechaPago,
					11,
					:dfMonto,
					:dfMonto,
					0,
					0,
					0)
")
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  !
.head 5 -  ! ----Detalle de cuentas de la partida
.head 5 -  Set nCorrelativo =  Identity(2)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"insert into
			DET_PARTIDAS (
				COD_PARTIDA ,
				COD_CUENTA,
				NOMBRE,
				CARGO,
				CONCEPTO,
				CORRELATIVO)
			values(
				:sRegresa,
				'113-10',
				'CLIENTES',
				:dfMonto,
				'Anulacion de pago a factura',
				:nCorrelativo
)")
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  !
.head 5 -  Set nCorrelativo =  Identity(2)
.head 5 +  If cmbPago.nCodigo != 4
.head 6 -  !
.head 6 -  Set sCodCuenta = '111-01'
.head 6 -  Set sNombreCuenta = 'CAJA GENERAL'
.head 5 +  Else
.head 6 -  !
.head 6 -  Set sCodCuenta = '421'
.head 6 -  Set sNombreCuenta ='DESCUENTO DE PACIENTES'
.head 5 -  !
.head 5 -  Call SqlPrepareAndExecute(hSql1,"insert into
			DET_PARTIDAS (
				COD_PARTIDA ,
				COD_CUENTA,
				NOMBRE,
				CREDITO,
				CONCEPTO,
				CORRELATIVO)
			values(
				:sRegresa,
				:sCodCuenta,
				:sNombreCuenta,
				:dfMonto,
				'Anulacion de pago a factura',
				:nCorrelativo
)")
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  !
.head 3 +  Function: GenerarSoloHaber
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 -  Actions
.head 3 +  Function: AnularPago
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: DEBE
.head 4 +  Actions
.head 5 -  !
.head 5 -  ! -------------Eliminar el pago
.head 5 -  !
.head 5 -  Call SqlPrepareAndExecute(hSql1,"BEGIN TRAN")
.head 5 -  Call SqlPrepareAndExecute(hSql1,"DELETE
				FROM
					PAGOS
				WHERE
					NUMERO_PAGO = :dfPago AND
					COD_FACTURA   = :dfFactura")
.head 5 -  !
.head 5 -  ! -------------Actualizar el debe de la factura
.head 5 -  !
.head 5 -  Set PAGADO=dfTotalPagado - dfMonto
.head 5 -  Set DEBE = dfTotal-PAGADO
.head 5 +  If DEBE > 0
.head 6 -  Set ESTADO=0
.head 5 +  Else
.head 6 -  Set ESTADO=1
.head 5 -  Call SqlPrepareAndExecute(hSql1," UPDATE
					FACTURAS
				SET
					MONTO_DEBE	=MONTO_DEBE + :dfMonto,
					ESTADO_PAGO	=:ESTADO,
					MONTO_PAGADO	=MONTO_PAGADO - :dfMonto
				WHERE
					COD_FACTURA	=:dfFactura")
.head 5 -  !
.head 5 -  ! -------------Actualizar el monto por asignar del recibo(excepto cuando es nota de credito)
.head 5 -  !
.head 5 +  If cmbPago.nCodigo != 4
.head 6 -  !
.head 6 -  Call SqlPrepareAndExecute(hSql1,"update
					RECIBOS
				set
					POR_ASIGNAR 		= POR_ASIGNAR + :dfMonto,
					FACTURAS_AFECTADAS	=FACTURAS_AFECTADAS - 1
				where
					COD_RECIBO 		=:dfRecibo")
.head 5 -  Call SqlPrepareAndExecute(hSql1,"COMMIT TRAN")
.head 2 +  Window Parameters
.head 3 -  Number: pFactura
.head 3 -  Date/Time: pFechaRegistro
.head 3 -  Date/Time: pFechaCierre
.head 3 -  Number: pTotal
.head 3 -  Number: pDebe
.head 3 -  String: sNomPaciente
.head 2 +  Window Variables
.head 3 -  String: FECHA_PAGO
.head 3 -  Number: PAGADO
.head 3 -  Number: ESTADO
.head 3 -  Number: nFilita
.head 3 -  String: sRegresa
.head 3 -  String: sSql
.head 3 -  Number: nMaximo
.head 3 -  String: srecibo
.head 3 -  String: sfactura
.head 3 -  Number: max_en_tabla
.head 3 -  String: sRecibo
.head 3 -  String: misql
.head 3 -  Number: Total_Recibo_Previo
.head 3 -  String: Str_Total_Recibo_Previo
.head 3 -  Number: xno_pago
.head 3 -  Number: xpor_asignar
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  Set dfFactura=pFactura
.head 4 -  Set dfFechaRegistro=pFechaRegistro
.head 4 -  Set dfFechaCierre=pFechaCierre
.head 4 -  Set dfTotal=pTotal
.head 4 -  Set dfDebe=pDebe
.head 4 -  Call SalSendMsg( hWndForm, MU_ACTUALIZAR, 0, 0 )
.head 4 -  Call SalBringWindowToTop (dlgPagos)
.head 3 +  On MU_ACTUALIZAR
.head 4 -  Call SalTblPopulate(tbl1,hSql1,"
select
	A.NUMERO_PAGO,
	A.MONTO,
              	convert(varchar(10) ,A.FECHA,103),
	B.NOMBRE,
                A.DOCUMENTO,
	A.RECIBO,
	A.DESCRIPCION,
	A.COD_PAGO,
	A.RECIBIDE,
	A.STRMONTO
               
from	 PAGOS  A,
	 TIPOS_PAGO B

where
	A.COD_PAGO	=B.COD_PAGO AND
	A.COD_FACTURA	=:dfFactura
 order by
	A.FECHA",TBL_FillAll)
.head 4 -  ! Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 -  Set dfTotalPagado=SalTblColumnSum(tbl1,2 ,0,0)
.head 4 -  Set dfDebe=dfTotal-dfTotalPagado
.head 3 +  On MU_BORRAR
.head 4 -  ! Call SqlPrepareAndExecute(hSql1,"Begin Tran")
.head 4 -  ! Call SqlPrepareAndExecute(hSql1,"
	delete from	Pagos
	where	numero_pago  =:dfPago and  cod_factura =:dfFactura ")



.head 4 -  ! Set PAGADO=dfTotalPagado-dfMonto
.head 4 +  ! If dfTotal-PAGADO<=0
.head 5 -  Set ESTADO=1
.head 4 +  ! Else
.head 5 -  Set ESTADO=0
.head 4 -  ! Set PAGADO=dfTotal-PAGADO
.head 4 -  ! Call SqlPrepareAndExecute(hSql1,"
update FACTURAS set MONTO_DEBE=:PAGADO, ESTADO_PAGO=:ESTADO where
cod_factura=:dfFactura")
.head 4 -  ! Call SqlPrepareAndExecute(hSql1,"commit Tran")
.head 4 -  ! Call GenerarContraPartida(  )
.head 4 -  Call SalMessageBox( "Consulte al encargado de sistemas", "Advertencia", MB_Ok )
.head 4 -  ! Call SalEnableWindow(pbGrabar)
.head 3 +  On MU_GRABAR
.head 4 -  Call SqlExists("Select	NUMERO_PAGO
from   PAGOS
where	NUMERO_PAGO =:dfPago and COD_FACTURA=:dfFactura ",bExists)
.head 4 -  Call SqlClearImmediate( )
.head 4 -  Call SalDateToStr( dfFechaPago, FECHA_PAGO )
.head 4 -  Call SalStrLeft (FECHA_PAGO, 10, FECHA_PAGO )
.head 4 +  If bExists
.head 5 -  ! No se debe poder modificar un recibo ya guardado
.head 5 -  Call SalMessageBox("El pago no puede ser modificado","Advertencia",MB_Ok)
.head 5 +  ! If not SqlPrepareAndExecute(hSql1,"
update	PAGOS
	set
                FECHA=:FECHA_PAGO,
	DESCRIPCION =:dfDescrip,
	MONTO =:dfMonto,
	RECIBO=:dfRecibo,
	DOCUMENTO =:dfDocumento,
	COD_PAGO =:cmbPago.nCodigo


where	NUMERO_PAGO =:dfPago and COD_FACTURA=:dfFactura ")  or not
ActualizarDebe()


.head 6 -  Call SqlPrepareAndExecute(hSql1,"rollback")
.head 5 +  ! Else
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 4 +  Else
.head 5 -  Call SqlPrepareAndExecute(hSql1,"
select MAXIMO from  IDENTITYS  where COD_TABLA=78 into :max_en_tabla")
.head 5 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  Call SalMessageBox(SalNumberToStrX(max_en_tabla,0),'maximo en tabla',MB_Ok)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"Begin Tran")
.head 5 +  If SqlPrepareAndExecute(hSql1,"
insert 	PAGOS  ( NUMERO_PAGO,
	COD_FACTURA,
	FECHA,
	DESCRIPCION,
	MONTO,
	RECIBO,
	DOCUMENTO,
	COD_PAGO,recibide,strmonto,banco,saldoant,saldoact,cod_partida

	 )
values(
	:dfPago,
	:dfFactura,
	:FECHA_PAGO,
	:dfDescrip,
	:dfMonto,
	:dfRecibo,
	:dfDocumento,
	:cmbPago.nCodigo,:dfRecibide,:dfstrMonto,:dfBanco,:dfSaldoAnt,:dfSaldoAct,
               'PREC" ||dfRecibo || "'
               )")
.head 6 +  If ActualizarDebe()
.head 7 -  Call GenerarPartida()
.head 7 -  Call SqlPrepareAndExecute(hSql1,"update RECIBOS set POR_ASIGNAR = POR_ASIGNAR - :dfMonto, FACTURAS_AFECTADAS=FACTURAS_AFECTADAS + 1 where COD_RECIBO =:dfRecibo")
.head 7 -  Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 7 -  ! ! ! Set nMaximo = SalStrToNumber( dfRecibo )
.head 7 -  ! Verificar si el numero de recibo a grabar es mayor al maximo existente
.head 7 +  ! If nMaximo > max_en_tabla
.head 8 -  Call SqlPrepareAndExecute(hSql1,"update identitys set maximo=:nMaximo where cod_tabla =78")
.head 7 -  ! Call SqlPrepareAndExecute(hSql1,"commit tran")
.head 7 -  ! Obtener el total si existia del recibo previo factura
.head 7 -  ! Call SqlExists("Select MONTO from   PAGOS
where RECIBO=:dfRecibo and COD_FACTURA=:-999 into :Total_Recibo_Previo",bExists)
.head 7 -  ! Call SqlClearImmediate(  )
.head 7 +  ! If bExists
.head 8 -  Set Str_Total_Recibo_Previo = SalNumberToStrX(Total_Recibo_Previo,2)
.head 8 -  Call SalMessageBox(Str_Total_Recibo_Previo,'Total recibo previo este registro',MB_Ok)
.head 8 -  Set Total_Recibo_Previo = Total_Recibo_Previo - dfMonto
.head 8 -  Set misql = "update pagos set monto =:Total_Recibo_Previo where recibo =:dfRecibo and cod_factura=-999"
.head 8 -  Call SqlPrepareAndExecute(hSql1,misql)
.head 8 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 8 -  Set Str_Total_Recibo_Previo = SalNumberToStrX(Total_Recibo_Previo,2)
.head 8 -  Call SalMessageBox(Str_Total_Recibo_Previo,'Total recibo luego del registro',MB_Ok)
.head 6 +  Else
.head 7 -  Call SalMessageBox( 'Hubo un error al Registrar el Pago', 'Error', MB_Ok )
.head 1 +  Form Window: frmEmpresas
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Mantenimiento de Empresas
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? No
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? No
.head 3 -  Window Location and Size
.head 4 -  Left: 1.9"
.head 4 -  Top:    0.979"
.head 4 -  Width:  11.817"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 4.393"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Left
.head 4 -  Visible? Yes
.head 4 -  Size: 3.883"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Gray
.head 3 +  Contents
.head 4 +  Data Field: dfNombreB
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatDataField
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Data
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Editable? Class Default
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 0.083"
.head 7 -  Top:    0.143"
.head 7 -  Width:  3.1"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 0.25"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Border? Class Default
.head 6 -  Justify: Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  Input Mask: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pbBuscarDetalle
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: ...
.head 5 -  Window Location and Size
.head 6 -  Left: 3.283"
.head 6 -  Top:    0.143"
.head 6 -  Width:  0.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Set sSearchSQL = GetSearchSQL()
.head 7 -  Call SalTblPopulate( tbl1, hSql1, sSearchSQL,  TBL_FillAll)
.head 4 +  Pushbutton: pbOcultar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title: << Ocultar
.head 5 -  Window Location and Size
.head 6 -  Left: 2.717"
.head 6 -  Top:    3.25"
.head 6 -  Width:  1.067"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Call SalTBarSetVisible( hWndForm, FALSE )
.head 4 +  Child Table: tbl1
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatChildTable
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Display Settings
.head 6 -  Window Location and Size
.head 7 -  Left: 0.083"
.head 7 -  Top:    0.405"
.head 7 -  Width:  3.7"
.head 7 -  Width Editable? Class Default
.head 7 -  Height: 2.833"
.head 7 -  Height Editable? Class Default
.head 6 -  Visible? Class Default
.head 6 -  Font Name: Class Default
.head 6 -  Font Size: Class Default
.head 6 -  Font Enhancement: Class Default
.head 6 -  Text Color: Class Default
.head 6 -  Background Color: Class Default
.head 6 -  View: Class Default
.head 6 -  Allow Row Sizing? Class Default
.head 6 -  Lines Per Row: Class Default
.head 5 -  Memory Settings
.head 6 -  Maximum Rows in Memory: Class Default
.head 6 -  Discardable? Class Default
.head 5 +  Contents
.head 6 +  Column: colCodigo
.head 7 -  Class Child Ref Key: 0
.head 7 -  Class ChildKey: 0
.head 7 -  Class:
.head 7 -  Property Template:
.head 7 -  Class DLL Name:
.head 7 -  Title:
.head 7 -  Visible? No
.head 7 -  Editable? Yes
.head 7 -  Maximum Data Length: Default
.head 7 -  Data Type: Number
.head 7 -  Justify: Left
.head 7 -  Width:  Default
.head 7 -  Width Editable? Yes
.head 7 -  Format: Unformatted
.head 7 -  Country: Default
.head 7 -  Input Mask: Unformatted
.head 7 -  Cell Options
.head 8 -  Cell Type? Standard
.head 8 -  Multiline Cell? No
.head 8 -  Cell DropDownList
.head 9 -  Sorted? Yes
.head 9 -  Vertical Scroll? Yes
.head 9 -  Auto Drop Down? No
.head 9 -  Allow Text Editing? Yes
.head 8 -  Cell CheckBox
.head 9 -  Check Value:
.head 9 -  Uncheck Value:
.head 9 -  Ignore Case? Yes
.head 7 -  List Values
.head 7 -  Message Actions
.head 6 +  Column: colEmpresa
.head 7 -  Class Child Ref Key: 0
.head 7 -  Class ChildKey: 0
.head 7 -  Class:
.head 7 -  Property Template:
.head 7 -  Class DLL Name:
.head 7 -  Title: Empresa
.head 7 -  Visible? Yes
.head 7 -  Editable? Yes
.head 7 -  Maximum Data Length: Default
.head 7 -  Data Type: String
.head 7 -  Justify: Left
.head 7 -  Width:  2.933"
.head 7 -  Width Editable? Yes
.head 7 -  Format: Unformatted
.head 7 -  Country: Default
.head 7 -  Input Mask: Unformatted
.head 7 -  Cell Options
.head 8 -  Cell Type? Standard
.head 8 -  Multiline Cell? No
.head 8 -  Cell DropDownList
.head 9 -  Sorted? Yes
.head 9 -  Vertical Scroll? Yes
.head 9 -  Auto Drop Down? No
.head 9 -  Allow Text Editing? Yes
.head 8 -  Cell CheckBox
.head 9 -  Check Value:
.head 9 -  Uncheck Value:
.head 9 -  Ignore Case? Yes
.head 7 -  List Values
.head 7 -  Message Actions
.head 5 -  Functions
.head 5 -  Window Variables
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Call LoadData(tbl1.colCodigo)
.head 7 -  Set bIsNew = FALSE
.head 2 +  Contents
.head 3 -  Background Text: Código:
.head 4 -  Resource Id: 38628
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.483"
.head 5 -  Top:    0.762"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfCodigo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.183"
.head 6 -  Top:    0.738"
.head 6 -  Width:  1.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Set bIsNew = not LoadData(dfCodigo)
.head 3 -  Background Text: Nombre:
.head 4 -  Resource Id: 38629
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.45"
.head 5 -  Top:    1.119"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Dirección:
.head 4 -  Resource Id: 38630
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.417"
.head 5 -  Top:    1.643"
.head 5 -  Width:  0.867"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfNombre
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: String
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.183"
.head 6 -  Top:    1.071"
.head 6 -  Width:  5.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Multiline Field: mlDireccion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatMultilineField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  String Type: String
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Border? Class Default
.head 5 -  Word Wrap? Class Default
.head 5 -  Vertical Scroll? Class Default
.head 5 -  Window Location and Size
.head 6 -  Left: 0.383"
.head 6 -  Top:    1.821"
.head 6 -  Width:  6.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 1.0"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Estado:
.head 4 -  Resource Id: 38631
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.75"
.head 5 -  Top:    0.786"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 38634
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    -0.012"
.head 5 -  Width:  7.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.667"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Round
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 +  Pushbutton: pb6
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbSalir
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.05"
.head 5 -  Top:    0.06"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbAgregar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbMas
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.35"
.head 5 -  Top:    0.06"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filenew.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set pbAgregar.nOpcionh = 1
.head 6 -  Set pbAgregar.hWndCampo = dfCodigo
.head 5 +  On SAM_Click
.head 6 -  Call SalSendClassMessage( SAM_Click, 0, 0 )
.head 6 -  Set dfCodigo = GetNextId()
.head 6 -  Set bIsNew = TRUE
.head 6 -  Call SalSetWindowText( pbEstatus, 'ACTIVA')
.head 3 +  Pushbutton: pbGrabar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbGrabar
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.15"
.head 5 -  Top:    0.06"
.head 5 -  Width:  0.85"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filesave.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If bIsNew
.head 7 +  If SqlPrepareAndExecute(hSql1, sInsertSQL)
.head 8 -  Call SqlPrepareAndExecute(hSql1, "COMMIT")
.head 8 -  Call SalMessageBox( "Datos salvados con exito", "Hospital BETESDA", MB_Ok )
.head 7 +  Else
.head 8 -  Call SqlPrepareAndExecute(hSql1, "ROLLBACK")
.head 6 +  Else
.head 7 +  If SqlPrepareAndExecute(hSql1, sUpdateSQL)
.head 8 -  Call SqlPrepareAndExecute(hSql1, "COMMIT")
.head 8 -  Call SalMessageBox( "Datos salvados con exito", "Hospital BETESDA", MB_Ok )
.head 7 +  Else
.head 8 -  Call SqlPrepareAndExecute(hSql1, "ROLLBACK")
.head 3 +  Pushbutton: pbBuscar
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.05"
.head 5 -  Top:    0.06"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalTBarSetVisible( hWndForm, TRUE )
.head 6 -  Call SalSetFocus( dfNombreB )
.head 3 -  Background Text: Telefonos:
.head 4 -  Resource Id: 64113
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    1.369"
.head 5 -  Width:  0.867"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTelefonos
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatDataField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: String
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.183"
.head 6 -  Top:    1.321"
.head 6 -  Width:  5.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.25"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbEstatus
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.483"
.head 5 -  Top:    0.738"
.head 5 -  Width:  2.5"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 +  If bIsNew 
.head 7 -  Return FALSE
.head 6 -  Set sEstado = "Inactivar"
.head 6 +  If nEstado = 0
.head 7 -  Set sEstado = "Activar"
.head 6 +  If SalMessageBox( "Desea " || sEstado || " la empresa: " || dfNombre, "Cambiar estado empresa", MB_YesNo | MB_IconQuestion ) = IDYES
.head 7 +  If SqlPrepareAndExecute(hSql1, sInactiveSQL)
.head 8 -  Call SqlPrepareAndExecute(hSql1, "COMMIT")
.head 8 -  Call LoadData(dfCodigo)
.head 7 +  Else
.head 8 -  Call SqlPrepareAndExecute(hSql1, "ROLLBACK")
.head 2 +  Functions
.head 3 +  Function: GetSearchSQL
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sSQL
.head 4 +  Actions
.head 5 -  Set sSQL = "SELECT COD_EMPRESA, NOMBRE FROM EMPRESAS "
.head 5 +  If not SalIsNull(dfNombreB)
.head 6 -  Set sSQL = sSQL || " WHERE NOMBRE LIKE '%" || dfNombreB || "%' "
.head 5 -  Set sSQL = sSQL || " ORDER BY NOMBRE "
.head 5 -  Return sSQL
.head 3 +  Function: LoadData
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Boolean:
.head 4 +  Parameters
.head 5 -  Number: nCodigo
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sSQL
.head 4 +  Actions
.head 5 -  Set sSQL = "
	SELECT 
	    COD_EMPRESA,
	    NOMBRE,
	    ESTADO,
	    DIRECCION,
	    TELEFONOS
	INTO
	    :dfCodigo,
	    :dfNombre,
	    :nEstado,
	    :mlDireccion,
	    :dfTelefonos
	FROM
	    EMPRESAS
	WHERE
	    COD_EMPRESA = :nCodigo"
.head 5 -  Call SqlPrepareAndExecute( hSql1,  sSQL )
.head 5 -  Call SqlFetchNext( hSql1, nSiguiente )
.head 5 -  Call SalSetWindowText( pbEstatus, 'INACTIVA')
.head 5 +  If nEstado = 1
.head 6 -  Call SalSetWindowText( pbEstatus, 'ACTIVA')
.head 5 +  If nEstado = NUMBER_Null
.head 6 -  Return FALSE
.head 5 +  Else
.head 6 -  Return TRUE
.head 3 +  Function: GetNextId
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  Number:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sSQL
.head 5 -  Number: nSequence
.head 4 +  Actions
.head 5 -  Set sSQL = "
	SELECT 
	    ISNULL(MAX(COD_EMPRESA)+1,1) 
	INTO
	    :nSequence
	FROM 
	    EMPRESAS"
.head 5 -  Call SqlPrepareAndExecute( hSql1, sSQL )
.head 5 -  Call SqlFetchNext( hSql1, nSiguiente )
.head 5 -  Return nSequence
.head 3 +  Function: CheckIfExists
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 -  Actions
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: sSearchSQL
.head 3 -  String: sInsertSQL
.head 3 -  String: sUpdateSQL
.head 3 -  String: sInactiveSQL
.head 3 -  Boolean: bIsNew
.head 3 -  Number: nEstado
.head 3 -  String: sEstado
.head 2 +  Message Actions
.head 3 +  On SAM_Create
.head 4 -  !
.head 4 -  Call SalCenterWindow( hWndForm )
.head 3 +  On SAM_CreateComplete
.head 4 -  Set sSearchSQL = GetSearchSQL()
.head 4 -  Call SalTblPopulate( tbl1, hSql1, sSearchSQL,  TBL_FillAll)
.head 4 -  Set bIsNew = TRUE
.head 4 -  Set sInsertSQL = "
	INSERT INTO EMPRESAS(	COD_EMPRESA, NOMBRE,TELEFONOS,DIRECCION,ESTADO)
			VALUES(	:dfCodigo, :dfNombre, :dfTelefonos, :mlDireccion,1)"
.head 4 -  Set sUpdateSQL = "
	UPDATE EMPRESAS SET
		NOMBRE = :dfNombre,
		TELEFONOS = :dfTelefonos,
		DIRECCION = :mlDireccion
	WHERE
		COD_EMPRESA = :dfCodigo"
.head 4 -  Set sInactiveSQL = "
	UPDATE EMPRESAS SET
		ESTADO = (:nEstado - 1) * -1
	WHERE
		COD_EMPRESA = :dfCodigo"
.head 3 +  ! On MU_GRABAR
.head 4 -  Call SalSendClassMessage( MU_GRABAR, 0, 0 )
.head 3 +  On MU_ACTUALIZAR
.head 4 -  Call LoadData(dfCodigo)
.head 1 +  Form Window: frmNotaCredito
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Módulo de Notas de Crédito
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? Yes
.head 2 -  Visible? No
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  17.083"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 9.012"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: System Window Color
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.738"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Charcoal
.head 3 +  Contents
.head 4 +  Pushbutton: pbBuscar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbBusqueda
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.867"
.head 6 -  Top:    0.119"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Set sTransferencia=''
.head 7 -  Call SalModalDialog(dlgConsultaTransferencias,hWndForm,sTransferencia)
.head 7 +  If sTransferencia != ''
.head 8 -  Set dfTransferencia = sTransferencia
.head 8 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 4 +  Pushbutton: pbAgregar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbMas
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 0.267"
.head 6 -  Top:    0.119"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filenew.bmp
.head 5 -  Picture Transparent Color: Black
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Create
.head 7 -  Set pbAgregar.nOpcionh=1
.head 6 +  On SAM_Click
.head 7 -  Call SalTblReset(tbl1)
.head 7 -  Call SalTblReset(tbl2)
.head 7 -  Call LimpiarCampos()
.head 7 -  Call SalEnableWindow(pbGrabar)
.head 7 -  Set dfFecha=FechaHoy(2)
.head 7 -  Call SalDateToStr( dfFecha, FECHA_PAGO )
.head 7 -  Call SalStrLeft (FECHA_PAGO, 10, FECHA_PAGO )
.head 7 -  ! !
.head 7 -  Call SalListSetSelect (cmbBanco,1)	
.head 7 -  Call SalSetFocus( dfTransferencia )
.head 4 +  Pushbutton: pbGrabar
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbGrabar
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 1.067"
.head 6 -  Top:    0.119"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\filesave.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pb7
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: pbSalir
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 12.283"
.head 6 -  Top:    0.155"
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name:
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Message Actions
.head 4 +  Pushbutton: pb8
.head 5 -  Class Child Ref Key: 0
.head 5 -  Class ChildKey: 0
.head 5 -  Class: cFlatPushbutton
.head 5 -  Property Template:
.head 5 -  Class DLL Name:
.head 5 -  Title:
.head 5 -  Window Location and Size
.head 6 -  Left: 2.683"
.head 6 -  Top:    0.119"
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.5"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Keyboard Accelerator: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Picture File Name: C:\Centura\Bitmaps\v2\report.bmp
.head 5 -  Picture Transparent Color: Class Default
.head 5 -  Image Style: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 +  Message Actions
.head 6 +  On SAM_Click
.head 7 -  Call SalCreateWindow( frmNotasCreditoReporte, hWndForm )
.head 2 +  Contents
.head 3 +  Data Field: dfTransferencia
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: String
.head 5 -  Editable? Yes
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.867"
.head 6 -  Top:    0.286"
.head 6 -  Width:  2.317"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Call SalSendMsg(hWndForm,MU_ACTUALIZAR,0,0)
.head 3 +  Data Field: dfFecha
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.267"
.head 6 -  Top:    0.286"
.head 6 -  Width:  1.717"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: dd/MM/yyyy
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Validate
.head 6 -  Call SalDateToStr( dfFecha, FECHA_PAGO )
.head 6 -  Call SalStrLeft (FECHA_PAGO, 10, FECHA_PAGO )
.head 3 +  Combo Box: cmbBanco
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.883"
.head 5 -  Top:    0.571"
.head 5 -  Width:  5.117"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 3.667"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Yes
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbBanco.nCaso=1
.head 6 -  Set cmbBanco.sTabla='BANCOS'
.head 6 -  Set cmbBanco.sNombre='NOMBRE'
.head 6 -  Set cmbBanco.sCodigo='COD_BANCO'
.head 3 +  Data Field: dfMonto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Number
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 7.983"
.head 6 -  Top:    0.536"
.head 6 -  Width:  1.9"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ########000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Multiline Field: mlDescripcion
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatMultilineField
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: 1000
.head 5 -  String Type: String
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Border? Class Default
.head 5 -  Word Wrap? Yes
.head 5 -  Vertical Scroll? Yes
.head 5 -  Window Location and Size
.head 6 -  Left: 1.883"
.head 6 -  Top:    0.905"
.head 6 -  Width:  11.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 0.583"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pbAgregarFactura
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbChAgregarChiquito
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.583"
.head 5 -  Top:    1.655"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\edit_add15.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  ! Inicializar las variables de instancia del boton
.head 6 -  Set pbAgregarFactura.hWndFila=tbl1.colFactura
.head 6 -  Set pbAgregarFactura.hWndTabla=tbl1
.head 5 +  On SAM_Click
.head 6 -  Call SalSendClassMessage(SAM_Click,0,0)
.head 3 +  Pushbutton: pbBorrarFactura
.data CLASSPROPSSIZE
0000: 1E00
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000D00 7461625365727669 63696F730000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbChBorrarChiquito
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.183"
.head 5 -  Top:    1.655"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\edit_remove15.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set pbBorrarFactura.hWndFila=tbl1.colFactura
.head 6 -  Set pbBorrarFactura.hWndTabla=tbl1
.head 6 -  ! Call TotalAbonos()
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: MyChildTable
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.183"
.head 6 -  Top:    2.071"
.head 6 -  Width:  15.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 3.0"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: Class Default
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colFactura
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: # Fact
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 -  !
.head 8 -  Call CargarDatosFact()
.head 8 -  Call SetTotalNC(  )
.head 5 +  Column: colCodigoNC
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Código NC
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colHon
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Hon?
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Center
.head 6 -  Width:  0.543"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMontoFact
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Mont Fac.
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.917"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: #####000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colHonorarios
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Mont Hon
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.917"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: #####000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colTotal
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Gran Total
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.0"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMontoDebe
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Debe Fac
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.914"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDebeHon
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Debe Hon.
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.943"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ########000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colNC
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: NC
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.433"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: #####000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 +  Message Actions
.head 7 +  On SAM_Validate
.head 8 +  If tbl1.colHon = 'N'
.head 9 +  If tbl1.colNC > tbl1.colMontoDebe 
.head 10 -  Set tbl1.colNC = tbl1.colMontoDebe
.head 10 -  Call SalMessageBox( 'El valor de la nota de crédito debe ser menor que ' || SalNumberToStrX( tbl1.colMontoDebe,2) , 'Hospital BETESDA', 0 )
.head 8 +  Else
.head 9 +  If tbl1.colNC > tbl1.colDebeHon
.head 10 -  Set tbl1.colNC = tbl1.colDebeHon 
.head 10 -  Call SalMessageBox( 'El valor de la nota de crédito debe ser menor que ' || SalNumberToStrX( tbl1.colDebeHon,2) , 'Hospital BETESDA', 0 )
.head 8 -  Call SetTotalNC()
.head 5 +  Column: colPago
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: # Pag
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.583"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colTotalPagado
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Total pagado
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: #####000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDescripcion
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripción NC
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.55"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMedico
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Medico
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.586"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colCorrel
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Correl
.head 6 -  Visible? No
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 +  Window Variables
.head 5 -  Number: nFilita
.head 4 +  Message Actions
.head 5 +  On SAM_RowSetContext
.head 6 -  ! Call CargarDatos()
.head 5 +  On SAM_Click
.head 6 -  Call CargarDatos()
.head 3 +  Child Table: tbl2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: MyChildTable
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.183"
.head 6 -  Top:    5.738"
.head 6 -  Width:  15.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 1.619"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: Class Default
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colCorrel
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Correl
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.714"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFactura
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: #Factura
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.029"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMedico
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Medico
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  4.233"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colTotal
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto Total
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.143"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMontoDebe
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto Debe
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.229"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDescrip
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripción
.head 6 -  Visible? Class Default
.head 6 -  Editable? No
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  5.617"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 +  Message Actions
.head 5 +  On SAM_DoubleClick
.head 6 -  Call PasarHon()
.head 3 -  Background Text: Banco:
.head 4 -  Resource Id: 40226
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.117"
.head 5 -  Top:    0.571"
.head 5 -  Width:  0.667"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.226"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Fecha
.head 4 -  Resource Id: 40227
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.65"
.head 5 -  Top:    0.321"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Descripción:
.head 4 -  Resource Id: 40228
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.817"
.head 5 -  Top:    0.881"
.head 5 -  Width:  1.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Pushbutton: pb6
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title: Adicionar todos los honorarios de esta factura
.head 4 -  Window Location and Size
.head 5 -  Left: 1.483"
.head 5 -  Top:    5.321"
.head 5 -  Width:  4.0"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.302"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalTblSetContext(tbl2,0)
.head 6 -  Set xvar =0
.head 6 +  If tbl2.colMontoDebe > 0
.head 7 -  Call SalTblSetFocusCell( tbl1, SalTblInsertRow( tbl1, TBL_MaxRow ), xfilas, 0, 1 )
.head 7 -  Call PasarHon()
.head 6 +  While SalTblFindNextRow(tbl2,xvar,0,0)
.head 7 -  Call SalTblSetContext(tbl2,xvar)
.head 7 +  If tbl2.colMontoDebe > 0
.head 8 -  Call SalTblSetFocusCell( tbl1, SalTblInsertRow( tbl1, TBL_MaxRow ), xfilas, 0, 1 )
.head 8 -  Call PasarHon()
.head 6 -  ! !
.head 6 -  Call SetTotalNC(  )
.head 3 -  Background Text: Monto
.head 4 -  Resource Id: 40229
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 7.35"
.head 5 -  Top:    0.571"
.head 5 -  Width:  0.629"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Honorarios
.head 4 -  Resource Id: 40235
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    5.345"
.head 5 -  Width:  1.414"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: 10
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Dark Blue
.head 4 -  Background Color: Default
.head 3 -  Background Text: Facturas Afectadas
.head 4 -  Resource Id: 40236
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.133"
.head 5 -  Top:    1.738"
.head 5 -  Width:  2.35"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.229"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: 10
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Dark Blue
.head 4 -  Background Color: Default
.head 3 -  Group Box: Datos Generales del Recibo
.head 4 -  Resource Id: 40237
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    0.071"
.head 5 -  Width:  13.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.5"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: 10
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Midnight Blue
.head 4 -  Background Color: Default
.head 3 -  Background Text: #Transferencia:
.head 4 -  Resource Id: 40225
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.583"
.head 5 -  Top:    0.321"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 40238
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    1.988"
.head 5 -  Width:  16.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 -  Frame
.head 4 -  Resource Id: 40239
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    5.655"
.head 5 -  Width:  16.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.786"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 -  Background Text: * Las Notas de crédito salvadas, no pueden ser modificadas *
.head 4 -  Resource Id: 20984
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.083"
.head 5 -  Top:    1.821"
.head 5 -  Width:  6.0"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Maize
.head 3 -  Background Text: Total:
.head 4 -  Resource Id: 1324
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 13.683"
.head 5 -  Top:    5.179"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTotalNC
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? No
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 14.283"
.head 6 -  Top:    5.155"
.head 6 -  Width:  1.8"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: ###000
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 2 +  Functions
.head 3 +  Function: LimpiarCampos
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Set dfMonto = NUMBER_Null
.head 5 -  Set dfFecha = DATETIME_Null
.head 5 -  Set cmbBanco = ''
.head 5 -  Set dfTransferencia = ''
.head 5 -  Set mlDescripcion = ''
.head 5 -  Set dfTotalNC = 0
.head 3 +  Function: CargarDatos
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Call SalTblPopulate(tbl2,hSql1,"
select	
	A.CORREL,
	A.COD_FACTURA,
	B.NOMBRE,
	A.COSTO,
	(A.COSTO - 
(select	
        ISNULL(SUM(C.MONTO),0)
               
from	 PAGOS_HON  C

where
        C.CORREL=A.CORREL)
	),
	A.DESCRIPCION
               
from	
	DET_HONORARIOS  A, 
	MEDICOS B

where		
	A.COD_FACTURA=:tbl1.colFactura and
	A.COD_MEDICO=B.COD_MEDICO 
order by 
	A.COD_FACTURA,A.FECHA  ",TBL_FillAll)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 3 +  Function: RegistrarNC
.head 4 -  Description: Registro de los pagos a Facturas
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: i
.head 4 +  Actions
.head 5 -  ! ! Por cada uno de los items en tbl1 (tabla de notas de credito) registramos las notas de credito a facturas
.head 5 -  ! ! Agregado por Elvin Deras 04-Ene-2015
.head 5 -  Call SalTblSetContext(tbl1,0)
.head 5 -  Set i =0
.head 5 +  If tbl1.colCodigoNC = STRING_Null
.head 6 +  If tbl1.colNC <= 0
.head 7 -  Call SalMessageBox('No se pueden generar notas de crédito por un valor <= 0' , 'Notas Crédito', MB_Ok)
.head 7 -  Call SalTblDeleteRow( tbl1, i, TBL_Adjust )
.head 6 +  Else
.head 7 -  Call oNotaCredito.Create(tbl1.colFactura, tbl1.colNC, tbl1.colNC, tbl1.colCorrel,  dfFecha, (tbl1.colHon = 'S') )
.head 7 -  Set oNotaCredito.Descripcion = tbl1.colDescripcion
.head 7 +  If oNotaCredito.Salvar() = FALSE
.head 8 -  Call SalMessageBox(oNotaCredito.ErrorMessage, 'Notas Crédito', MB_Ok)
.head 8 -  ! Call SalTblSetRowFlags( tbl1, i, ROW_MarkDeleted, TRUE )
.head 8 -  Call SalTblDeleteRow( tbl1, i, TBL_Adjust )
.head 7 +  Else
.head 8 -  Set tbl1.colCodigoNC = oNotaCredito.CodigoNC
.head 5 +  While SalTblFindNextRow(tbl1,i,0,0)
.head 6 -  Call SalTblSetContext(tbl1,i)
.head 6 +  If tbl1.colNC <= 0
.head 7 -  Call SalMessageBox('No se pueden generar notas de crédito por un valor <= 0' , 'Notas Crédito', MB_Ok)
.head 7 -  Call SalTblDeleteRow( tbl1, i, TBL_Adjust )
.head 6 +  Else
.head 7 +  If tbl1.colCodigoNC = STRING_Null
.head 8 -  Call oNotaCredito.Create(tbl1.colFactura, tbl1.colNC, tbl1.colNC, tbl1.colCorrel, dfFecha,  (tbl1.colHon = 'S') )
.head 8 -  Set oNotaCredito.Descripcion = tbl1.colDescripcion
.head 8 +  If oNotaCredito.Salvar() = FALSE
.head 9 -  Call SalMessageBox(oNotaCredito.ErrorMessage, 'Notas Crédito', MB_Ok)
.head 9 -  ! Call SalTblDeleteRow( Window_Handle, Number, Number )
.head 9 -  Call SalTblDeleteRow( tbl1, i, TBL_Adjust )
.head 8 +  Else
.head 9 -  Set tbl1.colCodigoNC = oNotaCredito.CodigoNC
.head 3 +  Function: ActualizarMontoDebeFact
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: PAG
.head 4 +  Actions
.head 5 -  ! Registro de la disminucion en el saldo de la factura
.head 5 +  If tbl1.colMontoFact-PAGADO<=0
.head 6 -  Set ESTADO=1
.head 5 +  Else
.head 6 -  Set ESTADO=0
.head 5 +  If not SqlPrepareAndExecute(hSql1,"
update FACTURAS set MONTO_DEBE= MONTO_DEBE -  :tbl1.colAbono, ESTADO_PAGO=:ESTADO,
MONTO_PAGADO= MONTO_PAGADO + :tbl1.colAbono where
cod_factura=:tbl1.colFactura") 
.head 6 -  Return FALSE
.head 5 -  Return TRUE
.head 3 +  Function: ActualizarMontoDebeHon
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  Number: PAG
.head 4 +  Actions
.head 5 -  ! Call SqlPrepareAndExecute(hSql1,"
select 	sum(monto) from PAGOS where cod_factura=:dfFactura 
 into :PAGADO ") 

.head 5 +  If tbl1.colHonorarios-PAGADO<=0
.head 6 -  Set ESTADOH='S'
.head 5 +  Else
.head 6 -  Set ESTADOH='N'
.head 5 -  ! Set PAGADO=tbl1.colHonorarios-PAGADO
.head 5 +  ! If not SqlPrepareAndExecute(hSql1,"
update DET_HONORARIOS set MONTO_DEBE=MONTO_DEBE- (:tbl1.colAbono), PAGADO=:ESTADOH,
MONTO_PAGADO = MONTO_PAGADO +  (:tbl1.colAbono) where
correl=:tbl1.colCorrel") 
.head 6 -  Return FALSE
.head 5 +  If not SqlPrepareAndExecute(hSql1,"
update facturas set DEBE_HONORARIOS=DEBE_HONORARIOS - (:tbl1.colAbono ), 
PAGADO_HONORARIOS=PAGADO_HONORARIOS + (:tbl1.colAbono) where
cod_factura=:tbl1.colFactura") 
.head 6 -  Return FALSE
.head 5 -  Return TRUE
.head 3 +  Function: PasarHon
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Set tbl1.colCorrel = tbl2.colCorrel
.head 5 -  Set tbl1.colFactura = tbl2.colFactura
.head 5 -  Call CargarDatosFact2()
.head 5 -  Set tbl1.colDebeHon = tbl2.colMontoDebe
.head 5 -  Set tbl1.colMedico = tbl2.colMedico
.head 5 -  Set tbl1.colHon = 'S'
.head 5 -  Set tbl1.colDescripcion = "PAGO DE HON.  F-" ||  SalNumberToStrX(tbl1.colFactura, 0)  || " Dr. " || tbl1.colMedico
.head 5 -  Set tbl1.colNC = tbl2.colMontoDebe
.head 5 -  Call SalSetFocus( tbl1)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"
select sum(monto) from PAGOS_HON where CORREL=:tbl1.colCorrel into :tbl1.colTotalPagado") 
.head 5 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 5 -  If tbl1.colTotalPagado >0
.head 5 +  Else
.head 6 -  Set tbl1.colTotalPagado = 0.0
.head 5 -  Call SqlExists("Select max(NUMERO_PAGO) 
from   PAGOS_HON
where	CORREL=:tbl1.colCorrel and cod_factura=:tbl1.colFactura into :xno_pago",bExists)
.head 5 -  Call SqlClearImmediate( )
.head 5 +  If bExists
.head 6 -  Set xno_pago = xno_pago + 1
.head 5 +  Else
.head 6 -  Set xno_pago = 1 
.head 5 -  Set tbl1.colPago = xno_pago
.head 3 +  Function: CargarDatosFact
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Call SqlPrepareAndExecute(hSql1,"
select
	 A.TOTAL+A.MONTO_HONORARIOS,
	A.MONTO_DEBE,
	A.MONTO_HONORARIOS,
	A.TOTAL,
	A.DEBE_HONORARIOS,
	A.MONTO_DEBE,
	'NOTA DE CREDITO F-' + CAST(A.COD_FACTURA AS VARCHAR) + ', NO PAGADO POR SEGURO' AS DESCRIPCION,
	0
               
from	FACTURAS A
where	
	A.COD_FACTURA=:tbl1.colFactura
into	
	:tbl1.colTotal,
	:tbl1.colMontoDebe,
	:tbl1.colHonorarios,
	:tbl1.colMontoFact,
	:tbl1.colDebeHon,
	:tbl1.colNC,
	:tbl1.colDescripcion,
	:tbl1.colCorrel")
.head 5 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 5 -  !
.head 5 -  !
.head 5 -  !
.head 5 -  Call SqlPrepareAndExecute(hSql1,"
select 
	sum(monto) 
from 
	PAGOS 
where 
	cod_factura=:tbl1.colFactura
 into 
	:tbl1.colTotalPagado") 
.head 5 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 5 -  !
.head 5 -  !
.head 5 -  !
.head 5 -  Call SqlExists("Select	
		max(NUMERO_PAGO) 	
	from   
		PAGOS
	where	
		COD_FACTURA=:tbl1.colFactura 
	into 
		:xno_pago",bExists)
.head 5 -  Call SqlClearImmediate( )
.head 5 +  If bExists
.head 6 -  Set xno_pago = xno_pago + 1
.head 5 +  Else
.head 6 -  Set xno_pago = 1 
.head 5 -  !
.head 5 -  Set tbl1.colPago = xno_pago
.head 5 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 5 -  !
.head 5 -  Set tbl1.colHon = 'N'
.head 5 -  !
.head 5 -  Call CargarDatos()
.head 3 +  Function: CargarDatosFact2
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Call SqlPrepareAndExecute(hSql1,"
select 
	A.TOTAL+A.MONTO_HONORARIOS,
	A.MONTO_DEBE,
	A.MONTO_HONORARIOS,
	A.TOTAL
               
from	
	FACTURAS A
where	
	A.COD_FACTURA=:tbl1.colFactura
into	
	:tbl1.colTotal,
	:tbl1.colMontoDebe,
	:tbl1.colHonorarios,
	:tbl1.colMontoFact")
.head 5 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 5 -  Call SqlPrepareAndExecute(hSql1,"
select sum(monto) from PAGOS where cod_factura=:tbl1.colFactura
 into :tbl1.colTotalPagado") 
.head 5 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 5 -  If tbl1.colTotalPagado > 0
.head 5 +  Else
.head 6 -  Set tbl1.colTotalPagado = 0
.head 5 -  Call SqlExists("Select	max(NUMERO_PAGO) 
from   PAGOS
where	COD_FACTURA=:tbl1.colFactura into :xno_pago",bExists)
.head 5 -  Call SqlClearImmediate( )
.head 5 +  If bExists
.head 6 -  Set xno_pago = xno_pago + 1
.head 5 +  Else
.head 6 -  Set xno_pago = 1 
.head 5 -  Set tbl1.colPago = xno_pago
.head 5 -  Call SqlFetchNext(hSql1,nSiguiente)
.head 5 -  ! Call CargarDatos()
.head 5 -  ! Set tbl1.colDebeHon=SalTblColumnSum(tbl2,5 ,0,0)
.head 5 -  Set tbl1.colHon = 'N'
.head 3 +  Function: SetTotalNC
.head 4 -  Description:
.head 4 -  Returns
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 -  Local variables
.head 4 +  Actions
.head 5 -  Set dfTotalNC = SalTblColumnSum( tbl1, 9, 0, ROW_MarkDeleted )
.head 2 -  Window Parameters
.head 2 +  Window Variables
.head 3 -  String: FECHA_PAGO
.head 3 -  Number: PAGADO
.head 3 -  Number: ESTADO
.head 3 -  Number: nFilita
.head 3 -  String: sRegresa
.head 3 -  String: sSql
.head 3 -  String: sTransferencia
.head 3 -  Number: max_en_tabla
.head 3 -  Number: xno_pago
.head 3 -  Boolean: todo_ok
.head 3 -  String: error_msg
.head 3 -  Number: xvar
.head 3 -  String: xstrMonto
.head 3 -  String: sRecibo
.head 3 -  String: ESTADOH
.head 3 -  Window Handle: xfilas
.head 3 -  String: sCodCategoria
.head 3 -  Number: xpor_asignar
.head 3 -  String: sEstado
.head 3 -  : oNotaCredito
.head 4 -  Class: lcNotaCredito
.head 3 -  Long String: sDescripcion
.head 3 -  String: sSQL
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  Call SalCenterWindow( hWndForm )
.head 3 +  On MU_GRABAR
.head 4 -  Call SalDateToStr( dfFecha, FECHA_PAGO )
.head 4 -  Call SalStrLeft (FECHA_PAGO, 10, FECHA_PAGO )
.head 4 -  Call SqlExists("Select COD_TRANSFERENCIA from TRANSFERENCIAS where COD_TRANSFERENCIA=:dfTransferencia ",bExists)
.head 4 -  Call SqlClearImmediate( )
.head 4 +  If bExists
.head 5 -  Set sSQL = "	update TRANSFERENCIAS
		set 
			COD_BANCO = :cmbBanco.nCodigo,
			MONTO = :dfMonto,
			DESCRIPCION = :mlDescripcion,
			FECHA = :FECHA_PAGO
		where
			COD_TRANSFERENCIA = :dfTransferencia"
.head 4 +  Else
.head 5 -  Set sSQL = " 
insert 	TRANSFERENCIAS 
	( 
	COD_TRANSFERENCIA,	
	COD_BANCO,
	MONTO,
	DESCRIPCION,
	FECHA)
values(
	:dfTransferencia,      
	:cmbBanco.nCodigo,
	:dfMonto,
	:mlDescripcion,	
	:FECHA_PAGO)"
.head 4 +  If SqlPrepareAndExecute(hSql1, sSQL) 
.head 5 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  !
.head 5 -  ! ! Registramos las Nota de Credito
.head 5 -  Call RegistrarNC()
.head 5 -  !
.head 5 -  !
.head 5 -  Call SalSetFocus(tbl1)
.head 5 -  Call SqlPrepare(hSql1,"insert into TRANSFERENCIA_NC (CODIGO_NC,COD_TRANSFERENCIA)
		values(:tbl1.colCodigoNC,:dfTransferencia)")
.head 5 +  If SalTblDoInserts( tbl1,hSql1,TRUE)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 5 -  Call SalMessageBox('Notas de crédito generadas con éxito',  'Notas de Crédito', 0 )
.head 3 +  On MU_ACTUALIZAR
.head 4 -  !
.head 4 -  Call SalWaitCursor( TRUE )
.head 4 -  Call SqlImmediate("select 
			t.COD_BANCO,
			t.MONTO,
			t.DESCRIPCION,
			t.FECHA
from	 
			TRANSFERENCIAS  t
where	
			t.COD_TRANSFERENCIA=:dfTransferencia
into	
			:cmbBanco.nCodigo,
			:dfMonto,
			:sDescripcion,
			:dfFecha")
.head 4 -  !
.head 4 -  Call SqlClearImmediate()
.head 4 -  Set mlDescripcion = sDescripcion
.head 4 -  !
.head 4 -  Call cmbBanco.Actualizar()
.head 4 -  ! !
.head 4 -  Call SalTblPopulate( tbl1, hSql1, "select 
				f.COD_FACTURA,
				p.DOCUMENTO,
				'N', 
				f.TOTAL,
				f.MONTO_HONORARIOS,
				f.TOTAL + f.MONTO_HONORARIOS,
				f.MONTO_DEBE,
				f.DEBE_HONORARIOS,
				p.MONTO,
				p.NUMERO_PAGO,
				f.MONTO_PAGADO,
				p.DESCRIPCION,
				null, 0
			    from
				FACTURAS f
				  inner join PAGOS p ON f.COD_FACTURA = p.COD_FACTURA
  				    inner join TRANSFERENCIA_NC tn ON p.DOCUMENTO = tn.CODIGO_NC
			    where
				p.COD_PAGO = 4 AND
				COD_TRANSFERENCIA = :dfTransferencia
			    union
			     select 
				f.COD_FACTURA,
				p.DOCUMENTO,
				'S', 
				f.TOTAL,
				f.MONTO_HONORARIOS,
				f.TOTAL + f.MONTO_HONORARIOS,
				f.MONTO_DEBE,
				f.DEBE_HONORARIOS,
				p.MONTO,
				p.NUMERO_PAGO,
				dh.MONTO_PAGADO,
				p.DESCRIPCION,
				m.NOMBRE, p.CORREL
			    from
				FACTURAS f
				  inner join PAGOS_HON p ON f.COD_FACTURA = p.COD_FACTURA
  				    inner join TRANSFERENCIA_NC tn ON p.DOCUMENTO = tn.CODIGO_NC
  				      inner join DET_HONORARIOS dh on p.CORREL = dh.CORREL and f.COD_FACTURA = dh.COD_FACTURA
  				        inner join MEDICOS m on dh.COD_MEDICO = m.COD_MEDICO
			    where
				p.COD_PAGO = 4 AND
				COD_TRANSFERENCIA = :dfTransferencia
			    order by 	
				f.COD_FACTURA"
				, TBL_FillAll )
.head 4 -  Call SetTotalNC()
.head 4 -  Call SalWaitCursor( FALSE )
.head 1 +  Dialog Box: dlgConsultaTransferencias
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Consulta Transferencias
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? Yes
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Type of Dialog: Modal
.head 3 -  Window Location and Size
.head 4 -  Left: Default
.head 4 -  Top:    Default
.head 4 -  Width:  11.333"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 6.452"
.head 4 -  Height Editable? Yes
.head 3 -  Absolute Screen Location? Yes
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: Default
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 -  Frame
.head 4 -  Resource Id: 20985
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.283"
.head 5 -  Top:    0.155"
.head 5 -  Width:  10.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 5.667"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Raised-Shadow
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: Default
.head 3 -  Frame
.head 4 -  Resource Id: 20986
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.65"
.head 5 -  Top:    1.762"
.head 5 -  Width:  9.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 3.893"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Etched
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: Default
.head 4 -  Background Color: 3D Shadow Color
.head 3 -  Group Box: Criterios de Busqueda
.head 4 -  Resource Id: 20987
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    0.321"
.head 5 -  Width:  9.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 1.25"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Bold
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: #Transferencia:
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 20988
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.683"
.head 5 -  Top:    0.619"
.head 5 -  Width:  1.3"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfTransferencia
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.083"
.head 6 -  Top:    0.571"
.head 6 -  Width:  2.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Yes
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Monto:
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 20989
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.683"
.head 5 -  Top:    0.619"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Banco:
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 20990
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.283"
.head 5 -  Top:    0.929"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.179"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbBanco
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cmbBaseCodigo
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.083"
.head 5 -  Top:    0.869"
.head 5 -  Width:  5.5"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 2.893"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Yes
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 +  Message Actions
.head 5 +  On SAM_Create
.head 6 -  Set cmbBanco.nCaso=1
.head 6 -  Set cmbBanco.sTabla='BANCOS'
.head 6 -  Set cmbBanco.sNombre='NOMBRE'
.head 6 -  Set cmbBanco.sCodigo='COD_BANCO'
.head 3 +  Pushbutton: pb3
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.283"
.head 5 -  Top:    0.905"
.head 5 -  Width:  0.783"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.56"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: F3
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\BITMAPS\MyIcons\OSIcons\bmp\search.bmp
.head 4 -  Picture Transparent Color: Black
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalWaitCursor( TRUE )
.head 6 -  Call SalTblPopulate( tbl1, hSql1, ArmarQuery(), TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  Call SalSetFocus (tbl1)
.head 6 -  Call SalWaitCursor( FALSE )
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: MyChildTable
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.683"
.head 6 -  Top:    1.821"
.head 6 -  Width:  9.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 3.75"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: Class Default
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colTransferencia
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: #Trans.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: String
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.833"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFecha
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.133"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colBanco
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Banco
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.183"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMonto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDescripcion
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripción
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  3.183"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 +  Message Actions
.head 5 +  On SAM_DoubleClick
.head 6 -  !
.head 6 -  Call SalTblQueryFocus(tbl1,nFilita,tbl1.colTransferencia)
.head 6 -  Call SalTblSetContext(tbl1,nFilita)
.head 6 -  Set sCodTransferencia = tbl1.colTransferencia
.head 6 -  Call SalEndDialog(dlgConsultaTransferencias,TRUE)
.head 5 +  On SAM_Create
.head 6 -  !
.head 6 -  Call MTblSubClass( hWndForm )
.head 6 -  Call MTblEnableMWheelScroll( hWndForm, TRUE )
.head 3 +  Combo Box: cmbOperador
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatComboBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.383"
.head 5 -  Top:    0.571"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.726"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 -  Message Actions
.head 3 +  Data Field: dfMonto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.983"
.head 6 -  Top:    0.571"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Fecha:
.head 4 -  Resource Id: 20991
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 1.383"
.head 5 -  Top:    1.179"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaI
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.083"
.head 6 -  Top:    1.155"
.head 6 -  Width:  2.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFechaF
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 4.483"
.head 6 -  Top:    1.155"
.head 6 -  Width:  2.1"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: -
.head 4 -  Resource Id: 20992
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.283"
.head 5 -  Top:    1.179"
.head 5 -  Width:  0.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 2 +  Functions
.head 3 +  Function: ArmarQuery
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sConsulta
.head 4 +  Actions
.head 5 -  Set sConsulta="SELECT
    		t.COD_TRANSFERENCIA,   
		t.FECHA, 
    		b.NOMBRE,
		t.MONTO,
    		t.DESCRIPCION
	FROM
    		TRANSFERENCIAS t
		  INNER JOIN BANCOS b ON t.COD_BANCO = b.COD_BANCO
	WHERE
		1=1 "
.head 5 +  If not SalIsNull(dfTransferencia)
.head 6 -  Set sConsulta = sConsulta||"	AND
			t.COD_TRANSFERENCIA   like '%"|| dfTransferencia ||"%'"
.head 5 +  If not SalIsNull (cmbBanco)
.head 6 -  Set sConsulta=sConsulta||"	AND
			t.COD_BANCO = :cmbBanco.nCodigo"
.head 5 +  If not SalIsNull (dfMonto )
.head 6 -  Set sConsulta=sConsulta||"	AND
			t.MONTO " || cmbOperador || " " || SalNumberToStrX( dfMonto, 2 )
.head 5 +  If not SalIsNull (dfFechaI)
.head 6 -  Set sConsulta=sConsulta||"	AND
			t.Fecha >= :dfFechaI"
.head 5 +  If not SalIsNull (dfFechaF)
.head 6 -  Set sConsulta=sConsulta||"	AND
			t.Fecha <= :dfFechaF"
.head 5 -  Set sConsulta=sConsulta||"	order	by
				t.FECHA"
.head 5 -  Return sConsulta
.head 2 +  Window Parameters
.head 3 -  Receive String: sCodTransferencia
.head 2 +  Window Variables
.head 3 -  Number: nFilita
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  !
.head 4 -  Call SalBringWindowToTop(dlgConsultaTransferencias)
.head 4 -  Call SalCenterWindow( dlgConsultaTransferencias )
.head 4 -  Call SalListAdd( cmbOperador, '<=' )
.head 4 -  Call SalListAdd( cmbOperador, '<' )
.head 4 -  Call SalListAdd( cmbOperador, '=' )
.head 4 -  Call SalListAdd( cmbOperador, '>=' )
.head 4 -  Call SalListAdd( cmbOperador, '>' )
.head 4 -  Call SalListSetSelect( cmbOperador, 0 )
.head 1 +  Form Window: frmNotasCreditoReporte
.head 2 -  Class:
.head 2 -  Property Template:
.head 2 -  Class DLL Name:
.head 2 -  Title: Reporte de Notas de Crédito
.head 2 -  Icon File:
.head 2 -  Accesories Enabled? No
.head 2 -  Visible? No
.head 2 -  Display Settings
.head 3 -  Display Style? Default
.head 3 -  Visible at Design time? Yes
.head 3 -  Automatically Created at Runtime? No
.head 3 -  Initial State: Normal
.head 3 -  Maximizable? Yes
.head 3 -  Minimizable? Yes
.head 3 -  System Menu? Yes
.head 3 -  Resizable? Yes
.head 3 -  Window Location and Size
.head 4 -  Left: 1.625"
.head 4 -  Top:    1.38"
.head 4 -  Width:  17.1"
.head 4 -  Width Editable? Yes
.head 4 -  Height: 6.607"
.head 4 -  Height Editable? Yes
.head 3 -  Form Size
.head 4 -  Width:  Default
.head 4 -  Height: Default
.head 4 -  Number of Pages: Dynamic
.head 3 -  Font Name: Default
.head 3 -  Font Size: Default
.head 3 -  Font Enhancement: Default
.head 3 -  Text Color: Default
.head 3 -  Background Color: Default
.head 2 -  Description:
.head 2 -  Named Menus
.head 2 -  Menu
.head 2 +  Tool Bar
.head 3 -  Display Settings
.head 4 -  Display Style? Default
.head 4 -  Location? Top
.head 4 -  Visible? Yes
.head 4 -  Size: 0.536"
.head 4 -  Size Editable? Yes
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Contents
.head 2 +  Contents
.head 3 +  Child Table: tbl1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: MyChildTable
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.083"
.head 6 -  Top:    1.071"
.head 6 -  Width:  16.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: 4.583"
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  View: Class Default
.head 5 -  Allow Row Sizing? Class Default
.head 5 -  Lines Per Row: Class Default
.head 4 -  Memory Settings
.head 5 -  Maximum Rows in Memory: Class Default
.head 5 -  Discardable? Class Default
.head 4 +  Contents
.head 5 +  Column: colCodigoNC
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Código NC
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.55"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFecha
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMonto
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Monto NC
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.217"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colEsHonorario
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Hon?
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  0.783"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colPartida
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Cod. Partida
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.65"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colTransferencia
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: # Trans.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.467"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFechaT
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsFecha
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Fecha T.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.133"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colBanco
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Banco Trans.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.767"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMontoT
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: M. Trans.
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.133"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colFactura
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: # Factura
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.2"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMontoC
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: M. Clinica
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.35"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMontoHonorarios
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsNumero
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: M. Honorarios
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  1.55"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: ###000
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colPaciente
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Paciente
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colMedico
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Medico
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  Class Default
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 5 +  Column: colDescripcion
.head 6 -  Class Child Ref Key: 0
.head 6 -  Class ChildKey: 0
.head 6 -  Class: clsDatos
.head 6 -  Property Template:
.head 6 -  Class DLL Name:
.head 6 -  Title: Descripción
.head 6 -  Visible? Class Default
.head 6 -  Editable? Class Default
.head 6 -  Maximum Data Length: Class Default
.head 6 -  Data Type: Class Default
.head 6 -  Justify: Class Default
.head 6 -  Width:  2.533"
.head 6 -  Width Editable? Class Default
.head 6 -  Format: Class Default
.head 6 -  Country: Class Default
.head 6 -  Input Mask: Class Default
.head 6 -  Cell Options
.head 7 -  Cell Type? Class Default
.head 7 -  Multiline Cell? Class Default
.head 7 -  Cell DropDownList
.head 8 -  Sorted? Class Default
.head 8 -  Vertical Scroll? Class Default
.head 8 -  Auto Drop Down? Class Default
.head 8 -  Allow Text Editing? Class Default
.head 7 -  Cell CheckBox
.head 8 -  Check Value:
.head 8 -  Uncheck Value:
.head 8 -  Ignore Case? Class Default
.head 6 -  List Values
.head 6 -  Message Actions
.head 4 -  Functions
.head 4 -  Window Variables
.head 4 -  Message Actions
.head 3 -  Background Text: Monto:
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 37736
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.15"
.head 5 -  Top:    0.476"
.head 5 -  Width:  0.7"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Tipo:
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 37737
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 4.483"
.head 5 -  Top:    0.095"
.head 5 -  Width:  0.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: # Trans.:
.data CLASSPROPSSIZE
0000: 1700
.enddata
.data CLASSPROPS
0000: 5461624368696C64 4E616D6573000600 4E616D65300000
.enddata
.data INHERITPROPS
0000: 0100
.enddata
.head 4 -  Resource Id: 42685
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.183"
.head 5 -  Top:    0.71"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.208"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Right
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Combo Box: cmbOperador
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatComboBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.983"
.head 5 -  Top:    0.405"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 1.512"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? Class Default
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 -  Message Actions
.head 3 +  Combo Box: cmbTipo
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatComboBox
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Window Location and Size
.head 5 -  Left: 5.083"
.head 5 -  Top:    0.071"
.head 5 -  Width:  3.167"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 2.595"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Editable? Class Default
.head 4 -  String Type: Class Default
.head 4 -  Maximum Data Length: Class Default
.head 4 -  Sorted? No
.head 4 -  Always Show List? Class Default
.head 4 -  Vertical Scroll? Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Input Mask: Class Default
.head 4 -  List Initialization
.head 4 -  Message Actions
.head 3 +  Data Field: dfMonto
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 1.683"
.head 6 -  Top:    0.405"
.head 6 -  Width:  1.6"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Frame
.head 4 -  Resource Id: 37738
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.083"
.head 5 -  Top:    0.01"
.head 5 -  Width:  11.5"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.976"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Corners: Square
.head 4 -  Border Style: Raised-Shadow
.head 4 -  Border Thickness: 1
.head 4 -  Border Color: 3D Shadow Color
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFactF
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 6.783"
.head 6 -  Top:    0.405"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: Fecha:
.head 4 -  Resource Id: 37739
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 0.15"
.head 5 -  Top:    0.119"
.head 5 -  Width:  0.6"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFechaI
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.983"
.head 6 -  Top:    0.095"
.head 6 -  Width:  1.433"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Data Field: dfFechaF
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfFecha
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 2.55"
.head 6 -  Top:    0.095"
.head 6 -  Width:  1.633"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 -  Background Text: -
.head 4 -  Resource Id: 37740
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 2.45"
.head 5 -  Top:    0.119"
.head 5 -  Width:  0.1"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: -
.head 4 -  Resource Id: 37741
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 6.6"
.head 5 -  Top:    0.429"
.head 5 -  Width:  0.2"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 -  Background Text: Rango Facturas:
.head 4 -  Resource Id: 37742
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class:
.head 4 -  Window Location and Size
.head 5 -  Left: 3.683"
.head 5 -  Top:    0.429"
.head 5 -  Width:  1.4"
.head 5 -  Width Editable? Yes
.head 5 -  Height: 0.167"
.head 5 -  Height Editable? Yes
.head 4 -  Visible? Yes
.head 4 -  Justify: Left
.head 4 -  Font Name: Default
.head 4 -  Font Size: Default
.head 4 -  Font Enhancement: Default
.head 4 -  Text Color: Default
.head 4 -  Background Color: Default
.head 3 +  Data Field: dfFactI
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfNumero
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 5.083"
.head 6 -  Top:    0.405"
.head 6 -  Width:  1.5"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb1
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbSalir
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 10.183"
.head 5 -  Top:    0.405"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 -  Message Actions
.head 3 +  Pushbutton: pb2
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: pbBusqueda
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 8.583"
.head 5 -  Top:    0.405"
.head 5 -  Width:  Class Default
.head 5 -  Width Editable? Class Default
.head 5 -  Height: Class Default
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name:
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call SalWaitCursor( TRUE )
.head 6 -  Call SalTblPopulate( tbl1, hSql1, ArmarQuery(), TBL_FillAll)
.head 6 -  Call SqlPrepareAndExecute(hSql1,"commit")
.head 6 -  Call SalSetFocus (tbl1)
.head 6 -  Call SalWaitCursor( FALSE )
.head 3 +  Pushbutton: pb3
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: cFlatPushbutton
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Title:
.head 4 -  Window Location and Size
.head 5 -  Left: 9.383"
.head 5 -  Top:    0.405"
.head 5 -  Width:  0.8"
.head 5 -  Width Editable? Class Default
.head 5 -  Height: 0.5"
.head 5 -  Height Editable? Class Default
.head 4 -  Visible? Class Default
.head 4 -  Keyboard Accelerator: Class Default
.head 4 -  Font Name: Class Default
.head 4 -  Font Size: Class Default
.head 4 -  Font Enhancement: Class Default
.head 4 -  Picture File Name: C:\Centura\Bitmaps\v2\excel.bmp
.head 4 -  Picture Transparent Color: Class Default
.head 4 -  Image Style: Class Default
.head 4 -  Text Color: Class Default
.head 4 -  Background Color: Class Default
.head 4 +  Message Actions
.head 5 +  On SAM_Click
.head 6 -  Call MTblExportToExcel(tbl1, MTE_LNG_ENGLISH, "A1",  MTE_EXCEL_NEW_INSTANCE,  MTE_COL_HEADERS | MTE_COLORS | MTE_FONTS | MTE_GRID | MTE_SPLIT_ROWS | MTE_SHOW_STATUS, 0, ROW_Hidden, COL_Visible, 0 )
.head 3 +  Data Field: dfTransferencia
.head 4 -  Class Child Ref Key: 0
.head 4 -  Class ChildKey: 0
.head 4 -  Class: dfBase
.head 4 -  Property Template:
.head 4 -  Class DLL Name:
.head 4 -  Data
.head 5 -  Maximum Data Length: Class Default
.head 5 -  Data Type: Class Default
.head 5 -  Editable? Class Default
.head 4 -  Display Settings
.head 5 -  Window Location and Size
.head 6 -  Left: 0.983"
.head 6 -  Top:    0.68"
.head 6 -  Width:  2.3"
.head 6 -  Width Editable? Class Default
.head 6 -  Height: Class Default
.head 6 -  Height Editable? Class Default
.head 5 -  Visible? Class Default
.head 5 -  Border? Class Default
.head 5 -  Justify: Class Default
.head 5 -  Format: Class Default
.head 5 -  Country: Class Default
.head 5 -  Font Name: Class Default
.head 5 -  Font Size: Class Default
.head 5 -  Font Enhancement: Class Default
.head 5 -  Text Color: Class Default
.head 5 -  Background Color: Class Default
.head 5 -  Input Mask: Class Default
.head 4 -  Message Actions
.head 2 +  Functions
.head 3 +  Function: ArmarQuery
.head 4 -  Description:
.head 4 +  Returns
.head 5 -  String:
.head 4 -  Parameters
.head 4 -  Static Variables
.head 4 +  Local variables
.head 5 -  String: sSQLH
.head 5 -  String: sSQLC
.head 5 -  String: sWhere
.head 5 -  String: sSQL
.head 4 +  Actions
.head 5 -  Set sSQLC = 
"select 
	p.DOCUMENTO,
	p.FECHA,
	p.MONTO,
	'N', 
	p.COD_PARTIDA,
	t.COD_TRANSFERENCIA,
	t.FECHA,
	b.NOMBRE,
	t.MONTO,
	f.COD_FACTURA,
	f.TOTAL,
	f.MONTO_HONORARIOS,
	ISNULL(pc.PRIMER_NOM + ' ', '') + ISNULL(pc.SEGUNDO_NOM + ' ' , '') + ISNULL(pc.PRIMER_APE + ' ','') + ISNULL(pc.SEGUNDO_APE,''),
	null, p.DESCRIPCION
from
	FACTURAS f
	  inner join PAGOS p ON f.COD_FACTURA = p.COD_FACTURA
	  inner join PACIENTES pc ON pc.COD_PACIENTE = f.COD_PACIENTE
		left outer join TRANSFERENCIA_NC tn ON p.DOCUMENTO = tn.CODIGO_NC
	      left outer join TRANSFERENCIAS t on tn.COD_TRANSFERENCIA = t.COD_TRANSFERENCIA
		   left outer join BANCOS b ON t.COD_BANCO = b.COD_BANCO
where
	p.COD_PAGO = 4 "
.head 5 -  Set sSQLH = 
"select 
	p.DOCUMENTO,
	p.FECHA,
	p.MONTO,
	'S', 
	p.COD_PARTIDA,
	t.COD_TRANSFERENCIA,
	t.FECHA,
	b.NOMBRE,
	t.MONTO,
	f.COD_FACTURA,
	f.TOTAL,
	f.MONTO_HONORARIOS,
	ISNULL(pc.PRIMER_NOM + ' ', '') + ISNULL(pc.SEGUNDO_NOM + ' ' , '') + ISNULL(pc.PRIMER_APE + ' ','') + ISNULL(pc.SEGUNDO_APE,''),
	m.NOMBRE, p.DESCRIPCION
from
	FACTURAS f
	  inner join PAGOS_HON p ON f.COD_FACTURA = p.COD_FACTURA
	  inner join PACIENTES pc ON pc.COD_PACIENTE = f.COD_PACIENTE
	  inner join DET_HONORARIOS dh on p.CORREL = dh.CORREL and f.COD_FACTURA = dh.COD_FACTURA
	  inner join MEDICOS m on dh.COD_MEDICO = m.COD_MEDICO
		left outer join TRANSFERENCIA_NC tn ON p.DOCUMENTO = tn.CODIGO_NC
	      left outer join TRANSFERENCIAS t on tn.COD_TRANSFERENCIA = t.COD_TRANSFERENCIA
		   left outer join BANCOS b ON t.COD_BANCO = b.COD_BANCO
where
	p.COD_PAGO = 4"
.head 5 -  Set sWhere = ''
.head 5 +  If not SalIsNull(dfTransferencia)
.head 6 -  Set sWhere = sWhere || "	AND
			t.COD_TRANSFERENCIA = :dfTransferencia "
.head 5 +  If not SalIsNull (dfMonto )
.head 6 -  Set sWhere = sWhere || "	AND
			p.MONTO " || cmbOperador || " " || SalNumberToStrX( dfMonto, 2 )
.head 5 +  If not SalIsNull (dfFechaI)
.head 6 -  Set sWhere = sWhere || "	AND
			p.Fecha >= :dfFechaI"
.head 5 +  If not SalIsNull (dfFechaF)
.head 6 -  Set sWhere = sWhere || "	AND
			p.Fecha <= :dfFechaF"
.head 5 +  If not SalIsNull (dfFactI)
.head 6 -  Set sWhere = sWhere || "	AND
			f.COD_FACTURA >= :dfFactI"
.head 5 +  If not SalIsNull (dfFactF)
.head 6 -  Set sWhere = sWhere || "	AND
			f.COD_FACTURA <= :dfFactF"
.head 5 -  Set sSQLC = sSQLC || sWhere
.head 5 -  Set sSQLH = sSQLH || sWhere
.head 5 -  ! ! Default es Todos (Clinica y Honorarios)
.head 5 -  Set sSQL = sSQLH || " union " || sSQLC || " order by p.DOCUMENTO"
.head 5 +  If cmbTipo = 'Honorarios'
.head 6 -  Set sSQL = sSQLH || " order by p.DOCUMENTO"
.head 5 +  If cmbTipo = 'Clinica'
.head 6 -  Set sSQL = sSQLC || " order by p.DOCUMENTO"
.head 5 -  Return sSQL
.head 2 -  Window Parameters
.head 2 -  Window Variables
.head 2 +  Message Actions
.head 3 +  On SAM_CreateComplete
.head 4 -  Call SalBringWindowToTop(frmNotasCreditoReporte)
.head 4 -  Call SalCenterWindow( frmNotasCreditoReporte )
.head 4 -  Call SalListAdd( cmbOperador, '<=' )
.head 4 -  Call SalListAdd( cmbOperador, '<' )
.head 4 -  Call SalListAdd( cmbOperador, '=' )
.head 4 -  Call SalListAdd( cmbOperador, '>=' )
.head 4 -  Call SalListAdd( cmbOperador, '>' )
.head 4 -  Call SalListSetSelect( cmbOperador, 0 )
.head 4 -  Call SalListAdd( cmbTipo, 'Todos' )
.head 4 -  Call SalListAdd( cmbTipo, 'Clinica' )
.head 4 -  Call SalListAdd( cmbTipo, 'Honorarios' )
.head 4 -  Call SalListSetSelect( cmbTipo, 0 )
